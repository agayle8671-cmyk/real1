var dK=Object.defineProperty;var rM=t=>{throw TypeError(t)};var pK=(t,e,n)=>e in t?dK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>pK(t,typeof e!="symbol"?e+"":e,n),Uk=(t,e,n)=>e.has(t)||rM("Cannot "+n);var h=(t,e,n)=>(Uk(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?rM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),T=(t,e,n,r)=>(Uk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),F=(t,e,n)=>(Uk(t,e,"access private method"),n);var si=(t,e,n,r)=>({set _(i){T(t,e,i,n)},get _(){return h(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hB={exports:{}},VE={},fB={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox=Symbol.for("react.element"),gK=Symbol.for("react.portal"),mK=Symbol.for("react.fragment"),vK=Symbol.for("react.strict_mode"),yK=Symbol.for("react.profiler"),bK=Symbol.for("react.provider"),wK=Symbol.for("react.context"),xK=Symbol.for("react.forward_ref"),_K=Symbol.for("react.suspense"),AK=Symbol.for("react.memo"),SK=Symbol.for("react.lazy"),iM=Symbol.iterator;function EK(t){return t===null||typeof t!="object"?null:(t=iM&&t[iM]||t["@@iterator"],typeof t=="function"?t:null)}var dB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pB=Object.assign,gB={};function my(t,e,n){this.props=t,this.context=e,this.refs=gB,this.updater=n||dB}my.prototype.isReactComponent={};my.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};my.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mB(){}mB.prototype=my.prototype;function K4(t,e,n){this.props=t,this.context=e,this.refs=gB,this.updater=n||dB}var Y4=K4.prototype=new mB;Y4.constructor=K4;pB(Y4,my.prototype);Y4.isPureReactComponent=!0;var sM=Array.isArray,vB=Object.prototype.hasOwnProperty,X4={current:null},yB={key:!0,ref:!0,__self:!0,__source:!0};function bB(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)vB.call(e,r)&&!yB.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ox,type:t,key:s,ref:a,props:i,_owner:X4.current}}function PK(t,e){return{$$typeof:Ox,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function J4(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ox}function kK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aM=/\/+/g;function zk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kK(""+t.key):e.toString(36)}function M5(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ox:case gK:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+zk(a,0):r,sM(i)?(n="",t!=null&&(n=t.replace(aM,"$&/")+"/"),M5(i,e,n,"",function(c){return c})):i!=null&&(J4(i)&&(i=PK(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(aM,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",sM(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+zk(s,o);a+=M5(s,e,n,l,i)}else if(l=EK(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+zk(s,o++),a+=M5(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function M_(t,e,n){if(t==null)return t;var r=[],i=0;return M5(t,r,"","",function(s){return e.call(n,s,i++)}),r}function CK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ms={current:null},j5={transition:null},TK={ReactCurrentDispatcher:Ms,ReactCurrentBatchConfig:j5,ReactCurrentOwner:X4};function wB(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:M_,forEach:function(t,e,n){M_(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return M_(t,function(){e++}),e},toArray:function(t){return M_(t,function(e){return e})||[]},only:function(t){if(!J4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=my;Wt.Fragment=mK;Wt.Profiler=yK;Wt.PureComponent=K4;Wt.StrictMode=vK;Wt.Suspense=_K;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TK;Wt.act=wB;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pB({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=X4.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)vB.call(e,l)&&!yB.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ox,type:t.type,key:i,ref:s,props:r,_owner:a}};Wt.createContext=function(t){return t={$$typeof:wK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bK,_context:t},t.Consumer=t};Wt.createElement=bB;Wt.createFactory=function(t){var e=bB.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:xK,render:t}};Wt.isValidElement=J4;Wt.lazy=function(t){return{$$typeof:SK,_payload:{_status:-1,_result:t},_init:CK}};Wt.memo=function(t,e){return{$$typeof:AK,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=j5.transition;j5.transition={};try{t()}finally{j5.transition=e}};Wt.unstable_act=wB;Wt.useCallback=function(t,e){return Ms.current.useCallback(t,e)};Wt.useContext=function(t){return Ms.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return Ms.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return Ms.current.useEffect(t,e)};Wt.useId=function(){return Ms.current.useId()};Wt.useImperativeHandle=function(t,e,n){return Ms.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return Ms.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return Ms.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return Ms.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return Ms.current.useReducer(t,e,n)};Wt.useRef=function(t){return Ms.current.useRef(t)};Wt.useState=function(t){return Ms.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return Ms.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return Ms.current.useTransition()};Wt.version="18.3.1";fB.exports=Wt;var Ae=fB.exports;const pe=Gn(Ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OK=Ae,NK=Symbol.for("react.element"),LK=Symbol.for("react.fragment"),IK=Object.prototype.hasOwnProperty,RK=OK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MK={key:!0,ref:!0,__self:!0,__source:!0};function xB(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)IK.call(e,r)&&!MK.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:NK,type:t,key:s,ref:a,props:i,_owner:RK.current}}VE.Fragment=LK;VE.jsx=xB;VE.jsxs=xB;hB.exports=VE;var N=hB.exports,MT={},_B={exports:{}},Ga={},AB={exports:{}},SB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,re){var ce=W.length;W.push(re);e:for(;0<ce;){var ae=ce-1>>>1,D=W[ae];if(0<i(D,re))W[ae]=re,W[ce]=D,ce=ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var re=W[0],ce=W.pop();if(ce!==re){W[0]=ce;e:for(var ae=0,D=W.length,K=D>>>1;ae<K;){var ee=2*(ae+1)-1,se=W[ee],oe=ee+1,fe=W[oe];if(0>i(se,ce))oe<D&&0>i(fe,se)?(W[ae]=fe,W[oe]=ce,ae=oe):(W[ae]=se,W[ee]=ce,ae=ee);else if(oe<D&&0>i(fe,ce))W[ae]=fe,W[oe]=ce,ae=oe;else break e}}return re}function i(W,re){var ce=W.sortIndex-re.sortIndex;return ce!==0?ce:W.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,d=3,p=!1,v=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=W)r(c),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(c)}}function S(W){if(m=!1,x(W),!v)if(n(l)!==null)v=!0,X(A);else{var re=n(c);re!==null&&Q(S,re.startTime-W)}}function A(W,re){v=!1,m&&(m=!1,g(L),L=-1),p=!0;var ce=d;try{for(x(re),f=n(l);f!==null&&(!(f.expirationTime>re)||W&&!O());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,d=f.priorityLevel;var D=ae(f.expirationTime<=re);re=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),x(re)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ee=n(c);ee!==null&&Q(S,ee.startTime-re),K=!1}return K}finally{f=null,d=ce,p=!1}}var E=!1,C=null,L=-1,I=5,q=-1;function O(){return!(t.unstable_now()-q<I)}function M(){if(C!==null){var W=t.unstable_now();q=W;var re=!0;try{re=C(!0,W)}finally{re?z():(E=!1,C=null)}}else E=!1}var z;if(typeof w=="function")z=function(){w(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,V=$.port2;$.port1.onmessage=M,z=function(){V.postMessage(null)}}else z=function(){b(M,0)};function X(W){C=W,E||(E=!0,z())}function Q(W,re){L=b(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,X(A))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(d){case 1:case 2:case 3:var re=3;break;default:re=d}var ce=d;d=re;try{return W()}finally{d=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=d;d=W;try{return re()}finally{d=ce}},t.unstable_scheduleCallback=function(W,re,ce){var ae=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ae+ce:ae):ce=ae,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,W={id:u++,callback:re,priorityLevel:W,startTime:ce,expirationTime:D,sortIndex:-1},ce>ae?(W.sortIndex=ce,e(c,W),n(l)===null&&W===n(c)&&(m?(g(L),L=-1):m=!0,Q(S,ce-ae))):(W.sortIndex=D,e(l,W),v||p||(v=!0,X(A))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var re=d;return function(){var ce=d;d=re;try{return W.apply(this,arguments)}finally{d=ce}}}})(SB);AB.exports=SB;var jK=AB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DK=Ae,Wa=jK;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EB=new Set,kb={};function Rg(t,e){Uv(t,e),Uv(t+"Capture",e)}function Uv(t,e){for(kb[t]=e,t=0;t<e.length;t++)EB.add(e[t])}var Yu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jT=Object.prototype.hasOwnProperty,FK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oM={},lM={};function $K(t){return jT.call(lM,t)?!0:jT.call(oM,t)?!1:FK.test(t)?lM[t]=!0:(oM[t]=!0,!1)}function BK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UK(t,e,n,r){if(e===null||typeof e>"u"||BK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function js(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qi[t]=new js(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qi[e]=new js(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qi[t]=new js(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qi[t]=new js(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qi[t]=new js(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qi[t]=new js(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qi[t]=new js(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qi[t]=new js(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qi[t]=new js(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z4=/[\-:]([a-z])/g;function Q4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Z4,Q4);Qi[e]=new js(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Z4,Q4);Qi[e]=new js(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Z4,Q4);Qi[e]=new js(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qi[t]=new js(t,1,!1,t.toLowerCase(),null,!1,!1)});Qi.xlinkHref=new js("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qi[t]=new js(t,1,!1,t.toLowerCase(),null,!0,!0)});function eL(t,e,n,r){var i=Qi.hasOwnProperty(e)?Qi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UK(e,n,i,r)&&(n=null),r||i===null?$K(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sh=DK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j_=Symbol.for("react.element"),Om=Symbol.for("react.portal"),Nm=Symbol.for("react.fragment"),tL=Symbol.for("react.strict_mode"),DT=Symbol.for("react.profiler"),PB=Symbol.for("react.provider"),kB=Symbol.for("react.context"),nL=Symbol.for("react.forward_ref"),FT=Symbol.for("react.suspense"),$T=Symbol.for("react.suspense_list"),rL=Symbol.for("react.memo"),Nh=Symbol.for("react.lazy"),CB=Symbol.for("react.offscreen"),cM=Symbol.iterator;function l1(t){return t===null||typeof t!="object"?null:(t=cM&&t[cM]||t["@@iterator"],typeof t=="function"?t:null)}var vr=Object.assign,qk;function I1(t){if(qk===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qk=e&&e[1]||""}return`
`+qk+t}var Hk=!1;function Wk(t,e){if(!t||Hk)return"";Hk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Hk=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?I1(t):""}function zK(t){switch(t.tag){case 5:return I1(t.type);case 16:return I1("Lazy");case 13:return I1("Suspense");case 19:return I1("SuspenseList");case 0:case 2:case 15:return t=Wk(t.type,!1),t;case 11:return t=Wk(t.type.render,!1),t;case 1:return t=Wk(t.type,!0),t;default:return""}}function BT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nm:return"Fragment";case Om:return"Portal";case DT:return"Profiler";case tL:return"StrictMode";case FT:return"Suspense";case $T:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kB:return(t.displayName||"Context")+".Consumer";case PB:return(t._context.displayName||"Context")+".Provider";case nL:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rL:return e=t.displayName||null,e!==null?e:BT(t.type)||"Memo";case Nh:e=t._payload,t=t._init;try{return BT(t(e))}catch{}}return null}function qK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return BT(e);case 8:return e===tL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TB(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HK(t){var e=TB(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function D_(t){t._valueTracker||(t._valueTracker=HK(t))}function OB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TB(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function MA(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function UT(t,e){var n=e.checked;return vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uM(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NB(t,e){e=e.checked,e!=null&&eL(t,"checked",e,!1)}function zT(t,e){NB(t,e);var n=Vf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qT(t,e.type,n):e.hasOwnProperty("defaultValue")&&qT(t,e.type,Vf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hM(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qT(t,e,n){(e!=="number"||MA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var R1=Array.isArray;function Qm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function HT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return vr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fM(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if(R1(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vf(n)}}function LB(t,e){var n=Vf(e.value),r=Vf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dM(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function WT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var F_,RB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(F_=F_||document.createElement("div"),F_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=F_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WK=["Webkit","ms","Moz","O"];Object.keys(lb).forEach(function(t){WK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lb[e]=lb[t]})});function MB(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lb.hasOwnProperty(t)&&lb[t]?(""+e).trim():e+"px"}function jB(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MB(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VK=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function VT(t,e){if(e){if(VK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function GT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KT=null;function iL(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var YT=null,e0=null,t0=null;function pM(t){if(t=Ix(t)){if(typeof YT!="function")throw Error(je(280));var e=t.stateNode;e&&(e=JE(e),YT(t.stateNode,t.type,e))}}function DB(t){e0?t0?t0.push(t):t0=[t]:e0=t}function FB(){if(e0){var t=e0,e=t0;if(t0=e0=null,pM(t),e)for(t=0;t<e.length;t++)pM(e[t])}}function $B(t,e){return t(e)}function BB(){}var Vk=!1;function UB(t,e,n){if(Vk)return t(e,n);Vk=!0;try{return $B(t,e,n)}finally{Vk=!1,(e0!==null||t0!==null)&&(BB(),FB())}}function Tb(t,e){var n=t.stateNode;if(n===null)return null;var r=JE(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var XT=!1;if(Yu)try{var c1={};Object.defineProperty(c1,"passive",{get:function(){XT=!0}}),window.addEventListener("test",c1,c1),window.removeEventListener("test",c1,c1)}catch{XT=!1}function GK(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var cb=!1,jA=null,DA=!1,JT=null,KK={onError:function(t){cb=!0,jA=t}};function YK(t,e,n,r,i,s,a,o,l){cb=!1,jA=null,GK.apply(KK,arguments)}function XK(t,e,n,r,i,s,a,o,l){if(YK.apply(this,arguments),cb){if(cb){var c=jA;cb=!1,jA=null}else throw Error(je(198));DA||(DA=!0,JT=c)}}function Mg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gM(t){if(Mg(t)!==t)throw Error(je(188))}function JK(t){var e=t.alternate;if(!e){if(e=Mg(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gM(i),t;if(s===r)return gM(i),e;s=s.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function qB(t){return t=JK(t),t!==null?HB(t):null}function HB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HB(t);if(e!==null)return e;t=t.sibling}return null}var WB=Wa.unstable_scheduleCallback,mM=Wa.unstable_cancelCallback,ZK=Wa.unstable_shouldYield,QK=Wa.unstable_requestPaint,Fr=Wa.unstable_now,eY=Wa.unstable_getCurrentPriorityLevel,sL=Wa.unstable_ImmediatePriority,VB=Wa.unstable_UserBlockingPriority,FA=Wa.unstable_NormalPriority,tY=Wa.unstable_LowPriority,GB=Wa.unstable_IdlePriority,GE=null,vc=null;function nY(t){if(vc&&typeof vc.onCommitFiberRoot=="function")try{vc.onCommitFiberRoot(GE,t,void 0,(t.current.flags&128)===128)}catch{}}var bl=Math.clz32?Math.clz32:sY,rY=Math.log,iY=Math.LN2;function sY(t){return t>>>=0,t===0?32:31-(rY(t)/iY|0)|0}var $_=64,B_=4194304;function M1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $A(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=M1(o):(s&=a,s!==0&&(r=M1(s)))}else a=n&~i,a!==0?r=M1(a):s!==0&&(r=M1(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bl(e),i=1<<n,r|=t[n],e&=~i;return r}function aY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-bl(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=aY(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function ZT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KB(){var t=$_;return $_<<=1,!($_&4194240)&&($_=64),t}function Gk(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nx(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bl(e),t[e]=n}function lY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bl(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function aL(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xn=0;function YB(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XB,oL,JB,ZB,QB,QT=!1,U_=[],jf=null,Df=null,Ff=null,Ob=new Map,Nb=new Map,jh=[],cY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vM(t,e){switch(t){case"focusin":case"focusout":jf=null;break;case"dragenter":case"dragleave":Df=null;break;case"mouseover":case"mouseout":Ff=null;break;case"pointerover":case"pointerout":Ob.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nb.delete(e.pointerId)}}function u1(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ix(e),e!==null&&oL(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uY(t,e,n,r,i){switch(e){case"focusin":return jf=u1(jf,t,e,n,r,i),!0;case"dragenter":return Df=u1(Df,t,e,n,r,i),!0;case"mouseover":return Ff=u1(Ff,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ob.set(s,u1(Ob.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nb.set(s,u1(Nb.get(s)||null,t,e,n,r,i)),!0}return!1}function e7(t){var e=Hd(t.target);if(e!==null){var n=Mg(e);if(n!==null){if(e=n.tag,e===13){if(e=zB(n),e!==null){t.blockedOn=e,QB(t.priority,function(){JB(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function D5(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);KT=r,n.target.dispatchEvent(r),KT=null}else return e=Ix(n),e!==null&&oL(e),t.blockedOn=n,!1;e.shift()}return!0}function yM(t,e,n){D5(t)&&n.delete(e)}function hY(){QT=!1,jf!==null&&D5(jf)&&(jf=null),Df!==null&&D5(Df)&&(Df=null),Ff!==null&&D5(Ff)&&(Ff=null),Ob.forEach(yM),Nb.forEach(yM)}function h1(t,e){t.blockedOn===e&&(t.blockedOn=null,QT||(QT=!0,Wa.unstable_scheduleCallback(Wa.unstable_NormalPriority,hY)))}function Lb(t){function e(i){return h1(i,t)}if(0<U_.length){h1(U_[0],t);for(var n=1;n<U_.length;n++){var r=U_[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jf!==null&&h1(jf,t),Df!==null&&h1(Df,t),Ff!==null&&h1(Ff,t),Ob.forEach(e),Nb.forEach(e),n=0;n<jh.length;n++)r=jh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jh.length&&(n=jh[0],n.blockedOn===null);)e7(n),n.blockedOn===null&&jh.shift()}var n0=sh.ReactCurrentBatchConfig,BA=!0;function fY(t,e,n,r){var i=xn,s=n0.transition;n0.transition=null;try{xn=1,lL(t,e,n,r)}finally{xn=i,n0.transition=s}}function dY(t,e,n,r){var i=xn,s=n0.transition;n0.transition=null;try{xn=4,lL(t,e,n,r)}finally{xn=i,n0.transition=s}}function lL(t,e,n,r){if(BA){var i=eO(t,e,n,r);if(i===null)rC(t,e,r,UA,n),vM(t,r);else if(uY(i,t,e,n,r))r.stopPropagation();else if(vM(t,r),e&4&&-1<cY.indexOf(t)){for(;i!==null;){var s=Ix(i);if(s!==null&&XB(s),s=eO(t,e,n,r),s===null&&rC(t,e,r,UA,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rC(t,e,r,null,n)}}var UA=null;function eO(t,e,n,r){if(UA=null,t=iL(r),t=Hd(t),t!==null)if(e=Mg(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zB(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return UA=t,null}function t7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eY()){case sL:return 1;case VB:return 4;case FA:case tY:return 16;case GB:return 536870912;default:return 16}default:return 16}}var Nf=null,cL=null,F5=null;function n7(){if(F5)return F5;var t,e=cL,n=e.length,r,i="value"in Nf?Nf.value:Nf.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return F5=i.slice(t,1<r?1-r:void 0)}function $5(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function z_(){return!0}function bM(){return!1}function Ka(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?z_:bM,this.isPropagationStopped=bM,this}return vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=z_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=z_)},persist:function(){},isPersistent:z_}),e}var vy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uL=Ka(vy),Lx=vr({},vy,{view:0,detail:0}),pY=Ka(Lx),Kk,Yk,f1,KE=vr({},Lx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hL,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==f1&&(f1&&t.type==="mousemove"?(Kk=t.screenX-f1.screenX,Yk=t.screenY-f1.screenY):Yk=Kk=0,f1=t),Kk)},movementY:function(t){return"movementY"in t?t.movementY:Yk}}),wM=Ka(KE),gY=vr({},KE,{dataTransfer:0}),mY=Ka(gY),vY=vr({},Lx,{relatedTarget:0}),Xk=Ka(vY),yY=vr({},vy,{animationName:0,elapsedTime:0,pseudoElement:0}),bY=Ka(yY),wY=vr({},vy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xY=Ka(wY),_Y=vr({},vy,{data:0}),xM=Ka(_Y),AY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EY[t])?!!e[t]:!1}function hL(){return PY}var kY=vr({},Lx,{key:function(t){if(t.key){var e=AY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$5(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hL,charCode:function(t){return t.type==="keypress"?$5(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$5(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CY=Ka(kY),TY=vr({},KE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_M=Ka(TY),OY=vr({},Lx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hL}),NY=Ka(OY),LY=vr({},vy,{propertyName:0,elapsedTime:0,pseudoElement:0}),IY=Ka(LY),RY=vr({},KE,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MY=Ka(RY),jY=[9,13,27,32],fL=Yu&&"CompositionEvent"in window,ub=null;Yu&&"documentMode"in document&&(ub=document.documentMode);var DY=Yu&&"TextEvent"in window&&!ub,r7=Yu&&(!fL||ub&&8<ub&&11>=ub),AM=" ",SM=!1;function i7(t,e){switch(t){case"keyup":return jY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s7(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lm=!1;function FY(t,e){switch(t){case"compositionend":return s7(e);case"keypress":return e.which!==32?null:(SM=!0,AM);case"textInput":return t=e.data,t===AM&&SM?null:t;default:return null}}function $Y(t,e){if(Lm)return t==="compositionend"||!fL&&i7(t,e)?(t=n7(),F5=cL=Nf=null,Lm=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r7&&e.locale!=="ko"?null:e.data;default:return null}}var BY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BY[t.type]:e==="textarea"}function a7(t,e,n,r){DB(r),e=zA(e,"onChange"),0<e.length&&(n=new uL("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hb=null,Ib=null;function UY(t){v7(t,0)}function YE(t){var e=Mm(t);if(OB(e))return t}function zY(t,e){if(t==="change")return e}var o7=!1;if(Yu){var Jk;if(Yu){var Zk="oninput"in document;if(!Zk){var PM=document.createElement("div");PM.setAttribute("oninput","return;"),Zk=typeof PM.oninput=="function"}Jk=Zk}else Jk=!1;o7=Jk&&(!document.documentMode||9<document.documentMode)}function kM(){hb&&(hb.detachEvent("onpropertychange",l7),Ib=hb=null)}function l7(t){if(t.propertyName==="value"&&YE(Ib)){var e=[];a7(e,Ib,t,iL(t)),UB(UY,e)}}function qY(t,e,n){t==="focusin"?(kM(),hb=e,Ib=n,hb.attachEvent("onpropertychange",l7)):t==="focusout"&&kM()}function HY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return YE(Ib)}function WY(t,e){if(t==="click")return YE(e)}function VY(t,e){if(t==="input"||t==="change")return YE(e)}function GY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _l=typeof Object.is=="function"?Object.is:GY;function Rb(t,e){if(_l(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jT.call(e,i)||!_l(t[i],e[i]))return!1}return!0}function CM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TM(t,e){var n=CM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CM(n)}}function c7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?c7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function u7(){for(var t=window,e=MA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=MA(t.document)}return e}function dL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KY(t){var e=u7(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&c7(n.ownerDocument.documentElement,n)){if(r!==null&&dL(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=TM(n,s);var a=TM(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YY=Yu&&"documentMode"in document&&11>=document.documentMode,Im=null,tO=null,fb=null,nO=!1;function OM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nO||Im==null||Im!==MA(r)||(r=Im,"selectionStart"in r&&dL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fb&&Rb(fb,r)||(fb=r,r=zA(tO,"onSelect"),0<r.length&&(e=new uL("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Im)))}function q_(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rm={animationend:q_("Animation","AnimationEnd"),animationiteration:q_("Animation","AnimationIteration"),animationstart:q_("Animation","AnimationStart"),transitionend:q_("Transition","TransitionEnd")},Qk={},h7={};Yu&&(h7=document.createElement("div").style,"AnimationEvent"in window||(delete Rm.animationend.animation,delete Rm.animationiteration.animation,delete Rm.animationstart.animation),"TransitionEvent"in window||delete Rm.transitionend.transition);function XE(t){if(Qk[t])return Qk[t];if(!Rm[t])return t;var e=Rm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h7)return Qk[t]=e[n];return t}var f7=XE("animationend"),d7=XE("animationiteration"),p7=XE("animationstart"),g7=XE("transitionend"),m7=new Map,NM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zf(t,e){m7.set(t,e),Rg(e,[t])}for(var eC=0;eC<NM.length;eC++){var tC=NM[eC],XY=tC.toLowerCase(),JY=tC[0].toUpperCase()+tC.slice(1);Zf(XY,"on"+JY)}Zf(f7,"onAnimationEnd");Zf(d7,"onAnimationIteration");Zf(p7,"onAnimationStart");Zf("dblclick","onDoubleClick");Zf("focusin","onFocus");Zf("focusout","onBlur");Zf(g7,"onTransitionEnd");Uv("onMouseEnter",["mouseout","mouseover"]);Uv("onMouseLeave",["mouseout","mouseover"]);Uv("onPointerEnter",["pointerout","pointerover"]);Uv("onPointerLeave",["pointerout","pointerover"]);Rg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var j1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZY=new Set("cancel close invalid load scroll toggle".split(" ").concat(j1));function LM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XK(r,e,void 0,t),t.currentTarget=null}function v7(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;LM(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;LM(i,o,c),s=l}}}if(DA)throw t=JT,DA=!1,JT=null,t}function Yn(t,e){var n=e[oO];n===void 0&&(n=e[oO]=new Set);var r=t+"__bubble";n.has(r)||(y7(e,t,2,!1),n.add(r))}function nC(t,e,n){var r=0;e&&(r|=4),y7(n,t,r,e)}var H_="_reactListening"+Math.random().toString(36).slice(2);function Mb(t){if(!t[H_]){t[H_]=!0,EB.forEach(function(n){n!=="selectionchange"&&(ZY.has(n)||nC(n,!1,t),nC(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H_]||(e[H_]=!0,nC("selectionchange",!1,e))}}function y7(t,e,n,r){switch(t7(e)){case 1:var i=fY;break;case 4:i=dY;break;default:i=lL}n=i.bind(null,e,n,t),i=void 0,!XT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rC(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Hd(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}UB(function(){var c=s,u=iL(n),f=[];e:{var d=m7.get(t);if(d!==void 0){var p=uL,v=t;switch(t){case"keypress":if($5(n)===0)break e;case"keydown":case"keyup":p=CY;break;case"focusin":v="focus",p=Xk;break;case"focusout":v="blur",p=Xk;break;case"beforeblur":case"afterblur":p=Xk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NY;break;case f7:case d7:case p7:p=bY;break;case g7:p=IY;break;case"scroll":p=pY;break;case"wheel":p=MY;break;case"copy":case"cut":case"paste":p=xY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_M}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var w=c,x;w!==null;){x=w;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,g!==null&&(S=Tb(w,g),S!=null&&m.push(jb(w,S,x)))),b)break;w=w.return}0<m.length&&(d=new p(d,v,null,n,u),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==KT&&(v=n.relatedTarget||n.fromElement)&&(Hd(v)||v[Xu]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Hd(v):null,v!==null&&(b=Mg(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(m=wM,S="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=_M,S="onPointerLeave",g="onPointerEnter",w="pointer"),b=p==null?d:Mm(p),x=v==null?d:Mm(v),d=new m(S,w+"leave",p,n,u),d.target=b,d.relatedTarget=x,S=null,Hd(u)===c&&(m=new m(g,w+"enter",v,n,u),m.target=x,m.relatedTarget=b,S=m),b=S,p&&v)t:{for(m=p,g=v,w=0,x=m;x;x=rm(x))w++;for(x=0,S=g;S;S=rm(S))x++;for(;0<w-x;)m=rm(m),w--;for(;0<x-w;)g=rm(g),x--;for(;w--;){if(m===g||g!==null&&m===g.alternate)break t;m=rm(m),g=rm(g)}m=null}else m=null;p!==null&&IM(f,d,p,m,!1),v!==null&&b!==null&&IM(f,b,v,m,!0)}}e:{if(d=c?Mm(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var A=zY;else if(EM(d))if(o7)A=VY;else{A=HY;var E=qY}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=WY);if(A&&(A=A(t,c))){a7(f,A,n,u);break e}E&&E(t,d,c),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&qT(d,"number",d.value)}switch(E=c?Mm(c):window,t){case"focusin":(EM(E)||E.contentEditable==="true")&&(Im=E,tO=c,fb=null);break;case"focusout":fb=tO=Im=null;break;case"mousedown":nO=!0;break;case"contextmenu":case"mouseup":case"dragend":nO=!1,OM(f,n,u);break;case"selectionchange":if(YY)break;case"keydown":case"keyup":OM(f,n,u)}var C;if(fL)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Lm?i7(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(r7&&n.locale!=="ko"&&(Lm||L!=="onCompositionStart"?L==="onCompositionEnd"&&Lm&&(C=n7()):(Nf=u,cL="value"in Nf?Nf.value:Nf.textContent,Lm=!0)),E=zA(c,L),0<E.length&&(L=new xM(L,t,null,n,u),f.push({event:L,listeners:E}),C?L.data=C:(C=s7(n),C!==null&&(L.data=C)))),(C=DY?FY(t,n):$Y(t,n))&&(c=zA(c,"onBeforeInput"),0<c.length&&(u=new xM("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}v7(f,e)})}function jb(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zA(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tb(t,n),s!=null&&r.unshift(jb(t,s,i)),s=Tb(t,e),s!=null&&r.push(jb(t,s,i))),t=t.return}return r}function rm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function IM(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Tb(n,s),l!=null&&a.unshift(jb(n,l,o))):i||(l=Tb(n,s),l!=null&&a.push(jb(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var QY=/\r\n?/g,eX=/\u0000|\uFFFD/g;function RM(t){return(typeof t=="string"?t:""+t).replace(QY,`
`).replace(eX,"")}function W_(t,e,n){if(e=RM(e),RM(t)!==e&&n)throw Error(je(425))}function qA(){}var rO=null,iO=null;function sO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aO=typeof setTimeout=="function"?setTimeout:void 0,tX=typeof clearTimeout=="function"?clearTimeout:void 0,MM=typeof Promise=="function"?Promise:void 0,nX=typeof queueMicrotask=="function"?queueMicrotask:typeof MM<"u"?function(t){return MM.resolve(null).then(t).catch(rX)}:aO;function rX(t){setTimeout(function(){throw t})}function iC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lb(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lb(e)}function $f(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yy=Math.random().toString(36).slice(2),fc="__reactFiber$"+yy,Db="__reactProps$"+yy,Xu="__reactContainer$"+yy,oO="__reactEvents$"+yy,iX="__reactListeners$"+yy,sX="__reactHandles$"+yy;function Hd(t){var e=t[fc];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xu]||n[fc]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jM(t);t!==null;){if(n=t[fc])return n;t=jM(t)}return e}t=n,n=t.parentNode}return null}function Ix(t){return t=t[fc]||t[Xu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function JE(t){return t[Db]||null}var lO=[],jm=-1;function Qf(t){return{current:t}}function er(t){0>jm||(t.current=lO[jm],lO[jm]=null,jm--)}function Wn(t,e){jm++,lO[jm]=t.current,t.current=e}var Gf={},ys=Qf(Gf),Js=Qf(!1),wg=Gf;function zv(t,e){var n=t.type.contextTypes;if(!n)return Gf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zs(t){return t=t.childContextTypes,t!=null}function HA(){er(Js),er(ys)}function DM(t,e,n){if(ys.current!==Gf)throw Error(je(168));Wn(ys,e),Wn(Js,n)}function b7(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,qK(t)||"Unknown",i));return vr({},n,r)}function WA(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gf,wg=ys.current,Wn(ys,t),Wn(Js,Js.current),!0}function FM(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=b7(t,e,wg),r.__reactInternalMemoizedMergedChildContext=t,er(Js),er(ys),Wn(ys,t)):er(Js),Wn(Js,n)}var tu=null,ZE=!1,sC=!1;function w7(t){tu===null?tu=[t]:tu.push(t)}function aX(t){ZE=!0,w7(t)}function ed(){if(!sC&&tu!==null){sC=!0;var t=0,e=xn;try{var n=tu;for(xn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tu=null,ZE=!1}catch(i){throw tu!==null&&(tu=tu.slice(t+1)),WB(sL,ed),i}finally{xn=e,sC=!1}}return null}var Dm=[],Fm=0,VA=null,GA=0,_o=[],Ao=0,xg=null,Fu=1,$u="";function kd(t,e){Dm[Fm++]=GA,Dm[Fm++]=VA,VA=t,GA=e}function x7(t,e,n){_o[Ao++]=Fu,_o[Ao++]=$u,_o[Ao++]=xg,xg=t;var r=Fu;t=$u;var i=32-bl(r)-1;r&=~(1<<i),n+=1;var s=32-bl(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Fu=1<<32-bl(e)+i|n<<i|r,$u=s+t}else Fu=1<<s|n<<i|r,$u=t}function pL(t){t.return!==null&&(kd(t,1),x7(t,1,0))}function gL(t){for(;t===VA;)VA=Dm[--Fm],Dm[Fm]=null,GA=Dm[--Fm],Dm[Fm]=null;for(;t===xg;)xg=_o[--Ao],_o[Ao]=null,$u=_o[--Ao],_o[Ao]=null,Fu=_o[--Ao],_o[Ao]=null}var qa=null,Ua=null,or=!1,gl=null;function _7(t,e){var n=Po(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $M(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qa=t,Ua=$f(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qa=t,Ua=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xg!==null?{id:Fu,overflow:$u}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Po(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qa=t,Ua=null,!0):!1;default:return!1}}function cO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uO(t){if(or){var e=Ua;if(e){var n=e;if(!$M(t,e)){if(cO(t))throw Error(je(418));e=$f(n.nextSibling);var r=qa;e&&$M(t,e)?_7(r,n):(t.flags=t.flags&-4097|2,or=!1,qa=t)}}else{if(cO(t))throw Error(je(418));t.flags=t.flags&-4097|2,or=!1,qa=t}}}function BM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qa=t}function V_(t){if(t!==qa)return!1;if(!or)return BM(t),or=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sO(t.type,t.memoizedProps)),e&&(e=Ua)){if(cO(t))throw A7(),Error(je(418));for(;e;)_7(t,e),e=$f(e.nextSibling)}if(BM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ua=$f(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ua=null}}else Ua=qa?$f(t.stateNode.nextSibling):null;return!0}function A7(){for(var t=Ua;t;)t=$f(t.nextSibling)}function qv(){Ua=qa=null,or=!1}function mL(t){gl===null?gl=[t]:gl.push(t)}var oX=sh.ReactCurrentBatchConfig;function d1(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function G_(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UM(t){var e=t._init;return e(t._payload)}function S7(t){function e(g,w){if(t){var x=g.deletions;x===null?(g.deletions=[w],g.flags|=16):x.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=qf(g,w),g.index=0,g.sibling=null,g}function s(g,w,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<w?(g.flags|=2,w):x):(g.flags|=2,w)):(g.flags|=1048576,w)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,w,x,S){return w===null||w.tag!==6?(w=fC(x,g.mode,S),w.return=g,w):(w=i(w,x),w.return=g,w)}function l(g,w,x,S){var A=x.type;return A===Nm?u(g,w,x.props.children,S,x.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Nh&&UM(A)===w.type)?(S=i(w,x.props),S.ref=d1(g,w,x),S.return=g,S):(S=V5(x.type,x.key,x.props,null,g.mode,S),S.ref=d1(g,w,x),S.return=g,S)}function c(g,w,x,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=dC(x,g.mode,S),w.return=g,w):(w=i(w,x.children||[]),w.return=g,w)}function u(g,w,x,S,A){return w===null||w.tag!==7?(w=gg(x,g.mode,S,A),w.return=g,w):(w=i(w,x),w.return=g,w)}function f(g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=fC(""+w,g.mode,x),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case j_:return x=V5(w.type,w.key,w.props,null,g.mode,x),x.ref=d1(g,null,w),x.return=g,x;case Om:return w=dC(w,g.mode,x),w.return=g,w;case Nh:var S=w._init;return f(g,S(w._payload),x)}if(R1(w)||l1(w))return w=gg(w,g.mode,x,null),w.return=g,w;G_(g,w)}return null}function d(g,w,x,S){var A=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return A!==null?null:o(g,w,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case j_:return x.key===A?l(g,w,x,S):null;case Om:return x.key===A?c(g,w,x,S):null;case Nh:return A=x._init,d(g,w,A(x._payload),S)}if(R1(x)||l1(x))return A!==null?null:u(g,w,x,S,null);G_(g,x)}return null}function p(g,w,x,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(x)||null,o(w,g,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case j_:return g=g.get(S.key===null?x:S.key)||null,l(w,g,S,A);case Om:return g=g.get(S.key===null?x:S.key)||null,c(w,g,S,A);case Nh:var E=S._init;return p(g,w,x,E(S._payload),A)}if(R1(S)||l1(S))return g=g.get(x)||null,u(w,g,S,A,null);G_(w,S)}return null}function v(g,w,x,S){for(var A=null,E=null,C=w,L=w=0,I=null;C!==null&&L<x.length;L++){C.index>L?(I=C,C=null):I=C.sibling;var q=d(g,C,x[L],S);if(q===null){C===null&&(C=I);break}t&&C&&q.alternate===null&&e(g,C),w=s(q,w,L),E===null?A=q:E.sibling=q,E=q,C=I}if(L===x.length)return n(g,C),or&&kd(g,L),A;if(C===null){for(;L<x.length;L++)C=f(g,x[L],S),C!==null&&(w=s(C,w,L),E===null?A=C:E.sibling=C,E=C);return or&&kd(g,L),A}for(C=r(g,C);L<x.length;L++)I=p(C,g,L,x[L],S),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?L:I.key),w=s(I,w,L),E===null?A=I:E.sibling=I,E=I);return t&&C.forEach(function(O){return e(g,O)}),or&&kd(g,L),A}function m(g,w,x,S){var A=l1(x);if(typeof A!="function")throw Error(je(150));if(x=A.call(x),x==null)throw Error(je(151));for(var E=A=null,C=w,L=w=0,I=null,q=x.next();C!==null&&!q.done;L++,q=x.next()){C.index>L?(I=C,C=null):I=C.sibling;var O=d(g,C,q.value,S);if(O===null){C===null&&(C=I);break}t&&C&&O.alternate===null&&e(g,C),w=s(O,w,L),E===null?A=O:E.sibling=O,E=O,C=I}if(q.done)return n(g,C),or&&kd(g,L),A;if(C===null){for(;!q.done;L++,q=x.next())q=f(g,q.value,S),q!==null&&(w=s(q,w,L),E===null?A=q:E.sibling=q,E=q);return or&&kd(g,L),A}for(C=r(g,C);!q.done;L++,q=x.next())q=p(C,g,L,q.value,S),q!==null&&(t&&q.alternate!==null&&C.delete(q.key===null?L:q.key),w=s(q,w,L),E===null?A=q:E.sibling=q,E=q);return t&&C.forEach(function(M){return e(g,M)}),or&&kd(g,L),A}function b(g,w,x,S){if(typeof x=="object"&&x!==null&&x.type===Nm&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case j_:e:{for(var A=x.key,E=w;E!==null;){if(E.key===A){if(A=x.type,A===Nm){if(E.tag===7){n(g,E.sibling),w=i(E,x.props.children),w.return=g,g=w;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Nh&&UM(A)===E.type){n(g,E.sibling),w=i(E,x.props),w.ref=d1(g,E,x),w.return=g,g=w;break e}n(g,E);break}else e(g,E);E=E.sibling}x.type===Nm?(w=gg(x.props.children,g.mode,S,x.key),w.return=g,g=w):(S=V5(x.type,x.key,x.props,null,g.mode,S),S.ref=d1(g,w,x),S.return=g,g=S)}return a(g);case Om:e:{for(E=x.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(g,w.sibling),w=i(w,x.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=dC(x,g.mode,S),w.return=g,g=w}return a(g);case Nh:return E=x._init,b(g,w,E(x._payload),S)}if(R1(x))return v(g,w,x,S);if(l1(x))return m(g,w,x,S);G_(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,x),w.return=g,g=w):(n(g,w),w=fC(x,g.mode,S),w.return=g,g=w),a(g)):n(g,w)}return b}var Hv=S7(!0),E7=S7(!1),KA=Qf(null),YA=null,$m=null,vL=null;function yL(){vL=$m=YA=null}function bL(t){var e=KA.current;er(KA),t._currentValue=e}function hO(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function r0(t,e){YA=t,vL=$m=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ys=!0),t.firstContext=null)}function No(t){var e=t._currentValue;if(vL!==t)if(t={context:t,memoizedValue:e,next:null},$m===null){if(YA===null)throw Error(je(308));$m=t,YA.dependencies={lanes:0,firstContext:t}}else $m=$m.next=t;return e}var Wd=null;function wL(t){Wd===null?Wd=[t]:Wd.push(t)}function P7(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wL(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ju(t,r)}function Ju(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lh=!1;function xL(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,an&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ju(t,n)}return i=r.interleaved,i===null?(e.next=e,wL(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ju(t,n)}function B5(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aL(t,n)}}function zM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function XA(t,e,n,r){var i=t.updateQueue;Lh=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,u=c=l=null,o=s;do{var d=o.lane,p=o.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,m=o;switch(d=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,d=typeof v=="function"?v.call(p,f,d):v,d==null)break e;f=vr({},f,d);break e;case 2:Lh=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ag|=a,t.lanes=a,t.memoizedState=f}}function qM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var Rx={},yc=Qf(Rx),Fb=Qf(Rx),$b=Qf(Rx);function Vd(t){if(t===Rx)throw Error(je(174));return t}function _L(t,e){switch(Wn($b,e),Wn(Fb,t),Wn(yc,Rx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:WT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=WT(e,t)}er(yc),Wn(yc,e)}function Wv(){er(yc),er(Fb),er($b)}function C7(t){Vd($b.current);var e=Vd(yc.current),n=WT(e,t.type);e!==n&&(Wn(Fb,t),Wn(yc,n))}function AL(t){Fb.current===t&&(er(yc),er(Fb))}var dr=Qf(0);function JA(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aC=[];function SL(){for(var t=0;t<aC.length;t++)aC[t]._workInProgressVersionPrimary=null;aC.length=0}var U5=sh.ReactCurrentDispatcher,oC=sh.ReactCurrentBatchConfig,_g=0,gr=null,di=null,Ci=null,ZA=!1,db=!1,Bb=0,lX=0;function ns(){throw Error(je(321))}function EL(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_l(t[n],e[n]))return!1;return!0}function PL(t,e,n,r,i,s){if(_g=s,gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,U5.current=t===null||t.memoizedState===null?fX:dX,t=n(r,i),db){s=0;do{if(db=!1,Bb=0,25<=s)throw Error(je(301));s+=1,Ci=di=null,e.updateQueue=null,U5.current=pX,t=n(r,i)}while(db)}if(U5.current=QA,e=di!==null&&di.next!==null,_g=0,Ci=di=gr=null,ZA=!1,e)throw Error(je(300));return t}function kL(){var t=Bb!==0;return Bb=0,t}function ql(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?gr.memoizedState=Ci=t:Ci=Ci.next=t,Ci}function Lo(){if(di===null){var t=gr.alternate;t=t!==null?t.memoizedState:null}else t=di.next;var e=Ci===null?gr.memoizedState:Ci.next;if(e!==null)Ci=e,di=t;else{if(t===null)throw Error(je(310));di=t,t={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},Ci===null?gr.memoizedState=Ci=t:Ci=Ci.next=t}return Ci}function Ub(t,e){return typeof e=="function"?e(t):e}function lC(t){var e=Lo(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=di,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((_g&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,gr.lanes|=u,Ag|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,_l(r,e.memoizedState)||(Ys=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gr.lanes|=s,Ag|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cC(t){var e=Lo(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);_l(s,e.memoizedState)||(Ys=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function T7(){}function O7(t,e){var n=gr,r=Lo(),i=e(),s=!_l(r.memoizedState,i);if(s&&(r.memoizedState=i,Ys=!0),r=r.queue,CL(I7.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ci!==null&&Ci.memoizedState.tag&1){if(n.flags|=2048,zb(9,L7.bind(null,n,r,i,e),void 0,null),Oi===null)throw Error(je(349));_g&30||N7(n,e,i)}return i}function N7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gr.updateQueue,e===null?(e={lastEffect:null,stores:null},gr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L7(t,e,n,r){e.value=n,e.getSnapshot=r,R7(e)&&M7(t)}function I7(t,e,n){return n(function(){R7(e)&&M7(t)})}function R7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_l(t,n)}catch{return!0}}function M7(t){var e=Ju(t,1);e!==null&&wl(e,t,1,-1)}function HM(t){var e=ql();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ub,lastRenderedState:t},e.queue=t,t=t.dispatch=hX.bind(null,gr,t),[e.memoizedState,t]}function zb(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gr.updateQueue,e===null?(e={lastEffect:null,stores:null},gr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function j7(){return Lo().memoizedState}function z5(t,e,n,r){var i=ql();gr.flags|=t,i.memoizedState=zb(1|e,n,void 0,r===void 0?null:r)}function QE(t,e,n,r){var i=Lo();r=r===void 0?null:r;var s=void 0;if(di!==null){var a=di.memoizedState;if(s=a.destroy,r!==null&&EL(r,a.deps)){i.memoizedState=zb(e,n,s,r);return}}gr.flags|=t,i.memoizedState=zb(1|e,n,s,r)}function WM(t,e){return z5(8390656,8,t,e)}function CL(t,e){return QE(2048,8,t,e)}function D7(t,e){return QE(4,2,t,e)}function F7(t,e){return QE(4,4,t,e)}function $7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B7(t,e,n){return n=n!=null?n.concat([t]):null,QE(4,4,$7.bind(null,e,t),n)}function TL(){}function U7(t,e){var n=Lo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&EL(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z7(t,e){var n=Lo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&EL(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q7(t,e,n){return _g&21?(_l(n,e)||(n=KB(),gr.lanes|=n,Ag|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ys=!0),t.memoizedState=n)}function cX(t,e){var n=xn;xn=n!==0&&4>n?n:4,t(!0);var r=oC.transition;oC.transition={};try{t(!1),e()}finally{xn=n,oC.transition=r}}function H7(){return Lo().memoizedState}function uX(t,e,n){var r=zf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W7(t))V7(e,n);else if(n=P7(t,e,n,r),n!==null){var i=Is();wl(n,t,r,i),G7(n,e,r)}}function hX(t,e,n){var r=zf(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W7(t))V7(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,_l(o,a)){var l=e.interleaved;l===null?(i.next=i,wL(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=P7(t,e,i,r),n!==null&&(i=Is(),wl(n,t,r,i),G7(n,e,r))}}function W7(t){var e=t.alternate;return t===gr||e!==null&&e===gr}function V7(t,e){db=ZA=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function G7(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aL(t,n)}}var QA={readContext:No,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useInsertionEffect:ns,useLayoutEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useMutableSource:ns,useSyncExternalStore:ns,useId:ns,unstable_isNewReconciler:!1},fX={readContext:No,useCallback:function(t,e){return ql().memoizedState=[t,e===void 0?null:e],t},useContext:No,useEffect:WM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,z5(4194308,4,$7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return z5(4194308,4,t,e)},useInsertionEffect:function(t,e){return z5(4,2,t,e)},useMemo:function(t,e){var n=ql();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ql();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uX.bind(null,gr,t),[r.memoizedState,t]},useRef:function(t){var e=ql();return t={current:t},e.memoizedState=t},useState:HM,useDebugValue:TL,useDeferredValue:function(t){return ql().memoizedState=t},useTransition:function(){var t=HM(!1),e=t[0];return t=cX.bind(null,t[1]),ql().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gr,i=ql();if(or){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),Oi===null)throw Error(je(349));_g&30||N7(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,WM(I7.bind(null,r,s,t),[t]),r.flags|=2048,zb(9,L7.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ql(),e=Oi.identifierPrefix;if(or){var n=$u,r=Fu;n=(r&~(1<<32-bl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dX={readContext:No,useCallback:U7,useContext:No,useEffect:CL,useImperativeHandle:B7,useInsertionEffect:D7,useLayoutEffect:F7,useMemo:z7,useReducer:lC,useRef:j7,useState:function(){return lC(Ub)},useDebugValue:TL,useDeferredValue:function(t){var e=Lo();return q7(e,di.memoizedState,t)},useTransition:function(){var t=lC(Ub)[0],e=Lo().memoizedState;return[t,e]},useMutableSource:T7,useSyncExternalStore:O7,useId:H7,unstable_isNewReconciler:!1},pX={readContext:No,useCallback:U7,useContext:No,useEffect:CL,useImperativeHandle:B7,useInsertionEffect:D7,useLayoutEffect:F7,useMemo:z7,useReducer:cC,useRef:j7,useState:function(){return cC(Ub)},useDebugValue:TL,useDeferredValue:function(t){var e=Lo();return di===null?e.memoizedState=t:q7(e,di.memoizedState,t)},useTransition:function(){var t=cC(Ub)[0],e=Lo().memoizedState;return[t,e]},useMutableSource:T7,useSyncExternalStore:O7,useId:H7,unstable_isNewReconciler:!1};function Zo(t,e){if(t&&t.defaultProps){e=vr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fO(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eP={isMounted:function(t){return(t=t._reactInternals)?Mg(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Is(),i=zf(t),s=qu(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bf(t,s,i),e!==null&&(wl(e,t,i,r),B5(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Is(),i=zf(t),s=qu(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bf(t,s,i),e!==null&&(wl(e,t,i,r),B5(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Is(),r=zf(t),i=qu(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bf(t,i,r),e!==null&&(wl(e,t,r,n),B5(e,t,r))}};function VM(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Rb(n,r)||!Rb(i,s):!0}function K7(t,e,n){var r=!1,i=Gf,s=e.contextType;return typeof s=="object"&&s!==null?s=No(s):(i=Zs(e)?wg:ys.current,r=e.contextTypes,s=(r=r!=null)?zv(t,i):Gf),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eP,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function GM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eP.enqueueReplaceState(e,e.state,null)}function dO(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xL(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=No(s):(s=Zs(e)?wg:ys.current,i.context=zv(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fO(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eP.enqueueReplaceState(i,i.state,null),XA(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vv(t,e){try{var n="",r=e;do n+=zK(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uC(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pO(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gX=typeof WeakMap=="function"?WeakMap:Map;function Y7(t,e,n){n=qu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tS||(tS=!0,SO=r),pO(t,e)},n}function X7(t,e,n){n=qu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pO(t,e),typeof r!="function"&&(Uf===null?Uf=new Set([this]):Uf.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function KM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gX;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TX.bind(null,t,e,n),e.then(t,t))}function YM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function XM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qu(-1,1),e.tag=2,Bf(n,e,1))),n.lanes|=1),t)}var mX=sh.ReactCurrentOwner,Ys=!1;function Os(t,e,n,r){e.child=t===null?E7(e,null,n,r):Hv(e,t.child,n,r)}function JM(t,e,n,r,i){n=n.render;var s=e.ref;return r0(e,i),r=PL(t,e,n,r,s,i),n=kL(),t!==null&&!Ys?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zu(t,e,i)):(or&&n&&pL(e),e.flags|=1,Os(t,e,r,i),e.child)}function ZM(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!DL(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,J7(t,e,s,r,i)):(t=V5(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rb,n(a,r)&&t.ref===e.ref)return Zu(t,e,i)}return e.flags|=1,t=qf(s,r),t.ref=e.ref,t.return=e,e.child=t}function J7(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rb(s,r)&&t.ref===e.ref)if(Ys=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ys=!0);else return e.lanes=t.lanes,Zu(t,e,i)}return gO(t,e,n,r,i)}function Z7(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Um,Ra),Ra|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wn(Um,Ra),Ra|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Wn(Um,Ra),Ra|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Wn(Um,Ra),Ra|=r;return Os(t,e,i,n),e.child}function Q7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gO(t,e,n,r,i){var s=Zs(n)?wg:ys.current;return s=zv(e,s),r0(e,i),n=PL(t,e,n,r,s,i),r=kL(),t!==null&&!Ys?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zu(t,e,i)):(or&&r&&pL(e),e.flags|=1,Os(t,e,n,i),e.child)}function QM(t,e,n,r,i){if(Zs(n)){var s=!0;WA(e)}else s=!1;if(r0(e,i),e.stateNode===null)q5(t,e),K7(e,n,r),dO(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=No(c):(c=Zs(n)?wg:ys.current,c=zv(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&GM(e,a,r,c),Lh=!1;var d=e.memoizedState;a.state=d,XA(e,r,a,i),l=e.memoizedState,o!==r||d!==l||Js.current||Lh?(typeof u=="function"&&(fO(e,n,u,r),l=e.memoizedState),(o=Lh||VM(e,n,o,r,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,k7(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Zo(e.type,o),a.props=c,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=No(l):(l=Zs(n)?wg:ys.current,l=zv(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&GM(e,a,r,l),Lh=!1,d=e.memoizedState,a.state=d,XA(e,r,a,i);var v=e.memoizedState;o!==f||d!==v||Js.current||Lh?(typeof p=="function"&&(fO(e,n,p,r),v=e.memoizedState),(c=Lh||VM(e,n,c,r,d,v,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return mO(t,e,n,r,s,i)}function mO(t,e,n,r,i,s){Q7(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&FM(e,n,!1),Zu(t,e,s);r=e.stateNode,mX.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Hv(e,t.child,null,s),e.child=Hv(e,null,o,s)):Os(t,e,o,s),e.memoizedState=r.state,i&&FM(e,n,!0),e.child}function eU(t){var e=t.stateNode;e.pendingContext?DM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DM(t,e.context,!1),_L(t,e.containerInfo)}function e6(t,e,n,r,i){return qv(),mL(i),e.flags|=256,Os(t,e,n,r),e.child}var vO={dehydrated:null,treeContext:null,retryLane:0};function yO(t){return{baseLanes:t,cachePool:null,transitions:null}}function tU(t,e,n){var r=e.pendingProps,i=dr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wn(dr,i&1),t===null)return uO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=rP(a,r,0,null),t=gg(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yO(n),e.memoizedState=vO,t):OL(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return vX(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=qf(o,s):(s=gg(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?yO(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=vO,r}return s=t.child,t=s.sibling,r=qf(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function OL(t,e){return e=rP({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function K_(t,e,n,r){return r!==null&&mL(r),Hv(e,t.child,null,n),t=OL(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vX(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=uC(Error(je(422))),K_(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rP({mode:"visible",children:r.children},i,0,null),s=gg(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hv(e,t.child,null,a),e.child.memoizedState=yO(a),e.memoizedState=vO,s);if(!(e.mode&1))return K_(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(je(419)),r=uC(s,r,void 0),K_(t,e,a,r)}if(o=(a&t.childLanes)!==0,Ys||o){if(r=Oi,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ju(t,i),wl(r,t,i,-1))}return jL(),r=uC(Error(je(421))),K_(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ua=$f(i.nextSibling),qa=e,or=!0,gl=null,t!==null&&(_o[Ao++]=Fu,_o[Ao++]=$u,_o[Ao++]=xg,Fu=t.id,$u=t.overflow,xg=e),e=OL(e,r.children),e.flags|=4096,e)}function t6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hO(t.return,e,n)}function hC(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nU(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Os(t,e,r.children,n),r=dr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t6(t,n,e);else if(t.tag===19)t6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Wn(dr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&JA(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hC(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&JA(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hC(e,!0,n,null,s);break;case"together":hC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function q5(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ag|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=qf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yX(t,e,n){switch(e.tag){case 3:eU(e),qv();break;case 5:C7(e);break;case 1:Zs(e.type)&&WA(e);break;case 4:_L(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wn(KA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wn(dr,dr.current&1),e.flags|=128,null):n&e.child.childLanes?tU(t,e,n):(Wn(dr,dr.current&1),t=Zu(t,e,n),t!==null?t.sibling:null);Wn(dr,dr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wn(dr,dr.current),r)break;return null;case 22:case 23:return e.lanes=0,Z7(t,e,n)}return Zu(t,e,n)}var rU,bO,iU,sU;rU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bO=function(){};iU=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vd(yc.current);var s=null;switch(n){case"input":i=UT(t,i),r=UT(t,r),s=[];break;case"select":i=vr({},i,{value:void 0}),r=vr({},r,{value:void 0}),s=[];break;case"textarea":i=HT(t,i),r=HT(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qA)}VT(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kb.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kb.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};sU=function(t,e,n,r){n!==r&&(e.flags|=4)};function p1(t,e){if(!or)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rs(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bX(t,e,n){var r=e.pendingProps;switch(gL(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(e),null;case 1:return Zs(e.type)&&HA(),rs(e),null;case 3:return r=e.stateNode,Wv(),er(Js),er(ys),SL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(V_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gl!==null&&(kO(gl),gl=null))),bO(t,e),rs(e),null;case 5:AL(e);var i=Vd($b.current);if(n=e.type,t!==null&&e.stateNode!=null)iU(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return rs(e),null}if(t=Vd(yc.current),V_(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fc]=e,r[Db]=s,t=(e.mode&1)!==0,n){case"dialog":Yn("cancel",r),Yn("close",r);break;case"iframe":case"object":case"embed":Yn("load",r);break;case"video":case"audio":for(i=0;i<j1.length;i++)Yn(j1[i],r);break;case"source":Yn("error",r);break;case"img":case"image":case"link":Yn("error",r),Yn("load",r);break;case"details":Yn("toggle",r);break;case"input":uM(r,s),Yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yn("invalid",r);break;case"textarea":fM(r,s),Yn("invalid",r)}VT(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&W_(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&W_(r.textContent,o,t),i=["children",""+o]):kb.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Yn("scroll",r)}switch(n){case"input":D_(r),hM(r,s,!0);break;case"textarea":D_(r),dM(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IB(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[fc]=e,t[Db]=r,rU(t,e,!1,!1),e.stateNode=t;e:{switch(a=GT(n,r),n){case"dialog":Yn("cancel",t),Yn("close",t),i=r;break;case"iframe":case"object":case"embed":Yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<j1.length;i++)Yn(j1[i],t);i=r;break;case"source":Yn("error",t),i=r;break;case"img":case"image":case"link":Yn("error",t),Yn("load",t),i=r;break;case"details":Yn("toggle",t),i=r;break;case"input":uM(t,r),i=UT(t,r),Yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vr({},r,{value:void 0}),Yn("invalid",t);break;case"textarea":fM(t,r),i=HT(t,r),Yn("invalid",t);break;default:i=r}VT(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?jB(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RB(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cb(t,l):typeof l=="number"&&Cb(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kb.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Yn("scroll",t):l!=null&&eL(t,s,l,a))}switch(n){case"input":D_(t),hM(t,r,!1);break;case"textarea":D_(t),dM(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vf(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qm(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qA)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rs(e),null;case 6:if(t&&e.stateNode!=null)sU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=Vd($b.current),Vd(yc.current),V_(e)){if(r=e.stateNode,n=e.memoizedProps,r[fc]=e,(s=r.nodeValue!==n)&&(t=qa,t!==null))switch(t.tag){case 3:W_(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&W_(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fc]=e,e.stateNode=r}return rs(e),null;case 13:if(er(dr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(or&&Ua!==null&&e.mode&1&&!(e.flags&128))A7(),qv(),e.flags|=98560,s=!1;else if(s=V_(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[fc]=e}else qv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rs(e),s=!1}else gl!==null&&(kO(gl),gl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dr.current&1?pi===0&&(pi=3):jL())),e.updateQueue!==null&&(e.flags|=4),rs(e),null);case 4:return Wv(),bO(t,e),t===null&&Mb(e.stateNode.containerInfo),rs(e),null;case 10:return bL(e.type._context),rs(e),null;case 17:return Zs(e.type)&&HA(),rs(e),null;case 19:if(er(dr),s=e.memoizedState,s===null)return rs(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)p1(s,!1);else{if(pi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=JA(t),a!==null){for(e.flags|=128,p1(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wn(dr,dr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fr()>Gv&&(e.flags|=128,r=!0,p1(s,!1),e.lanes=4194304)}else{if(!r)if(t=JA(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),p1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!or)return rs(e),null}else 2*Fr()-s.renderingStartTime>Gv&&n!==1073741824&&(e.flags|=128,r=!0,p1(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fr(),e.sibling=null,n=dr.current,Wn(dr,r?n&1|2:n&1),e):(rs(e),null);case 22:case 23:return ML(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ra&1073741824&&(rs(e),e.subtreeFlags&6&&(e.flags|=8192)):rs(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function wX(t,e){switch(gL(e),e.tag){case 1:return Zs(e.type)&&HA(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wv(),er(Js),er(ys),SL(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AL(e),null;case 13:if(er(dr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));qv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return er(dr),null;case 4:return Wv(),null;case 10:return bL(e.type._context),null;case 22:case 23:return ML(),null;case 24:return null;default:return null}}var Y_=!1,ms=!1,xX=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Bm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(t,e,r)}else n.current=null}function wO(t,e,n){try{n()}catch(r){Cr(t,e,r)}}var n6=!1;function _X(t,e){if(rO=BA,t=u7(),dL(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===i&&(o=a),d===s&&++u===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iO={focusedElem:t,selectionRange:n},BA=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,b=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Zo(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(S){Cr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return v=n6,n6=!1,v}function pb(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wO(e,n,s)}i=i.next}while(i!==r)}}function tP(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xO(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aU(t){var e=t.alternate;e!==null&&(t.alternate=null,aU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fc],delete e[Db],delete e[oO],delete e[iX],delete e[sX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oU(t){return t.tag===5||t.tag===3||t.tag===4}function r6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _O(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qA));else if(r!==4&&(t=t.child,t!==null))for(_O(t,e,n),t=t.sibling;t!==null;)_O(t,e,n),t=t.sibling}function AO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(AO(t,e,n),t=t.sibling;t!==null;)AO(t,e,n),t=t.sibling}var Gi=null,fl=!1;function Ph(t,e,n){for(n=n.child;n!==null;)lU(t,e,n),n=n.sibling}function lU(t,e,n){if(vc&&typeof vc.onCommitFiberUnmount=="function")try{vc.onCommitFiberUnmount(GE,n)}catch{}switch(n.tag){case 5:ms||Bm(n,e);case 6:var r=Gi,i=fl;Gi=null,Ph(t,e,n),Gi=r,fl=i,Gi!==null&&(fl?(t=Gi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gi.removeChild(n.stateNode));break;case 18:Gi!==null&&(fl?(t=Gi,n=n.stateNode,t.nodeType===8?iC(t.parentNode,n):t.nodeType===1&&iC(t,n),Lb(t)):iC(Gi,n.stateNode));break;case 4:r=Gi,i=fl,Gi=n.stateNode.containerInfo,fl=!0,Ph(t,e,n),Gi=r,fl=i;break;case 0:case 11:case 14:case 15:if(!ms&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&wO(n,e,a),i=i.next}while(i!==r)}Ph(t,e,n);break;case 1:if(!ms&&(Bm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cr(n,e,o)}Ph(t,e,n);break;case 21:Ph(t,e,n);break;case 22:n.mode&1?(ms=(r=ms)||n.memoizedState!==null,Ph(t,e,n),ms=r):Ph(t,e,n);break;default:Ph(t,e,n)}}function i6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xX),e.forEach(function(r){var i=NX.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Gi=o.stateNode,fl=!1;break e;case 3:Gi=o.stateNode.containerInfo,fl=!0;break e;case 4:Gi=o.stateNode.containerInfo,fl=!0;break e}o=o.return}if(Gi===null)throw Error(je(160));lU(s,a,i),Gi=null,fl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Cr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cU(e,t),e=e.sibling}function cU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vo(e,t),Dl(t),r&4){try{pb(3,t,t.return),tP(3,t)}catch(m){Cr(t,t.return,m)}try{pb(5,t,t.return)}catch(m){Cr(t,t.return,m)}}break;case 1:Vo(e,t),Dl(t),r&512&&n!==null&&Bm(n,n.return);break;case 5:if(Vo(e,t),Dl(t),r&512&&n!==null&&Bm(n,n.return),t.flags&32){var i=t.stateNode;try{Cb(i,"")}catch(m){Cr(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&NB(i,s),GT(o,a);var c=GT(o,s);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?jB(i,f):u==="dangerouslySetInnerHTML"?RB(i,f):u==="children"?Cb(i,f):eL(i,u,f,c)}switch(o){case"input":zT(i,s);break;case"textarea":LB(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Qm(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Qm(i,!!s.multiple,s.defaultValue,!0):Qm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Db]=s}catch(m){Cr(t,t.return,m)}}break;case 6:if(Vo(e,t),Dl(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Cr(t,t.return,m)}}break;case 3:if(Vo(e,t),Dl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lb(e.containerInfo)}catch(m){Cr(t,t.return,m)}break;case 4:Vo(e,t),Dl(t);break;case 13:Vo(e,t),Dl(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(IL=Fr())),r&4&&i6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ms=(c=ms)||u,Vo(e,t),ms=c):Vo(e,t),Dl(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ve=t,u=t.child;u!==null;){for(f=Ve=u;Ve!==null;){switch(d=Ve,p=d.child,d.tag){case 0:case 11:case 14:case 15:pb(4,d,d.return);break;case 1:Bm(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Cr(r,n,m)}}break;case 5:Bm(d,d.return);break;case 22:if(d.memoizedState!==null){a6(f);continue}}p!==null?(p.return=d,Ve=p):a6(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=MB("display",a))}catch(m){Cr(t,t.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Cr(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vo(e,t),Dl(t),r&4&&i6(t);break;case 21:break;default:Vo(e,t),Dl(t)}}function Dl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oU(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cb(i,""),r.flags&=-33);var s=r6(t);AO(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=r6(t);_O(t,o,a);break;default:throw Error(je(161))}}catch(l){Cr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AX(t,e,n){Ve=t,uU(t)}function uU(t,e,n){for(var r=(t.mode&1)!==0;Ve!==null;){var i=Ve,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Y_;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ms;o=Y_;var c=ms;if(Y_=a,(ms=l)&&!c)for(Ve=i;Ve!==null;)a=Ve,l=a.child,a.tag===22&&a.memoizedState!==null?o6(i):l!==null?(l.return=a,Ve=l):o6(i);for(;s!==null;)Ve=s,uU(s),s=s.sibling;Ve=i,Y_=o,ms=c}s6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ve=s):s6(t)}}function s6(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ms||tP(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ms)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qM(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qM(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Lb(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}ms||e.flags&512&&xO(e)}catch(d){Cr(e,e.return,d)}}if(e===t){Ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function a6(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function o6(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tP(4,e)}catch(l){Cr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Cr(e,i,l)}}var s=e.return;try{xO(e)}catch(l){Cr(e,s,l)}break;case 5:var a=e.return;try{xO(e)}catch(l){Cr(e,a,l)}}}catch(l){Cr(e,e.return,l)}if(e===t){Ve=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ve=o;break}Ve=e.return}}var SX=Math.ceil,eS=sh.ReactCurrentDispatcher,NL=sh.ReactCurrentOwner,Co=sh.ReactCurrentBatchConfig,an=0,Oi=null,Xr=null,Zi=0,Ra=0,Um=Qf(0),pi=0,qb=null,Ag=0,nP=0,LL=0,gb=null,Ks=null,IL=0,Gv=1/0,Xc=null,tS=!1,SO=null,Uf=null,X_=!1,Lf=null,nS=0,mb=0,EO=null,H5=-1,W5=0;function Is(){return an&6?Fr():H5!==-1?H5:H5=Fr()}function zf(t){return t.mode&1?an&2&&Zi!==0?Zi&-Zi:oX.transition!==null?(W5===0&&(W5=KB()),W5):(t=xn,t!==0||(t=window.event,t=t===void 0?16:t7(t.type)),t):1}function wl(t,e,n,r){if(50<mb)throw mb=0,EO=null,Error(je(185));Nx(t,n,r),(!(an&2)||t!==Oi)&&(t===Oi&&(!(an&2)&&(nP|=n),pi===4&&Dh(t,Zi)),Qs(t,r),n===1&&an===0&&!(e.mode&1)&&(Gv=Fr()+500,ZE&&ed()))}function Qs(t,e){var n=t.callbackNode;oY(t,e);var r=$A(t,t===Oi?Zi:0);if(r===0)n!==null&&mM(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mM(n),e===1)t.tag===0?aX(l6.bind(null,t)):w7(l6.bind(null,t)),nX(function(){!(an&6)&&ed()}),n=null;else{switch(YB(r)){case 1:n=sL;break;case 4:n=VB;break;case 16:n=FA;break;case 536870912:n=GB;break;default:n=FA}n=yU(n,hU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hU(t,e){if(H5=-1,W5=0,an&6)throw Error(je(327));var n=t.callbackNode;if(i0()&&t.callbackNode!==n)return null;var r=$A(t,t===Oi?Zi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rS(t,r);else{e=r;var i=an;an|=2;var s=dU();(Oi!==t||Zi!==e)&&(Xc=null,Gv=Fr()+500,pg(t,e));do try{kX();break}catch(o){fU(t,o)}while(!0);yL(),eS.current=s,an=i,Xr!==null?e=0:(Oi=null,Zi=0,e=pi)}if(e!==0){if(e===2&&(i=ZT(t),i!==0&&(r=i,e=PO(t,i))),e===1)throw n=qb,pg(t,0),Dh(t,r),Qs(t,Fr()),n;if(e===6)Dh(t,r);else{if(i=t.current.alternate,!(r&30)&&!EX(i)&&(e=rS(t,r),e===2&&(s=ZT(t),s!==0&&(r=s,e=PO(t,s))),e===1))throw n=qb,pg(t,0),Dh(t,r),Qs(t,Fr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:Cd(t,Ks,Xc);break;case 3:if(Dh(t,r),(r&130023424)===r&&(e=IL+500-Fr(),10<e)){if($A(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Is(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aO(Cd.bind(null,t,Ks,Xc),e);break}Cd(t,Ks,Xc);break;case 4:if(Dh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-bl(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SX(r/1960))-r,10<r){t.timeoutHandle=aO(Cd.bind(null,t,Ks,Xc),r);break}Cd(t,Ks,Xc);break;case 5:Cd(t,Ks,Xc);break;default:throw Error(je(329))}}}return Qs(t,Fr()),t.callbackNode===n?hU.bind(null,t):null}function PO(t,e){var n=gb;return t.current.memoizedState.isDehydrated&&(pg(t,e).flags|=256),t=rS(t,e),t!==2&&(e=Ks,Ks=n,e!==null&&kO(e)),t}function kO(t){Ks===null?Ks=t:Ks.push.apply(Ks,t)}function EX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_l(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dh(t,e){for(e&=~LL,e&=~nP,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bl(e),r=1<<n;t[n]=-1,e&=~r}}function l6(t){if(an&6)throw Error(je(327));i0();var e=$A(t,0);if(!(e&1))return Qs(t,Fr()),null;var n=rS(t,e);if(t.tag!==0&&n===2){var r=ZT(t);r!==0&&(e=r,n=PO(t,r))}if(n===1)throw n=qb,pg(t,0),Dh(t,e),Qs(t,Fr()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cd(t,Ks,Xc),Qs(t,Fr()),null}function RL(t,e){var n=an;an|=1;try{return t(e)}finally{an=n,an===0&&(Gv=Fr()+500,ZE&&ed())}}function Sg(t){Lf!==null&&Lf.tag===0&&!(an&6)&&i0();var e=an;an|=1;var n=Co.transition,r=xn;try{if(Co.transition=null,xn=1,t)return t()}finally{xn=r,Co.transition=n,an=e,!(an&6)&&ed()}}function ML(){Ra=Um.current,er(Um)}function pg(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tX(n)),Xr!==null)for(n=Xr.return;n!==null;){var r=n;switch(gL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&HA();break;case 3:Wv(),er(Js),er(ys),SL();break;case 5:AL(r);break;case 4:Wv();break;case 13:er(dr);break;case 19:er(dr);break;case 10:bL(r.type._context);break;case 22:case 23:ML()}n=n.return}if(Oi=t,Xr=t=qf(t.current,null),Zi=Ra=e,pi=0,qb=null,LL=nP=Ag=0,Ks=gb=null,Wd!==null){for(e=0;e<Wd.length;e++)if(n=Wd[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Wd=null}return t}function fU(t,e){do{var n=Xr;try{if(yL(),U5.current=QA,ZA){for(var r=gr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ZA=!1}if(_g=0,Ci=di=gr=null,db=!1,Bb=0,NL.current=null,n===null||n.return===null){pi=1,qb=e,Xr=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Zi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=YM(a);if(p!==null){p.flags&=-257,XM(p,a,o,s,e),p.mode&1&&KM(s,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){KM(s,c,e),jL();break e}l=Error(je(426))}}else if(or&&o.mode&1){var b=YM(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),XM(b,a,o,s,e),mL(Vv(l,o));break e}}s=l=Vv(l,o),pi!==4&&(pi=2),gb===null?gb=[s]:gb.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Y7(s,l,e);zM(s,g);break e;case 1:o=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Uf===null||!Uf.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=X7(s,o,e);zM(s,S);break e}}s=s.return}while(s!==null)}gU(n)}catch(A){e=A,Xr===n&&n!==null&&(Xr=n=n.return);continue}break}while(!0)}function dU(){var t=eS.current;return eS.current=QA,t===null?QA:t}function jL(){(pi===0||pi===3||pi===2)&&(pi=4),Oi===null||!(Ag&268435455)&&!(nP&268435455)||Dh(Oi,Zi)}function rS(t,e){var n=an;an|=2;var r=dU();(Oi!==t||Zi!==e)&&(Xc=null,pg(t,e));do try{PX();break}catch(i){fU(t,i)}while(!0);if(yL(),an=n,eS.current=r,Xr!==null)throw Error(je(261));return Oi=null,Zi=0,pi}function PX(){for(;Xr!==null;)pU(Xr)}function kX(){for(;Xr!==null&&!ZK();)pU(Xr)}function pU(t){var e=vU(t.alternate,t,Ra);t.memoizedProps=t.pendingProps,e===null?gU(t):Xr=e,NL.current=null}function gU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wX(n,e),n!==null){n.flags&=32767,Xr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pi=6,Xr=null;return}}else if(n=bX(n,e,Ra),n!==null){Xr=n;return}if(e=e.sibling,e!==null){Xr=e;return}Xr=e=t}while(e!==null);pi===0&&(pi=5)}function Cd(t,e,n){var r=xn,i=Co.transition;try{Co.transition=null,xn=1,CX(t,e,n,r)}finally{Co.transition=i,xn=r}return null}function CX(t,e,n,r){do i0();while(Lf!==null);if(an&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(lY(t,s),t===Oi&&(Xr=Oi=null,Zi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||X_||(X_=!0,yU(FA,function(){return i0(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Co.transition,Co.transition=null;var a=xn;xn=1;var o=an;an|=4,NL.current=null,_X(t,n),cU(n,t),KY(iO),BA=!!rO,iO=rO=null,t.current=n,AX(n),QK(),an=o,xn=a,Co.transition=s}else t.current=n;if(X_&&(X_=!1,Lf=t,nS=i),s=t.pendingLanes,s===0&&(Uf=null),nY(n.stateNode),Qs(t,Fr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tS)throw tS=!1,t=SO,SO=null,t;return nS&1&&t.tag!==0&&i0(),s=t.pendingLanes,s&1?t===EO?mb++:(mb=0,EO=t):mb=0,ed(),null}function i0(){if(Lf!==null){var t=YB(nS),e=Co.transition,n=xn;try{if(Co.transition=null,xn=16>t?16:t,Lf===null)var r=!1;else{if(t=Lf,Lf=null,nS=0,an&6)throw Error(je(331));var i=an;for(an|=4,Ve=t.current;Ve!==null;){var s=Ve,a=s.child;if(Ve.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ve=c;Ve!==null;){var u=Ve;switch(u.tag){case 0:case 11:case 15:pb(8,u,s)}var f=u.child;if(f!==null)f.return=u,Ve=f;else for(;Ve!==null;){u=Ve;var d=u.sibling,p=u.return;if(aU(u),u===c){Ve=null;break}if(d!==null){d.return=p,Ve=d;break}Ve=p}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Ve=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ve=a;else e:for(;Ve!==null;){if(s=Ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pb(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ve=g;break e}Ve=s.return}}var w=t.current;for(Ve=w;Ve!==null;){a=Ve;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Ve=x;else e:for(a=w;Ve!==null;){if(o=Ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tP(9,o)}}catch(A){Cr(o,o.return,A)}if(o===a){Ve=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Ve=S;break e}Ve=o.return}}if(an=i,ed(),vc&&typeof vc.onPostCommitFiberRoot=="function")try{vc.onPostCommitFiberRoot(GE,t)}catch{}r=!0}return r}finally{xn=n,Co.transition=e}}return!1}function c6(t,e,n){e=Vv(n,e),e=Y7(t,e,1),t=Bf(t,e,1),e=Is(),t!==null&&(Nx(t,1,e),Qs(t,e))}function Cr(t,e,n){if(t.tag===3)c6(t,t,n);else for(;e!==null;){if(e.tag===3){c6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uf===null||!Uf.has(r))){t=Vv(n,t),t=X7(e,t,1),e=Bf(e,t,1),t=Is(),e!==null&&(Nx(e,1,t),Qs(e,t));break}}e=e.return}}function TX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Is(),t.pingedLanes|=t.suspendedLanes&n,Oi===t&&(Zi&n)===n&&(pi===4||pi===3&&(Zi&130023424)===Zi&&500>Fr()-IL?pg(t,0):LL|=n),Qs(t,e)}function mU(t,e){e===0&&(t.mode&1?(e=B_,B_<<=1,!(B_&130023424)&&(B_=4194304)):e=1);var n=Is();t=Ju(t,e),t!==null&&(Nx(t,e,n),Qs(t,n))}function OX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mU(t,n)}function NX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),mU(t,n)}var vU;vU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Js.current)Ys=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ys=!1,yX(t,e,n);Ys=!!(t.flags&131072)}else Ys=!1,or&&e.flags&1048576&&x7(e,GA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;q5(t,e),t=e.pendingProps;var i=zv(e,ys.current);r0(e,n),i=PL(null,e,r,t,i,n);var s=kL();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zs(r)?(s=!0,WA(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xL(e),i.updater=eP,e.stateNode=i,i._reactInternals=e,dO(e,r,t,n),e=mO(null,e,r,!0,s,n)):(e.tag=0,or&&s&&pL(e),Os(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(q5(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=IX(r),t=Zo(r,t),i){case 0:e=gO(null,e,r,t,n);break e;case 1:e=QM(null,e,r,t,n);break e;case 11:e=JM(null,e,r,t,n);break e;case 14:e=ZM(null,e,r,Zo(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zo(r,i),gO(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zo(r,i),QM(t,e,r,i,n);case 3:e:{if(eU(e),t===null)throw Error(je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,k7(t,e),XA(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vv(Error(je(423)),e),e=e6(t,e,r,n,i);break e}else if(r!==i){i=Vv(Error(je(424)),e),e=e6(t,e,r,n,i);break e}else for(Ua=$f(e.stateNode.containerInfo.firstChild),qa=e,or=!0,gl=null,n=E7(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qv(),r===i){e=Zu(t,e,n);break e}Os(t,e,r,n)}e=e.child}return e;case 5:return C7(e),t===null&&uO(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,sO(r,i)?a=null:s!==null&&sO(r,s)&&(e.flags|=32),Q7(t,e),Os(t,e,a,n),e.child;case 6:return t===null&&uO(e),null;case 13:return tU(t,e,n);case 4:return _L(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hv(e,null,r,n):Os(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zo(r,i),JM(t,e,r,i,n);case 7:return Os(t,e,e.pendingProps,n),e.child;case 8:return Os(t,e,e.pendingProps.children,n),e.child;case 12:return Os(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Wn(KA,r._currentValue),r._currentValue=a,s!==null)if(_l(s.value,a)){if(s.children===i.children&&!Js.current){e=Zu(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=qu(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),hO(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),hO(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Os(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,r0(e,n),i=No(i),r=r(i),e.flags|=1,Os(t,e,r,n),e.child;case 14:return r=e.type,i=Zo(r,e.pendingProps),i=Zo(r.type,i),ZM(t,e,r,i,n);case 15:return J7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zo(r,i),q5(t,e),e.tag=1,Zs(r)?(t=!0,WA(e)):t=!1,r0(e,n),K7(e,r,i),dO(e,r,i,n),mO(null,e,r,!0,t,n);case 19:return nU(t,e,n);case 22:return Z7(t,e,n)}throw Error(je(156,e.tag))};function yU(t,e){return WB(t,e)}function LX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(t,e,n,r){return new LX(t,e,n,r)}function DL(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IX(t){if(typeof t=="function")return DL(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nL)return 11;if(t===rL)return 14}return 2}function qf(t,e){var n=t.alternate;return n===null?(n=Po(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function V5(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")DL(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Nm:return gg(n.children,i,s,e);case tL:a=8,i|=8;break;case DT:return t=Po(12,n,e,i|2),t.elementType=DT,t.lanes=s,t;case FT:return t=Po(13,n,e,i),t.elementType=FT,t.lanes=s,t;case $T:return t=Po(19,n,e,i),t.elementType=$T,t.lanes=s,t;case CB:return rP(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PB:a=10;break e;case kB:a=9;break e;case nL:a=11;break e;case rL:a=14;break e;case Nh:a=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=Po(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gg(t,e,n,r){return t=Po(7,t,r,e),t.lanes=n,t}function rP(t,e,n,r){return t=Po(22,t,r,e),t.elementType=CB,t.lanes=n,t.stateNode={isHidden:!1},t}function fC(t,e,n){return t=Po(6,t,null,e),t.lanes=n,t}function dC(t,e,n){return e=Po(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RX(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gk(0),this.expirationTimes=Gk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gk(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FL(t,e,n,r,i,s,a,o,l){return t=new RX(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Po(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xL(s),t}function MX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Om,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bU(t){if(!t)return Gf;t=t._reactInternals;e:{if(Mg(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(Zs(n))return b7(t,n,e)}return e}function wU(t,e,n,r,i,s,a,o,l){return t=FL(n,r,!0,t,i,s,a,o,l),t.context=bU(null),n=t.current,r=Is(),i=zf(n),s=qu(r,i),s.callback=e??null,Bf(n,s,i),t.current.lanes=i,Nx(t,i,r),Qs(t,r),t}function iP(t,e,n,r){var i=e.current,s=Is(),a=zf(i);return n=bU(n),e.context===null?e.context=n:e.pendingContext=n,e=qu(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bf(i,e,a),t!==null&&(wl(t,i,a,s),B5(t,i,a)),a}function iS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $L(t,e){u6(t,e),(t=t.alternate)&&u6(t,e)}function jX(){return null}var xU=typeof reportError=="function"?reportError:function(t){console.error(t)};function BL(t){this._internalRoot=t}sP.prototype.render=BL.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));iP(t,e,null,null)};sP.prototype.unmount=BL.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sg(function(){iP(null,t,null,null)}),e[Xu]=null}};function sP(t){this._internalRoot=t}sP.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZB();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jh.length&&e!==0&&e<jh[n].priority;n++);jh.splice(n,0,t),n===0&&e7(t)}};function UL(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function aP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h6(){}function DX(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=iS(a);s.call(c)}}var a=wU(e,r,t,0,null,!1,!1,"",h6);return t._reactRootContainer=a,t[Xu]=a.current,Mb(t.nodeType===8?t.parentNode:t),Sg(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=iS(l);o.call(c)}}var l=FL(t,0,!1,null,null,!1,!1,"",h6);return t._reactRootContainer=l,t[Xu]=l.current,Mb(t.nodeType===8?t.parentNode:t),Sg(function(){iP(e,l,n,r)}),l}function oP(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=iS(a);o.call(l)}}iP(e,a,t,i)}else a=DX(n,e,t,i,r);return iS(a)}XB=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=M1(e.pendingLanes);n!==0&&(aL(e,n|1),Qs(e,Fr()),!(an&6)&&(Gv=Fr()+500,ed()))}break;case 13:Sg(function(){var r=Ju(t,1);if(r!==null){var i=Is();wl(r,t,1,i)}}),$L(t,1)}};oL=function(t){if(t.tag===13){var e=Ju(t,134217728);if(e!==null){var n=Is();wl(e,t,134217728,n)}$L(t,134217728)}};JB=function(t){if(t.tag===13){var e=zf(t),n=Ju(t,e);if(n!==null){var r=Is();wl(n,t,e,r)}$L(t,e)}};ZB=function(){return xn};QB=function(t,e){var n=xn;try{return xn=t,e()}finally{xn=n}};YT=function(t,e,n){switch(e){case"input":if(zT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=JE(r);if(!i)throw Error(je(90));OB(r),zT(r,i)}}}break;case"textarea":LB(t,n);break;case"select":e=n.value,e!=null&&Qm(t,!!n.multiple,e,!1)}};$B=RL;BB=Sg;var FX={usingClientEntryPoint:!1,Events:[Ix,Mm,JE,DB,FB,RL]},g1={findFiberByHostInstance:Hd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$X={bundleType:g1.bundleType,version:g1.version,rendererPackageName:g1.rendererPackageName,rendererConfig:g1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qB(t),t===null?null:t.stateNode},findFiberByHostInstance:g1.findFiberByHostInstance||jX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J_.isDisabled&&J_.supportsFiber)try{GE=J_.inject($X),vc=J_}catch{}}Ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FX;Ga.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UL(e))throw Error(je(200));return MX(t,e,null,n)};Ga.createRoot=function(t,e){if(!UL(t))throw Error(je(299));var n=!1,r="",i=xU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=FL(t,1,!1,null,null,n,!1,r,i),t[Xu]=e.current,Mb(t.nodeType===8?t.parentNode:t),new BL(e)};Ga.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=qB(e),t=t===null?null:t.stateNode,t};Ga.flushSync=function(t){return Sg(t)};Ga.hydrate=function(t,e,n){if(!aP(e))throw Error(je(200));return oP(null,t,e,!0,n)};Ga.hydrateRoot=function(t,e,n){if(!UL(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=xU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=wU(e,null,t,1,n??null,i,!1,s,a),t[Xu]=e.current,Mb(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sP(e)};Ga.render=function(t,e,n){if(!aP(e))throw Error(je(200));return oP(null,t,e,!1,n)};Ga.unmountComponentAtNode=function(t){if(!aP(t))throw Error(je(40));return t._reactRootContainer?(Sg(function(){oP(null,null,t,!1,function(){t._reactRootContainer=null,t[Xu]=null})}),!0):!1};Ga.unstable_batchedUpdates=RL;Ga.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!aP(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return oP(t,e,n,!1,r)};Ga.version="18.3.1-next-f1338f8080-20240426";function _U(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_U)}catch(t){console.error(t)}}_U(),_B.exports=Ga;var BX=_B.exports,f6=BX;MT.createRoot=f6.createRoot,MT.hydrateRoot=f6.hydrateRoot;function AU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=AU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=AU(t))&&(r&&(r+=" "),r+=e);return r}var UX=Array.isArray,ea=UX,zX=typeof R_=="object"&&R_&&R_.Object===Object&&R_,SU=zX,qX=SU,HX=typeof self=="object"&&self&&self.Object===Object&&self,WX=qX||HX||Function("return this")(),Sc=WX,VX=Sc,GX=VX.Symbol,Mx=GX,d6=Mx,EU=Object.prototype,KX=EU.hasOwnProperty,YX=EU.toString,m1=d6?d6.toStringTag:void 0;function XX(t){var e=KX.call(t,m1),n=t[m1];try{t[m1]=void 0;var r=!0}catch{}var i=YX.call(t);return r&&(e?t[m1]=n:delete t[m1]),i}var JX=XX,ZX=Object.prototype,QX=ZX.toString;function eJ(t){return QX.call(t)}var tJ=eJ,p6=Mx,nJ=JX,rJ=tJ,iJ="[object Null]",sJ="[object Undefined]",g6=p6?p6.toStringTag:void 0;function aJ(t){return t==null?t===void 0?sJ:iJ:g6&&g6 in Object(t)?nJ(t):rJ(t)}var ah=aJ;function oJ(t){return t!=null&&typeof t=="object"}var oh=oJ,lJ=ah,cJ=oh,uJ="[object Symbol]";function hJ(t){return typeof t=="symbol"||cJ(t)&&lJ(t)==uJ}var by=hJ,fJ=ea,dJ=by,pJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gJ=/^\w*$/;function mJ(t,e){if(fJ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||dJ(t)?!0:gJ.test(t)||!pJ.test(t)||e!=null&&t in Object(e)}var zL=mJ;function vJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var td=vJ;const wy=Gn(td);var yJ=ah,bJ=td,wJ="[object AsyncFunction]",xJ="[object Function]",_J="[object GeneratorFunction]",AJ="[object Proxy]";function SJ(t){if(!bJ(t))return!1;var e=yJ(t);return e==xJ||e==_J||e==wJ||e==AJ}var qL=SJ;const Ht=Gn(qL);var EJ=Sc,PJ=EJ["__core-js_shared__"],kJ=PJ,pC=kJ,m6=function(){var t=/[^.]+$/.exec(pC&&pC.keys&&pC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function CJ(t){return!!m6&&m6 in t}var TJ=CJ,OJ=Function.prototype,NJ=OJ.toString;function LJ(t){if(t!=null){try{return NJ.call(t)}catch{}try{return t+""}catch{}}return""}var PU=LJ,IJ=qL,RJ=TJ,MJ=td,jJ=PU,DJ=/[\\^$.*+?()[\]{}|]/g,FJ=/^\[object .+?Constructor\]$/,$J=Function.prototype,BJ=Object.prototype,UJ=$J.toString,zJ=BJ.hasOwnProperty,qJ=RegExp("^"+UJ.call(zJ).replace(DJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HJ(t){if(!MJ(t)||RJ(t))return!1;var e=IJ(t)?qJ:FJ;return e.test(jJ(t))}var WJ=HJ;function VJ(t,e){return t==null?void 0:t[e]}var GJ=VJ,KJ=WJ,YJ=GJ;function XJ(t,e){var n=YJ(t,e);return KJ(n)?n:void 0}var jg=XJ,JJ=jg,ZJ=JJ(Object,"create"),lP=ZJ,v6=lP;function QJ(){this.__data__=v6?v6(null):{},this.size=0}var eZ=QJ;function tZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var nZ=tZ,rZ=lP,iZ="__lodash_hash_undefined__",sZ=Object.prototype,aZ=sZ.hasOwnProperty;function oZ(t){var e=this.__data__;if(rZ){var n=e[t];return n===iZ?void 0:n}return aZ.call(e,t)?e[t]:void 0}var lZ=oZ,cZ=lP,uZ=Object.prototype,hZ=uZ.hasOwnProperty;function fZ(t){var e=this.__data__;return cZ?e[t]!==void 0:hZ.call(e,t)}var dZ=fZ,pZ=lP,gZ="__lodash_hash_undefined__";function mZ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=pZ&&e===void 0?gZ:e,this}var vZ=mZ,yZ=eZ,bZ=nZ,wZ=lZ,xZ=dZ,_Z=vZ;function xy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xy.prototype.clear=yZ;xy.prototype.delete=bZ;xy.prototype.get=wZ;xy.prototype.has=xZ;xy.prototype.set=_Z;var AZ=xy;function SZ(){this.__data__=[],this.size=0}var EZ=SZ;function PZ(t,e){return t===e||t!==t&&e!==e}var HL=PZ,kZ=HL;function CZ(t,e){for(var n=t.length;n--;)if(kZ(t[n][0],e))return n;return-1}var cP=CZ,TZ=cP,OZ=Array.prototype,NZ=OZ.splice;function LZ(t){var e=this.__data__,n=TZ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():NZ.call(e,n,1),--this.size,!0}var IZ=LZ,RZ=cP;function MZ(t){var e=this.__data__,n=RZ(e,t);return n<0?void 0:e[n][1]}var jZ=MZ,DZ=cP;function FZ(t){return DZ(this.__data__,t)>-1}var $Z=FZ,BZ=cP;function UZ(t,e){var n=this.__data__,r=BZ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var zZ=UZ,qZ=EZ,HZ=IZ,WZ=jZ,VZ=$Z,GZ=zZ;function _y(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_y.prototype.clear=qZ;_y.prototype.delete=HZ;_y.prototype.get=WZ;_y.prototype.has=VZ;_y.prototype.set=GZ;var uP=_y,KZ=jg,YZ=Sc,XZ=KZ(YZ,"Map"),WL=XZ,y6=AZ,JZ=uP,ZZ=WL;function QZ(){this.size=0,this.__data__={hash:new y6,map:new(ZZ||JZ),string:new y6}}var eQ=QZ;function tQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var nQ=tQ,rQ=nQ;function iQ(t,e){var n=t.__data__;return rQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var hP=iQ,sQ=hP;function aQ(t){var e=sQ(this,t).delete(t);return this.size-=e?1:0,e}var oQ=aQ,lQ=hP;function cQ(t){return lQ(this,t).get(t)}var uQ=cQ,hQ=hP;function fQ(t){return hQ(this,t).has(t)}var dQ=fQ,pQ=hP;function gQ(t,e){var n=pQ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var mQ=gQ,vQ=eQ,yQ=oQ,bQ=uQ,wQ=dQ,xQ=mQ;function Ay(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ay.prototype.clear=vQ;Ay.prototype.delete=yQ;Ay.prototype.get=bQ;Ay.prototype.has=wQ;Ay.prototype.set=xQ;var VL=Ay,kU=VL,_Q="Expected a function";function GL(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(_Q);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(GL.Cache||kU),n}GL.Cache=kU;var CU=GL;const AQ=Gn(CU);var SQ=CU,EQ=500;function PQ(t){var e=SQ(t,function(r){return n.size===EQ&&n.clear(),r}),n=e.cache;return e}var kQ=PQ,CQ=kQ,TQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OQ=/\\(\\)?/g,NQ=CQ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(TQ,function(n,r,i,s){e.push(i?s.replace(OQ,"$1"):r||n)}),e}),LQ=NQ;function IQ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var KL=IQ,b6=Mx,RQ=KL,MQ=ea,jQ=by,w6=b6?b6.prototype:void 0,x6=w6?w6.toString:void 0;function TU(t){if(typeof t=="string")return t;if(MQ(t))return RQ(t,TU)+"";if(jQ(t))return x6?x6.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var DQ=TU,FQ=DQ;function $Q(t){return t==null?"":FQ(t)}var OU=$Q,BQ=ea,UQ=zL,zQ=LQ,qQ=OU;function HQ(t,e){return BQ(t)?t:UQ(t,e)?[t]:zQ(qQ(t))}var NU=HQ,WQ=by;function VQ(t){if(typeof t=="string"||WQ(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var fP=VQ,GQ=NU,KQ=fP;function YQ(t,e){e=GQ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[KQ(e[n++])];return n&&n==r?t:void 0}var YL=YQ,XQ=YL;function JQ(t,e,n){var r=t==null?void 0:XQ(t,e);return r===void 0?n:r}var LU=JQ;const To=Gn(LU);function ZQ(t){return t==null}var QQ=ZQ;const Yt=Gn(QQ);var eee=ah,tee=ea,nee=oh,ree="[object String]";function iee(t){return typeof t=="string"||!tee(t)&&nee(t)&&eee(t)==ree}var see=iee;const Eg=Gn(see);var IU={exports:{}},_n={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XL=Symbol.for("react.element"),JL=Symbol.for("react.portal"),dP=Symbol.for("react.fragment"),pP=Symbol.for("react.strict_mode"),gP=Symbol.for("react.profiler"),mP=Symbol.for("react.provider"),vP=Symbol.for("react.context"),aee=Symbol.for("react.server_context"),yP=Symbol.for("react.forward_ref"),bP=Symbol.for("react.suspense"),wP=Symbol.for("react.suspense_list"),xP=Symbol.for("react.memo"),_P=Symbol.for("react.lazy"),oee=Symbol.for("react.offscreen"),RU;RU=Symbol.for("react.module.reference");function jo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XL:switch(t=t.type,t){case dP:case gP:case pP:case bP:case wP:return t;default:switch(t=t&&t.$$typeof,t){case aee:case vP:case yP:case _P:case xP:case mP:return t;default:return e}}case JL:return e}}}_n.ContextConsumer=vP;_n.ContextProvider=mP;_n.Element=XL;_n.ForwardRef=yP;_n.Fragment=dP;_n.Lazy=_P;_n.Memo=xP;_n.Portal=JL;_n.Profiler=gP;_n.StrictMode=pP;_n.Suspense=bP;_n.SuspenseList=wP;_n.isAsyncMode=function(){return!1};_n.isConcurrentMode=function(){return!1};_n.isContextConsumer=function(t){return jo(t)===vP};_n.isContextProvider=function(t){return jo(t)===mP};_n.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XL};_n.isForwardRef=function(t){return jo(t)===yP};_n.isFragment=function(t){return jo(t)===dP};_n.isLazy=function(t){return jo(t)===_P};_n.isMemo=function(t){return jo(t)===xP};_n.isPortal=function(t){return jo(t)===JL};_n.isProfiler=function(t){return jo(t)===gP};_n.isStrictMode=function(t){return jo(t)===pP};_n.isSuspense=function(t){return jo(t)===bP};_n.isSuspenseList=function(t){return jo(t)===wP};_n.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dP||t===gP||t===pP||t===bP||t===wP||t===oee||typeof t=="object"&&t!==null&&(t.$$typeof===_P||t.$$typeof===xP||t.$$typeof===mP||t.$$typeof===vP||t.$$typeof===yP||t.$$typeof===RU||t.getModuleId!==void 0)};_n.typeOf=jo;IU.exports=_n;var lee=IU.exports,cee=ah,uee=oh,hee="[object Number]";function fee(t){return typeof t=="number"||uee(t)&&cee(t)==hee}var MU=fee;const dee=Gn(MU);var pee=MU;function gee(t){return pee(t)&&t!=+t}var mee=gee;const Sy=Gn(mee);var vl=function(e){return e===0?0:e>0?1:-1},Gd=function(e){return Eg(e)&&e.indexOf("%")===e.length-1},$e=function(e){return dee(e)&&!Sy(e)},vee=function(e){return Yt(e)},gi=function(e){return $e(e)||Eg(e)},yee=0,jx=function(e){var n=++yee;return"".concat(e||"").concat(n)},Pg=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&!Eg(e))return r;var s;if(Gd(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Sy(s)&&(s=r),i&&s>n&&(s=n),s},mm=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},bee=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},So=function(e,n){return $e(e)&&$e(n)?function(r){return e+r*(n-e)}:function(){return n}};function sS(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):To(r,e))===n})}var wee=function(e,n){return $e(e)&&$e(n)?e-n:Eg(e)&&Eg(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function s0(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function CO(t){"@babel/helpers - typeof";return CO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CO(t)}var xee=["viewBox","children"],_ee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_6=["points","pathLength"],gC={svg:xee,polygon:_6,polyline:_6},ZL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],aS=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(Ae.isValidElement(e)&&(r=e.props),!wy(r))return null;var i={};return Object.keys(r).forEach(function(s){ZL.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},Aee=function(e,n,r){return function(i){return e(n,r,i),null}},oS=function(e,n,r){if(!wy(e)||CO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];ZL.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Aee(a,n,r))}),i},See=["children"],Eee=["children"];function A6(t,e){if(t==null)return{};var n=Pee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TO(t){"@babel/helpers - typeof";return TO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TO(t)}var S6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},E6=null,mC=null,QL=function t(e){if(e===E6&&Array.isArray(mC))return mC;var n=[];return Ae.Children.forEach(e,function(r){Yt(r)||(lee.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),mC=n,E6=e,n};function xl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Hu(i)}):r=[Hu(e)],QL(t).forEach(function(i){var s=To(i,"type.displayName")||To(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Ma(t,e){var n=xl(t,e);return n&&n[0]}var P6=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!$e(r)||r<=0||!$e(i)||i<=0)},kee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Cee=function(e){return e&&e.type&&Eg(e.type)&&kee.indexOf(e.type)>=0},Tee=function(e){return e&&TO(e)==="object"&&"clipDot"in e},Oee=function(e,n,r,i){var s,a=(s=gC==null?void 0:gC[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ht(e)&&(i&&a.includes(n)||_ee.includes(n))||r&&ZL.includes(n)},Kt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Ae.isValidElement(e)&&(i=e.props),!wy(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;Oee((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},OO=function t(e,n){if(e===n)return!0;var r=Ae.Children.count(e);if(r!==Ae.Children.count(n))return!1;if(r===0)return!0;if(r===1)return k6(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!k6(s,a))return!1}return!0},k6=function(e,n){if(Yt(e)&&Yt(n))return!0;if(!Yt(e)&&!Yt(n)){var r=e.props||{},i=r.children,s=A6(r,See),a=n.props||{},o=a.children,l=A6(a,Eee);return i&&o?s0(s,l)&&OO(i,o):!i&&!o?s0(s,l):!1}return!1},C6=function(e,n){var r=[],i={};return QL(e).forEach(function(s,a){if(Cee(s))r.push(s);else if(s){var o=Hu(s.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(s,o,a);r.push(f),i[o]=!0}}}),r},Nee=function(e){var n=e&&e.type;return n&&S6[n]?S6[n]:null},Lee=function(e,n){return QL(n).indexOf(e)},Iee=["children","width","height","viewBox","className","style","title","desc"];function NO(){return NO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NO.apply(this,arguments)}function Ree(t,e){if(t==null)return{};var n=Mee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LO(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=Ree(t,Iee),u=i||{width:n,height:r,x:0,y:0},f=ln("recharts-surface",s);return pe.createElement("svg",NO({},Kt(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),pe.createElement("title",null,o),pe.createElement("desc",null,l),e)}var jee=["children","className"];function IO(){return IO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IO.apply(this,arguments)}function Dee(t,e){if(t==null)return{};var n=Fee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pr=pe.forwardRef(function(t,e){var n=t.children,r=t.className,i=Dee(t,jee),s=ln("recharts-layer",r);return pe.createElement("g",IO({className:s},Kt(i,!0),{ref:e}),n)}),mg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function $ee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Bee=$ee,Uee=Bee;function zee(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Uee(t,e,n)}var qee=zee,Hee="\\ud800-\\udfff",Wee="\\u0300-\\u036f",Vee="\\ufe20-\\ufe2f",Gee="\\u20d0-\\u20ff",Kee=Wee+Vee+Gee,Yee="\\ufe0e\\ufe0f",Xee="\\u200d",Jee=RegExp("["+Xee+Hee+Kee+Yee+"]");function Zee(t){return Jee.test(t)}var jU=Zee;function Qee(t){return t.split("")}var ete=Qee,DU="\\ud800-\\udfff",tte="\\u0300-\\u036f",nte="\\ufe20-\\ufe2f",rte="\\u20d0-\\u20ff",ite=tte+nte+rte,ste="\\ufe0e\\ufe0f",ate="["+DU+"]",RO="["+ite+"]",MO="\\ud83c[\\udffb-\\udfff]",ote="(?:"+RO+"|"+MO+")",FU="[^"+DU+"]",$U="(?:\\ud83c[\\udde6-\\uddff]){2}",BU="[\\ud800-\\udbff][\\udc00-\\udfff]",lte="\\u200d",UU=ote+"?",zU="["+ste+"]?",cte="(?:"+lte+"(?:"+[FU,$U,BU].join("|")+")"+zU+UU+")*",ute=zU+UU+cte,hte="(?:"+[FU+RO+"?",RO,$U,BU,ate].join("|")+")",fte=RegExp(MO+"(?="+MO+")|"+hte+ute,"g");function dte(t){return t.match(fte)||[]}var pte=dte,gte=ete,mte=jU,vte=pte;function yte(t){return mte(t)?vte(t):gte(t)}var bte=yte,wte=qee,xte=jU,_te=bte,Ate=OU;function Ste(t){return function(e){e=Ate(e);var n=xte(e)?_te(e):void 0,r=n?n[0]:e.charAt(0),i=n?wte(n,1).join(""):e.slice(1);return r[t]()+i}}var Ete=Ste,Pte=Ete,kte=Pte("toUpperCase"),Cte=kte;const AP=Gn(Cte);function Hn(t){return function(){return t}}const qU=Math.cos,lS=Math.sin,El=Math.sqrt,cS=Math.PI,SP=2*cS,jO=Math.PI,DO=2*jO,Td=1e-6,Tte=DO-Td;function HU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ote(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return HU;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Nte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?HU:Ote(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,u=a-e,f=o-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Td)if(!(Math.abs(f*l-c*u)>Td)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,v=i-o,m=l*l+c*c,b=p*p+v*v,g=Math.sqrt(m),w=Math.sqrt(d),x=s*Math.tan((jO-Math.acos((m+d-b)/(2*g*w)))/2),S=x/w,A=x/g;Math.abs(S-1)>Td&&this._append`L${e+S*u},${n+S*f}`,this._append`A${s},${s},0,0,${+(f*p>u*v)},${this._x1=e+A*l},${this._y1=n+A*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,f=1^a,d=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Td||Math.abs(this._y1-u)>Td)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%DO+DO),d>Tte?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>Td&&this._append`A${r},${r},0,${+(d>=jO)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function eI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Nte(e)}function tI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WU(t){this._context=t}WU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function EP(t){return new WU(t)}function VU(t){return t[0]}function GU(t){return t[1]}function KU(t,e){var n=Hn(!0),r=null,i=EP,s=null,a=eI(o);t=typeof t=="function"?t:t===void 0?VU:Hn(t),e=typeof e=="function"?e:e===void 0?GU:Hn(e);function o(l){var c,u=(l=tI(l)).length,f,d=!1,p;for(r==null&&(s=i(p=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(f,c,l),+e(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Hn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Hn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Hn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Z_(t,e,n){var r=null,i=Hn(!0),s=null,a=EP,o=null,l=eI(c);t=typeof t=="function"?t:t===void 0?VU:Hn(+t),e=typeof e=="function"?e:Hn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?GU:Hn(+n);function c(f){var d,p,v,m=(f=tI(f)).length,b,g=!1,w,x=new Array(m),S=new Array(m);for(s==null&&(o=a(w=l())),d=0;d<=m;++d){if(!(d<m&&i(b=f[d],d,f))===g)if(g=!g)p=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=d-1;v>=p;--v)o.point(x[v],S[v]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+t(b,d,f),S[d]=+e(b,d,f),o.point(r?+r(b,d,f):x[d],n?+n(b,d,f):S[d]))}if(w)return o=null,w+""||null}function u(){return KU().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Hn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Hn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Hn(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class YU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Lte(t){return new YU(t,!0)}function Ite(t){return new YU(t,!1)}const nI={draw(t,e){const n=El(e/cS);t.moveTo(n,0),t.arc(0,0,n,0,SP)}},Rte={draw(t,e){const n=El(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},XU=El(1/3),Mte=XU*2,jte={draw(t,e){const n=El(e/Mte),r=n*XU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Dte={draw(t,e){const n=El(e),r=-n/2;t.rect(r,r,n,n)}},Fte=.8908130915292852,JU=lS(cS/10)/lS(7*cS/10),$te=lS(SP/10)*JU,Bte=-qU(SP/10)*JU,Ute={draw(t,e){const n=El(e*Fte),r=$te*n,i=Bte*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=SP*s/5,o=qU(a),l=lS(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},vC=El(3),zte={draw(t,e){const n=-El(e/(vC*3));t.moveTo(0,n*2),t.lineTo(-vC*n,-n),t.lineTo(vC*n,-n),t.closePath()}},io=-.5,so=El(3)/2,FO=1/El(12),qte=(FO/2+1)*3,Hte={draw(t,e){const n=El(e/qte),r=n/2,i=n*FO,s=r,a=n*FO+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(io*r-so*i,so*r+io*i),t.lineTo(io*s-so*a,so*s+io*a),t.lineTo(io*o-so*l,so*o+io*l),t.lineTo(io*r+so*i,io*i-so*r),t.lineTo(io*s+so*a,io*a-so*s),t.lineTo(io*o+so*l,io*l-so*o),t.closePath()}};function Wte(t,e){let n=null,r=eI(i);t=typeof t=="function"?t:Hn(t||nI),e=typeof e=="function"?e:Hn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Hn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Hn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function uS(){}function hS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ZU(t){this._context=t}ZU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vte(t){return new ZU(t)}function QU(t){this._context=t}QU.prototype={areaStart:uS,areaEnd:uS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gte(t){return new QU(t)}function e9(t){this._context=t}e9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kte(t){return new e9(t)}function t9(t){this._context=t}t9.prototype={areaStart:uS,areaEnd:uS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Yte(t){return new t9(t)}function T6(t){return t<0?-1:1}function O6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(T6(s)+T6(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function N6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yC(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function fS(t){this._context=t}fS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yC(this,this._t0,N6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yC(this,N6(this,n=O6(this,t,e)),n);break;default:yC(this,this._t0,n=O6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function n9(t){this._context=new r9(t)}(n9.prototype=Object.create(fS.prototype)).point=function(t,e){fS.prototype.point.call(this,e,t)};function r9(t){this._context=t}r9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Xte(t){return new fS(t)}function Jte(t){return new n9(t)}function i9(t){this._context=t}i9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=L6(t),i=L6(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function L6(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Zte(t){return new i9(t)}function PP(t,e){this._context=t,this._t=e}PP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Qte(t){return new PP(t,.5)}function ene(t){return new PP(t,0)}function tne(t){return new PP(t,1)}function Kv(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $O(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function nne(t,e){return t[e]}function rne(t){const e=[];return e.key=t,e}function ine(){var t=Hn([]),e=$O,n=Kv,r=nne;function i(s){var a=Array.from(t.apply(this,arguments),rne),o,l=a.length,c=-1,u;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(f,a[o].key,c,s)]).data=f;for(o=0,u=tI(e(a));o<l;++o)a[u[o]].index=o;return n(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Hn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Hn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?$O:typeof s=="function"?s:Hn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Kv,i):n},i}function sne(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Kv(t,e)}}function ane(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Kv(t,e)}}function one(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],f=u[r][1]||0,d=u[r-1][1]||0,p=(f-d)/2,v=0;v<o;++v){var m=t[e[v]],b=m[r][1]||0,g=m[r-1][1]||0;p+=b-g}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Kv(t,e)}}function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}var lne=["type","size","sizeType"];function BO(){return BO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BO.apply(this,arguments)}function I6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(n),!0).forEach(function(r){cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cne(t,e,n){return e=une(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function une(t){var e=hne(t,"string");return Hb(e)=="symbol"?e:e+""}function hne(t,e){if(Hb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fne(t,e){if(t==null)return{};var n=dne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var s9={symbolCircle:nI,symbolCross:Rte,symbolDiamond:jte,symbolSquare:Dte,symbolStar:Ute,symbolTriangle:zte,symbolWye:Hte},pne=Math.PI/180,gne=function(e){var n="symbol".concat(AP(e));return s9[n]||nI},mne=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*pne;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vne=function(e,n){s9["symbol".concat(AP(e))]=n},rI=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=fne(e,lne),c=R6(R6({},l),{},{type:r,size:s,sizeType:o}),u=function(){var b=gne(r),g=Wte().type(b).size(mne(s,o,r));return g()},f=c.className,d=c.cx,p=c.cy,v=Kt(c,!0);return d===+d&&p===+p&&s===+s?pe.createElement("path",BO({},v,{className:ln("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:u()})):null};rI.registerSymbol=vne;function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function UO(){return UO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UO.apply(this,arguments)}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){Wb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o9(r.key),r)}}function xne(t,e,n){return e&&wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ne(t,e,n){return e=dS(e),Ane(t,a9()?Reflect.construct(e,n||[],dS(t).constructor):e.apply(t,n))}function Ane(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sne(t)}function Sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function dS(t){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dS(t)}function Ene(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zO(t,e)}function zO(t,e){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zO(t,e)}function Wb(t,e,n){return e=o9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t){var e=Pne(t,"string");return Yv(e)=="symbol"?e:e+""}function Pne(t,e){if(Yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ao=32,iI=function(t){function e(){return bne(this,e),_ne(this,e,arguments)}return Ene(e,t),xne(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=ao/2,a=ao/6,o=ao/3,l=r.inactive?i:r.color;if(r.type==="plainline")return pe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:ao,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return pe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(ao,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return pe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ao/8,"h").concat(ao,"v").concat(ao*3/4,"h").concat(-ao,"z"),className:"recharts-legend-icon"});if(pe.isValidElement(r.legendIcon)){var c=yne({},r);return delete c.legendIcon,pe.cloneElement(r.legendIcon,c)}return pe.createElement(rI,{fill:l,cx:s,cy:s,size:ao,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:ao,height:ao},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var m=p.formatter||l,b=ln(Wb(Wb({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=Ht(p.value)?null:p.value;mg(!Ht(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return pe.createElement("li",UO({className:b,style:f,key:"legend-item-".concat(v)},oS(r.props,p,v)),pe.createElement(LO,{width:a,height:a,viewBox:u,style:d},r.renderIcon(p)),pe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(g,p,v):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return pe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Ae.PureComponent);Wb(iI,"displayName","Legend");Wb(iI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kne=uP;function Cne(){this.__data__=new kne,this.size=0}var Tne=Cne;function One(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Nne=One;function Lne(t){return this.__data__.get(t)}var Ine=Lne;function Rne(t){return this.__data__.has(t)}var Mne=Rne,jne=uP,Dne=WL,Fne=VL,$ne=200;function Bne(t,e){var n=this.__data__;if(n instanceof jne){var r=n.__data__;if(!Dne||r.length<$ne-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fne(r)}return n.set(t,e),this.size=n.size,this}var Une=Bne,zne=uP,qne=Tne,Hne=Nne,Wne=Ine,Vne=Mne,Gne=Une;function Ey(t){var e=this.__data__=new zne(t);this.size=e.size}Ey.prototype.clear=qne;Ey.prototype.delete=Hne;Ey.prototype.get=Wne;Ey.prototype.has=Vne;Ey.prototype.set=Gne;var l9=Ey,Kne="__lodash_hash_undefined__";function Yne(t){return this.__data__.set(t,Kne),this}var Xne=Yne;function Jne(t){return this.__data__.has(t)}var Zne=Jne,Qne=VL,ere=Xne,tre=Zne;function pS(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Qne;++e<n;)this.add(t[e])}pS.prototype.add=pS.prototype.push=ere;pS.prototype.has=tre;var c9=pS;function nre(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var u9=nre;function rre(t,e){return t.has(e)}var h9=rre,ire=c9,sre=u9,are=h9,ore=1,lre=2;function cre(t,e,n,r,i,s){var a=n&ore,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,p=n&lre?new ire:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var v=t[f],m=e[f];if(r)var b=a?r(m,v,f,e,t,s):r(v,m,f,t,e,s);if(b!==void 0){if(b)continue;d=!1;break}if(p){if(!sre(e,function(g,w){if(!are(p,w)&&(v===g||i(v,g,n,r,s)))return p.push(w)})){d=!1;break}}else if(!(v===m||i(v,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var f9=cre,ure=Sc,hre=ure.Uint8Array,fre=hre;function dre(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var pre=dre;function gre(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var sI=gre,j6=Mx,D6=fre,mre=HL,vre=f9,yre=pre,bre=sI,wre=1,xre=2,_re="[object Boolean]",Are="[object Date]",Sre="[object Error]",Ere="[object Map]",Pre="[object Number]",kre="[object RegExp]",Cre="[object Set]",Tre="[object String]",Ore="[object Symbol]",Nre="[object ArrayBuffer]",Lre="[object DataView]",F6=j6?j6.prototype:void 0,bC=F6?F6.valueOf:void 0;function Ire(t,e,n,r,i,s,a){switch(n){case Lre:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Nre:return!(t.byteLength!=e.byteLength||!s(new D6(t),new D6(e)));case _re:case Are:case Pre:return mre(+t,+e);case Sre:return t.name==e.name&&t.message==e.message;case kre:case Tre:return t==e+"";case Ere:var o=yre;case Cre:var l=r&wre;if(o||(o=bre),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=xre,a.set(t,e);var u=vre(o(t),o(e),r,i,s,a);return a.delete(t),u;case Ore:if(bC)return bC.call(t)==bC.call(e)}return!1}var Rre=Ire;function Mre(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var d9=Mre,jre=d9,Dre=ea;function Fre(t,e,n){var r=e(t);return Dre(t)?r:jre(r,n(t))}var $re=Fre;function Bre(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var Ure=Bre;function zre(){return[]}var qre=zre,Hre=Ure,Wre=qre,Vre=Object.prototype,Gre=Vre.propertyIsEnumerable,$6=Object.getOwnPropertySymbols,Kre=$6?function(t){return t==null?[]:(t=Object(t),Hre($6(t),function(e){return Gre.call(t,e)}))}:Wre,Yre=Kre;function Xre(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jre=Xre,Zre=ah,Qre=oh,eie="[object Arguments]";function tie(t){return Qre(t)&&Zre(t)==eie}var nie=tie,B6=nie,rie=oh,p9=Object.prototype,iie=p9.hasOwnProperty,sie=p9.propertyIsEnumerable,aie=B6(function(){return arguments}())?B6:function(t){return rie(t)&&iie.call(t,"callee")&&!sie.call(t,"callee")},aI=aie,gS={exports:{}};function oie(){return!1}var lie=oie;gS.exports;(function(t,e){var n=Sc,r=lie,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(gS,gS.exports);var g9=gS.exports,cie=9007199254740991,uie=/^(?:0|[1-9]\d*)$/;function hie(t,e){var n=typeof t;return e=e??cie,!!e&&(n=="number"||n!="symbol"&&uie.test(t))&&t>-1&&t%1==0&&t<e}var oI=hie,fie=9007199254740991;function die(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fie}var lI=die,pie=ah,gie=lI,mie=oh,vie="[object Arguments]",yie="[object Array]",bie="[object Boolean]",wie="[object Date]",xie="[object Error]",_ie="[object Function]",Aie="[object Map]",Sie="[object Number]",Eie="[object Object]",Pie="[object RegExp]",kie="[object Set]",Cie="[object String]",Tie="[object WeakMap]",Oie="[object ArrayBuffer]",Nie="[object DataView]",Lie="[object Float32Array]",Iie="[object Float64Array]",Rie="[object Int8Array]",Mie="[object Int16Array]",jie="[object Int32Array]",Die="[object Uint8Array]",Fie="[object Uint8ClampedArray]",$ie="[object Uint16Array]",Bie="[object Uint32Array]",Jn={};Jn[Lie]=Jn[Iie]=Jn[Rie]=Jn[Mie]=Jn[jie]=Jn[Die]=Jn[Fie]=Jn[$ie]=Jn[Bie]=!0;Jn[vie]=Jn[yie]=Jn[Oie]=Jn[bie]=Jn[Nie]=Jn[wie]=Jn[xie]=Jn[_ie]=Jn[Aie]=Jn[Sie]=Jn[Eie]=Jn[Pie]=Jn[kie]=Jn[Cie]=Jn[Tie]=!1;function Uie(t){return mie(t)&&gie(t.length)&&!!Jn[pie(t)]}var zie=Uie;function qie(t){return function(e){return t(e)}}var m9=qie,mS={exports:{}};mS.exports;(function(t,e){var n=SU,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(mS,mS.exports);var Hie=mS.exports,Wie=zie,Vie=m9,U6=Hie,z6=U6&&U6.isTypedArray,Gie=z6?Vie(z6):Wie,v9=Gie,Kie=Jre,Yie=aI,Xie=ea,Jie=g9,Zie=oI,Qie=v9,ese=Object.prototype,tse=ese.hasOwnProperty;function nse(t,e){var n=Xie(t),r=!n&&Yie(t),i=!n&&!r&&Jie(t),s=!n&&!r&&!i&&Qie(t),a=n||r||i||s,o=a?Kie(t.length,String):[],l=o.length;for(var c in t)(e||tse.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Zie(c,l)))&&o.push(c);return o}var rse=nse,ise=Object.prototype;function sse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ise;return t===n}var ase=sse;function ose(t,e){return function(n){return t(e(n))}}var y9=ose,lse=y9,cse=lse(Object.keys,Object),use=cse,hse=ase,fse=use,dse=Object.prototype,pse=dse.hasOwnProperty;function gse(t){if(!hse(t))return fse(t);var e=[];for(var n in Object(t))pse.call(t,n)&&n!="constructor"&&e.push(n);return e}var mse=gse,vse=qL,yse=lI;function bse(t){return t!=null&&yse(t.length)&&!vse(t)}var kP=bse,wse=rse,xse=mse,_se=kP;function Ase(t){return _se(t)?wse(t):xse(t)}var cI=Ase,Sse=$re,Ese=Yre,Pse=cI;function kse(t){return Sse(t,Pse,Ese)}var Cse=kse,q6=Cse,Tse=1,Ose=Object.prototype,Nse=Ose.hasOwnProperty;function Lse(t,e,n,r,i,s){var a=n&Tse,o=q6(t),l=o.length,c=q6(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=o[f];if(!(a?d in e:Nse.call(e,d)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var m=!0;s.set(t,e),s.set(e,t);for(var b=a;++f<l;){d=o[f];var g=t[d],w=e[d];if(r)var x=a?r(w,g,d,e,t,s):r(g,w,d,t,e,s);if(!(x===void 0?g===w||i(g,w,n,r,s):x)){m=!1;break}b||(b=d=="constructor")}if(m&&!b){var S=t.constructor,A=e.constructor;S!=A&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof A=="function"&&A instanceof A)&&(m=!1)}return s.delete(t),s.delete(e),m}var Ise=Lse,Rse=jg,Mse=Sc,jse=Rse(Mse,"DataView"),Dse=jse,Fse=jg,$se=Sc,Bse=Fse($se,"Promise"),Use=Bse,zse=jg,qse=Sc,Hse=zse(qse,"Set"),b9=Hse,Wse=jg,Vse=Sc,Gse=Wse(Vse,"WeakMap"),Kse=Gse,qO=Dse,HO=WL,WO=Use,VO=b9,GO=Kse,w9=ah,Py=PU,H6="[object Map]",Yse="[object Object]",W6="[object Promise]",V6="[object Set]",G6="[object WeakMap]",K6="[object DataView]",Xse=Py(qO),Jse=Py(HO),Zse=Py(WO),Qse=Py(VO),eae=Py(GO),Od=w9;(qO&&Od(new qO(new ArrayBuffer(1)))!=K6||HO&&Od(new HO)!=H6||WO&&Od(WO.resolve())!=W6||VO&&Od(new VO)!=V6||GO&&Od(new GO)!=G6)&&(Od=function(t){var e=w9(t),n=e==Yse?t.constructor:void 0,r=n?Py(n):"";if(r)switch(r){case Xse:return K6;case Jse:return H6;case Zse:return W6;case Qse:return V6;case eae:return G6}return e});var tae=Od,wC=l9,nae=f9,rae=Rre,iae=Ise,Y6=tae,X6=ea,J6=g9,sae=v9,aae=1,Z6="[object Arguments]",Q6="[object Array]",Q_="[object Object]",oae=Object.prototype,ej=oae.hasOwnProperty;function lae(t,e,n,r,i,s){var a=X6(t),o=X6(e),l=a?Q6:Y6(t),c=o?Q6:Y6(e);l=l==Z6?Q_:l,c=c==Z6?Q_:c;var u=l==Q_,f=c==Q_,d=l==c;if(d&&J6(t)){if(!J6(e))return!1;a=!0,u=!1}if(d&&!u)return s||(s=new wC),a||sae(t)?nae(t,e,n,r,i,s):rae(t,e,l,n,r,i,s);if(!(n&aae)){var p=u&&ej.call(t,"__wrapped__"),v=f&&ej.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,b=v?e.value():e;return s||(s=new wC),i(m,b,n,r,s)}}return d?(s||(s=new wC),iae(t,e,n,r,i,s)):!1}var cae=lae,uae=cae,tj=oh;function x9(t,e,n,r,i){return t===e?!0:t==null||e==null||!tj(t)&&!tj(e)?t!==t&&e!==e:uae(t,e,n,r,x9,i)}var uI=x9,hae=l9,fae=uI,dae=1,pae=2;function gae(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],u=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new hae;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?fae(u,c,dae|pae,r,f):d))return!1}}return!0}var mae=gae,vae=td;function yae(t){return t===t&&!vae(t)}var _9=yae,bae=_9,wae=cI;function xae(t){for(var e=wae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,bae(i)]}return e}var _ae=xae;function Aae(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var A9=Aae,Sae=mae,Eae=_ae,Pae=A9;function kae(t){var e=Eae(t);return e.length==1&&e[0][2]?Pae(e[0][0],e[0][1]):function(n){return n===t||Sae(n,t,e)}}var Cae=kae;function Tae(t,e){return t!=null&&e in Object(t)}var Oae=Tae,Nae=NU,Lae=aI,Iae=ea,Rae=oI,Mae=lI,jae=fP;function Dae(t,e,n){e=Nae(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=jae(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Mae(i)&&Rae(a,i)&&(Iae(t)||Lae(t)))}var Fae=Dae,$ae=Oae,Bae=Fae;function Uae(t,e){return t!=null&&Bae(t,e,$ae)}var zae=Uae,qae=uI,Hae=LU,Wae=zae,Vae=zL,Gae=_9,Kae=A9,Yae=fP,Xae=1,Jae=2;function Zae(t,e){return Vae(t)&&Gae(e)?Kae(Yae(t),e):function(n){var r=Hae(n,t);return r===void 0&&r===e?Wae(n,t):qae(e,r,Xae|Jae)}}var Qae=Zae;function eoe(t){return t}var ky=eoe;function toe(t){return function(e){return e==null?void 0:e[t]}}var noe=toe,roe=YL;function ioe(t){return function(e){return roe(e,t)}}var soe=ioe,aoe=noe,ooe=soe,loe=zL,coe=fP;function uoe(t){return loe(t)?aoe(coe(t)):ooe(t)}var hoe=uoe,foe=Cae,doe=Qae,poe=ky,goe=ea,moe=hoe;function voe(t){return typeof t=="function"?t:t==null?poe:typeof t=="object"?goe(t)?doe(t[0],t[1]):foe(t):moe(t)}var Cy=voe;function yoe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var boe=yoe;function woe(t){return t!==t}var xoe=woe;function _oe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Aoe=_oe,Soe=boe,Eoe=xoe,Poe=Aoe;function koe(t,e,n){return e===e?Poe(t,e,n):Soe(t,Eoe,n)}var Coe=koe,Toe=Coe;function Ooe(t,e){var n=t==null?0:t.length;return!!n&&Toe(t,e,0)>-1}var Noe=Ooe;function Loe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Ioe=Loe;function Roe(){}var Moe=Roe,xC=b9,joe=Moe,Doe=sI,Foe=1/0,$oe=xC&&1/Doe(new xC([,-0]))[1]==Foe?function(t){return new xC(t)}:joe,Boe=$oe,Uoe=c9,zoe=Noe,qoe=Ioe,Hoe=h9,Woe=Boe,Voe=sI,Goe=200;function Koe(t,e,n){var r=-1,i=zoe,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=qoe;else if(s>=Goe){var c=e?null:Woe(t);if(c)return Voe(c);a=!1,i=Hoe,l=new Uoe}else l=e?[]:o;e:for(;++r<s;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,n)||(l!==o&&l.push(f),o.push(u))}return o}var Yoe=Koe,Xoe=Cy,Joe=Yoe;function Zoe(t,e){return t&&t.length?Joe(t,Xoe(e)):[]}var Qoe=Zoe;const nj=Gn(Qoe);function S9(t,e,n){return e===!0?nj(t,n):Ht(e)?nj(t,e):t}function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}var ele=["ref"];function rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(n),!0).forEach(function(r){CP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P9(r.key),r)}}function nle(t,e,n){return e&&ij(t.prototype,e),n&&ij(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rle(t,e,n){return e=vS(e),ile(t,E9()?Reflect.construct(e,n||[],vS(t).constructor):e.apply(t,n))}function ile(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sle(t)}function sle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E9=function(){return!!t})()}function vS(t){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vS(t)}function ale(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KO(t,e)}function KO(t,e){return KO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KO(t,e)}function CP(t,e,n){return e=P9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P9(t){var e=ole(t,"string");return Xv(e)=="symbol"?e:e+""}function ole(t,e){if(Xv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lle(t,e){if(t==null)return{};var n=cle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ule(t){return t.value}function hle(t,e){if(pe.isValidElement(t))return pe.cloneElement(t,e);if(typeof t=="function")return pe.createElement(t,e);e.ref;var n=lle(e,ele);return pe.createElement(iI,n)}var sj=1,a0=function(t){function e(){var n;tle(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=rle(this,e,[].concat(i)),CP(n,"lastBoundingBox",{width:-1,height:-1}),n}return ale(e,t),nle(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>sj||Math.abs(i.height-this.lastBoundingBox.height)>sj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();d={top:((u||0)-v.height)/2}}else d=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Hc(Hc({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Hc(Hc({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return pe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},hle(s,Hc(Hc({},this.props),{},{payload:S9(u,c,ule)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Hc(Hc({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&$e(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(Ae.PureComponent);CP(a0,"displayName","Legend");CP(a0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aj=Mx,fle=aI,dle=ea,oj=aj?aj.isConcatSpreadable:void 0;function ple(t){return dle(t)||fle(t)||!!(oj&&t&&t[oj])}var gle=ple,mle=d9,vle=gle;function k9(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=vle),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?k9(o,e-1,n,r,i):mle(i,o):r||(i[i.length]=o)}return i}var C9=k9;function yle(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var ble=yle,wle=ble,xle=wle(),_le=xle,Ale=_le,Sle=cI;function Ele(t,e){return t&&Ale(t,e,Sle)}var T9=Ele,Ple=kP;function kle(t,e){return function(n,r){if(n==null)return n;if(!Ple(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var Cle=kle,Tle=T9,Ole=Cle,Nle=Ole(Tle),hI=Nle,Lle=hI,Ile=kP;function Rle(t,e){var n=-1,r=Ile(t)?Array(t.length):[];return Lle(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var O9=Rle;function Mle(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var jle=Mle,lj=by;function Dle(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=lj(t),a=e!==void 0,o=e===null,l=e===e,c=lj(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var Fle=Dle,$le=Fle;function Ble(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=$le(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Ule=Ble,_C=KL,zle=YL,qle=Cy,Hle=O9,Wle=jle,Vle=m9,Gle=Ule,Kle=ky,Yle=ea;function Xle(t,e,n){e.length?e=_C(e,function(s){return Yle(s)?function(a){return zle(a,s.length===1?s[0]:s)}:s}):e=[Kle];var r=-1;e=_C(e,Vle(qle));var i=Hle(t,function(s,a,o){var l=_C(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return Wle(i,function(s,a){return Gle(s,a,n)})}var Jle=Xle;function Zle(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Qle=Zle,ece=Qle,cj=Math.max;function tce(t,e,n){return e=cj(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=cj(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),ece(t,this,o)}}var nce=tce;function rce(t){return function(){return t}}var ice=rce,sce=jg,ace=function(){try{var t=sce(Object,"defineProperty");return t({},"",{}),t}catch{}}(),N9=ace,oce=ice,uj=N9,lce=ky,cce=uj?function(t,e){return uj(t,"toString",{configurable:!0,enumerable:!1,value:oce(e),writable:!0})}:lce,uce=cce,hce=800,fce=16,dce=Date.now;function pce(t){var e=0,n=0;return function(){var r=dce(),i=fce-(r-n);if(n=r,i>0){if(++e>=hce)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gce=pce,mce=uce,vce=gce,yce=vce(mce),bce=yce,wce=ky,xce=nce,_ce=bce;function Ace(t,e){return _ce(xce(t,e,wce),t+"")}var Sce=Ace,Ece=HL,Pce=kP,kce=oI,Cce=td;function Tce(t,e,n){if(!Cce(n))return!1;var r=typeof e;return(r=="number"?Pce(n)&&kce(e,n.length):r=="string"&&e in n)?Ece(n[e],t):!1}var TP=Tce,Oce=C9,Nce=Jle,Lce=Sce,hj=TP,Ice=Lce(function(t,e){if(t==null)return[];var n=e.length;return n>1&&hj(t,e[0],e[1])?e=[]:n>2&&hj(e[0],e[1],e[2])&&(e=[e[0]]),Nce(t,Oce(e,1),[])}),Rce=Ice;const fI=Gn(Rce);function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function YO(){return YO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YO.apply(this,arguments)}function Mce(t,e){return $ce(t)||Fce(t,e)||Dce(t,e)||jce()}function jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dce(t,e){if(t){if(typeof t=="string")return fj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(t,e)}}function fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function $ce(t){if(Array.isArray(t))return t}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){Bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bce(t,e,n){return e=Uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uce(t){var e=zce(t,"string");return Vb(e)=="symbol"?e:e+""}function zce(t,e){if(Vb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qce(t){return Array.isArray(t)&&gi(t[0])&&gi(t[1])?t.join(" ~ "):t}var Hce=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,m=e.label,b=e.labelFormatter,g=e.accessibilityLayer,w=g===void 0?!1:g,x=function(){if(u&&u.length){var M={padding:0,margin:0},z=(d?fI(u,d):u).map(function($,V){if($.type==="none")return null;var X=AC({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),Q=$.formatter||f||qce,W=$.value,re=$.name,ce=W,ae=re;if(Q&&ce!=null&&ae!=null){var D=Q(W,re,$,V,u);if(Array.isArray(D)){var K=Mce(D,2);ce=K[0],ae=K[1]}else ce=D}return pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:X},gi(ae)?pe.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,gi(ae)?pe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,pe.createElement("span",{className:"recharts-tooltip-item-value"},ce),pe.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return pe.createElement("ul",{className:"recharts-tooltip-item-list",style:M},z)}return null},S=AC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=AC({margin:0},c),E=!Yt(m),C=E?m:"",L=ln("recharts-default-tooltip",p),I=ln("recharts-tooltip-label",v);E&&b&&u!==void 0&&u!==null&&(C=b(m,u));var q=w?{role:"status","aria-live":"assertive"}:{};return pe.createElement("div",YO({className:L,style:S},q),pe.createElement("p",{className:I,style:A},pe.isValidElement(C)?C:"".concat(C)),x())};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function e5(t,e,n){return e=Wce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Vce(t,"string");return Gb(e)=="symbol"?e:e+""}function Vce(t,e){if(Gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v1="recharts-tooltip-wrapper",Gce={visibility:"hidden"};function Kce(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ln(v1,e5(e5(e5(e5({},"".concat(v1,"-right"),$e(n)&&e&&$e(e.x)&&n>=e.x),"".concat(v1,"-left"),$e(n)&&e&&$e(e.x)&&n<e.x),"".concat(v1,"-bottom"),$e(r)&&e&&$e(e.y)&&r>=e.y),"".concat(v1,"-top"),$e(r)&&e&&$e(e.y)&&r<e.y))}function pj(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&$e(s[r]))return s[r];var u=n[r]-o-i,f=n[r]+i;if(e[r])return a[r]?u:f;if(a[r]){var d=u,p=l[r];return d<p?Math.max(f,l[r]):Math.max(u,l[r])}var v=f+o,m=l[r]+c;return v>m?Math.max(u,l[r]):Math.max(f,l[r])}function Yce(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Xce(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return a.height>0&&a.width>0&&n?(u=pj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=pj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Yce({translateX:u,translateY:f,useTranslate3d:o})):c=Gce,{cssProperties:c,cssClasses:Kce({translateX:u,translateY:f,coordinate:n})}}function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){JO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I9(r.key),r)}}function Qce(t,e,n){return e&&Zce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eue(t,e,n){return e=yS(e),tue(t,L9()?Reflect.construct(e,n||[],yS(t).constructor):e.apply(t,n))}function tue(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nue(t)}function nue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!t})()}function yS(t){return yS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yS(t)}function rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XO(t,e)}function XO(t,e){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XO(t,e)}function JO(t,e,n){return e=I9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I9(t){var e=iue(t,"string");return Jv(e)=="symbol"?e:e+""}function iue(t,e){if(Jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vj=1,sue=function(t){function e(){var n;Jce(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=eue(this,e,[].concat(i)),JO(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),JO(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return rue(e,t),Qce(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>vj||Math.abs(r.height-this.state.lastBoundingBox.height)>vj)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,v=i.position,m=i.reverseDirection,b=i.useTranslate3d,g=i.viewBox,w=i.wrapperStyle,x=Xce({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:g}),S=x.cssClasses,A=x.cssProperties,E=mj(mj({transition:d&&s?"transform ".concat(o,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return pe.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(L){r.wrapperNode=L}},c)}}])}(Ae.PureComponent),aue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ty={isSsr:aue()};function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){dI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M9(r.key),r)}}function cue(t,e,n){return e&&lue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uue(t,e,n){return e=bS(e),hue(t,R9()?Reflect.construct(e,n||[],bS(t).constructor):e.apply(t,n))}function hue(t,e){if(e&&(Zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fue(t)}function fue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R9=function(){return!!t})()}function bS(t){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bS(t)}function due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZO(t,e)}function ZO(t,e){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZO(t,e)}function dI(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=pue(t,"string");return Zv(e)=="symbol"?e:e+""}function pue(t,e){if(Zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gue(t){return t.dataKey}function mue(t,e){return pe.isValidElement(t)?pe.cloneElement(t,e):typeof t=="function"?pe.createElement(t,e):pe.createElement(Hce,e)}var Jc=function(t){function e(){return oue(this,e),uue(this,e,arguments)}return due(e,t),cue(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,v=i.payload,m=i.payloadUniqBy,b=i.position,g=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,A=v??[];f&&A.length&&(A=S9(v.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),m,gue));var E=A.length>0;return pe.createElement(sue,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:d,active:s,coordinate:u,hasPayload:E,offset:p,position:b,reverseDirection:g,useTranslate3d:w,viewBox:x,wrapperStyle:S},mue(c,bj(bj({},this.props),{},{payload:A})))}}])}(Ae.PureComponent);dI(Jc,"displayName","Tooltip");dI(Jc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ty.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vue=Sc,yue=function(){return vue.Date.now()},bue=yue,wue=/\s/;function xue(t){for(var e=t.length;e--&&wue.test(t.charAt(e)););return e}var _ue=xue,Aue=_ue,Sue=/^\s+/;function Eue(t){return t&&t.slice(0,Aue(t)+1).replace(Sue,"")}var Pue=Eue,kue=Pue,wj=td,Cue=by,xj=NaN,Tue=/^[-+]0x[0-9a-f]+$/i,Oue=/^0b[01]+$/i,Nue=/^0o[0-7]+$/i,Lue=parseInt;function Iue(t){if(typeof t=="number")return t;if(Cue(t))return xj;if(wj(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wj(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kue(t);var n=Oue.test(t);return n||Nue.test(t)?Lue(t.slice(2),n?2:8):Tue.test(t)?xj:+t}var j9=Iue,Rue=td,SC=bue,_j=j9,Mue="Expected a function",jue=Math.max,Due=Math.min;function Fue(t,e,n){var r,i,s,a,o,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Mue);e=_j(e)||0,Rue(n)&&(u=!!n.leading,f="maxWait"in n,s=f?jue(_j(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function p(E){var C=r,L=i;return r=i=void 0,c=E,a=t.apply(L,C),a}function v(E){return c=E,o=setTimeout(g,e),u?p(E):a}function m(E){var C=E-l,L=E-c,I=e-C;return f?Due(I,s-L):I}function b(E){var C=E-l,L=E-c;return l===void 0||C>=e||C<0||f&&L>=s}function g(){var E=SC();if(b(E))return w(E);o=setTimeout(g,m(E))}function w(E){return o=void 0,d&&r?p(E):(r=i=void 0,a)}function x(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function S(){return o===void 0?a:w(SC())}function A(){var E=SC(),C=b(E);if(r=arguments,i=this,l=E,C){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(g,e),p(l)}return o===void 0&&(o=setTimeout(g,e)),a}return A.cancel=x,A.flush=S,A}var $ue=Fue,Bue=$ue,Uue=td,zue="Expected a function";function que(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(zue);return Uue(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Bue(t,e,{leading:r,maxWait:e,trailing:i})}var Hue=que;const D9=Gn(Hue);function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){Wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wue(t,e,n){return e=Vue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Gue(t,"string");return Kb(e)=="symbol"?e:e+""}function Gue(t,e){if(Kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kue(t,e){return Zue(t)||Jue(t,e)||Xue(t,e)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(t,e){if(t){if(typeof t=="string")return Sj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sj(t,e)}}function Sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Zue(t){if(Array.isArray(t))return t}var Que=Ae.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,d=t.maxHeight,p=t.children,v=t.debounce,m=v===void 0?0:v,b=t.id,g=t.className,w=t.onResize,x=t.style,S=x===void 0?{}:x,A=Ae.useRef(null),E=Ae.useRef();E.current=w,Ae.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var C=Ae.useState({containerWidth:i.width,containerHeight:i.height}),L=Kue(C,2),I=L[0],q=L[1],O=Ae.useCallback(function(z,$){q(function(V){var X=Math.round(z),Q=Math.round($);return V.containerWidth===X&&V.containerHeight===Q?V:{containerWidth:X,containerHeight:Q}})},[]);Ae.useEffect(function(){var z=function(re){var ce,ae=re[0].contentRect,D=ae.width,K=ae.height;O(D,K),(ce=E.current)===null||ce===void 0||ce.call(E,D,K)};m>0&&(z=D9(z,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(z),V=A.current.getBoundingClientRect(),X=V.width,Q=V.height;return O(X,Q),$.observe(A.current),function(){$.disconnect()}},[O,m]);var M=Ae.useMemo(function(){var z=I.containerWidth,$=I.containerHeight;if(z<0||$<0)return null;mg(Gd(a)||Gd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),mg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Gd(a)?z:a,X=Gd(l)?$:l;n&&n>0&&(V?X=V/n:X&&(V=X*n),d&&X>d&&(X=d)),mg(V>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,X,a,l,u,f,n);var Q=!Array.isArray(p)&&Hu(p.type).endsWith("Chart");return pe.Children.map(p,function(W){return pe.isValidElement(W)?Ae.cloneElement(W,t5({width:V,height:X},Q?{style:t5({height:"100%",width:"100%",maxHeight:X,maxWidth:V},W.props.style)}:{})):W})},[n,p,l,d,f,u,I,a]);return pe.createElement("div",{id:b?"".concat(b):void 0,className:ln("recharts-responsive-container",g),style:t5(t5({},S),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:d}),ref:A},M)}),F9=function(e){return null};F9.displayName="Cell";function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ehe(t,e,n){return e=the(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return Yb(e)=="symbol"?e:e+""}function nhe(t,e){if(Yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var im={widthCache:{},cacheCount:0},rhe=2e3,ihe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Pj="recharts_measurement_span";function she(t){var e=QO({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var vb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ty.isSsr)return{width:0,height:0};var r=she(n),i=JSON.stringify({text:e,copyStyle:r});if(im.widthCache[i])return im.widthCache[i];try{var s=document.getElementById(Pj);s||(s=document.createElement("span"),s.setAttribute("id",Pj),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=QO(QO({},ihe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return im.widthCache[i]=l,++im.cacheCount>rhe&&(im.cacheCount=0,im.widthCache={}),l}catch{return{width:0,height:0}}},ahe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function wS(t,e){return uhe(t)||che(t,e)||lhe(t,e)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(t,e){if(t){if(typeof t=="string")return kj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kj(t,e)}}function kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function che(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function uhe(t){if(Array.isArray(t))return t}function hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dhe(r.key),r)}}function fhe(t,e,n){return e&&Cj(t.prototype,e),n&&Cj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dhe(t){var e=phe(t,"string");return Xb(e)=="symbol"?e:e+""}function phe(t,e){if(Xb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Oj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ghe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vhe=Object.keys($9),zm="NaN";function yhe(t,e){return t*$9[e]}var n5=function(){function t(e,n){hhe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ghe.test(n)&&(this.num=NaN,this.unit=""),vhe.includes(n)&&(this.num=yhe(e,n),this.unit="px")}return fhe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=mhe.exec(n))!==null&&r!==void 0?r:[],s=wS(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function B9(t){if(t.includes(zm))return zm;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Tj.exec(e))!==null&&n!==void 0?n:[],i=wS(r,4),s=i[1],a=i[2],o=i[3],l=n5.parse(s??""),c=n5.parse(o??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return zm;e=e.replace(Tj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=Oj.exec(e))!==null&&f!==void 0?f:[],p=wS(d,4),v=p[1],m=p[2],b=p[3],g=n5.parse(v??""),w=n5.parse(b??""),x=m==="+"?g.add(w):g.subtract(w);if(x.isNaN())return zm;e=e.replace(Oj,x.toString())}return e}var Nj=/\(([^()]*)\)/;function bhe(t){for(var e=t;e.includes("(");){var n=Nj.exec(e),r=wS(n,2),i=r[1];e=e.replace(Nj,B9(i))}return e}function whe(t){var e=t.replace(/\s+/g,"");return e=bhe(e),e=B9(e),e}function xhe(t){try{return whe(t)}catch{return zm}}function EC(t){var e=xhe(t.slice(5,-1));return e===zm?"":e}var _he=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ahe=["dx","dy","angle","className","breakAll"];function e3(){return e3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e3.apply(this,arguments)}function Lj(t,e){if(t==null)return{};var n=She(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function She(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ij(t,e){return Che(t)||khe(t,e)||Phe(t,e)||Ehe()}function Ehe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Phe(t,e){if(t){if(typeof t=="string")return Rj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rj(t,e)}}function Rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function khe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Che(t){if(Array.isArray(t))return t}var U9=/[ \f\n\r\t\v\u2028\u2029]+/,z9=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Yt(n)||(r?s=n.toString().split(""):s=n.toString().split(U9));var a=s.map(function(l){return{word:l,width:vb(l,i).width}}),o=r?0:vb("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},The=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=$e(a),f=o,d=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(X,Q){var W=Q.word,re=Q.width,ce=X[X.length-1];if(ce&&(i==null||s||ce.width+re+r<Number(i)))ce.words.push(W),ce.width+=re+r;else{var ae={words:[W],width:re};X.push(ae)}return X},[])},p=d(n),v=function(V){return V.reduce(function(X,Q){return X.width>Q.width?X:Q})};if(!u)return p;for(var m="",b=function(V){var X=f.slice(0,V),Q=z9({breakAll:c,style:l,children:X+m}).wordsWithComputedWidth,W=d(Q),re=W.length>a||v(W).width>Number(i);return[re,W]},g=0,w=f.length-1,x=0,S;g<=w&&x<=f.length-1;){var A=Math.floor((g+w)/2),E=A-1,C=b(E),L=Ij(C,2),I=L[0],q=L[1],O=b(A),M=Ij(O,1),z=M[0];if(!I&&!z&&(g=A+1),I&&z&&(w=A-1),!I&&z){S=q;break}x++}return S||p},Mj=function(e){var n=Yt(e)?[]:e.toString().split(U9);return[{words:n}]},Ohe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!Ty.isSsr){var l,c,u=z9({breakAll:a,children:i,style:s});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;l=f,c=d}else return Mj(i);return The({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return Mj(i)},jj="#808080",xS=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,p=d===void 0?"start":d,v=e.verticalAnchor,m=v===void 0?"end":v,b=e.fill,g=b===void 0?jj:b,w=Lj(e,_he),x=Ae.useMemo(function(){return Ohe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),S=w.dx,A=w.dy,E=w.angle,C=w.className,L=w.breakAll,I=Lj(w,Ahe);if(!gi(r)||!gi(s))return null;var q=r+($e(S)?S:0),O=s+($e(A)?A:0),M;switch(m){case"start":M=EC("calc(".concat(c,")"));break;case"middle":M=EC("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:M=EC("calc(".concat(x.length-1," * -").concat(o,")"));break}var z=[];if(f){var $=x[0].width,V=w.width;z.push("scale(".concat(($e(V)?V/$:1)/$,")"))}return E&&z.push("rotate(".concat(E,", ").concat(q,", ").concat(O,")")),z.length&&(I.transform=z.join(" ")),pe.createElement("text",e3({},Kt(I,!0),{x:q,y:O,className:ln("recharts-text",C),textAnchor:p,fill:g.includes("url")?jj:g}),x.map(function(X,Q){var W=X.words.join(L?"":" ");return pe.createElement("tspan",{x:q,dy:Q===0?M:o,key:"".concat(W,"-").concat(Q)},W)}))};function Hf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nhe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pI(t){let e,n,r;t.length!==2?(e=Hf,n=(o,l)=>Hf(t(o),l),r=(o,l)=>t(o)-l):(e=t===Hf||t===Nhe?t:Lhe,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function Lhe(){return 0}function q9(t){return t===null?NaN:+t}function*Ihe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Rhe=pI(Hf),Dx=Rhe.right;pI(q9).center;class Dj extends Map{constructor(e,n=Dhe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Fj(this,e))}has(e){return super.has(Fj(this,e))}set(e,n){return super.set(Mhe(this,e),n)}delete(e){return super.delete(jhe(this,e))}}function Fj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Mhe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jhe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Dhe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fhe(t=Hf){if(t===Hf)return H9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function H9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $he=Math.sqrt(50),Bhe=Math.sqrt(10),Uhe=Math.sqrt(2);function _S(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=$he?10:s>=Bhe?5:s>=Uhe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?_S(t,e,n*2):[o,l,c]}function t3(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?_S(e,t,n):_S(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function n3(t,e,n){return e=+e,t=+t,n=+n,_S(t,e,n)[2]}function r3(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?n3(e,t,n):n3(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function $j(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Bj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function W9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?H9:Fhe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+d)),v=Math.min(r,Math.floor(e+(l-c)*f/l+d));W9(t,e,p,v,i)}const s=t[e];let a=n,o=r;for(y1(t,n,e),i(t[r],s)>0&&y1(t,n,r);a<o;){for(y1(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?y1(t,n,o):(++o,y1(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function y1(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function zhe(t,e,n){if(t=Float64Array.from(Ihe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Bj(t);if(e>=1)return $j(t);var r,i=(r-1)*e,s=Math.floor(i),a=$j(W9(t,s).subarray(0,s+1)),o=Bj(t.subarray(s+1));return a+(o-a)*(i-s)}}function qhe(t,e,n=q9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Hhe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Do(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function lh(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const i3=Symbol("implicit");function gI(){var t=new Dj,e=[],n=[],r=i3;function i(s){let a=t.get(s);if(a===void 0){if(r!==i3)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Dj;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return gI(e,n).unknown(r)},Do.apply(i,arguments),i}function Jb(){var t=gI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,p=i<r,v=p?i:r,m=p?r:i;s=(m-v)/Math.max(1,d-l+c*2),o&&(s=Math.floor(s)),v+=(m-v-s*(d-l))*u,a=s*(1-l),o&&(v=Math.round(v),a=Math.round(a));var b=Hhe(d).map(function(g){return v+s*g});return n(p?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return Jb(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Do.apply(f(),arguments)}function V9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return V9(e())},t}function yb(){return V9(Jb.apply(null,arguments).paddingInner(1))}function mI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function G9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fx(){}var Zb=.7,AS=1/Zb,o0="\\s*([+-]?\\d+)\\s*",Qb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Whe=/^#([0-9a-f]{3,8})$/,Vhe=new RegExp(`^rgb\\(${o0},${o0},${o0}\\)$`),Ghe=new RegExp(`^rgb\\(${bc},${bc},${bc}\\)$`),Khe=new RegExp(`^rgba\\(${o0},${o0},${o0},${Qb}\\)$`),Yhe=new RegExp(`^rgba\\(${bc},${bc},${bc},${Qb}\\)$`),Xhe=new RegExp(`^hsl\\(${Qb},${bc},${bc}\\)$`),Jhe=new RegExp(`^hsla\\(${Qb},${bc},${bc},${Qb}\\)$`),Uj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mI(Fx,ew,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zj,formatHex:zj,formatHex8:Zhe,formatHsl:Qhe,formatRgb:qj,toString:qj});function zj(){return this.rgb().formatHex()}function Zhe(){return this.rgb().formatHex8()}function Qhe(){return K9(this).formatHsl()}function qj(){return this.rgb().formatRgb()}function ew(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Whe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Hj(e):n===3?new Xs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?r5(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?r5(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vhe.exec(t))?new Xs(e[1],e[2],e[3],1):(e=Ghe.exec(t))?new Xs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Khe.exec(t))?r5(e[1],e[2],e[3],e[4]):(e=Yhe.exec(t))?r5(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xhe.exec(t))?Gj(e[1],e[2]/100,e[3]/100,1):(e=Jhe.exec(t))?Gj(e[1],e[2]/100,e[3]/100,e[4]):Uj.hasOwnProperty(t)?Hj(Uj[t]):t==="transparent"?new Xs(NaN,NaN,NaN,0):null}function Hj(t){return new Xs(t>>16&255,t>>8&255,t&255,1)}function r5(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xs(t,e,n,r)}function efe(t){return t instanceof Fx||(t=ew(t)),t?(t=t.rgb(),new Xs(t.r,t.g,t.b,t.opacity)):new Xs}function s3(t,e,n,r){return arguments.length===1?efe(t):new Xs(t,e,n,r??1)}function Xs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mI(Xs,s3,G9(Fx,{brighter(t){return t=t==null?AS:Math.pow(AS,t),new Xs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zb:Math.pow(Zb,t),new Xs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xs(vg(this.r),vg(this.g),vg(this.b),SS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wj,formatHex:Wj,formatHex8:tfe,formatRgb:Vj,toString:Vj}));function Wj(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}`}function tfe(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}${Kd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vj(){const t=SS(this.opacity);return`${t===1?"rgb(":"rgba("}${vg(this.r)}, ${vg(this.g)}, ${vg(this.b)}${t===1?")":`, ${t})`}`}function SS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kd(t){return t=vg(t),(t<16?"0":"")+t.toString(16)}function Gj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ml(t,e,n,r)}function K9(t){if(t instanceof ml)return new ml(t.h,t.s,t.l,t.opacity);if(t instanceof Fx||(t=ew(t)),!t)return new ml;if(t instanceof ml)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new ml(a,o,l,t.opacity)}function nfe(t,e,n,r){return arguments.length===1?K9(t):new ml(t,e,n,r??1)}function ml(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mI(ml,nfe,G9(Fx,{brighter(t){return t=t==null?AS:Math.pow(AS,t),new ml(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zb:Math.pow(Zb,t),new ml(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xs(PC(t>=240?t-240:t+120,i,r),PC(t,i,r),PC(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ml(Kj(this.h),i5(this.s),i5(this.l),SS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=SS(this.opacity);return`${t===1?"hsl(":"hsla("}${Kj(this.h)}, ${i5(this.s)*100}%, ${i5(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kj(t){return t=(t||0)%360,t<0?t+360:t}function i5(t){return Math.max(0,Math.min(1,t||0))}function PC(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const vI=t=>()=>t;function rfe(t,e){return function(n){return t+n*e}}function ife(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function sfe(t){return(t=+t)==1?Y9:function(e,n){return n-e?ife(e,n,t):vI(isNaN(e)?n:e)}}function Y9(t,e){var n=e-t;return n?rfe(t,n):vI(isNaN(t)?e:t)}const Yj=function t(e){var n=sfe(e);function r(i,s){var a=n((i=s3(i)).r,(s=s3(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=Y9(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function afe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function ofe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Oy(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function cfe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ES(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ufe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Oy(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var a3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kC=new RegExp(a3.source,"g");function hfe(t){return function(){return t}}function ffe(t){return function(e){return t(e)+""}}function dfe(t,e){var n=a3.lastIndex=kC.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=a3.exec(t))&&(i=kC.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:ES(r,i)})),n=kC.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?ffe(l[0].x):hfe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Oy(t,e){var n=typeof e,r;return e==null||n==="boolean"?vI(e):(n==="number"?ES:n==="string"?(r=ew(e))?(e=r,Yj):dfe:e instanceof ew?Yj:e instanceof Date?cfe:ofe(e)?afe:Array.isArray(e)?lfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ufe:ES)(t,e)}function yI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pfe(t,e){e===void 0&&(e=t,t=Oy);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function gfe(t){return function(){return t}}function PS(t){return+t}var Xj=[0,1];function Ns(t){return t}function o3(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gfe(isNaN(e)?NaN:.5)}function mfe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function vfe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=o3(i,r),s=n(a,s)):(r=o3(r,i),s=n(s,a)),function(o){return s(r(o))}}function yfe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=o3(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Dx(t,o,1,r)-1;return s[l](i[l](o))}}function $x(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function OP(){var t=Xj,e=Xj,n=Oy,r,i,s,a=Ns,o,l,c;function u(){var d=Math.min(t.length,e.length);return a!==Ns&&(a=mfe(t[0],t[d-1])),o=d>2?yfe:vfe,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?s:(l||(l=o(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((c||(c=o(e,t.map(r),ES)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,PS),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=yI,u()},f.clamp=function(d){return arguments.length?(a=d?!0:Ns,u()):a!==Ns},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,p){return r=d,i=p,u()}}function bI(){return OP()(Ns,Ns)}function bfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qv(t){return t=kS(Math.abs(t)),t?t[1]:NaN}function wfe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function xfe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tw(t){if(!(e=_fe.exec(t)))throw new Error("invalid format: "+t);var e;return new wI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tw.prototype=wI.prototype;function wI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Afe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var X9;function Sfe(t,e){var n=kS(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(X9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+kS(t,Math.max(0,e+s-1))[0]}function Jj(t,e){var n=kS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Zj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Jj(t*100,e),r:Jj,s:Sfe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Qj(t){return t}var eD=Array.prototype.map,tD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Efe(t){var e=t.grouping===void 0||t.thousands===void 0?Qj:wfe(eD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Qj:xfe(eD.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=tw(f);var d=f.fill,p=f.align,v=f.sign,m=f.symbol,b=f.zero,g=f.width,w=f.comma,x=f.precision,S=f.trim,A=f.type;A==="n"?(w=!0,A="g"):Zj[A]||(x===void 0&&(x=12),S=!0,A="g"),(b||d==="0"&&p==="=")&&(b=!0,d="0",p="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",C=m==="$"?r:/[%p]/.test(A)?a:"",L=Zj[A],I=/[defgprs%]/.test(A);x=x===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function q(O){var M=E,z=C,$,V,X;if(A==="c")z=L(O)+z,O="";else{O=+O;var Q=O<0||1/O<0;if(O=isNaN(O)?l:L(Math.abs(O),x),S&&(O=Afe(O)),Q&&+O==0&&v!=="+"&&(Q=!1),M=(Q?v==="("?v:o:v==="-"||v==="("?"":v)+M,z=(A==="s"?tD[8+X9/3]:"")+z+(Q&&v==="("?")":""),I){for($=-1,V=O.length;++$<V;)if(X=O.charCodeAt($),48>X||X>57){z=(X===46?i+O.slice($+1):O.slice($))+z,O=O.slice(0,$);break}}}w&&!b&&(O=e(O,1/0));var W=M.length+O.length+z.length,re=W<g?new Array(g-W+1).join(d):"";switch(w&&b&&(O=e(re+O,re.length?g-z.length:1/0),re=""),p){case"<":O=M+O+z+re;break;case"=":O=M+re+O+z;break;case"^":O=re.slice(0,W=re.length>>1)+M+O+z+re.slice(W);break;default:O=re+M+O+z;break}return s(O)}return q.toString=function(){return f+""},q}function u(f,d){var p=c((f=tw(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Qv(d)/3)))*3,m=Math.pow(10,-v),b=tD[8+v/3];return function(g){return p(m*g)+b}}return{format:c,formatPrefix:u}}var s5,xI,J9;Pfe({thousands:",",grouping:[3],currency:["$",""]});function Pfe(t){return s5=Efe(t),xI=s5.format,J9=s5.formatPrefix,s5}function kfe(t){return Math.max(0,-Qv(Math.abs(t)))}function Cfe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qv(e)/3)))*3-Qv(Math.abs(t)))}function Tfe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qv(e)-Qv(t))+1}function Z9(t,e,n,r){var i=r3(t,e,n),s;switch(r=tw(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Cfe(i,a))&&(r.precision=s),J9(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Tfe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=kfe(i))&&(r.precision=s-(r.type==="%")*2);break}}return xI(r)}function nd(t){var e=t.domain;return t.ticks=function(n){var r=e();return t3(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Z9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=n3(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function CS(){var t=bI();return t.copy=function(){return $x(t,CS())},Do.apply(t,arguments),nd(t)}function Q9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,PS),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Q9(t).unknown(e)},t=arguments.length?Array.from(t,PS):[0,1],nd(n)}function ez(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function nD(t){return Math.log(t)}function rD(t){return Math.exp(t)}function Ofe(t){return-Math.log(-t)}function Nfe(t){return-Math.exp(-t)}function Lfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ife(t){return t===10?Lfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Rfe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function iD(t){return(e,n)=>-t(-e,n)}function _I(t){const e=t(nD,rD),n=e.domain;let r=10,i,s;function a(){return i=Rfe(r),s=Ife(r),n()[0]<0?(i=iD(i),s=iD(s),t(Ofe,Nfe)):t(nD,rD),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),p=i(u),v,m;const b=o==null?10:+o;let g=[];if(!(r%1)&&p-d<b){if(d=Math.floor(d),p=Math.ceil(p),c>0){for(;d<=p;++d)for(v=1;v<r;++v)if(m=d<0?v/s(-d):v*s(d),!(m<c)){if(m>u)break;g.push(m)}}else for(;d<=p;++d)for(v=r-1;v>=1;--v)if(m=d>0?v/s(-d):v*s(d),!(m<c)){if(m>u)break;g.push(m)}g.length*2<b&&(g=t3(c,u,b))}else g=t3(d,p,Math.min(p-d,b)).map(s);return f?g.reverse():g},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=tw(l)).precision==null&&(l.trim=!0),l=xI(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(ez(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function tz(){const t=_I(OP()).domain([1,10]);return t.copy=()=>$x(t,tz()).base(t.base()),Do.apply(t,arguments),t}function sD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function aD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AI(t){var e=1,n=t(sD(e),aD(e));return n.constant=function(r){return arguments.length?t(sD(e=+r),aD(e)):e},nd(n)}function nz(){var t=AI(OP());return t.copy=function(){return $x(t,nz()).constant(t.constant())},Do.apply(t,arguments)}function oD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mfe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jfe(t){return t<0?-t*t:t*t}function SI(t){var e=t(Ns,Ns),n=1;function r(){return n===1?t(Ns,Ns):n===.5?t(Mfe,jfe):t(oD(n),oD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},nd(e)}function EI(){var t=SI(OP());return t.copy=function(){return $x(t,EI()).exponent(t.exponent())},Do.apply(t,arguments),t}function Dfe(){return EI.apply(null,arguments).exponent(.5)}function lD(t){return Math.sign(t)*t*t}function Ffe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function rz(){var t=bI(),e=[0,1],n=!1,r;function i(s){var a=Ffe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(lD(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,PS)).map(lD)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return rz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Do.apply(i,arguments),nd(i)}function iz(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=qhe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Dx(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Hf),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return iz().domain(t).range(e).unknown(r)},Do.apply(s,arguments)}function sz(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Dx(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return sz().domain([t,e]).range(i).unknown(s)},Do.apply(nd(a),arguments)}function az(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Dx(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return az().domain(t).range(e).unknown(n)},Do.apply(i,arguments)}const CC=new Date,TC=new Date;function yi(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>yi(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(CC.setTime(+s),TC.setTime(+a),t(CC),t(TC),Math.floor(n(CC,TC))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const TS=yi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);TS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):TS);TS.range;const Bu=1e3,ko=Bu*60,Uu=ko*60,Qu=Uu*24,PI=Qu*7,cD=Qu*30,OC=Qu*365,Yd=yi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bu)},(t,e)=>(e-t)/Bu,t=>t.getUTCSeconds());Yd.range;const kI=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bu)},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getMinutes());kI.range;const CI=yi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getUTCMinutes());CI.range;const TI=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bu-t.getMinutes()*ko)},(t,e)=>{t.setTime(+t+e*Uu)},(t,e)=>(e-t)/Uu,t=>t.getHours());TI.range;const OI=yi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Uu)},(t,e)=>(e-t)/Uu,t=>t.getUTCHours());OI.range;const Bx=yi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ko)/Qu,t=>t.getDate()-1);Bx.range;const NP=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qu,t=>t.getUTCDate()-1);NP.range;const oz=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qu,t=>Math.floor(t/Qu));oz.range;function Dg(t){return yi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ko)/PI)}const LP=Dg(0),OS=Dg(1),$fe=Dg(2),Bfe=Dg(3),ey=Dg(4),Ufe=Dg(5),zfe=Dg(6);LP.range;OS.range;$fe.range;Bfe.range;ey.range;Ufe.range;zfe.range;function Fg(t){return yi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/PI)}const IP=Fg(0),NS=Fg(1),qfe=Fg(2),Hfe=Fg(3),ty=Fg(4),Wfe=Fg(5),Vfe=Fg(6);IP.range;NS.range;qfe.range;Hfe.range;ty.range;Wfe.range;Vfe.range;const NI=yi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());NI.range;const LI=yi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LI.range;const eh=yi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());eh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});eh.range;const th=yi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());th.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});th.range;function lz(t,e,n,r,i,s){const a=[[Yd,1,Bu],[Yd,5,5*Bu],[Yd,15,15*Bu],[Yd,30,30*Bu],[s,1,ko],[s,5,5*ko],[s,15,15*ko],[s,30,30*ko],[i,1,Uu],[i,3,3*Uu],[i,6,6*Uu],[i,12,12*Uu],[r,1,Qu],[r,2,2*Qu],[n,1,PI],[e,1,cD],[e,3,3*cD],[t,1,OC]];function o(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),v=p?p.range(c,+u+1):[];return d?v.reverse():v}function l(c,u,f){const d=Math.abs(u-c)/f,p=pI(([,,b])=>b).right(a,d);if(p===a.length)return t.every(r3(c/OC,u/OC,f));if(p===0)return TS.every(Math.max(r3(c,u,f),1));const[v,m]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return v.every(m)}return[o,l]}const[Gfe,Kfe]=lz(th,LI,IP,oz,OI,CI),[Yfe,Xfe]=lz(eh,NI,LP,Bx,TI,kI);function NC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function LC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function b1(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Jfe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=w1(i),u=x1(i),f=w1(s),d=x1(s),p=w1(a),v=x1(a),m=w1(o),b=x1(o),g=w1(l),w=x1(l),x={a:Q,A:W,b:re,B:ce,c:null,d:gD,e:gD,f:wde,g:Ode,G:Lde,H:vde,I:yde,j:bde,L:cz,m:xde,M:_de,p:ae,q:D,Q:yD,s:bD,S:Ade,u:Sde,U:Ede,V:Pde,w:kde,W:Cde,x:null,X:null,y:Tde,Y:Nde,Z:Ide,"%":vD},S={a:K,A:ee,b:se,B:oe,c:null,d:mD,e:mD,f:Dde,g:Gde,G:Yde,H:Rde,I:Mde,j:jde,L:hz,m:Fde,M:$de,p:fe,q:xe,Q:yD,s:bD,S:Bde,u:Ude,U:zde,V:qde,w:Hde,W:Wde,x:null,X:null,y:Vde,Y:Kde,Z:Xde,"%":vD},A={a:q,A:O,b:M,B:z,c:$,d:dD,e:dD,f:dde,g:fD,G:hD,H:pD,I:pD,j:cde,L:fde,m:lde,M:ude,p:I,q:ode,Q:gde,s:mde,S:hde,u:nde,U:rde,V:ide,w:tde,W:sde,x:V,X,y:fD,Y:hD,Z:ade,"%":pde};x.x=E(n,x),x.X=E(r,x),x.c=E(e,x),S.x=E(n,S),S.X=E(r,S),S.c=E(e,S);function E(ue,ye){return function(_e){var me=[],Ie=-1,De=0,Z=ue.length,Me,ht,et;for(_e instanceof Date||(_e=new Date(+_e));++Ie<Z;)ue.charCodeAt(Ie)===37&&(me.push(ue.slice(De,Ie)),(ht=uD[Me=ue.charAt(++Ie)])!=null?Me=ue.charAt(++Ie):ht=Me==="e"?" ":"0",(et=ye[Me])&&(Me=et(_e,ht)),me.push(Me),De=Ie+1);return me.push(ue.slice(De,Ie)),me.join("")}}function C(ue,ye){return function(_e){var me=b1(1900,void 0,1),Ie=L(me,ue,_e+="",0),De,Z;if(Ie!=_e.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(ye&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(De=LC(b1(me.y,0,1)),Z=De.getUTCDay(),De=Z>4||Z===0?NS.ceil(De):NS(De),De=NP.offset(De,(me.V-1)*7),me.y=De.getUTCFullYear(),me.m=De.getUTCMonth(),me.d=De.getUTCDate()+(me.w+6)%7):(De=NC(b1(me.y,0,1)),Z=De.getDay(),De=Z>4||Z===0?OS.ceil(De):OS(De),De=Bx.offset(De,(me.V-1)*7),me.y=De.getFullYear(),me.m=De.getMonth(),me.d=De.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Z="Z"in me?LC(b1(me.y,0,1)).getUTCDay():NC(b1(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Z+5)%7:me.w+me.U*7-(Z+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,LC(me)):NC(me)}}function L(ue,ye,_e,me){for(var Ie=0,De=ye.length,Z=_e.length,Me,ht;Ie<De;){if(me>=Z)return-1;if(Me=ye.charCodeAt(Ie++),Me===37){if(Me=ye.charAt(Ie++),ht=A[Me in uD?ye.charAt(Ie++):Me],!ht||(me=ht(ue,_e,me))<0)return-1}else if(Me!=_e.charCodeAt(me++))return-1}return me}function I(ue,ye,_e){var me=c.exec(ye.slice(_e));return me?(ue.p=u.get(me[0].toLowerCase()),_e+me[0].length):-1}function q(ue,ye,_e){var me=p.exec(ye.slice(_e));return me?(ue.w=v.get(me[0].toLowerCase()),_e+me[0].length):-1}function O(ue,ye,_e){var me=f.exec(ye.slice(_e));return me?(ue.w=d.get(me[0].toLowerCase()),_e+me[0].length):-1}function M(ue,ye,_e){var me=g.exec(ye.slice(_e));return me?(ue.m=w.get(me[0].toLowerCase()),_e+me[0].length):-1}function z(ue,ye,_e){var me=m.exec(ye.slice(_e));return me?(ue.m=b.get(me[0].toLowerCase()),_e+me[0].length):-1}function $(ue,ye,_e){return L(ue,e,ye,_e)}function V(ue,ye,_e){return L(ue,n,ye,_e)}function X(ue,ye,_e){return L(ue,r,ye,_e)}function Q(ue){return a[ue.getDay()]}function W(ue){return s[ue.getDay()]}function re(ue){return l[ue.getMonth()]}function ce(ue){return o[ue.getMonth()]}function ae(ue){return i[+(ue.getHours()>=12)]}function D(ue){return 1+~~(ue.getMonth()/3)}function K(ue){return a[ue.getUTCDay()]}function ee(ue){return s[ue.getUTCDay()]}function se(ue){return l[ue.getUTCMonth()]}function oe(ue){return o[ue.getUTCMonth()]}function fe(ue){return i[+(ue.getUTCHours()>=12)]}function xe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ye=E(ue+="",x);return ye.toString=function(){return ue},ye},parse:function(ue){var ye=C(ue+="",!1);return ye.toString=function(){return ue},ye},utcFormat:function(ue){var ye=E(ue+="",S);return ye.toString=function(){return ue},ye},utcParse:function(ue){var ye=C(ue+="",!0);return ye.toString=function(){return ue},ye}}}var uD={"-":"",_:" ",0:"0"},Ni=/^\s*\d+/,Zfe=/^%/,Qfe=/[\\^$*+?|[\]().{}]/g;function un(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ede(t){return t.replace(Qfe,"\\$&")}function w1(t){return new RegExp("^(?:"+t.map(ede).join("|")+")","i")}function x1(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function tde(t,e,n){var r=Ni.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nde(t,e,n){var r=Ni.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rde(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ide(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sde(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function hD(t,e,n){var r=Ni.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fD(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ade(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ode(t,e,n){var r=Ni.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function lde(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dD(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cde(t,e,n){var r=Ni.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function pD(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ude(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hde(t,e,n){var r=Ni.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fde(t,e,n){var r=Ni.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dde(t,e,n){var r=Ni.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pde(t,e,n){var r=Zfe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gde(t,e,n){var r=Ni.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mde(t,e,n){var r=Ni.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function gD(t,e){return un(t.getDate(),e,2)}function vde(t,e){return un(t.getHours(),e,2)}function yde(t,e){return un(t.getHours()%12||12,e,2)}function bde(t,e){return un(1+Bx.count(eh(t),t),e,3)}function cz(t,e){return un(t.getMilliseconds(),e,3)}function wde(t,e){return cz(t,e)+"000"}function xde(t,e){return un(t.getMonth()+1,e,2)}function _de(t,e){return un(t.getMinutes(),e,2)}function Ade(t,e){return un(t.getSeconds(),e,2)}function Sde(t){var e=t.getDay();return e===0?7:e}function Ede(t,e){return un(LP.count(eh(t)-1,t),e,2)}function uz(t){var e=t.getDay();return e>=4||e===0?ey(t):ey.ceil(t)}function Pde(t,e){return t=uz(t),un(ey.count(eh(t),t)+(eh(t).getDay()===4),e,2)}function kde(t){return t.getDay()}function Cde(t,e){return un(OS.count(eh(t)-1,t),e,2)}function Tde(t,e){return un(t.getFullYear()%100,e,2)}function Ode(t,e){return t=uz(t),un(t.getFullYear()%100,e,2)}function Nde(t,e){return un(t.getFullYear()%1e4,e,4)}function Lde(t,e){var n=t.getDay();return t=n>=4||n===0?ey(t):ey.ceil(t),un(t.getFullYear()%1e4,e,4)}function Ide(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+un(e/60|0,"0",2)+un(e%60,"0",2)}function mD(t,e){return un(t.getUTCDate(),e,2)}function Rde(t,e){return un(t.getUTCHours(),e,2)}function Mde(t,e){return un(t.getUTCHours()%12||12,e,2)}function jde(t,e){return un(1+NP.count(th(t),t),e,3)}function hz(t,e){return un(t.getUTCMilliseconds(),e,3)}function Dde(t,e){return hz(t,e)+"000"}function Fde(t,e){return un(t.getUTCMonth()+1,e,2)}function $de(t,e){return un(t.getUTCMinutes(),e,2)}function Bde(t,e){return un(t.getUTCSeconds(),e,2)}function Ude(t){var e=t.getUTCDay();return e===0?7:e}function zde(t,e){return un(IP.count(th(t)-1,t),e,2)}function fz(t){var e=t.getUTCDay();return e>=4||e===0?ty(t):ty.ceil(t)}function qde(t,e){return t=fz(t),un(ty.count(th(t),t)+(th(t).getUTCDay()===4),e,2)}function Hde(t){return t.getUTCDay()}function Wde(t,e){return un(NS.count(th(t)-1,t),e,2)}function Vde(t,e){return un(t.getUTCFullYear()%100,e,2)}function Gde(t,e){return t=fz(t),un(t.getUTCFullYear()%100,e,2)}function Kde(t,e){return un(t.getUTCFullYear()%1e4,e,4)}function Yde(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ty(t):ty.ceil(t),un(t.getUTCFullYear()%1e4,e,4)}function Xde(){return"+0000"}function vD(){return"%"}function yD(t){return+t}function bD(t){return Math.floor(+t/1e3)}var sm,dz,pz;Jde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jde(t){return sm=Jfe(t),dz=sm.format,sm.parse,pz=sm.utcFormat,sm.utcParse,sm}function Zde(t){return new Date(t)}function Qde(t){return t instanceof Date?+t:+new Date(+t)}function II(t,e,n,r,i,s,a,o,l,c){var u=bI(),f=u.invert,d=u.domain,p=c(".%L"),v=c(":%S"),m=c("%I:%M"),b=c("%I %p"),g=c("%a %d"),w=c("%b %d"),x=c("%B"),S=c("%Y");function A(E){return(l(E)<E?p:o(E)<E?v:a(E)<E?m:s(E)<E?b:r(E)<E?i(E)<E?g:w:n(E)<E?x:S)(E)}return u.invert=function(E){return new Date(f(E))},u.domain=function(E){return arguments.length?d(Array.from(E,Qde)):d().map(Zde)},u.ticks=function(E){var C=d();return t(C[0],C[C.length-1],E??10)},u.tickFormat=function(E,C){return C==null?A:c(C)},u.nice=function(E){var C=d();return(!E||typeof E.range!="function")&&(E=e(C[0],C[C.length-1],E??10)),E?d(ez(C,E)):u},u.copy=function(){return $x(u,II(t,e,n,r,i,s,a,o,l,c))},u}function epe(){return Do.apply(II(Yfe,Xfe,eh,NI,LP,Bx,TI,kI,Yd,dz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tpe(){return Do.apply(II(Gfe,Kfe,th,LI,IP,NP,OI,CI,Yd,pz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RP(){var t=0,e=1,n,r,i,s,a=Ns,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(d){var p,v;return arguments.length?([p,v]=d,a=f(p,v),c):[a(0),a(1)]}}return c.range=u(Oy),c.rangeRound=u(yI),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function rd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gz(){var t=nd(RP()(Ns));return t.copy=function(){return rd(t,gz())},lh.apply(t,arguments)}function mz(){var t=_I(RP()).domain([1,10]);return t.copy=function(){return rd(t,mz()).base(t.base())},lh.apply(t,arguments)}function vz(){var t=AI(RP());return t.copy=function(){return rd(t,vz()).constant(t.constant())},lh.apply(t,arguments)}function RI(){var t=SI(RP());return t.copy=function(){return rd(t,RI()).exponent(t.exponent())},lh.apply(t,arguments)}function npe(){return RI.apply(null,arguments).exponent(.5)}function yz(){var t=[],e=Ns;function n(r){if(r!=null&&!isNaN(r=+r))return e((Dx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Hf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>zhe(t,s/r))},n.copy=function(){return yz(e).domain(t)},lh.apply(n,arguments)}function MP(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Ns,u,f=!1,d;function p(m){return isNaN(m=+m)?d:(m=.5+((m=+u(m))-s)*(r*m<r*s?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=u(t=+t),s=u(e=+e),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function v(m){return function(b){var g,w,x;return arguments.length?([g,w,x]=b,c=pfe(m,[g,w,x]),p):[c(0),c(.5),c(1)]}}return p.range=v(Oy),p.rangeRound=v(yI),p.unknown=function(m){return arguments.length?(d=m,p):d},function(m){return u=m,i=m(t),s=m(e),a=m(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function bz(){var t=nd(MP()(Ns));return t.copy=function(){return rd(t,bz())},lh.apply(t,arguments)}function wz(){var t=_I(MP()).domain([.1,1,10]);return t.copy=function(){return rd(t,wz()).base(t.base())},lh.apply(t,arguments)}function xz(){var t=AI(MP());return t.copy=function(){return rd(t,xz()).constant(t.constant())},lh.apply(t,arguments)}function MI(){var t=SI(MP());return t.copy=function(){return rd(t,MI()).exponent(t.exponent())},lh.apply(t,arguments)}function rpe(){return MI.apply(null,arguments).exponent(.5)}const wD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jb,scaleDiverging:bz,scaleDivergingLog:wz,scaleDivergingPow:MI,scaleDivergingSqrt:rpe,scaleDivergingSymlog:xz,scaleIdentity:Q9,scaleImplicit:i3,scaleLinear:CS,scaleLog:tz,scaleOrdinal:gI,scalePoint:yb,scalePow:EI,scaleQuantile:iz,scaleQuantize:sz,scaleRadial:rz,scaleSequential:gz,scaleSequentialLog:mz,scaleSequentialPow:RI,scaleSequentialQuantile:yz,scaleSequentialSqrt:npe,scaleSequentialSymlog:vz,scaleSqrt:Dfe,scaleSymlog:nz,scaleThreshold:az,scaleTime:epe,scaleUtc:tpe,tickFormat:Z9},Symbol.toStringTag,{value:"Module"}));var ipe=by;function spe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!ipe(a):n(a,o)))var o=a,l=s}return l}var _z=spe;function ape(t,e){return t>e}var ope=ape,lpe=_z,cpe=ope,upe=ky;function hpe(t){return t&&t.length?lpe(t,upe,cpe):void 0}var fpe=hpe;const If=Gn(fpe);function dpe(t,e){return t<e}var ppe=dpe,gpe=_z,mpe=ppe,vpe=ky;function ype(t){return t&&t.length?gpe(t,vpe,mpe):void 0}var bpe=ype;const jP=Gn(bpe);var wpe=KL,xpe=Cy,_pe=O9,Ape=ea;function Spe(t,e){var n=Ape(t)?wpe:_pe;return n(t,xpe(e))}var Epe=Spe,Ppe=C9,kpe=Epe;function Cpe(t,e){return Ppe(kpe(t,e),1)}var Tpe=Cpe;const Ope=Gn(Tpe);var Npe=uI;function Lpe(t,e){return Npe(t,e)}var Ipe=Lpe;const nw=Gn(Ipe);var Ny=1e9,Rpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DI,lr=!0,Io="[DecimalError] ",yg=Io+"Invalid argument: ",jI=Io+"Exponent out of range: ",Ly=Math.floor,Nd=Math.pow,Mpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fa,ki=1e7,Zn=7,Az=9007199254740991,LS=Ly(Az/Zn),Ge={};Ge.absoluteValue=Ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ge.comparedTo=Ge.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Zn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ge.dividedBy=Ge.div=function(t){return Wu(this,new this.constructor(t))};Ge.dividedToIntegerBy=Ge.idiv=function(t){var e=this,n=e.constructor;return jn(Wu(e,new n(t),0,1),n.precision)};Ge.equals=Ge.eq=function(t){return!this.cmp(t)};Ge.exponent=function(){return Jr(this)};Ge.greaterThan=Ge.gt=function(t){return this.cmp(t)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(t){return this.cmp(t)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(t){return this.cmp(t)<0};Ge.lessThanOrEqualTo=Ge.lte=function(t){return this.cmp(t)<1};Ge.logarithm=Ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fa))throw Error(Io+"NaN");if(n.s<1)throw Error(Io+(n.s?"NaN":"-Infinity"));return n.eq(Fa)?new r(0):(lr=!1,e=Wu(rw(n,s),rw(t,s),s),lr=!0,jn(e,i))};Ge.minus=Ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Pz(e,t):Sz(e,(t.s=-t.s,t))};Ge.modulo=Ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Io+"NaN");return n.s?(lr=!1,e=Wu(n,t,0,1).times(t),lr=!0,n.minus(e)):jn(new r(n),i)};Ge.naturalExponential=Ge.exp=function(){return Ez(this)};Ge.naturalLogarithm=Ge.ln=function(){return rw(this)};Ge.negated=Ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ge.plus=Ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Sz(e,t):Pz(e,(t.s=-t.s,t))};Ge.precision=Ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yg+t);if(e=Jr(i)+1,r=i.d.length-1,n=r*Zn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ge.squareRoot=Ge.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Io+"NaN")}for(t=Jr(o),lr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=pc(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ly((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Wu(o,s,a+2)).times(.5),pc(s.d).slice(0,a)===(e=pc(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(jn(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return lr=!0,jn(r,n)};Ge.times=Ge.mul=function(t){var e,n,r,i,s,a,o,l,c,u=this,f=u.constructor,d=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=p.length,l<c&&(s=d,d=p,p=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*d[i-r-1]+e,s[i--]=o%ki|0,e=o/ki|0;s[i]=(s[i]+e)%ki|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,lr?jn(t,f.precision):t};Ge.toDecimalPlaces=Ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xc(t,0,Ny),e===void 0?e=r.rounding:xc(e,0,8),jn(n,t+Jr(n)+1,e))};Ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=kg(r,!0):(xc(t,0,Ny),e===void 0?e=i.rounding:xc(e,0,8),r=jn(new i(r),t+1,e),n=kg(r,!0,t+1)),n};Ge.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?kg(i):(xc(t,0,Ny),e===void 0?e=s.rounding:xc(e,0,8),r=jn(new s(i),t+Jr(i)+1,e),n=kg(r.abs(),!1,t+Jr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ge.toInteger=Ge.toint=function(){var t=this,e=t.constructor;return jn(new e(t),Jr(t)+1,e.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Fa);if(o=new l(o),!o.s){if(t.s<1)throw Error(Io+"Infinity");return o}if(o.eq(Fa))return o;if(r=l.precision,t.eq(Fa))return jn(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=u<0?-u:u)<=Az){for(i=new l(Fa),e=Math.ceil(r/Zn+4),lr=!1;n%2&&(i=i.times(o),_D(i.d,e)),n=Ly(n/2),n!==0;)o=o.times(o),_D(o.d,e);return lr=!0,t.s<0?new l(Fa).div(i):jn(i,r)}}else if(s<0)throw Error(Io+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,lr=!1,i=t.times(rw(o,r+c)),lr=!0,i=Ez(i),i.s=s,i};Ge.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Jr(i),r=kg(i,n<=s.toExpNeg||n>=s.toExpPos)):(xc(t,1,Ny),e===void 0?e=s.rounding:xc(e,0,8),i=jn(new s(i),t,e),n=Jr(i),r=kg(i,t<=n||n<=s.toExpNeg,t)),r};Ge.toSignificantDigits=Ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xc(t,1,Ny),e===void 0?e=r.rounding:xc(e,0,8)),jn(new r(n),t,e)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jr(t),n=t.constructor;return kg(t,e<=n.toExpNeg||e>=n.toExpPos)};function Sz(t,e){var n,r,i,s,a,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),lr?jn(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(f/Zn),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/ki|0,l[s]%=ki;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,lr?jn(e,f):e}function xc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(yg+t)}function pc(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Zn-r.length,n&&(s+=Ih(n)),s+=r;a=t[e],r=a+"",n=Zn-r.length,n&&(s+=Ih(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Wu=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%ki|0,a=s/ki|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ki+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,f,d,p,v,m,b,g,w,x,S,A,E,C,L,I=r.constructor,q=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Io+"Division by zero");for(l=r.e-i.e,C=M.length,A=O.length,p=new I(q),v=p.d=[],c=0;M[c]==(O[c]||0);)++c;if(M[c]>(O[c]||0)&&--l,s==null?w=s=I.precision:a?w=s+(Jr(r)-Jr(i))+1:w=s,w<0)return new I(0);if(w=w/Zn+2|0,c=0,C==1)for(u=0,M=M[0],w++;(c<A||u)&&w--;c++)x=u*ki+(O[c]||0),v[c]=x/M|0,u=x%M|0;else{for(u=ki/(M[0]+1)|0,u>1&&(M=t(M,u),O=t(O,u),C=M.length,A=O.length),S=C,m=O.slice(0,C),b=m.length;b<C;)m[b++]=0;L=M.slice(),L.unshift(0),E=M[0],M[1]>=ki/2&&++E;do u=0,o=e(M,m,C,b),o<0?(g=m[0],C!=b&&(g=g*ki+(m[1]||0)),u=g/E|0,u>1?(u>=ki&&(u=ki-1),f=t(M,u),d=f.length,b=m.length,o=e(f,m,d,b),o==1&&(u--,n(f,C<d?L:M,d))):(u==0&&(o=u=1),f=M.slice()),d=f.length,d<b&&f.unshift(0),n(m,f,b),o==-1&&(b=m.length,o=e(M,m,C,b),o<1&&(u++,n(m,C<b?L:M,b))),b=m.length):o===0&&(u++,m=[0]),v[c++]=u,o&&m[0]?m[b++]=O[S]||0:(m=[O[S]],b=1);while((S++<A||m[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=l,jn(p,a?s+Jr(p)+1:s)}}();function Ez(t,e){var n,r,i,s,a,o,l=0,c=0,u=t.constructor,f=u.precision;if(Jr(t)>16)throw Error(jI+Jr(t));if(!t.s)return new u(Fa);for(lr=!1,o=f,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Nd(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new u(Fa),u.precision=o;;){if(i=jn(i.times(t),o),n=n.times(++l),a=s.plus(Wu(i,n,o)),pc(a.d).slice(0,o)===pc(s.d).slice(0,o)){for(;c--;)s=jn(s.times(s),o);return u.precision=f,e==null?(lr=!0,jn(s,f)):s}s=a}}function Jr(t){for(var e=t.e*Zn,n=t.d[0];n>=10;n/=10)e++;return e}function IC(t,e,n){if(e>t.LN10.sd())throw lr=!0,n&&(t.precision=n),Error(Io+"LN10 precision limit exceeded");return jn(new t(t.LN10),e)}function Ih(t){for(var e="";t--;)e+="0";return e}function rw(t,e){var n,r,i,s,a,o,l,c,u,f=1,d=10,p=t,v=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(Io+(p.s?"NaN":"-Infinity"));if(p.eq(Fa))return new m(0);if(e==null?(lr=!1,c=b):c=e,p.eq(10))return e==null&&(lr=!0),IC(m,c);if(c+=d,m.precision=c,n=pc(v),r=n.charAt(0),s=Jr(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=pc(p.d),r=n.charAt(0),f++;s=Jr(p),r>1?(p=new m("0."+n),s++):p=new m(r+"."+n.slice(1))}else return l=IC(m,c+2,b).times(s+""),p=rw(new m(r+"."+n.slice(1)),c-d).plus(l),m.precision=b,e==null?(lr=!0,jn(p,b)):p;for(o=a=p=Wu(p.minus(Fa),p.plus(Fa),c),u=jn(p.times(p),c),i=3;;){if(a=jn(a.times(u),c),l=o.plus(Wu(a,new m(i),c)),pc(l.d).slice(0,c)===pc(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(IC(m,c+2,b).times(s+""))),o=Wu(o,new m(f),c),m.precision=b,e==null?(lr=!0,jn(o,b)):o;o=l,i+=2}}function xD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ly(n/Zn),t.d=[],r=(n+1)%Zn,n<0&&(r+=Zn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Zn;r<i;)t.d.push(+e.slice(r,r+=Zn));e=e.slice(r),r=Zn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),lr&&(t.e>LS||t.e<-LS))throw Error(jI+n)}else t.s=0,t.e=0,t.d=[0];return t}function jn(t,e,n){var r,i,s,a,o,l,c,u,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Zn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Zn),s=f.length,u>=s)return t;for(c=s=f[u],a=1;s>=10;s/=10)a++;r%=Zn,i=r-Zn+a}if(n!==void 0&&(s=Nd(10,a-i-1),o=c/s%10|0,l=e<0||f[u+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Nd(10,a-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=Jr(t),f.length=1,e=e-s-1,f[0]=Nd(10,(Zn-e%Zn)%Zn),t.e=Ly(-e/Zn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,s=1,u--):(f.length=u+1,s=Nd(10,Zn-r),f[u]=i>0?(c/Nd(10,a-i)%Nd(10,i)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==ki&&(f[0]=1,++t.e);break}else{if(f[u]+=s,f[u]!=ki)break;f[u--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(lr&&(t.e>LS||t.e<-LS))throw Error(jI+Jr(t));return t}function Pz(t,e){var n,r,i,s,a,o,l,c,u,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),lr?jn(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/Zn),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=ki-1;--l[s],l[i]+=ki}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,lr?jn(e,p):e):new d(0)}function kg(t,e,n){var r,i=Jr(t),s=pc(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ih(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ih(-i-1)+s,n&&(r=n-a)>0&&(s+=Ih(r))):i>=a?(s+=Ih(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ih(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ih(r))),t.s<0?"-"+s:s}function _D(t,e){if(t.length>e)return t.length=e,!0}function kz(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(yg+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return xD(a,s.toString())}else if(typeof s!="string")throw Error(yg+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Mpe.test(s))xD(a,s);else throw Error(yg+s)}if(i.prototype=Ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kz,i.config=i.set=jpe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jpe(t){if(!t||typeof t!="object")throw Error(Io+"Object expected");var e,n,r,i=["precision",1,Ny,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ly(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(yg+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(yg+n+": "+r);return this}var DI=kz(Rpe);Fa=new DI(1);const Cn=DI;function Dpe(t){return Upe(t)||Bpe(t)||$pe(t)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $pe(t,e){if(t){if(typeof t=="string")return l3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l3(t,e)}}function Bpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Upe(t){if(Array.isArray(t))return l3(t)}function l3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zpe=function(e){return e},Cz={},Tz=function(e){return e===Cz},AD=function(e){return function n(){return arguments.length===0||arguments.length===1&&Tz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},qpe=function t(e,n){return e===1?n:AD(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==Cz}).length;return a>=e?n.apply(void 0,i):t(e-a,AD(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return Tz(f)?l.shift():f});return n.apply(void 0,Dpe(u).concat(l))}))})},DP=function(e){return qpe(e.length,e)},c3=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Hpe=DP(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Wpe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return zpe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},u3=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Oz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function Vpe(t){var e;return t===0?e=1:e=Math.floor(new Cn(t).abs().log(10).toNumber())+1,e}function Gpe(t,e,n){for(var r=new Cn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Kpe=DP(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ype=DP(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Xpe=DP(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const FP={rangeStep:Gpe,getDigitCount:Vpe,interpolateNumber:Kpe,uninterpolateNumber:Ype,uninterpolateTruncation:Xpe};function h3(t){return Qpe(t)||Zpe(t)||Nz(t)||Jpe()}function Jpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qpe(t){if(Array.isArray(t))return f3(t)}function iw(t,e){return nge(t)||tge(t,e)||Nz(t,e)||ege()}function ege(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nz(t,e){if(t){if(typeof t=="string")return f3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f3(t,e)}}function f3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function nge(t){if(Array.isArray(t))return t}function Lz(t){var e=iw(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Iz(t,e,n){if(t.lte(0))return new Cn(0);var r=FP.getDigitCount(t.toNumber()),i=new Cn(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Cn(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Cn(Math.ceil(l))}function rge(t,e,n){var r=1,i=new Cn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Cn(10).pow(FP.getDigitCount(t)-1),i=new Cn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Cn(Math.floor(t)))}else t===0?i=new Cn(Math.floor((e-1)/2)):n||(i=new Cn(Math.floor(t)));var a=Math.floor((e-1)/2),o=Wpe(Hpe(function(l){return i.add(new Cn(l-a).mul(r)).toNumber()}),c3);return o(0,e)}function Rz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var s=Iz(new Cn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Cn(0):(a=new Cn(t).add(e).div(2),a=a.sub(new Cn(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Cn(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?Rz(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new Cn(o).mul(s)),tickMax:a.add(new Cn(l).mul(s))})}function ige(t){var e=iw(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=Lz([n,r]),l=iw(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(h3(c3(0,i-1).map(function(){return 1/0}))):[].concat(h3(c3(0,i-1).map(function(){return-1/0})),[u]);return n>r?u3(f):f}if(c===u)return rge(c,i,s);var d=Rz(c,u,a,s),p=d.step,v=d.tickMin,m=d.tickMax,b=FP.rangeStep(v,m.add(new Cn(.1).mul(p)),p);return n>r?u3(b):b}function sge(t,e){var n=iw(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Lz([r,i]),o=iw(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=Iz(new Cn(c).sub(l).div(u-1),s,0),d=[].concat(h3(FP.rangeStep(new Cn(l),new Cn(c).sub(new Cn(.99).mul(f)),f)),[c]);return r>i?u3(d):d}var age=Oz(ige),oge=Oz(sge),lge="Invariant failed";function Cg(t,e){throw new Error(lge)}var cge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(this,arguments)}function uge(t,e){return pge(t)||dge(t,e)||fge(t,e)||hge()}function hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fge(t,e){if(t){if(typeof t=="string")return SD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SD(t,e)}}function SD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function pge(t){if(Array.isArray(t))return t}function gge(t,e){if(t==null)return{};var n=mge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dz(r.key),r)}}function bge(t,e,n){return e&&yge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wge(t,e,n){return e=RS(e),xge(t,Mz()?Reflect.construct(e,n||[],RS(t).constructor):e.apply(t,n))}function xge(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ge(t)}function _ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mz=function(){return!!t})()}function RS(t){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(t)}function Age(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d3(t,e)}function d3(t,e){return d3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d3(t,e)}function jz(t,e,n){return e=Dz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dz(t){var e=Sge(t,"string");return ny(e)=="symbol"?e:e+""}function Sge(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $P=function(t){function e(){return vge(this,e),wge(this,e,arguments)}return Age(e,t),bge(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,d=gge(r,cge),p=Kt(d,!1);this.props.direction==="x"&&u.type!=="number"&&Cg();var v=l.map(function(m){var b=c(m,o),g=b.x,w=b.y,x=b.value,S=b.errorVal;if(!S)return null;var A=[],E,C;if(Array.isArray(S)){var L=uge(S,2);E=L[0],C=L[1]}else E=C=S;if(s==="vertical"){var I=u.scale,q=w+i,O=q+a,M=q-a,z=I(x-E),$=I(x+C);A.push({x1:$,y1:O,x2:$,y2:M}),A.push({x1:z,y1:q,x2:$,y2:q}),A.push({x1:z,y1:O,x2:z,y2:M})}else if(s==="horizontal"){var V=f.scale,X=g+i,Q=X-a,W=X+a,re=V(x-E),ce=V(x+C);A.push({x1:Q,y1:ce,x2:W,y2:ce}),A.push({x1:X,y1:re,x2:X,y2:ce}),A.push({x1:Q,y1:re,x2:W,y2:re})}return pe.createElement(pr,IS({className:"recharts-errorBar",key:"bar-".concat(A.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},p),A.map(function(ae){return pe.createElement("line",IS({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return pe.createElement(pr,{className:"recharts-errorBars"},v)}}])}(pe.Component);jz($P,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jz($P,"displayName","ErrorBar");function sw(t){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(t)}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){Ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ege(t,e,n){return e=Pge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pge(t){var e=kge(t,"string");return sw(e)=="symbol"?e:e+""}function kge(t,e){if(sw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Ma(n,a0);if(!a)return null;var o=a0.defaultProps,l=o!==void 0?Sd(Sd({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(u,f){var d=f.item,p=f.props,v=p.sectors||p.data||[];return u.concat(v.map(function(m){return{type:a.props.iconType||d.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(r||[]).map(function(u){var f=u.item,d=f.type.defaultProps,p=d!==void 0?Sd(Sd({},d),f.props):{},v=p.dataKey,m=p.name,b=p.legendType,g=p.hide;return{inactive:g,dataKey:v,type:l.iconType||b||"square",color:FI(f),value:m||v,payload:p}}),Sd(Sd(Sd({},l),a0.getWithHeight(a,i)),{},{payload:c,item:a})};function aw(t){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(t)}function PD(t){return Nge(t)||Oge(t)||Tge(t)||Cge()}function Cge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tge(t,e){if(t){if(typeof t=="string")return p3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(t,e)}}function Oge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nge(t){if(Array.isArray(t))return p3(t)}function p3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){l0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0(t,e,n){return e=Lge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lge(t){var e=Ige(t,"string");return aw(e)=="symbol"?e:e+""}function Ige(t,e){if(aw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(aw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Va(t,e,n){return Yt(t)||Yt(e)?n:gi(e)?To(t,e,n):Ht(e)?e(t):n}function bb(t,e,n,r){var i=Ope(t,function(o){return Va(o,e)});if(n==="number"){var s=i.filter(function(o){return $e(o)||parseFloat(o)});return s.length?[jP(s),If(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Yt(o)}):i;return a.map(function(o){return gi(o)||o instanceof Date?o:""})}var Rge=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,d=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(vl(f-u)!==vl(d-f)){var v=[];if(vl(d-f)===vl(l[1]-l[0])){p=d;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{p=u;var b=d+l[1]-l[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>g[0]&&e<=g[1]||e>=v[0]&&e<=v[1]){a=i[c].index;break}}else{var w=Math.min(u,d),x=Math.max(u,d);if(e>(w+f)/2&&e<=(x+f)/2){a=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){a=r[S].index;break}return a},FI=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},Mge=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var u=s[o[l]].stackGroups,f=Object.keys(u),d=0,p=f.length;d<p;d++){var v=u[f[d]],m=v.items,b=v.cateAxisId,g=m.filter(function(C){return Hu(C.type).indexOf("Bar")>=0});if(g&&g.length){var w=g[0].type.defaultProps,x=w!==void 0?Tr(Tr({},w),g[0].props):g[0].props,S=x.barSize,A=x[b];a[A]||(a[A]=[]);var E=Yt(S)?n:S;a[A].push({item:g[0],stackList:g.slice(1),barSize:Yt(E)?void 0:Pg(E,r,0)})}}return a},jge=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=Pg(n,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,v=a.reduce(function(S,A){return S+A.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&p>0&&(d=!0,p*=.9,v=l*p);var m=(i-v)/2>>0,b={offset:m-c,size:0};u=a.reduce(function(S,A){var E={item:A.item,position:{offset:b.offset+b.size+c,size:d?p:A.barSize}},C=[].concat(PD(S),[E]);return b=C[C.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(L){C.push({item:L,position:b})}),C},f)}else{var g=Pg(r,i,0,!0);i-2*g-(l-1)*c<=0&&(c=0);var w=(i-2*g-(l-1)*c)/l;w>1&&(w>>=0);var x=o===+o?Math.min(w,o):w;u=a.reduce(function(S,A,E){var C=[].concat(PD(S),[{item:A.item,position:{offset:g+(w+c)*E+(w-x)/2,size:x}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(L){C.push({item:L,position:C[C.length-1].position})}),C},f)}return u},Dge=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=Fz({children:s,legendWidth:l});if(c){var u=i||{},f=u.width,d=u.height,p=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&$e(e[p]))return Tr(Tr({},e),{},l0({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&$e(e[v]))return Tr(Tr({},e),{},l0({},v,e[v]+(d||0)))}return e},Fge=function(e,n,r){return Yt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},$z=function(e,n,r,i,s){var a=n.props.children,o=xl(a,$P).filter(function(c){return Fge(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Va(u,r);if(Yt(f))return c;var d=Array.isArray(f)?[jP(f),If(f)]:[f,f],p=l.reduce(function(v,m){var b=Va(u,m,0),g=d[0]-Math.abs(Array.isArray(b)?b[0]:b),w=d[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(g,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},$ge=function(e,n,r,i,s){var a=n.map(function(o){return $z(e,o,r,s,i)}).filter(function(o){return!Yt(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Bz=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&$z(e,l,c,i)||bb(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Uz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Xd=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?vl(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=s?s.indexOf(f):f;return{coordinate:i(d)+c,value:f,offset:c}});return u.filter(function(f){return!Sy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+c,value:f,index:d,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,d){return{coordinate:i(f)+c,value:s?s[f]:f,index:d,offset:c}})},RC=new WeakMap,a5=function(e,n){if(typeof n!="function")return e;RC.has(e)||RC.set(e,new WeakMap);var r=RC.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Bge=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:Jb(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:CS(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yb(),realScaleType:"point"}:s==="category"?{scale:Jb(),realScaleType:"band"}:{scale:CS(),realScaleType:"linear"};if(Eg(i)){var l="scale".concat(AP(i));return{scale:(wD[l]||yb)(),realScaleType:wD[l]?l:"point"}}return Ht(i)?{scale:i}:{scale:yb(),realScaleType:"point"}},CD=1e-4,Uge=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-CD,a=Math.max(i[0],i[1])+CD,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},zge=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},qge=function(e,n){if(!n||n.length!==2||!$e(n[0])||!$e(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!$e(e[0])||e[0]<r)&&(s[0]=r),(!$e(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Hge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=Sy(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},Wge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=Sy(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Vge={sign:Hge,expand:sne,none:Kv,silhouette:ane,wiggle:one,positive:Wge},Gge=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=Vge[r],a=ine().keys(i).value(function(o,l){return+Va(o,l,0)}).order($O).offset(s);return a(e)},Kge=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(f,d){var p,v=(p=d.type)!==null&&p!==void 0&&p.defaultProps?Tr(Tr({},d.type.defaultProps),d.props):d.props,m=v.stackId,b=v.hide;if(b)return f;var g=v[r],w=f[g]||{hasStack:!1,stackGroups:{}};if(gi(m)){var x=w.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),w.hasStack=!0,w.stackGroups[m]=x}else w.stackGroups[jx("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Tr(Tr({},f),{},l0({},g,w))},l),u={};return Object.keys(c).reduce(function(f,d){var p=c[d];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var g=p.stackGroups[b];return Tr(Tr({},m),{},l0({},b,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:Gge(e,g.items,s)}))},v)}return Tr(Tr({},f),{},l0({},d,p))},u)},Yge=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=age(c,s,o);return e.domain([jP(u),If(u)]),{niceTicks:u}}if(s&&i==="number"){var f=e.domain(),d=oge(f,s,o);return{niceTicks:d}}return null};function TD(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Yt(i[e.dataKey])){var o=sS(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Va(i,Yt(a)?e.dataKey:a);return Yt(l)?null:e.scale(l)}var OD=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Va(a,n.dataKey,n.domain[o]);return Yt(l)?null:n.scale(l)-s/2+i},Xge=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Jge=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(gi(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Zge=function(e){return e.reduce(function(n,r){return[jP(r.concat([n[0]]).filter($e)),If(r.concat([n[1]]).filter($e))]},[1/0,-1/0])},zz=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,u){var f=Zge(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},ND=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g3=function(e,n,r){if(Ht(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if($e(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(ND.test(e[0])){var s=+ND.exec(e[0])[1];i[0]=n[0]-s}else Ht(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if($e(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(LD.test(e[1])){var a=+LD.exec(e[1])[1];i[1]=n[1]+a}else Ht(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},MS=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=fI(n,function(f){return f.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},ID=function(e,n,r){return!e||!e.length||nw(e,To(r,"type.defaultProps.domain"))?n:e},qz=function(e,n){var r=e.type.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Tr(Tr({},Kt(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:FI(e),value:Va(n,i),type:l,payload:n,chartType:c,hide:u})};function ow(t){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(t)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){Qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qge(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return ow(e)=="symbol"?e:e+""}function tme(t,e){if(ow(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ow(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jS=Math.PI/180,nme=function(e){return e*180/Math.PI},Ji=function(e,n,r,i){return{x:e+Math.cos(-jS*i)*r,y:n+Math.sin(-jS*i)*r}},rme=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},ime=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=rme({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:nme(c),angleInRadian:c}},sme=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},ame=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},jD=function(e,n){var r=e.x,i=e.y,s=ime({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=sme(n),f=u.startAngle,d=u.endAngle,p=o,v;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=f}return v?MD(MD({},n),{},{radius:a,angle:ame(p,n)}):null};function lw(t){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lw(t)}var ome=["offset"];function lme(t){return fme(t)||hme(t)||ume(t)||cme()}function cme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ume(t,e){if(t){if(typeof t=="string")return m3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m3(t,e)}}function hme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fme(t){if(Array.isArray(t))return m3(t)}function m3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dme(t,e){if(t==null)return{};var n=pme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return e=mme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mme(t){var e=vme(t,"string");return lw(e)=="symbol"?e:e+""}function vme(t,e){if(lw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}var yme=function(e){var n=e.value,r=e.formatter,i=Yt(e.children)?n:e.children;return Ht(r)?r(i):i},bme=function(e,n){var r=vl(n-e),i=Math.min(Math.abs(n-e),360);return r*i},wme=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,u=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,b=(f+d)/2,g=bme(p,v),w=g>=0?1:-1,x,S;i==="insideStart"?(x=p+w*a,S=m):i==="insideEnd"?(x=v-w*a,S=!m):i==="end"&&(x=v+w*a,S=m),S=g<=0?S:!S;var A=Ji(c,u,b,x),E=Ji(c,u,b,x+(S?1:-1)*359),C="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),L=Yt(e.id)?jx("recharts-radial-line-"):e.id;return pe.createElement("text",cw({},r,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",o)}),pe.createElement("defs",null,pe.createElement("path",{id:L,d:C})),pe.createElement("textPath",{xlinkHref:"#".concat(L)},n))},xme=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,f=s.endAngle,d=(u+f)/2;if(i==="outside"){var p=Ji(a,o,c+r,d),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,g=Ji(a,o,b,d),w=g.x,x=g.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},_me=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,d=f*i,p=f>0?"end":"start",v=f>0?"start":"end",m=c>=0?1:-1,b=m*i,g=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var x={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return oi(oi({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var S={x:o+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:v};return oi(oi({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var A={x:o-b,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return oi(oi({},A),r?{width:Math.max(A.x-r.x,0),height:u}:{})}if(s==="right"){var E={x:o+c+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return oi(oi({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:u}:{})}var C=r?{width:c,height:u}:{};return s==="insideLeft"?oi({x:o+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},C):s==="insideRight"?oi({x:o+c-b,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},C):s==="insideTop"?oi({x:o+c/2,y:l+d,textAnchor:"middle",verticalAnchor:v},C):s==="insideBottom"?oi({x:o+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:p},C):s==="insideTopLeft"?oi({x:o+b,y:l+d,textAnchor:w,verticalAnchor:v},C):s==="insideTopRight"?oi({x:o+c-b,y:l+d,textAnchor:g,verticalAnchor:v},C):s==="insideBottomLeft"?oi({x:o+b,y:l+u-d,textAnchor:w,verticalAnchor:p},C):s==="insideBottomRight"?oi({x:o+c-b,y:l+u-d,textAnchor:g,verticalAnchor:p},C):wy(s)&&($e(s.x)||Gd(s.x))&&($e(s.y)||Gd(s.y))?oi({x:o+Pg(s.x,c),y:l+Pg(s.y,u),textAnchor:"end",verticalAnchor:"end"},C):oi({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Ame=function(e){return"cx"in e&&$e(e.cx)};function vs(t){var e=t.offset,n=e===void 0?5:e,r=dme(t,ome),i=oi({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!s||Yt(o)&&Yt(l)&&!Ae.isValidElement(c)&&!Ht(c))return null;if(Ae.isValidElement(c))return Ae.cloneElement(c,i);var p;if(Ht(c)){if(p=Ae.createElement(c,i),Ae.isValidElement(p))return p}else p=yme(i);var v=Ame(s),m=Kt(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return wme(i,p,m);var b=v?xme(i):_me(i);return pe.createElement(xS,cw({className:ln("recharts-label",f)},m,b,{breakAll:d}),p)}vs.displayName="Label";var Hz=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,p=e.top,v=e.left,m=e.width,b=e.height,g=e.clockWise,w=e.labelViewBox;if(w)return w;if($e(m)&&$e(b)){if($e(f)&&$e(d))return{x:f,y:d,width:m,height:b};if($e(p)&&$e(v))return{x:p,y:v,width:m,height:b}}return $e(f)&&$e(d)?{x:f,y:d,width:0,height:0}:$e(n)&&$e(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:g}:e.viewBox?e.viewBox:{}},Sme=function(e,n){return e?e===!0?pe.createElement(vs,{key:"label-implicit",viewBox:n}):gi(e)?pe.createElement(vs,{key:"label-implicit",viewBox:n,value:e}):Ae.isValidElement(e)?e.type===vs?Ae.cloneElement(e,{key:"label-implicit",viewBox:n}):pe.createElement(vs,{key:"label-implicit",content:e,viewBox:n}):Ht(e)?pe.createElement(vs,{key:"label-implicit",content:e,viewBox:n}):wy(e)?pe.createElement(vs,cw({viewBox:n},e,{key:"label-implicit"})):null:null},Eme=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=Hz(e),a=xl(i,vs).map(function(l,c){return Ae.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=Sme(e.label,n||s);return[o].concat(lme(a))};vs.parseViewBox=Hz;vs.renderCallByParent=Eme;function Pme(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kme=Pme;const Cme=Gn(kme);function uw(t){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uw(t)}var Tme=["valueAccessor"],Ome=["data","dataKey","clockWise","id","textBreakAll"];function Nme(t){return Mme(t)||Rme(t)||Ime(t)||Lme()}function Lme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ime(t,e){if(t){if(typeof t=="string")return v3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v3(t,e)}}function Rme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mme(t){if(Array.isArray(t))return v3(t)}function v3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(this,arguments)}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){jme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jme(t,e,n){return e=Dme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dme(t){var e=Fme(t,"string");return uw(e)=="symbol"?e:e+""}function Fme(t,e){if(uw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BD(t,e){if(t==null)return{};var n=$me(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $me(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bme=function(e){return Array.isArray(e.value)?Cme(e.value):e.value};function Wf(t){var e=t.valueAccessor,n=e===void 0?Bme:e,r=BD(t,Tme),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=BD(r,Ome);return!i||!i.length?null:pe.createElement(pr,{className:"recharts-label-list"},i.map(function(u,f){var d=Yt(s)?n(u,f):Va(u&&u.payload,s),p=Yt(o)?{}:{id:"".concat(o,"-").concat(f)};return pe.createElement(vs,DS({},Kt(u,!0),c,p,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:vs.parseViewBox(Yt(a)?u:$D($D({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Wf.displayName="LabelList";function Ume(t,e){return t?t===!0?pe.createElement(Wf,{key:"labelList-implicit",data:e}):pe.isValidElement(t)||Ht(t)?pe.createElement(Wf,{key:"labelList-implicit",data:e,content:t}):wy(t)?pe.createElement(Wf,DS({data:e},t,{key:"labelList-implicit"})):null:null}function zme(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=xl(r,Wf).map(function(a,o){return Ae.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=Ume(t.label,e);return[s].concat(Nme(i))}Wf.renderCallByParent=zme;function hw(t){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hw(t)}function y3(){return y3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y3.apply(this,arguments)}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qme(t,e,n){return e=Hme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hme(t){var e=Wme(t,"string");return hw(e)=="symbol"?e:e+""}function Wme(t,e){if(hw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vme=function(e,n){var r=vl(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},o5=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/jS,d=c?s:s+a*f,p=Ji(n,r,u,d),v=Ji(n,r,i,d),m=c?s-a*f:s,b=Ji(n,r,u*Math.cos(f*jS),m);return{center:p,circleTangency:v,lineTangency:b,theta:f}},Wz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Vme(a,o),c=a+l,u=Ji(n,r,s,a),f=Ji(n,r,s,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ji(n,r,i,a),v=Ji(n,r,i,c);d+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Gme=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=vl(u-c),d=o5({cx:n,cy:r,radius:s,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,v=d.lineTangency,m=d.theta,b=o5({cx:n,cy:r,radius:s,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),g=b.circleTangency,w=b.lineTangency,x=b.theta,S=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Wz({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var E=o5({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=E.circleTangency,L=E.lineTangency,I=E.theta,q=o5({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=q.circleTangency,M=q.lineTangency,z=q.theta,$=l?Math.abs(c-u):Math.abs(c-u)-I-z;if($<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},Kme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vz=function(e){var n=zD(zD({},Kme),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,d=n.className;if(a<s||u===f)return null;var p=ln("recharts-sector",d),v=a-s,m=Pg(o,v,0,!0),b;return m>0&&Math.abs(u-f)<360?b=Gme({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):b=Wz({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:f}),pe.createElement("path",y3({},Kt(n,!0),{className:p,d:b,role:"img"}))};function fw(t){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fw(t)}function b3(){return b3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b3.apply(this,arguments)}function qD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(n),!0).forEach(function(r){Yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yme(t,e,n){return e=Xme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xme(t){var e=Jme(t,"string");return fw(e)=="symbol"?e:e+""}function Jme(t,e){if(fw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WD={curveBasisClosed:Gte,curveBasisOpen:Kte,curveBasis:Vte,curveBumpX:Lte,curveBumpY:Ite,curveLinearClosed:Yte,curveLinear:EP,curveMonotoneX:Xte,curveMonotoneY:Jte,curveNatural:Zte,curveStep:Qte,curveStepAfter:tne,curveStepBefore:ene},l5=function(e){return e.x===+e.x&&e.y===+e.y},_1=function(e){return e.x},A1=function(e){return e.y},Zme=function(e,n){if(Ht(e))return e;var r="curve".concat(AP(e));return(r==="curveMonotone"||r==="curveBump")&&n?WD["".concat(r).concat(n==="vertical"?"Y":"X")]:WD[r]||EP},Qme=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Zme(r,o),f=c?s.filter(function(m){return l5(m)}):s,d;if(Array.isArray(a)){var p=c?a.filter(function(m){return l5(m)}):a,v=f.map(function(m,b){return HD(HD({},m),{},{base:p[b]})});return o==="vertical"?d=Z_().y(A1).x1(_1).x0(function(m){return m.base.x}):d=Z_().x(_1).y1(A1).y0(function(m){return m.base.y}),d.defined(l5).curve(u),d(v)}return o==="vertical"&&$e(a)?d=Z_().y(A1).x1(_1).x0(a):$e(a)?d=Z_().x(_1).y1(A1).y0(a):d=KU().x(_1).y(A1),d.defined(l5).curve(u),d(f)},wb=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Qme(e):i;return Ae.createElement("path",b3({},Kt(e,!1),aS(e),{className:ln("recharts-curve",n),d:a,ref:s}))},Gz={exports:{}},e0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t0e=e0e,n0e=t0e;function Kz(){}function Yz(){}Yz.resetWarningCache=Kz;var r0e=function(){function t(r,i,s,a,o,l){if(l!==n0e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Yz,resetWarningCache:Kz};return n.PropTypes=n,n};Gz.exports=r0e();var i0e=Gz.exports;const pn=Gn(i0e),{getOwnPropertyNames:s0e,getOwnPropertySymbols:a0e}=Object,{hasOwnProperty:o0e}=Object.prototype;function MC(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function c5(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);const l=t(n,r,i);return s.delete(n),s.delete(r),l}}function l0e(t){return t!=null?t[Symbol.toStringTag]:void 0}function VD(t){return s0e(t).concat(a0e(t))}const c0e=Object.hasOwn||((t,e)=>o0e.call(t,e));function $g(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const u0e="__v",h0e="__o",f0e="_owner",{getOwnPropertyDescriptor:GD,keys:KD}=Object;function d0e(t,e){return t.byteLength===e.byteLength&&FS(new Uint8Array(t),new Uint8Array(e))}function p0e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function g0e(t,e){return t.byteLength===e.byteLength&&FS(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function m0e(t,e){return $g(t.getTime(),e.getTime())}function v0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function y0e(t,e){return t===e}function YD(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let a,o,l=0;for(;(a=s.next())&&!a.done;){const c=e.entries();let u=!1,f=0;for(;(o=c.next())&&!o.done;){if(i[f]){f++;continue}const d=a.value,p=o.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const b0e=$g;function w0e(t,e,n){const r=KD(t);let i=r.length;if(KD(e).length!==i)return!1;for(;i-- >0;)if(!Xz(t,e,n,r[i]))return!1;return!0}function S1(t,e,n){const r=VD(t);let i=r.length;if(VD(e).length!==i)return!1;let s,a,o;for(;i-- >0;)if(s=r[i],!Xz(t,e,n,s)||(a=GD(t,s),o=GD(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function x0e(t,e){return $g(t.valueOf(),e.valueOf())}function _0e(t,e){return t.source===e.source&&t.flags===e.flags}function XD(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let a,o;for(;(a=s.next())&&!a.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function FS(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function A0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Xz(t,e,n,r){return(r===f0e||r===h0e||r===u0e)&&(t.$$typeof||e.$$typeof)?!0:c0e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const S0e="[object ArrayBuffer]",E0e="[object Arguments]",P0e="[object Boolean]",k0e="[object DataView]",C0e="[object Date]",T0e="[object Error]",O0e="[object Map]",N0e="[object Number]",L0e="[object Object]",I0e="[object RegExp]",R0e="[object Set]",M0e="[object String]",j0e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},D0e="[object URL]",F0e=Object.prototype.toString;function $0e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:v}){return function(b,g,w){if(b===g)return!0;if(b==null||g==null)return!1;const x=typeof b;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(b,g,w):x==="function"?s(b,g,w):!1;const S=b.constructor;if(S!==g.constructor)return!1;if(S===Object)return l(b,g,w);if(Array.isArray(b))return e(b,g,w);if(S===Date)return r(b,g,w);if(S===RegExp)return u(b,g,w);if(S===Map)return a(b,g,w);if(S===Set)return f(b,g,w);const A=F0e.call(b);if(A===C0e)return r(b,g,w);if(A===I0e)return u(b,g,w);if(A===O0e)return a(b,g,w);if(A===R0e)return f(b,g,w);if(A===L0e)return typeof b.then!="function"&&typeof g.then!="function"&&l(b,g,w);if(A===D0e)return p(b,g,w);if(A===T0e)return i(b,g,w);if(A===E0e)return l(b,g,w);if(j0e[A])return d(b,g,w);if(A===S0e)return t(b,g,w);if(A===k0e)return n(b,g,w);if(A===P0e||A===N0e||A===M0e)return c(b,g,w);if(v){let E=v[A];if(!E){const C=l0e(b);C&&(E=v[C])}if(E)return E(b,g,w)}return!1}}function B0e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:d0e,areArraysEqual:n?S1:p0e,areDataViewsEqual:g0e,areDatesEqual:m0e,areErrorsEqual:v0e,areFunctionsEqual:y0e,areMapsEqual:n?MC(YD,S1):YD,areNumbersEqual:b0e,areObjectsEqual:n?S1:w0e,arePrimitiveWrappersEqual:x0e,areRegExpsEqual:_0e,areSetsEqual:n?MC(XD,S1):XD,areTypedArraysEqual:n?MC(FS,S1):FS,areUrlsEqual:A0e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=c5(r.areArraysEqual),s=c5(r.areMapsEqual),a=c5(r.areObjectsEqual),o=c5(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:o})}return r}function U0e(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function z0e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,s)}}const q0e=id();id({strict:!0});id({circular:!0});id({circular:!0,strict:!0});id({createInternalComparator:()=>$g});id({strict:!0,createInternalComparator:()=>$g});id({circular:!0,createInternalComparator:()=>$g});id({circular:!0,createInternalComparator:()=>$g,strict:!0});function id(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=B0e(t),a=$0e(s),o=n?n(a):U0e(a);return z0e({circular:e,comparator:a,createState:r,equals:o,strict:i})}function H0e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function JD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):H0e(i)};requestAnimationFrame(r)}function w3(t){"@babel/helpers - typeof";return w3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w3(t)}function W0e(t){return Y0e(t)||K0e(t)||G0e(t)||V0e()}function V0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G0e(t,e){if(t){if(typeof t=="string")return ZD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZD(t,e)}}function ZD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y0e(t){if(Array.isArray(t))return t}function X0e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=W0e(a),l=o[0],c=o.slice(1);if(typeof l=="number"){JD(i.bind(null,c),l);return}i(l),JD(i.bind(null,c));return}w3(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function dw(t){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(t)}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Jz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jz(t,e,n){return e=J0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J0e(t){var e=Z0e(t,"string");return dw(e)==="symbol"?e:String(e)}function Z0e(t,e){if(dw(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q0e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},eve=function(e){return e},tve=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xb=function(e,n){return Object.keys(n).reduce(function(r,i){return e8(e8({},r),{},Jz({},i,e(i,n[i])))},{})},t8=function(e,n,r){return e.map(function(i){return"".concat(tve(i)," ").concat(n,"ms ").concat(r)}).join(",")};function nve(t,e){return sve(t)||ive(t,e)||Zz(t,e)||rve()}function rve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ive(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function sve(t){if(Array.isArray(t))return t}function ave(t){return cve(t)||lve(t)||Zz(t)||ove()}function ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zz(t,e){if(t){if(typeof t=="string")return x3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x3(t,e)}}function lve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cve(t){if(Array.isArray(t))return x3(t)}function x3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $S=1e-4,Qz=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},eq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},n8=function(e,n){return function(r){var i=Qz(e,n);return eq(i,r)}},uve=function(e,n){return function(r){var i=Qz(e,n),s=[].concat(ave(i.map(function(a,o){return a*o}).slice(1)),[0]);return eq(s,r)}},r8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=nve(c,4);i=u[0],s=u[1],a=u[2],o=u[3]}}}var f=n8(i,a),d=n8(s,o),p=uve(i,a),v=function(g){return g>1?1:g<0?0:g},m=function(g){for(var w=g>1?1:g,x=w,S=0;S<8;++S){var A=f(x)-w,E=p(x);if(Math.abs(A-w)<$S||E<$S)return d(x);x=v(x-A/E)}return d(x)};return m.isStepper=!1,m},hve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(u,f,d){var p=-(u-f)*r,v=d*s,m=d+(p-v)*o/1e3,b=d*o/1e3+u;return Math.abs(b-f)<$S&&Math.abs(m)<$S?[f,0]:[b,m]};return l.isStepper=!0,l.dt=o,l},fve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return r8(i);case"spring":return hve();default:if(i.split("(")[0]==="cubic-bezier")return r8(i)}return typeof i=="function"?i:null};function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}function i8(t){return gve(t)||pve(t)||tq(t)||dve()}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gve(t){if(Array.isArray(t))return A3(t)}function s8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(n),!0).forEach(function(r){_3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _3(t,e,n){return e=mve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mve(t){var e=vve(t,"string");return pw(e)==="symbol"?e:String(e)}function vve(t,e){if(pw(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yve(t,e){return xve(t)||wve(t,e)||tq(t,e)||bve()}function bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tq(t,e){if(t){if(typeof t=="string")return A3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A3(t,e)}}function A3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function xve(t){if(Array.isArray(t))return t}var BS=function(e,n,r){return e+(n-e)*r},S3=function(e){var n=e.from,r=e.to;return n!==r},_ve=function t(e,n,r){var i=xb(function(s,a){if(S3(a)){var o=e(a.from,a.to,a.velocity),l=yve(o,2),c=l[0],u=l[1];return Vi(Vi({},a),{},{from:c,velocity:u})}return a},n);return r<1?xb(function(s,a){return S3(a)?Vi(Vi({},a),{},{velocity:BS(a.velocity,i[s].velocity,r),from:BS(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const Ave=function(t,e,n,r,i){var s=Q0e(t,e),a=s.reduce(function(b,g){return Vi(Vi({},b),{},_3({},g,[t[g],e[g]]))},{}),o=s.reduce(function(b,g){return Vi(Vi({},b),{},_3({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,c,u,f=function(){return null},d=function(){return xb(function(g,w){return w.from},o)},p=function(){return!Object.values(o).filter(S3).length},v=function(g){c||(c=g);var w=g-c,x=w/n.dt;o=_ve(n,o,x),i(Vi(Vi(Vi({},t),e),d())),c=g,p()||(l=requestAnimationFrame(f))},m=function(g){u||(u=g);var w=(g-u)/r,x=xb(function(A,E){return BS.apply(void 0,i8(E).concat([n(w)]))},a);if(i(Vi(Vi(Vi({},t),e),x)),w<1)l=requestAnimationFrame(f);else{var S=xb(function(A,E){return BS.apply(void 0,i8(E).concat([n(1)]))},a);i(Vi(Vi(Vi({},t),e),S))}};return f=n.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}var Sve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Eve(t,e){if(t==null)return{};var n=Pve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jC(t){return Ove(t)||Tve(t)||Cve(t)||kve()}function kve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cve(t,e){if(t){if(typeof t=="string")return E3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E3(t,e)}}function Tve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ove(t){if(Array.isArray(t))return E3(t)}function E3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(r){D1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D1(t,e,n){return e=nq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nq(r.key),r)}}function Ive(t,e,n){return e&&Lve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nq(t){var e=Rve(t,"string");return ry(e)==="symbol"?e:String(e)}function Rve(t,e){if(ry(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P3(t,e)}function P3(t,e){return P3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P3(t,e)}function jve(t){var e=Dve();return function(){var r=US(t),i;if(e){var s=US(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return k3(this,i)}}function k3(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C3(t)}function C3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function US(t){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},US(t)}var nh=function(t){Mve(n,t);var e=jve(n);function n(r,i){var s;Nve(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,d=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(C3(s)),s.changeStyle=s.changeStyle.bind(C3(s)),!o||p<=0)return s.state={style:{}},typeof d=="function"&&(s.state={style:u}),k3(s);if(f&&f.length)s.state={style:f[0].style};else if(c){if(typeof d=="function")return s.state={style:c},k3(s);s.state={style:l?D1({},l,c):c}}else s.state={style:{}};return s}return Ive(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,f=s.from,d=this.state.style;if(o){if(!a){var p={style:l?D1({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(p);return}if(!(q0e(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?f:i.to;if(this.state&&d){var b={style:l?D1({},l,m):m};(l&&d[l]!==m||!l&&d!==m)&&this.setState(b)}this.runAnimation(Go(Go({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Ave(a,o,fve(c),l,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([d,u,v,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,d=f===void 0?0:f,p=function(m,b,g){if(g===0)return m;var w=b.duration,x=b.easing,S=x===void 0?"ease":x,A=b.style,E=b.properties,C=b.onAnimationEnd,L=g>0?a[g-1]:b,I=E||Object.keys(A);if(typeof S=="function"||S==="spring")return[].concat(jC(m),[s.runJSAnimation.bind(s,{from:L.style,to:A,duration:w,easing:S}),w]);var q=t8(I,w,S),O=Go(Go(Go({},L.style),A),{},{transition:q});return[].concat(jC(m),[O,w,C]).filter(eve)};return this.manager.start([l].concat(jC(a.reduce(p,[u,Math.max(d,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=X0e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var m=o?D1({},o,l):l,b=t8(Object.keys(m),a,c);v.start([u,s,Go(Go({},m),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Eve(i,Sve),c=Ae.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!o||c===0||a<=0)return s;var f=function(p){var v=p.props,m=v.style,b=m===void 0?{}:m,g=v.className,w=Ae.cloneElement(p,Go(Go({},l),{},{style:Go(Go({},b),u),className:g}));return w};return c===1?f(Ae.Children.only(s)):pe.createElement("div",null,Ae.Children.map(s,function(d){return f(d)}))}}]),n}(Ae.PureComponent);nh.displayName="Animate";nh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};nh.propTypes={from:pn.oneOfType([pn.object,pn.string]),to:pn.oneOfType([pn.object,pn.string]),attributeName:pn.string,duration:pn.number,begin:pn.number,easing:pn.oneOfType([pn.string,pn.func]),steps:pn.arrayOf(pn.shape({duration:pn.number.isRequired,style:pn.object.isRequired,easing:pn.oneOfType([pn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pn.func]),properties:pn.arrayOf("string"),onAnimationEnd:pn.func})),children:pn.oneOfType([pn.node,pn.func]),isActive:pn.bool,canBegin:pn.bool,onAnimationEnd:pn.func,shouldReAnimate:pn.bool,onAnimationStart:pn.func,onAnimationReStart:pn.func};function gw(t){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}function Fve(t,e){return zve(t)||Uve(t,e)||Bve(t,e)||$ve()}function $ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bve(t,e){if(t){if(typeof t=="string")return o8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o8(t,e)}}function o8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function zve(t){if(Array.isArray(t))return t}function l8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return e=Hve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hve(t){var e=Wve(t,"string");return gw(e)=="symbol"?e:e+""}function Wve(t,e){if(gw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u8=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=s[d]>a?a:s[d];u="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),u+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var v=Math.min(a,s);u="M ".concat(e,",").concat(n+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*v,`
            L `).concat(e+r,",").concat(n+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*v," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},Vve=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),u=Math.max(s,s+o),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=c&&r<=u&&i>=f&&i<=d}return!1},Gve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$I=function(e){var n=c8(c8({},Gve),e),r=Ae.useRef(),i=Ae.useState(-1),s=Fve(i,2),a=s[0],o=s[1];Ae.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,d=n.radius,p=n.className,v=n.animationEasing,m=n.animationDuration,b=n.animationBegin,g=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=ln("recharts-rectangle",p);return w?pe.createElement(nh,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:v,isActive:w},function(S){var A=S.width,E=S.height,C=S.x,L=S.y;return pe.createElement(nh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:g,easing:v},pe.createElement("path",zS({},Kt(n,!0),{className:x,d:u8(C,L,A,E,d),ref:r})))}):pe.createElement("path",zS({},Kt(n,!0),{className:x,d:u8(l,c,u,f,d)}))};function T3(){return T3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T3.apply(this,arguments)}var BI=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=ln("recharts-dot",s);return n===+n&&r===+r&&i===+i?Ae.createElement("circle",T3({},Kt(e,!1),aS(e),{className:a,cx:n,cy:r,r:i})):null};function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}var Kve=["x","y","top","left","width","height","className"];function O3(){return O3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O3.apply(this,arguments)}function h8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(n),!0).forEach(function(r){Xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xve(t,e,n){return e=Jve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jve(t){var e=Zve(t,"string");return mw(e)=="symbol"?e:e+""}function Zve(t,e){if(mw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qve(t,e){if(t==null)return{};var n=eye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tye=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},nye=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,d=e.height,p=d===void 0?0:d,v=e.className,m=Qve(e,Kve),b=Yve({x:r,y:s,top:o,left:c,width:f,height:p},m);return!$e(r)||!$e(s)||!$e(f)||!$e(p)||!$e(o)||!$e(c)?null:pe.createElement("path",O3({},Kt(b,!0),{className:ln("recharts-cross",v),d:tye(r,s,f,p,o,c)}))},rye=y9,iye=rye(Object.getPrototypeOf,Object),sye=iye,aye=ah,oye=sye,lye=oh,cye="[object Object]",uye=Function.prototype,hye=Object.prototype,rq=uye.toString,fye=hye.hasOwnProperty,dye=rq.call(Object);function pye(t){if(!lye(t)||aye(t)!=cye)return!1;var e=oye(t);if(e===null)return!0;var n=fye.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&rq.call(n)==dye}var gye=pye;const mye=Gn(gye);var vye=ah,yye=oh,bye="[object Boolean]";function wye(t){return t===!0||t===!1||yye(t)&&vye(t)==bye}var xye=wye;const _ye=Gn(xye);function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(this,arguments)}function Aye(t,e){return kye(t)||Pye(t,e)||Eye(t,e)||Sye()}function Sye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eye(t,e){if(t){if(typeof t=="string")return f8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f8(t,e)}}function f8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function kye(t){if(Array.isArray(t))return t}function d8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(n),!0).forEach(function(r){Cye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cye(t,e,n){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tye(t){var e=Oye(t,"string");return vw(e)=="symbol"?e:e+""}function Oye(t,e){if(vw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g8=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},Nye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lye=function(e){var n=p8(p8({},Nye),e),r=Ae.useRef(),i=Ae.useState(-1),s=Aye(i,2),a=s[0],o=s[1];Ae.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,v=n.animationEasing,m=n.animationDuration,b=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var w=ln("recharts-trapezoid",p);return g?pe.createElement(nh,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:d,x:l,y:c},duration:m,animationEasing:v,isActive:g},function(x){var S=x.upperWidth,A=x.lowerWidth,E=x.height,C=x.x,L=x.y;return pe.createElement(nh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:v},pe.createElement("path",qS({},Kt(n,!0),{className:w,d:g8(C,L,S,A,E),ref:r})))}):pe.createElement("g",null,pe.createElement("path",qS({},Kt(n,!0),{className:w,d:g8(l,c,u,f,d)})))},Iye=["option","shapeType","propTransformer","activeClassName","isActive"];function yw(t){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(t)}function Rye(t,e){if(t==null)return{};var n=Mye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(n),!0).forEach(function(r){jye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jye(t,e,n){return e=Dye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dye(t){var e=Fye(t,"string");return yw(e)=="symbol"?e:e+""}function Fye(t,e){if(yw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ye(t,e){return HS(HS({},e),t)}function Bye(t,e){return t==="symbols"}function v8(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return pe.createElement($I,n);case"trapezoid":return pe.createElement(Lye,n);case"sector":return pe.createElement(Vz,n);case"symbols":if(Bye(e))return pe.createElement(rI,n);break;default:return null}}function Uye(t){return Ae.isValidElement(t)?t.props:t}function zye(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$ye:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=Rye(t,Iye),c;if(Ae.isValidElement(e))c=Ae.cloneElement(e,HS(HS({},l),Uye(e)));else if(Ht(e))c=e(l);else if(mye(e)&&!_ye(e)){var u=i(e,l);c=pe.createElement(v8,{shapeType:n,elementProps:u})}else{var f=l;c=pe.createElement(v8,{shapeType:n,elementProps:f})}return o?pe.createElement(pr,{className:a},c):c}function BP(t,e){return e!=null&&"trapezoids"in t.props}function UP(t,e){return e!=null&&"sectors"in t.props}function bw(t,e){return e!=null&&"points"in t.props}function qye(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Hye(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Wye(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Vye(t,e){var n;return BP(t,e)?n=qye:UP(t,e)?n=Hye:bw(t,e)&&(n=Wye),n}function Gye(t,e){var n;return BP(t,e)?n="trapezoids":UP(t,e)?n="sectors":bw(t,e)&&(n="points"),n}function Kye(t,e){if(BP(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(UP(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return bw(t,e)?e.payload:{}}function Yye(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Gye(n,e),s=Kye(n,e),a=r.filter(function(l,c){var u=nw(s,l),f=n.props[i].filter(function(v){var m=Vye(n,e);return m(v,e)}),d=n.props[i].indexOf(f[f.length-1]),p=c===d;return u&&p}),o=r.indexOf(a[a.length-1]);return o}var Xye=Math.ceil,Jye=Math.max;function Zye(t,e,n,r){for(var i=-1,s=Jye(Xye((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var Qye=Zye,e1e=j9,y8=1/0,t1e=17976931348623157e292;function n1e(t){if(!t)return t===0?t:0;if(t=e1e(t),t===y8||t===-y8){var e=t<0?-1:1;return e*t1e}return t===t?t:0}var r1e=n1e,i1e=Qye,s1e=TP,DC=r1e;function a1e(t){return function(e,n,r){return r&&typeof r!="number"&&s1e(e,n,r)&&(n=r=void 0),e=DC(e),n===void 0?(n=e,e=0):n=DC(n),r=r===void 0?e<n?1:-1:DC(r),i1e(e,n,r,t)}}var o1e=a1e,l1e=o1e,c1e=l1e(),u1e=c1e;const WS=Gn(u1e);function ww(t){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ww(t)}function b8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(n),!0).forEach(function(r){iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iq(t,e,n){return e=h1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h1e(t){var e=f1e(t,"string");return ww(e)=="symbol"?e:e+""}function f1e(t,e){if(ww(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ww(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d1e=["Webkit","Moz","O","ms"],p1e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=d1e.reduce(function(s,a){return w8(w8({},s),{},iq({},a+r,n))},{});return i[e]=n,i};function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(this,arguments)}function x8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(n),!0).forEach(function(r){da(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aq(r.key),r)}}function m1e(t,e,n){return e&&_8(t.prototype,e),n&&_8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v1e(t,e,n){return e=GS(e),y1e(t,sq()?Reflect.construct(e,n||[],GS(t).constructor):e.apply(t,n))}function y1e(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b1e(t)}function b1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!t})()}function GS(t){return GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GS(t)}function w1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N3(t,e)}function N3(t,e){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N3(t,e)}function da(t,e,n){return e=aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aq(t){var e=x1e(t,"string");return iy(e)=="symbol"?e:e+""}function x1e(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _1e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=yb().domain(WS(0,l)).range([s,s+a-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},A8=function(e){return e.changedTouches&&!!e.changedTouches.length},sy=function(t){function e(n){var r;return g1e(this,e),r=v1e(this,e,[n]),da(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),da(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),da(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),da(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),da(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),da(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),da(r,"handleSlideDragStart",function(i){var s=A8(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return w1e(e,t),m1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,s),d=Math.max(i,s),p=e.getIndexInRange(a,f),v=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Va(s[r],o,r);return Ht(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,v=l.onChange,m=r.pageX-s;m>0?m=Math.min(m,c+u-f-o,c+u-f-a):m<0&&(m=Math.max(m,c-a,c-o));var b=this.getIndex({startX:a+m,endX:o+m});(b.startIndex!==d||b.endIndex!==p)&&v&&v(b),this.setState({startX:a+m,endX:o+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=A8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,d=u.width,p=u.travellerWidth,v=u.onChange,m=u.gap,b=u.data,g={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,f+d-p-c):w<0&&(w=Math.max(w,f-c)),g[a]=c+w;var x=this.getIndex(g),S=x.startIndex,A=x.endIndex,E=function(){var L=b.length-1;return a==="startX"&&(o>l?S%m===0:A%m===0)||o<l&&A===L||a==="endX"&&(o>l?A%m===0:S%m===0)||o>l&&A===L};this.setState(da(da({},a,c+w),"brushMoveStartX",r.pageX),function(){v&&E()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var d=f+r;if(!(d===-1||d>=o.length)){var p=o[d];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(da({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return pe.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,f=Ae.Children.only(c);return f?pe.cloneElement(f,{x:i,y:s,width:a,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,b=l.endIndex,g=Math.max(r,this.props.x),w=FC(FC({},Kt(this.props,!1)),{},{x:g,y:c,width:u,height:f}),x=p||"Min value: ".concat((s=v[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return pe.createElement(pr,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,d=u.endX,p=5,v={pointerEvents:"none",fill:c};return pe.createElement(pr,{className:"recharts-brush-texts"},pe.createElement(xS,VS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+o/2},v),this.getTextOfTick(i)),pe.createElement(xS,VS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+o/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,v=d.endX,m=d.isTextActive,b=d.isSlideMoving,g=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!$e(o)||!$e(l)||!$e(c)||!$e(u)||c<=0||u<=0)return null;var x=ln("recharts-brush",s),S=pe.Children.count(a)===1,A=p1e("userSelect","none");return pe.createElement(pr,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||b||g||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return pe.createElement(pe.Fragment,null,pe.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),pe.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),pe.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return pe.isValidElement(r)?s=pe.cloneElement(r,i):Ht(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return FC({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?_1e({data:s,width:a,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(Ae.PureComponent);da(sy,"displayName","Brush");da(sy,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var A1e=hI;function S1e(t,e){var n;return A1e(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var E1e=S1e,P1e=u9,k1e=Cy,C1e=E1e,T1e=ea,O1e=TP;function N1e(t,e,n){var r=T1e(t)?P1e:C1e;return n&&O1e(t,e,n)&&(e=void 0),r(t,k1e(e))}var L1e=N1e;const I1e=Gn(L1e);var wc=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},S8=N9;function R1e(t,e,n){e=="__proto__"&&S8?S8(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var M1e=R1e,j1e=M1e,D1e=T9,F1e=Cy;function $1e(t,e){var n={};return e=F1e(e),D1e(t,function(r,i,s){j1e(n,i,e(r,i,s))}),n}var B1e=$1e;const U1e=Gn(B1e);function z1e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var q1e=z1e,H1e=hI;function W1e(t,e){var n=!0;return H1e(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var V1e=W1e,G1e=q1e,K1e=V1e,Y1e=Cy,X1e=ea,J1e=TP;function Z1e(t,e,n){var r=X1e(t)?G1e:K1e;return n&&J1e(t,e,n)&&(e=void 0),r(t,Y1e(e))}var Q1e=Z1e;const ebe=Gn(Q1e);var tbe=["x","y"];function xw(t){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(t)}function L3(){return L3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L3.apply(this,arguments)}function E8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(n),!0).forEach(function(r){nbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nbe(t,e,n){return e=rbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rbe(t){var e=ibe(t,"string");return xw(e)=="symbol"?e:e+""}function ibe(t,e){if(xw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sbe(t,e){if(t==null)return{};var n=abe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function abe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function obe(t,e){var n=t.x,r=t.y,i=sbe(t,tbe),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return E1(E1(E1(E1(E1({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function P8(t){return pe.createElement(zye,L3({shapeType:"rectangle",propTransformer:obe,activeClassName:"recharts-active-bar"},t))}var lbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=$e(r)||vee(r);return s?e(r,i):(s||Cg(),n)}},cbe=["value","background"],oq;function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function ube(t,e){if(t==null)return{};var n=hbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(this,arguments)}function k8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(n),!0).forEach(function(r){Rf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cq(r.key),r)}}function dbe(t,e,n){return e&&C8(t.prototype,e),n&&C8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pbe(t,e,n){return e=YS(e),gbe(t,lq()?Reflect.construct(e,n||[],YS(t).constructor):e.apply(t,n))}function gbe(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mbe(t)}function mbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!t})()}function YS(t){return YS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YS(t)}function vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I3(t,e)}function I3(t,e){return I3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I3(t,e)}function Rf(t,e,n){return e=cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cq(t){var e=ybe(t,"string");return ay(e)=="symbol"?e:e+""}function ybe(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ux=function(t){function e(){var n;fbe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=pbe(this,e,[].concat(i)),Rf(n,"state",{isAnimationFinished:!1}),Rf(n,"id",jx("recharts-bar-")),Rf(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Rf(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return vbe(e,t),dbe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,u=Kt(this.props,!1);return r&&r.map(function(f,d){var p=d===l,v=p?c:a,m=Kr(Kr(Kr({},u),f),{},{isActive:p,option:v,index:d,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return pe.createElement(pr,KS({className:"recharts-bar-rectangle"},oS(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),pe.createElement(P8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return pe.createElement(nh,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=s.map(function(b,g){var w=d&&d[g];if(w){var x=So(w.x,b.x),S=So(w.y,b.y),A=So(w.width,b.width),E=So(w.height,b.height);return Kr(Kr({},b),{},{x:x(v),y:S(v),width:A(v),height:E(v)})}if(a==="horizontal"){var C=So(0,b.height),L=C(v);return Kr(Kr({},b),{},{y:b.y+b.height-L,height:L})}var I=So(0,b.width),q=I(v);return Kr(Kr({},b),{},{width:q})});return pe.createElement(pr,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!nw(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Kt(this.props.background,!1);return s.map(function(c,u){c.value;var f=c.background,d=ube(c,cbe);if(!f)return null;var p=Kr(Kr(Kr(Kr(Kr({},d),{},{fill:"#eee"},f),l),oS(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return pe.createElement(P8,KS({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,f=xl(u,$P);if(!f)return null;var d=c==="vertical"?a[0].height/2:a[0].width/2,p=function(b,g){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:Va(b,g)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return pe.createElement(pr,v,f.map(function(m){return pe.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,d=r.height,p=r.isAnimationActive,v=r.background,m=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,g=ln("recharts-bar",a),w=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,S=w||x,A=Yt(m)?this.id:m;return pe.createElement(pr,{className:g},w||x?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(A)},pe.createElement("rect",{x:w?c:c-f/2,y:x?u:u-d/2,width:w?f:f*2,height:x?d:d*2}))):null,pe.createElement(pr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,A),(!p||b)&&Wf.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(Ae.PureComponent);oq=Ux;Rf(Ux,"displayName","Bar");Rf(Ux,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ty.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Rf(Ux,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,p=zge(r,n);if(!p)return null;var v=e.layout,m=n.type.defaultProps,b=m!==void 0?Kr(Kr({},m),n.props):n.props,g=b.dataKey,w=b.children,x=b.minPointSize,S=v==="horizontal"?a:s,A=c?S.scale.domain():null,E=Xge({numericAxis:S}),C=xl(w,F9),L=f.map(function(I,q){var O,M,z,$,V,X;c?O=qge(c[u+q],A):(O=Va(I,g),Array.isArray(O)||(O=[E,O]));var Q=lbe(x,oq.defaultProps.minPointSize)(O[1],q);if(v==="horizontal"){var W,re=[a.scale(O[0]),a.scale(O[1])],ce=re[0],ae=re[1];M=OD({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:I,index:q}),z=(W=ae??ce)!==null&&W!==void 0?W:void 0,$=p.size;var D=ce-ae;if(V=Number.isNaN(D)?0:D,X={x:M,y:a.y,width:$,height:a.height},Math.abs(Q)>0&&Math.abs(V)<Math.abs(Q)){var K=vl(V||Q)*(Math.abs(Q)-Math.abs(V));z-=K,V+=K}}else{var ee=[s.scale(O[0]),s.scale(O[1])],se=ee[0],oe=ee[1];if(M=se,z=OD({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:q}),$=oe-se,V=p.size,X={x:s.x,y:z,width:s.width,height:V},Math.abs(Q)>0&&Math.abs($)<Math.abs(Q)){var fe=vl($||Q)*(Math.abs(Q)-Math.abs($));$+=fe}}return Kr(Kr(Kr({},I),{},{x:M,y:z,width:$,height:V,value:c?O:O[1],payload:I,background:X},C&&C[q]&&C[q].props),{},{tooltipPayload:[qz(n,I)],tooltipPosition:{x:M+$/2,y:z+V/2}})});return Kr({data:L,layout:v},d)});function _w(t){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(t)}function bbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uq(r.key),r)}}function wbe(t,e,n){return e&&T8(t.prototype,e),n&&T8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(n),!0).forEach(function(r){zP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zP(t,e,n){return e=uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uq(t){var e=xbe(t,"string");return _w(e)=="symbol"?e:e+""}function xbe(t,e){if(_w(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_w(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _be=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!Ma(c,Ux);return u.reduce(function(p,v){var m=n[v],b=m.orientation,g=m.domain,w=m.padding,x=w===void 0?{}:w,S=m.mirror,A=m.reversed,E="".concat(b).concat(S?"Mirror":""),C,L,I,q,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var M=g[1]-g[0],z=1/0,$=m.categoricalDomain.sort(wee);if($.forEach(function(ee,se){se>0&&(z=Math.min((ee||0)-($[se-1]||0),z))}),Number.isFinite(z)){var V=z/M,X=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(C=V*X/2),m.padding==="no-gap"){var Q=Pg(e.barCategoryGap,V*X),W=V*X/2;C=W-Q-(W-Q)/X*Q}}}i==="xAxis"?L=[r.left+(x.left||0)+(C||0),r.left+r.width-(x.right||0)-(C||0)]:i==="yAxis"?L=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(C||0),r.top+r.height-(x.bottom||0)-(C||0)]:L=m.range,A&&(L=[L[1],L[0]]);var re=Bge(m,s,d),ce=re.scale,ae=re.realScaleType;ce.domain(g).range(L),Uge(ce);var D=Yge(ce,dl(dl({},m),{},{realScaleType:ae}));i==="xAxis"?(O=b==="top"&&!S||b==="bottom"&&S,I=r.left,q=f[E]-O*m.height):i==="yAxis"&&(O=b==="left"&&!S||b==="right"&&S,I=f[E]-O*m.width,q=r.top);var K=dl(dl(dl({},m),D),{},{realScaleType:ae,x:I,y:q,scale:ce,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return K.bandSize=MS(K,D),!m.hide&&i==="xAxis"?f[E]+=(O?-1:1)*K.height:m.hide||(f[E]+=(O?-1:1)*K.width),dl(dl({},p),{},zP({},v,K))},{})},hq=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},Abe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return hq({x:n,y:r},{x:i,y:s})},fq=function(){function t(e){bbe(this,t),this.scale=e}return wbe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();zP(fq,"EPS",1e-4);var UI=function(e){var n=Object.keys(e).reduce(function(r,i){return dl(dl({},r),{},zP({},i,fq.create(e[i])))},{});return dl(dl({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return U1e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return ebe(i,function(s,a){return n[a].isInRange(s)})}})};function Sbe(t){return(t%180+180)%180}var Ebe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Sbe(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Pbe=AQ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),dq=Ae.createContext(void 0),pq=Ae.createContext(void 0),gq=Ae.createContext(void 0),kbe=Ae.createContext({}),mq=Ae.createContext(void 0),vq=Ae.createContext(0),yq=Ae.createContext(0),N8=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=Pbe(s);return pe.createElement(dq.Provider,{value:r},pe.createElement(pq.Provider,{value:i},pe.createElement(kbe.Provider,{value:s},pe.createElement(gq.Provider,{value:u},pe.createElement(mq.Provider,{value:a},pe.createElement(vq.Provider,{value:c},pe.createElement(yq.Provider,{value:l},o)))))))},Cbe=function(){return Ae.useContext(mq)},bq=function(e){var n=Ae.useContext(dq);n==null&&Cg();var r=n[e];return r==null&&Cg(),r},wq=function(e){var n=Ae.useContext(pq);n==null&&Cg();var r=n[e];return r==null&&Cg(),r},Tbe=function(){var e=Ae.useContext(gq);return e},xq=function(){return Ae.useContext(yq)},_q=function(){return Ae.useContext(vq)};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function Obe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sq(r.key),r)}}function Lbe(t,e,n){return e&&Nbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ibe(t,e,n){return e=XS(e),Rbe(t,Aq()?Reflect.construct(e,n||[],XS(t).constructor):e.apply(t,n))}function Rbe(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mbe(t)}function Mbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aq=function(){return!!t})()}function XS(t){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},XS(t)}function jbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R3(t,e)}function R3(t,e){return R3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R3(t,e)}function L8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(n),!0).forEach(function(r){zI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zI(t,e,n){return e=Sq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sq(t){var e=Dbe(t,"string");return oy(e)=="symbol"?e:e+""}function Dbe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fbe(t,e){return zbe(t)||Ube(t,e)||Bbe(t,e)||$be()}function $be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(t,e){if(t){if(typeof t=="string")return R8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R8(t,e)}}function R8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ube(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function zbe(t){if(Array.isArray(t))return t}function M3(){return M3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M3.apply(this,arguments)}var qbe=function(e,n){var r;return pe.isValidElement(e)?r=pe.cloneElement(e,n):Ht(e)?r=e(n):r=pe.createElement("line",M3({},n,{className:"recharts-reference-line-line"})),r},Hbe=function(e,n,r,i,s,a,o,l,c){var u=s.x,f=s.y,d=s.width,p=s.height;if(r){var v=c.y,m=e.y.apply(v,{position:a});if(wc(c,"discard")&&!e.y.isInRange(m))return null;var b=[{x:u+d,y:m},{x:u,y:m}];return l==="left"?b.reverse():b}if(n){var g=c.x,w=e.x.apply(g,{position:a});if(wc(c,"discard")&&!e.x.isInRange(w))return null;var x=[{x:w,y:f+p},{x:w,y:f}];return o==="top"?x.reverse():x}if(i){var S=c.segment,A=S.map(function(E){return e.apply(E,{position:a})});return wc(c,"discard")&&I1e(A,function(E){return!e.isInRange(E)})?null:A}return null};function Wbe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=Cbe(),u=bq(i),f=wq(s),d=Tbe();if(!c||!d)return null;mg(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=UI({x:u.scale,y:f.scale}),v=gi(e),m=gi(n),b=r&&r.length===2,g=Hbe(p,v,m,b,d,t.position,u.orientation,f.orientation,t);if(!g)return null;var w=Fbe(g,2),x=w[0],S=x.x,A=x.y,E=w[1],C=E.x,L=E.y,I=wc(t,"hidden")?"url(#".concat(c,")"):void 0,q=I8(I8({clipPath:I},Kt(t,!0)),{},{x1:S,y1:A,x2:C,y2:L});return pe.createElement(pr,{className:ln("recharts-reference-line",o)},qbe(a,q),vs.renderCallByParent(t,Abe({x1:S,y1:A,x2:C,y2:L})))}var qI=function(t){function e(){return Obe(this,e),Ibe(this,e,arguments)}return jbe(e,t),Lbe(e,[{key:"render",value:function(){return pe.createElement(Wbe,this.props)}}])}(pe.Component);zI(qI,"displayName","ReferenceLine");zI(qI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j3(){return j3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j3.apply(this,arguments)}function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function M8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(n),!0).forEach(function(r){qP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pq(r.key),r)}}function Kbe(t,e,n){return e&&Gbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ybe(t,e,n){return e=JS(e),Xbe(t,Eq()?Reflect.construct(e,n||[],JS(t).constructor):e.apply(t,n))}function Xbe(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jbe(t)}function Jbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eq=function(){return!!t})()}function JS(t){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JS(t)}function Zbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D3(t,e)}function D3(t,e){return D3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D3(t,e)}function qP(t,e,n){return e=Pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pq(t){var e=Qbe(t,"string");return ly(e)=="symbol"?e:e+""}function Qbe(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ewe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=UI({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return wc(e,"discard")&&!a.isInRange(o)?null:o},HP=function(t){function e(){return Vbe(this,e),Ybe(this,e,arguments)}return Zbe(e,t),Kbe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=gi(i),u=gi(s);if(mg(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=ewe(this.props);if(!f)return null;var d=f.x,p=f.y,v=this.props,m=v.shape,b=v.className,g=wc(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=j8(j8({clipPath:g},Kt(this.props,!0)),{},{cx:d,cy:p});return pe.createElement(pr,{className:ln("recharts-reference-dot",b)},e.renderDot(m,w),vs.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(pe.Component);qP(HP,"displayName","ReferenceDot");qP(HP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qP(HP,"renderDot",function(t,e){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,e):Ht(t)?n=t(e):n=pe.createElement(BI,j3({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function F3(){return F3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F3.apply(this,arguments)}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function D8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(n),!0).forEach(function(r){WP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function twe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cq(r.key),r)}}function rwe(t,e,n){return e&&nwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iwe(t,e,n){return e=ZS(e),swe(t,kq()?Reflect.construct(e,n||[],ZS(t).constructor):e.apply(t,n))}function swe(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return awe(t)}function awe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!t})()}function ZS(t){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZS(t)}function owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$3(t,e)}function $3(t,e){return $3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$3(t,e)}function WP(t,e,n){return e=Cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cq(t){var e=lwe(t,"string");return cy(e)=="symbol"?e:e+""}function lwe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cwe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,u=s.xAxis,f=s.yAxis;if(!u||!f)return null;var d=UI({x:u.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},v={x:n?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return wc(s,"discard")&&(!d.isInRange(p)||!d.isInRange(v))?null:hq(p,v)},VP=function(t){function e(){return twe(this,e),iwe(this,e,arguments)}return owe(e,t),rwe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;mg(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=gi(i),d=gi(s),p=gi(a),v=gi(o),m=this.props.shape;if(!f&&!d&&!p&&!v&&!m)return null;var b=cwe(f,d,p,v,this.props);if(!b&&!m)return null;var g=wc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return pe.createElement(pr,{className:ln("recharts-reference-area",l)},e.renderRect(m,F8(F8({clipPath:g},Kt(this.props,!0)),b)),vs.renderCallByParent(this.props,b))}}])}(pe.Component);WP(VP,"displayName","ReferenceArea");WP(VP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});WP(VP,"renderRect",function(t,e){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,e):Ht(t)?n=t(e):n=pe.createElement($I,F3({},e,{className:"recharts-reference-area-rect"})),n});function Tq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function uwe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ebe(r,n)}function hwe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function QS(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function fwe(t,e){return Tq(t,e+1)}function dwe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,u=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Tq(r,c)};var m=l,b,g=function(){return b===void 0&&(b=n(v,m)),b},w=v.coordinate,x=l===0||QS(t,w,g,u,o);x||(l=0,u=a,c+=1),x&&(u=w+t*(g()/2+i),l+=c)},d;c<=s.length;)if(d=f(),d)return d.v;return[]}function Aw(t){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(t)}function $8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(n),!0).forEach(function(r){pwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pwe(t,e,n){return e=gwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gwe(t){var e=mwe(t,"string");return Aw(e)=="symbol"?e:e+""}function mwe(t,e){if(Aw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Aw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vwe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(d){var p=s[d],v,m=function(){return v===void 0&&(v=n(p,d)),v};if(d===a-1){var b=t*(p.coordinate+t*m()/2-l);s[d]=p=gs(gs({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else s[d]=p=gs(gs({},p),{},{tickCoord:p.coordinate});var g=QS(t,p.tickCoord,m,o,l);g&&(l=p.tickCoord-t*(m()/2+i),s[d]=gs(gs({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function ywe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var u=r[o-1],f=n(u,o-1),d=t*(u.coordinate+t*f/2-c);a[o-1]=u=gs(gs({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var p=QS(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),a[o-1]=gs(gs({},u),{},{isShow:!0}))}for(var v=s?o-1:o,m=function(w){var x=a[w],S,A=function(){return S===void 0&&(S=n(x,w)),S};if(w===0){var E=t*(x.coordinate-t*A()/2-l);a[w]=x=gs(gs({},x),{},{tickCoord:E<0?x.coordinate-E*t:x.coordinate})}else a[w]=x=gs(gs({},x),{},{tickCoord:x.coordinate});var C=QS(t,x.tickCoord,A,l,c);C&&(l=x.tickCoord+t*(A()/2+i),a[w]=gs(gs({},x),{},{isShow:!0}))},b=0;b<v;b++)m(b);return a}function bwe(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if($e(l)||Ty.isSsr)return fwe(i,typeof l=="number"&&$e(l)?l:0);var d=[],p=o==="top"||o==="bottom"?"width":"height",v=u&&p==="width"?vb(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(x,S){var A=Ht(c)?c(x.value,S):x.value;return p==="width"?uwe(vb(A,{fontSize:e,letterSpacing:n}),v,f):vb(A,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?vl(i[1].coordinate-i[0].coordinate):1,g=hwe(s,b,p);return l==="equidistantPreserveStart"?dwe(b,g,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=ywe(b,g,m,i,a,l==="preserveStartEnd"):d=vwe(b,g,m,i,a),d.filter(function(w){return w.isShow}))}var wwe=["viewBox"],xwe=["viewBox"],_we=["ticks"];function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}function B8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(n),!0).forEach(function(r){HI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $C(t,e){if(t==null)return{};var n=Awe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Awe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Swe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nq(r.key),r)}}function Ewe(t,e,n){return e&&U8(t.prototype,e),n&&U8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pwe(t,e,n){return e=eE(e),kwe(t,Oq()?Reflect.construct(e,n||[],eE(t).constructor):e.apply(t,n))}function kwe(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cwe(t)}function Cwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!t})()}function eE(t){return eE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eE(t)}function Twe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B3(t,e)}function B3(t,e){return B3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B3(t,e)}function HI(t,e,n){return e=Nq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nq(t){var e=Owe(t,"string");return uy(e)=="symbol"?e:e+""}function Owe(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GP=function(t){function e(n){var r;return Swe(this,e),r=Pwe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Twe(e,t),Ewe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=$C(r,wwe),o=this.props,l=o.viewBox,c=$C(o,xwe);return!s0(s,l)||!s0(a,c)||!s0(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,p,v,m,b,g,w,x=f?-1:1,S=r.tickSize||u,A=$e(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=v=r.coordinate,b=a+ +!f*l,m=b-x*S,w=m-x*d,g=A;break;case"left":m=b=r.coordinate,v=s+ +!f*o,p=v-x*S,g=p-x*d,w=A;break;case"right":m=b=r.coordinate,v=s+ +f*o,p=v+x*S,g=p+x*d,w=A;break;default:p=v=r.coordinate,b=a+ +f*l,m=b+x*S,w=m+x*d,g=A;break}return{line:{x1:p,y1:m,x2:v,y2:b},tick:{x:g,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=ai(ai(ai({},Kt(this.props,!1)),Kt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);f=ai(ai({},f),{},{x1:i,y1:s+d*o,x2:i+a,y2:s+d*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ai(ai({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return pe.createElement("line",qm({},f,{className:ln("recharts-cartesian-axis-line",To(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,d=o.unit,p=bwe(ai(ai({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),b=Kt(this.props,!1),g=Kt(u,!1),w=ai(ai({},b),{},{fill:"none"},Kt(l,!1)),x=p.map(function(S,A){var E=a.getTickLineCoord(S),C=E.line,L=E.tick,I=ai(ai(ai(ai({textAnchor:v,verticalAnchor:m},b),{},{stroke:"none",fill:c},g),L),{},{index:A,payload:S,visibleTicksCount:p.length,tickFormatter:f});return pe.createElement(pr,qm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},oS(a.props,S,A)),l&&pe.createElement("line",qm({},w,C,{className:ln("recharts-cartesian-axis-tick-line",To(l,"className"))})),u&&e.renderTickItem(u,I,"".concat(Ht(f)?f(S.value,A):S.value).concat(d||"")))});return pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,p=$C(f,_we),v=d;return Ht(l)&&(v=d&&d.length>0?l(this.props):l(p)),a<=0||o<=0||!v||!v.length?null:pe.createElement(pr,{className:ln("recharts-cartesian-axis",c),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),vs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=ln(i.className,"recharts-cartesian-axis-tick-value");return pe.isValidElement(r)?a=pe.cloneElement(r,ai(ai({},i),{},{className:o})):Ht(r)?a=r(ai(ai({},i),{},{className:o})):a=pe.createElement(xS,qm({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(Ae.Component);HI(GP,"displayName","CartesianAxis");HI(GP,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nwe=["layout","type","stroke","connectNulls","isRange","ref"],Lwe=["key"],Lq;function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function Iq(t,e){if(t==null)return{};var n=Iwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}function z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(n),!0).forEach(function(r){gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mq(r.key),r)}}function Mwe(t,e,n){return e&&q8(t.prototype,e),n&&q8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jwe(t,e,n){return e=tE(e),Dwe(t,Rq()?Reflect.construct(e,n||[],tE(t).constructor):e.apply(t,n))}function Dwe(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fwe(t)}function Fwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rq=function(){return!!t})()}function tE(t){return tE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tE(t)}function $we(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U3(t,e)}function U3(t,e){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U3(t,e)}function gc(t,e,n){return e=Mq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mq(t){var e=Bwe(t,"string");return hy(e)=="symbol"?e:e+""}function Bwe(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sd=function(t){function e(){var n;Rwe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=jwe(this,e,[].concat(i)),gc(n,"state",{isAnimationFinished:!0}),gc(n,"id",jx("recharts-area-")),gc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ht(a)&&a()}),gc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ht(a)&&a()}),n}return $we(e,t),Mwe(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=Kt(this.props,!1),p=Kt(c,!0),v=u.map(function(b,g){var w=Th(Th(Th({key:"dot-".concat(g),r:3},d),p),{},{index:g,cx:b.x,cy:b.y,dataKey:f,value:b.value,payload:b.payload,points:u});return e.renderDotItem(c,w)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return pe.createElement(pr,Jd({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=r*Math.abs(l-c),f=If(a.map(function(d){return d.y||0}));return $e(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(If(s.map(function(d){return d.y||0})),f)),$e(f)?pe.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=r*Math.abs(l-c),f=If(a.map(function(d){return d.x||0}));return $e(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(If(s.map(function(d){return d.x||0})),f)),$e(f)?pe.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var o=this.props,l=o.layout,c=o.type,u=o.stroke,f=o.connectNulls,d=o.isRange;o.ref;var p=Iq(o,Nwe);return pe.createElement(pr,{clipPath:s?"url(#clipPath-".concat(a,")"):null},pe.createElement(wb,Jd({},Kt(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&pe.createElement(wb,Jd({},Kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&d&&pe.createElement(wb,Jd({},Kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,v=this.state,m=v.prevPoints,b=v.prevBaseLine;return pe.createElement(nh,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var w=g.t;if(m){var x=m.length/o.length,S=o.map(function(L,I){var q=Math.floor(I*x);if(m[q]){var O=m[q],M=So(O.x,L.x),z=So(O.y,L.y);return Th(Th({},L),{},{x:M(w),y:z(w)})}return L}),A;if($e(l)&&typeof l=="number"){var E=So(b,l);A=E(w)}else if(Yt(l)||Sy(l)){var C=So(b,0);A=C(w)}else A=l.map(function(L,I){var q=Math.floor(I*x);if(b[q]){var O=b[q],M=So(O.x,L.x),z=So(O.y,L.y);return Th(Th({},L),{},{x:M(w),y:z(w)})}return L});return s.renderAreaStatically(S,A,r,i)}return pe.createElement(pr,null,pe.createElement("defs",null,pe.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(w))),pe.createElement(pr,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,o=s.baseLine,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,d=c.totalLength;return l&&a&&a.length&&(!u&&d>0||!nw(u,a)||!nw(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,d=i.yAxis,p=i.width,v=i.height,m=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var g=this.state.isAnimationFinished,w=o.length===1,x=ln("recharts-area",l),S=f&&f.allowDataOverflow,A=d&&d.allowDataOverflow,E=S||A,C=Yt(b)?this.id:b,L=(r=Kt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=L.r,q=I===void 0?3:I,O=L.strokeWidth,M=O===void 0?2:O,z=Tee(a)?a:{},$=z.clipDot,V=$===void 0?!0:$,X=q*2+M;return pe.createElement(pr,{className:x},S||A?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(C)},pe.createElement("rect",{x:S?u:u-p/2,y:A?c:c-v/2,width:S?p:p*2,height:A?v:v*2})),!V&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(C)},pe.createElement("rect",{x:u-X/2,y:c-X/2,width:p+X,height:v+X}))):null,w?null:this.renderArea(E,C),(a||w)&&this.renderDots(E,V,C),(!m||g)&&Wf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(Ae.PureComponent);Lq=sd;gc(sd,"displayName","Area");gc(sd,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ty.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});gc(sd,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if($e(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});gc(sd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,p=e.layout,v=c&&c.length,m=Lq.getBaseValue(e,n,r,i),b=p==="horizontal",g=!1,w=f.map(function(S,A){var E;v?E=c[u+A]:(E=Va(S,l),Array.isArray(E)?g=!0:E=[m,E]);var C=E[1]==null||v&&Va(S,l)==null;return b?{x:TD({axis:r,ticks:s,bandSize:o,entry:S,index:A}),y:C?null:i.scale(E[1]),value:E,payload:S}:{x:C?null:r.scale(E[1]),y:TD({axis:i,ticks:a,bandSize:o,entry:S,index:A}),value:E,payload:S}}),x;return v||g?x=w.map(function(S){var A=Array.isArray(S.value)?S.value[0]:null;return b?{x:S.x,y:A!=null&&S.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:S.y}}):x=b?i.scale(m):r.scale(m),Th({points:w,baseLine:x,layout:p,isRange:g},d)});gc(sd,"renderDotItem",function(t,e){var n;if(pe.isValidElement(t))n=pe.cloneElement(t,e);else if(Ht(t))n=t(e);else{var r=ln("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Iq(e,Lwe);n=pe.createElement(BI,Jd({},s,{key:i,className:r}))}return n});function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function Uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fq(r.key),r)}}function qwe(t,e,n){return e&&zwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hwe(t,e,n){return e=nE(e),Wwe(t,jq()?Reflect.construct(e,n||[],nE(t).constructor):e.apply(t,n))}function Wwe(t,e){if(e&&(fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vwe(t)}function Vwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jq=function(){return!!t})()}function nE(t){return nE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nE(t)}function Gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z3(t,e)}function z3(t,e){return z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z3(t,e)}function Dq(t,e,n){return e=Fq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fq(t){var e=Kwe(t,"string");return fy(e)=="symbol"?e:e+""}function Kwe(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q3(){return q3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q3.apply(this,arguments)}function Ywe(t){var e=t.xAxisId,n=xq(),r=_q(),i=bq(e);return i==null?null:Ae.createElement(GP,q3({},i,{className:ln("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Xd(a,!0)}}))}var KP=function(t){function e(){return Uwe(this,e),Hwe(this,e,arguments)}return Gwe(e,t),qwe(e,[{key:"render",value:function(){return Ae.createElement(Ywe,this.props)}}])}(Ae.Component);Dq(KP,"displayName","XAxis");Dq(KP,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function Xwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uq(r.key),r)}}function Zwe(t,e,n){return e&&Jwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qwe(t,e,n){return e=rE(e),e2e(t,$q()?Reflect.construct(e,n||[],rE(t).constructor):e.apply(t,n))}function e2e(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t2e(t)}function t2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!t})()}function rE(t){return rE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rE(t)}function n2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H3(t,e)}function H3(t,e){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H3(t,e)}function Bq(t,e,n){return e=Uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uq(t){var e=r2e(t,"string");return dy(e)=="symbol"?e:e+""}function r2e(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W3(){return W3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W3.apply(this,arguments)}var i2e=function(e){var n=e.yAxisId,r=xq(),i=_q(),s=wq(n);return s==null?null:Ae.createElement(GP,W3({},s,{className:ln("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Xd(o,!0)}}))},YP=function(t){function e(){return Xwe(this,e),Qwe(this,e,arguments)}return n2e(e,t),Zwe(e,[{key:"render",value:function(){return Ae.createElement(i2e,this.props)}}])}(Ae.Component);Bq(YP,"displayName","YAxis");Bq(YP,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function H8(t){return l2e(t)||o2e(t)||a2e(t)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a2e(t,e){if(t){if(typeof t=="string")return V3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V3(t,e)}}function o2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l2e(t){if(Array.isArray(t))return V3(t)}function V3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var G3=function(e,n,r,i,s){var a=xl(e,qI),o=xl(e,HP),l=[].concat(H8(a),H8(o)),c=xl(e,VP),u="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(m,b){if(b.props[u]===r&&wc(b.props,"extendDomain")&&$e(b.props[f])){var g=b.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},d)),c.length){var p="".concat(f,"1"),v="".concat(f,"2");d=c.reduce(function(m,b){if(b.props[u]===r&&wc(b.props,"extendDomain")&&$e(b.props[p])&&$e(b.props[v])){var g=b.props[p],w=b.props[v];return[Math.min(m[0],g,w),Math.max(m[1],g,w)]}return m},d)}return s&&s.length&&(d=s.reduce(function(m,b){return $e(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},d)),d},zq={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,d),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,v=new Array(p);d<p;d++)v[d]=f[d].fn;return v},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,d,p,v){var m=n?n+c:c;if(!this._events[m])return!1;var b=this._events[m],g=arguments.length,w,x;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),g){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,d),!0;case 5:return b.fn.call(b.context,u,f,d,p),!0;case 6:return b.fn.call(b.context,u,f,d,p,v),!0}for(x=1,w=new Array(g-1);x<g;x++)w[x-1]=arguments[x];b.fn.apply(b.context,w)}else{var S=b.length,A;for(x=0;x<S;x++)switch(b[x].once&&this.removeListener(c,b[x].fn,void 0,!0),g){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,u);break;case 3:b[x].fn.call(b[x].context,u,f);break;case 4:b[x].fn.call(b[x].context,u,f,d);break;default:if(!w)for(A=1,w=new Array(g-1);A<g;A++)w[A-1]=arguments[A];b[x].fn.apply(b[x].context,w)}}return!0},o.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,d){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!d||v.once)&&(!f||v.context===f)&&a(this,p);else{for(var m=0,b=[],g=v.length;m<g;m++)(v[m].fn!==u||d&&!v[m].once||f&&v[m].context!==f)&&b.push(v[m]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(zq);var c2e=zq.exports;const u2e=Gn(c2e);var BC=new u2e,UC="recharts.syncMouseEvents";function Sw(t){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(t)}function h2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qq(r.key),r)}}function d2e(t,e,n){return e&&f2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zC(t,e,n){return e=qq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qq(t){var e=p2e(t,"string");return Sw(e)=="symbol"?e:e+""}function p2e(t,e){if(Sw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g2e=function(){function t(){h2e(this,t),zC(this,"activeIndex",0),zC(this,"coordinateList",[]),zC(this,"layout","horizontal")}return d2e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+l+c,d=a+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function m2e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&$e(r)&&$e(i))return!0}return!1}function v2e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Hq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Ji(e,n,r,i),o=Ji(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function y2e(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,d=Ji(o,l,c,f),p=Ji(o,l,u,f);r=d.x,i=d.y,s=p.x,a=p.y}else return Hq(e);return[{x:r,y:i},{x:s,y:a}]}function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){b2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b2e(t,e,n){return e=w2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2e(t){var e=x2e(t,"string");return Ew(e)=="symbol"?e:e+""}function x2e(t,e){if(Ew(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ew(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _2e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!a||d!=="ScatterChart"&&i!=="axis")return null;var v,m=wb;if(d==="ScatterChart")v=a,m=nye;else if(d==="BarChart")v=v2e(f,a,l,u),m=$I;else if(f==="radial"){var b=Hq(a),g=b.cx,w=b.cy,x=b.radius,S=b.startAngle,A=b.endAngle;v={cx:g,cy:w,startAngle:S,endAngle:A,innerRadius:x,outerRadius:x},m=Vz}else v={points:y2e(f,a,l)},m=wb;var E=u5(u5(u5(u5({stroke:"#ccc",pointerEvents:"none"},l),v),Kt(p,!1)),{},{payload:o,payloadIndex:c,className:ln("recharts-tooltip-cursor",p.className)});return Ae.isValidElement(p)?Ae.cloneElement(p,E):Ae.createElement(m,E)}var A2e=["item"],S2e=["children","className","width","height","style","compact","title","desc"];function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hm.apply(this,arguments)}function V8(t,e){return k2e(t)||P2e(t,e)||Vq(t,e)||E2e()}function E2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function k2e(t){if(Array.isArray(t))return t}function G8(t,e){if(t==null)return{};var n=C2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gq(r.key),r)}}function N2e(t,e,n){return e&&O2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L2e(t,e,n){return e=iE(e),I2e(t,Wq()?Reflect.construct(e,n||[],iE(t).constructor):e.apply(t,n))}function I2e(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R2e(t)}function R2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!t})()}function iE(t){return iE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iE(t)}function M2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K3(t,e)}function K3(t,e){return K3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K3(t,e)}function gy(t){return F2e(t)||D2e(t)||Vq(t)||j2e()}function j2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(t,e){if(t){if(typeof t=="string")return Y3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y3(t,e)}}function D2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F2e(t){if(Array.isArray(t))return Y3(t)}function Y3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mt(t,e,n){return e=Gq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=$2e(t,"string");return py(e)=="symbol"?e:e+""}function $2e(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B2e={xAxis:["bottom","top"],yAxis:["left","right"]},U2e={width:"100%",height:"100%"},Kq={x:0,y:0};function h5(t){return t}var z2e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},q2e=function(e,n,r,i){var s=n.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Pe(Pe(Pe({},i),Ji(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return Pe(Pe(Pe({},i),Ji(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Kq},XP=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(gy(o),gy(c)):o},[]);return a.length>0?a:e&&e.length&&$e(i)&&$e(s)?e.slice(i,s+1):[]};function Yq(t){return t==="number"?[0,"auto"]:void 0}var X3=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=XP(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?o:f;d=sS(p,a.dataKey,i)}else d=f&&f[r]||o[r];return d?[].concat(gy(l),[qz(c,d)]):l},[])},Y8=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=z2e(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Rge(a,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,d=X3(e,n,u,f),p=q2e(r,o,u,s);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},H2e=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,p=Uz(u,s);return r.reduce(function(v,m){var b,g=m.type.defaultProps!==void 0?Pe(Pe({},m.type.defaultProps),m.props):m.props,w=g.type,x=g.dataKey,S=g.allowDataOverflow,A=g.allowDuplicatedCategory,E=g.scale,C=g.ticks,L=g.includeHidden,I=g[a];if(v[I])return v;var q=XP(e.data,{graphicalItems:i.filter(function(D){var K,ee=a in D.props?D.props[a]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[a];return ee===I}),dataStartIndex:l,dataEndIndex:c}),O=q.length,M,z,$;m2e(g.domain,S,w)&&(M=g3(g.domain,null,S),p&&(w==="number"||E!=="auto")&&($=bb(q,x,"category")));var V=Yq(w);if(!M||M.length===0){var X,Q=(X=g.domain)!==null&&X!==void 0?X:V;if(x){if(M=bb(q,x,w),w==="category"&&p){var W=bee(M);A&&W?(z=M,M=WS(0,O)):A||(M=ID(Q,M,m).reduce(function(D,K){return D.indexOf(K)>=0?D:[].concat(gy(D),[K])},[]))}else if(w==="category")A?M=M.filter(function(D){return D!==""&&!Yt(D)}):M=ID(Q,M,m).reduce(function(D,K){return D.indexOf(K)>=0||K===""||Yt(K)?D:[].concat(gy(D),[K])},[]);else if(w==="number"){var re=$ge(q,i.filter(function(D){var K,ee,se=a in D.props?D.props[a]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[a],oe="hide"in D.props?D.props.hide:(ee=D.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return se===I&&(L||!oe)}),x,s,u);re&&(M=re)}p&&(w==="number"||E!=="auto")&&($=bb(q,x,"category"))}else p?M=WS(0,O):o&&o[I]&&o[I].hasStack&&w==="number"?M=d==="expand"?[0,1]:zz(o[I].stackGroups,l,c):M=Bz(q,i.filter(function(D){var K=a in D.props?D.props[a]:D.type.defaultProps[a],ee="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return K===I&&(L||!ee)}),w,u,!0);if(w==="number")M=G3(f,M,I,s,C),Q&&(M=g3(Q,M,S));else if(w==="category"&&Q){var ce=Q,ae=M.every(function(D){return ce.indexOf(D)>=0});ae&&(M=ce)}}return Pe(Pe({},v),{},mt({},I,Pe(Pe({},g),{},{axisType:s,domain:M,categoricalDomain:$,duplicateDomain:z,originalDomain:(b=g.domain)!==null&&b!==void 0?b:V,isCategorical:p,layout:u})))},{})},W2e=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=XP(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=d.length,v=Uz(u,s),m=-1;return r.reduce(function(b,g){var w=g.type.defaultProps!==void 0?Pe(Pe({},g.type.defaultProps),g.props):g.props,x=w[a],S=Yq("number");if(!b[x]){m++;var A;return v?A=WS(0,p):o&&o[x]&&o[x].hasStack?(A=zz(o[x].stackGroups,l,c),A=G3(f,A,x,s)):(A=g3(S,Bz(d,r.filter(function(E){var C,L,I=a in E.props?E.props[a]:(C=E.type.defaultProps)===null||C===void 0?void 0:C[a],q="hide"in E.props?E.props.hide:(L=E.type.defaultProps)===null||L===void 0?void 0:L.hide;return I===x&&!q}),"number",u),i.defaultProps.allowDataOverflow),A=G3(f,A,x,s)),Pe(Pe({},b),{},mt({},x,Pe(Pe({axisType:s},i.defaultProps),{},{hide:!0,orientation:To(B2e,"".concat(s,".").concat(m%2),null),domain:A,originalDomain:S,isCategorical:v,layout:u})))}return b},{})},V2e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=xl(u,s),p={};return d&&d.length?p=H2e(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=W2e(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},G2e=function(e){var n=mm(e),r=Xd(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:MS(n,r)}},X8=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ma(n,sy),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},K2e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hu(n&&n.type);return r&&r.indexOf("Bar")>=0})},J8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Y2e=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,f=r.children,d=r.margin||{},p=Ma(f,sy),v=Ma(f,a0),m=Object.keys(l).reduce(function(A,E){var C=l[E],L=C.orientation;return!C.mirror&&!C.hide?Pe(Pe({},A),{},mt({},L,A[L]+C.width)):A},{left:d.left||0,right:d.right||0}),b=Object.keys(a).reduce(function(A,E){var C=a[E],L=C.orientation;return!C.mirror&&!C.hide?Pe(Pe({},A),{},mt({},L,To(A,"".concat(L))+C.height)):A},{top:d.top||0,bottom:d.bottom||0}),g=Pe(Pe({},b),m),w=g.bottom;p&&(g.bottom+=p.props.height||sy.defaultProps.height),v&&n&&(g=Dge(g,i,r,n));var x=c-g.left-g.right,S=u-g.top-g.bottom;return Pe(Pe({brushBottom:w},g),{},{width:Math.max(x,0),height:Math.max(S,0)})},X2e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},J2e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(g,w){var x=w.graphicalItems,S=w.stackGroups,A=w.offset,E=w.updateId,C=w.dataStartIndex,L=w.dataEndIndex,I=g.barSize,q=g.layout,O=g.barGap,M=g.barCategoryGap,z=g.maxBarSize,$=J8(q),V=$.numericAxisName,X=$.cateAxisName,Q=K2e(x),W=[];return x.forEach(function(re,ce){var ae=XP(g.data,{graphicalItems:[re],dataStartIndex:C,dataEndIndex:L}),D=re.type.defaultProps!==void 0?Pe(Pe({},re.type.defaultProps),re.props):re.props,K=D.dataKey,ee=D.maxBarSize,se=D["".concat(V,"Id")],oe=D["".concat(X,"Id")],fe={},xe=l.reduce(function(Ue,tt){var st=w["".concat(tt.axisType,"Map")],tn=D["".concat(tt.axisType,"Id")];st&&st[tn]||tt.axisType==="zAxis"||Cg();var $t=st[tn];return Pe(Pe({},Ue),{},mt(mt({},tt.axisType,$t),"".concat(tt.axisType,"Ticks"),Xd($t)))},fe),ue=xe[X],ye=xe["".concat(X,"Ticks")],_e=S&&S[se]&&S[se].hasStack&&Jge(re,S[se].stackGroups),me=Hu(re.type).indexOf("Bar")>=0,Ie=MS(ue,ye),De=[],Z=Q&&Mge({barSize:I,stackGroups:S,totalSize:X2e(xe,X)});if(me){var Me,ht,et=Yt(ee)?z:ee,Oe=(Me=(ht=MS(ue,ye,!0))!==null&&ht!==void 0?ht:et)!==null&&Me!==void 0?Me:0;De=jge({barGap:O,barCategoryGap:M,bandSize:Oe!==Ie?Oe:Ie,sizeList:Z[oe],maxBarSize:et}),Oe!==Ie&&(De=De.map(function(Ue){return Pe(Pe({},Ue),{},{position:Pe(Pe({},Ue.position),{},{offset:Ue.position.offset-Oe/2})})}))}var ut=re&&re.type&&re.type.getComposedData;ut&&W.push({props:Pe(Pe({},ut(Pe(Pe({},xe),{},{displayedData:ae,props:g,dataKey:K,item:re,bandSize:Ie,barPosition:De,offset:A,stackedData:_e,layout:q,dataStartIndex:C,dataEndIndex:L}))),{},mt(mt(mt({key:re.key||"item-".concat(ce)},V,xe[V]),X,xe[X]),"animationId",E)),childIndex:Lee(re,g.children),item:re})}),W},p=function(g,w){var x=g.props,S=g.dataStartIndex,A=g.dataEndIndex,E=g.updateId;if(!P6({props:x}))return null;var C=x.children,L=x.layout,I=x.stackOffset,q=x.data,O=x.reverseStackOrder,M=J8(L),z=M.numericAxisName,$=M.cateAxisName,V=xl(C,r),X=Kge(q,V,"".concat(z,"Id"),"".concat($,"Id"),I,O),Q=l.reduce(function(D,K){var ee="".concat(K.axisType,"Map");return Pe(Pe({},D),{},mt({},ee,V2e(x,Pe(Pe({},K),{},{graphicalItems:V,stackGroups:K.axisType===z&&X,dataStartIndex:S,dataEndIndex:A}))))},{}),W=Y2e(Pe(Pe({},Q),{},{props:x,graphicalItems:V}),w==null?void 0:w.legendBBox);Object.keys(Q).forEach(function(D){Q[D]=u(x,Q[D],W,D.replace("Map",""),n)});var re=Q["".concat($,"Map")],ce=G2e(re),ae=d(x,Pe(Pe({},Q),{},{dataStartIndex:S,dataEndIndex:A,updateId:E,graphicalItems:V,stackGroups:X,offset:W}));return Pe(Pe({formattedGraphicalItems:ae,graphicalItems:V,offset:W,stackGroups:X},ce),Q)},v=function(b){function g(w){var x,S,A;return T2e(this,g),A=L2e(this,g,[w]),mt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(A,"accessibilityManager",new g2e),mt(A,"handleLegendBBoxUpdate",function(E){if(E){var C=A.state,L=C.dataStartIndex,I=C.dataEndIndex,q=C.updateId;A.setState(Pe({legendBBox:E},p({props:A.props,dataStartIndex:L,dataEndIndex:I,updateId:q},Pe(Pe({},A.state),{},{legendBBox:E}))))}}),mt(A,"handleReceiveSyncEvent",function(E,C,L){if(A.props.syncId===E){if(L===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(C)}}),mt(A,"handleBrushChange",function(E){var C=E.startIndex,L=E.endIndex;if(C!==A.state.dataStartIndex||L!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return Pe({dataStartIndex:C,dataEndIndex:L},p({props:A.props,dataStartIndex:C,dataEndIndex:L,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:C,dataEndIndex:L})}}),mt(A,"handleMouseEnter",function(E){var C=A.getMouseInfo(E);if(C){var L=Pe(Pe({},C),{},{isTooltipActive:!0});A.setState(L),A.triggerSyncEvent(L);var I=A.props.onMouseEnter;Ht(I)&&I(L,E)}}),mt(A,"triggeredAfterMouseMove",function(E){var C=A.getMouseInfo(E),L=C?Pe(Pe({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(L),A.triggerSyncEvent(L);var I=A.props.onMouseMove;Ht(I)&&I(L,E)}),mt(A,"handleItemMouseEnter",function(E){A.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),mt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),mt(A,"handleMouseMove",function(E){E.persist(),A.throttleTriggeredAfterMouseMove(E)}),mt(A,"handleMouseLeave",function(E){A.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};A.setState(C),A.triggerSyncEvent(C);var L=A.props.onMouseLeave;Ht(L)&&L(C,E)}),mt(A,"handleOuterEvent",function(E){var C=Nee(E),L=To(A.props,"".concat(C));if(C&&Ht(L)){var I,q;/.*touch.*/i.test(C)?q=A.getMouseInfo(E.changedTouches[0]):q=A.getMouseInfo(E),L((I=q)!==null&&I!==void 0?I:{},E)}}),mt(A,"handleClick",function(E){var C=A.getMouseInfo(E);if(C){var L=Pe(Pe({},C),{},{isTooltipActive:!0});A.setState(L),A.triggerSyncEvent(L);var I=A.props.onClick;Ht(I)&&I(L,E)}}),mt(A,"handleMouseDown",function(E){var C=A.props.onMouseDown;if(Ht(C)){var L=A.getMouseInfo(E);C(L,E)}}),mt(A,"handleMouseUp",function(E){var C=A.props.onMouseUp;if(Ht(C)){var L=A.getMouseInfo(E);C(L,E)}}),mt(A,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),mt(A,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseDown(E.changedTouches[0])}),mt(A,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseUp(E.changedTouches[0])}),mt(A,"handleDoubleClick",function(E){var C=A.props.onDoubleClick;if(Ht(C)){var L=A.getMouseInfo(E);C(L,E)}}),mt(A,"handleContextMenu",function(E){var C=A.props.onContextMenu;if(Ht(C)){var L=A.getMouseInfo(E);C(L,E)}}),mt(A,"triggerSyncEvent",function(E){A.props.syncId!==void 0&&BC.emit(UC,A.props.syncId,E,A.eventEmitterSymbol)}),mt(A,"applySyncEvent",function(E){var C=A.props,L=C.layout,I=C.syncMethod,q=A.state.updateId,O=E.dataStartIndex,M=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)A.setState(Pe({dataStartIndex:O,dataEndIndex:M},p({props:A.props,dataStartIndex:O,dataEndIndex:M,updateId:q},A.state)));else if(E.activeTooltipIndex!==void 0){var z=E.chartX,$=E.chartY,V=E.activeTooltipIndex,X=A.state,Q=X.offset,W=X.tooltipTicks;if(!Q)return;if(typeof I=="function")V=I(W,E);else if(I==="value"){V=-1;for(var re=0;re<W.length;re++)if(W[re].value===E.activeLabel){V=re;break}}var ce=Pe(Pe({},Q),{},{x:Q.left,y:Q.top}),ae=Math.min(z,ce.x+ce.width),D=Math.min($,ce.y+ce.height),K=W[V]&&W[V].value,ee=X3(A.state,A.props.data,V),se=W[V]?{x:L==="horizontal"?W[V].coordinate:ae,y:L==="horizontal"?D:W[V].coordinate}:Kq;A.setState(Pe(Pe({},E),{},{activeLabel:K,activeCoordinate:se,activePayload:ee,activeTooltipIndex:V}))}else A.setState(E)}),mt(A,"renderCursor",function(E){var C,L=A.state,I=L.isTooltipActive,q=L.activeCoordinate,O=L.activePayload,M=L.offset,z=L.activeTooltipIndex,$=L.tooltipAxisBandSize,V=A.getTooltipEventType(),X=(C=E.props.active)!==null&&C!==void 0?C:I,Q=A.props.layout,W=E.key||"_recharts-cursor";return pe.createElement(_2e,{key:W,activeCoordinate:q,activePayload:O,activeTooltipIndex:z,chartName:n,element:E,isActive:X,layout:Q,offset:M,tooltipAxisBandSize:$,tooltipEventType:V})}),mt(A,"renderPolarAxis",function(E,C,L){var I=To(E,"type.axisType"),q=To(A.state,"".concat(I,"Map")),O=E.type.defaultProps,M=O!==void 0?Pe(Pe({},O),E.props):E.props,z=q&&q[M["".concat(I,"Id")]];return Ae.cloneElement(E,Pe(Pe({},z),{},{className:ln(I,z.className),key:E.key||"".concat(C,"-").concat(L),ticks:Xd(z,!0)}))}),mt(A,"renderPolarGrid",function(E){var C=E.props,L=C.radialLines,I=C.polarAngles,q=C.polarRadius,O=A.state,M=O.radiusAxisMap,z=O.angleAxisMap,$=mm(M),V=mm(z),X=V.cx,Q=V.cy,W=V.innerRadius,re=V.outerRadius;return Ae.cloneElement(E,{polarAngles:Array.isArray(I)?I:Xd(V,!0).map(function(ce){return ce.coordinate}),polarRadius:Array.isArray(q)?q:Xd($,!0).map(function(ce){return ce.coordinate}),cx:X,cy:Q,innerRadius:W,outerRadius:re,key:E.key||"polar-grid",radialLines:L})}),mt(A,"renderLegend",function(){var E=A.state.formattedGraphicalItems,C=A.props,L=C.children,I=C.width,q=C.height,O=A.props.margin||{},M=I-(O.left||0)-(O.right||0),z=Fz({children:L,formattedGraphicalItems:E,legendWidth:M,legendContent:c});if(!z)return null;var $=z.item,V=G8(z,A2e);return Ae.cloneElement($,Pe(Pe({},V),{},{chartWidth:I,chartHeight:q,margin:O,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),mt(A,"renderTooltip",function(){var E,C=A.props,L=C.children,I=C.accessibilityLayer,q=Ma(L,Jc);if(!q)return null;var O=A.state,M=O.isTooltipActive,z=O.activeCoordinate,$=O.activePayload,V=O.activeLabel,X=O.offset,Q=(E=q.props.active)!==null&&E!==void 0?E:M;return Ae.cloneElement(q,{viewBox:Pe(Pe({},X),{},{x:X.left,y:X.top}),active:Q,label:V,payload:Q?$:[],coordinate:z,accessibilityLayer:I})}),mt(A,"renderBrush",function(E){var C=A.props,L=C.margin,I=C.data,q=A.state,O=q.offset,M=q.dataStartIndex,z=q.dataEndIndex,$=q.updateId;return Ae.cloneElement(E,{key:E.key||"_recharts-brush",onChange:a5(A.handleBrushChange,E.props.onChange),data:I,x:$e(E.props.x)?E.props.x:O.left,y:$e(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(L.bottom||0),width:$e(E.props.width)?E.props.width:O.width,startIndex:M,endIndex:z,updateId:"brush-".concat($)})}),mt(A,"renderReferenceElement",function(E,C,L){if(!E)return null;var I=A,q=I.clipPathId,O=A.state,M=O.xAxisMap,z=O.yAxisMap,$=O.offset,V=E.type.defaultProps||{},X=E.props,Q=X.xAxisId,W=Q===void 0?V.xAxisId:Q,re=X.yAxisId,ce=re===void 0?V.yAxisId:re;return Ae.cloneElement(E,{key:E.key||"".concat(C,"-").concat(L),xAxis:M[W],yAxis:z[ce],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:q})}),mt(A,"renderActivePoints",function(E){var C=E.item,L=E.activePoint,I=E.basePoint,q=E.childIndex,O=E.isRange,M=[],z=C.props.key,$=C.item.type.defaultProps!==void 0?Pe(Pe({},C.item.type.defaultProps),C.item.props):C.item.props,V=$.activeDot,X=$.dataKey,Q=Pe(Pe({index:q,dataKey:X,cx:L.x,cy:L.y,r:4,fill:FI(C.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Kt(V,!1)),aS(V));return M.push(g.renderActiveDot(V,Q,"".concat(z,"-activePoint-").concat(q))),I?M.push(g.renderActiveDot(V,Pe(Pe({},Q),{},{cx:I.x,cy:I.y}),"".concat(z,"-basePoint-").concat(q))):O&&M.push(null),M}),mt(A,"renderGraphicChild",function(E,C,L){var I=A.filterFormatItem(E,C,L);if(!I)return null;var q=A.getTooltipEventType(),O=A.state,M=O.isTooltipActive,z=O.tooltipAxis,$=O.activeTooltipIndex,V=O.activeLabel,X=A.props.children,Q=Ma(X,Jc),W=I.props,re=W.points,ce=W.isRange,ae=W.baseLine,D=I.item.type.defaultProps!==void 0?Pe(Pe({},I.item.type.defaultProps),I.item.props):I.item.props,K=D.activeDot,ee=D.hide,se=D.activeBar,oe=D.activeShape,fe=!!(!ee&&M&&Q&&(K||se||oe)),xe={};q!=="axis"&&Q&&Q.props.trigger==="click"?xe={onClick:a5(A.handleItemMouseEnter,E.props.onClick)}:q!=="axis"&&(xe={onMouseLeave:a5(A.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:a5(A.handleItemMouseEnter,E.props.onMouseEnter)});var ue=Ae.cloneElement(E,Pe(Pe({},I.props),xe));function ye(tt){return typeof z.dataKey=="function"?z.dataKey(tt.payload):null}if(fe)if($>=0){var _e,me;if(z.dataKey&&!z.allowDuplicatedCategory){var Ie=typeof z.dataKey=="function"?ye:"payload.".concat(z.dataKey.toString());_e=sS(re,Ie,V),me=ce&&ae&&sS(ae,Ie,V)}else _e=re==null?void 0:re[$],me=ce&&ae&&ae[$];if(oe||se){var De=E.props.activeIndex!==void 0?E.props.activeIndex:$;return[Ae.cloneElement(E,Pe(Pe(Pe({},I.props),xe),{},{activeIndex:De})),null,null]}if(!Yt(_e))return[ue].concat(gy(A.renderActivePoints({item:I,activePoint:_e,basePoint:me,childIndex:$,isRange:ce})))}else{var Z,Me=(Z=A.getItemByXY(A.state.activeCoordinate))!==null&&Z!==void 0?Z:{graphicalItem:ue},ht=Me.graphicalItem,et=ht.item,Oe=et===void 0?E:et,ut=ht.childIndex,Ue=Pe(Pe(Pe({},I.props),xe),{},{activeIndex:ut});return[Ae.cloneElement(Oe,Ue),null,null]}return ce?[ue,null,null]:[ue,null]}),mt(A,"renderCustomized",function(E,C,L){return Ae.cloneElement(E,Pe(Pe({key:"recharts-customized-".concat(L)},A.props),A.state))}),mt(A,"renderMap",{CartesianGrid:{handler:h5,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:h5},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:h5},YAxis:{handler:h5},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:jx("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=D9(A.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),A.state={},A}return M2e(g,b),N2e(g,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,A=x.data,E=x.height,C=x.layout,L=Ma(S,Jc);if(L){var I=L.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=X3(this.state,A,I,q),M=this.state.tooltipTicks[I].coordinate,z=(this.state.offset.top+E)/2,$=C==="horizontal",V=$?{x:M,y:z}:{y:M,x:z},X=this.state.formattedGraphicalItems.find(function(W){var re=W.item;return re.type.name==="Scatter"});X&&(V=Pe(Pe({},V),X.props.points[I].tooltipPosition),O=X.props.points[I].tooltipPayload);var Q={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:q,activePayload:O,activeCoordinate:V};this.setState(Q),this.renderCursor(L),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var A,E;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(x){OO([Ma(x.children,Jc)],[Ma(this.props.children,Jc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Ma(this.props.children,Jc);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return o.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,A=S.getBoundingClientRect(),E=ahe(A),C={chartX:Math.round(x.pageX-E.left),chartY:Math.round(x.pageY-E.top)},L=A.width/S.offsetWidth||1,I=this.inRange(C.chartX,C.chartY,L);if(!I)return null;var q=this.state,O=q.xAxisMap,M=q.yAxisMap,z=this.getTooltipEventType(),$=Y8(this.state,this.props.data,this.props.layout,I);if(z!=="axis"&&O&&M){var V=mm(O).scale,X=mm(M).scale,Q=V&&V.invert?V.invert(C.chartX):null,W=X&&X.invert?X.invert(C.chartY):null;return Pe(Pe({},C),{},{xValue:Q,yValue:W},$)}return $?Pe(Pe({},C),$):null}},{key:"inRange",value:function(x,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,C=x/A,L=S/A;if(E==="horizontal"||E==="vertical"){var I=this.state.offset,q=C>=I.left&&C<=I.left+I.width&&L>=I.top&&L<=I.top+I.height;return q?{x:C,y:L}:null}var O=this.state,M=O.angleAxisMap,z=O.radiusAxisMap;if(M&&z){var $=mm(M);return jD({x:C,y:L},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),A=Ma(x,Jc),E={};A&&S==="axis"&&(A.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=aS(this.props,this.handleOuterEvent);return Pe(Pe({},C),E)}},{key:"addListener",value:function(){BC.on(UC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){BC.removeListener(UC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,A){for(var E=this.state.formattedGraphicalItems,C=0,L=E.length;C<L;C++){var I=E[C];if(I.item===x||I.props.key===x.key||S===Hu(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,A=S.left,E=S.top,C=S.height,L=S.width;return pe.createElement("defs",null,pe.createElement("clipPath",{id:x},pe.createElement("rect",{x:A,y:E,height:C,width:L})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,A){var E=V8(A,2),C=E[0],L=E[1];return Pe(Pe({},S),{},mt({},C,L.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,A){var E=V8(A,2),C=E[0],L=E[1];return Pe(Pe({},S),{},mt({},C,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,A=S.formattedGraphicalItems,E=S.activeItem;if(A&&A.length)for(var C=0,L=A.length;C<L;C++){var I=A[C],q=I.props,O=I.item,M=O.type.defaultProps!==void 0?Pe(Pe({},O.type.defaultProps),O.props):O.props,z=Hu(O.type);if(z==="Bar"){var $=(q.data||[]).find(function(W){return Vve(x,W)});if($)return{graphicalItem:I,payload:$}}else if(z==="RadialBar"){var V=(q.data||[]).find(function(W){return jD(x,W)});if(V)return{graphicalItem:I,payload:V}}else if(BP(I,E)||UP(I,E)||bw(I,E)){var X=Yye({graphicalItem:I,activeTooltipItem:E,itemData:M.data}),Q=M.activeIndex===void 0?X:M.activeIndex;return{graphicalItem:Pe(Pe({},I),{},{childIndex:Q}),payload:bw(I,E)?M.data[X]:I.props.data[X]}}}return null}},{key:"render",value:function(){var x=this;if(!P6(this))return null;var S=this.props,A=S.children,E=S.className,C=S.width,L=S.height,I=S.style,q=S.compact,O=S.title,M=S.desc,z=G8(S,S2e),$=Kt(z,!1);if(q)return pe.createElement(N8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement(LO,Hm({},$,{width:C,height:L,title:O,desc:M}),this.renderClipPath(),C6(A,this.renderMap)));if(this.props.accessibilityLayer){var V,X;$.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,$.role=(X=this.props.role)!==null&&X!==void 0?X:"application",$.onKeyDown=function(W){x.accessibilityManager.keyboardEvent(W)},$.onFocus=function(){x.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return pe.createElement(N8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement("div",Hm({className:ln("recharts-wrapper",E),style:Pe({position:"relative",cursor:"default",width:C,height:L},I)},Q,{ref:function(re){x.container=re}}),pe.createElement(LO,Hm({},$,{width:C,height:L,title:O,desc:M,style:U2e}),this.renderClipPath(),C6(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Ae.Component);mt(v,"displayName",n),mt(v,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),mt(v,"getDerivedStateFromProps",function(b,g){var w=b.dataKey,x=b.data,S=b.children,A=b.width,E=b.height,C=b.layout,L=b.stackOffset,I=b.margin,q=g.dataStartIndex,O=g.dataEndIndex;if(g.updateId===void 0){var M=X8(b);return Pe(Pe(Pe({},M),{},{updateId:0},p(Pe(Pe({props:b},M),{},{updateId:0}),g)),{},{prevDataKey:w,prevData:x,prevWidth:A,prevHeight:E,prevLayout:C,prevStackOffset:L,prevMargin:I,prevChildren:S})}if(w!==g.prevDataKey||x!==g.prevData||A!==g.prevWidth||E!==g.prevHeight||C!==g.prevLayout||L!==g.prevStackOffset||!s0(I,g.prevMargin)){var z=X8(b),$={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},V=Pe(Pe({},Y8(g,x,C)),{},{updateId:g.updateId+1}),X=Pe(Pe(Pe({},z),$),V);return Pe(Pe(Pe({},X),p(Pe({props:b},X),g)),{},{prevDataKey:w,prevData:x,prevWidth:A,prevHeight:E,prevLayout:C,prevStackOffset:L,prevMargin:I,prevChildren:S})}if(!OO(S,g.prevChildren)){var Q,W,re,ce,ae=Ma(S,sy),D=ae&&(Q=(W=ae.props)===null||W===void 0?void 0:W.startIndex)!==null&&Q!==void 0?Q:q,K=ae&&(re=(ce=ae.props)===null||ce===void 0?void 0:ce.endIndex)!==null&&re!==void 0?re:O,ee=D!==q||K!==O,se=!Yt(x),oe=se&&!ee?g.updateId:g.updateId+1;return Pe(Pe({updateId:oe},p(Pe(Pe({props:b},g),{},{updateId:oe,dataStartIndex:D,dataEndIndex:K}),g)),{},{prevChildren:S,dataStartIndex:D,dataEndIndex:K})}return null}),mt(v,"renderActiveDot",function(b,g,w){var x;return Ae.isValidElement(b)?x=Ae.cloneElement(b,g):Ht(b)?x=b(g):x=pe.createElement(BI,g),pe.createElement(pr,{className:"recharts-active-dot",key:w},x)});var m=Ae.forwardRef(function(g,w){return pe.createElement(v,Hm({},g,{ref:w}))});return m.displayName=v.displayName,m},Z2e=J2e({chartName:"AreaChart",GraphicalChild:sd,axisComponents:[{axisType:"xAxis",AxisComp:KP},{axisType:"yAxis",AxisComp:YP}],formatAxisMap:_be});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q2e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const exe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const n=Ae.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>Ae.createElement("svg",{ref:u,...Q2e,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${exe(t)}`,o].join(" "),...c},[...e.map(([f,d])=>Ae.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const txe=Pt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nxe=Pt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Pt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rxe=Pt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ixe=Pt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Pt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sxe=Pt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const axe=Pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Pt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oxe=Pt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Pt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lxe=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cxe=Pt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Pt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uxe=Pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hxe=Pt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fxe=Pt("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dxe=Pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pxe=Pt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gxe=Pt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Pt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Pt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mxe=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vxe=Pt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Pt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yxe=Pt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bxe=Pt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wxe=Pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xxe=Pt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Pt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Pt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _xe=Pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Pt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Axe=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sxe=Pt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Pt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),qC=[{ruleId:"RD-001",ruleName:"R&D Personnel Detection",category:"rd_credit",keywords:["engineer","developer","lab","research"],valuePerMatch:5e3,flatBonus:0,maxValue:null,requiresMinMatches:1,description:"Identifies R&D qualified personnel and activities",irsReference:"IRC 41(b)(2)(B)"},{ruleId:"RD-002",ruleName:"R&D Activity Indicators",category:"rd_credit",keywords:["prototype","experiment","testing","innovation","patent"],valuePerMatch:3500,flatBonus:0,maxValue:null,requiresMinMatches:1,description:"Identifies specific R&D activities",irsReference:"IRC 41(d)"},{ruleId:"RD-003",ruleName:"Technical Uncertainty Indicators",category:"rd_credit",keywords:["uncertainty","unknown","feasibility","capability","alternative"],valuePerMatch:2500,flatBonus:0,maxValue:null,requiresMinMatches:2,description:"Identifies technical uncertainty language",irsReference:"Treas. Reg. 1.41-4(a)(3)"},{ruleId:"TRN-001",ruleName:"Training Program Detection",category:"training",keywords:["tuition","course","workshop"],valuePerMatch:2e3,flatBonus:0,maxValue:null,requiresMinMatches:1,description:"Identifies qualified educational expenses",irsReference:"IRC 127"},{ruleId:"TRN-002",ruleName:"Educational Assistance Indicators",category:"training",keywords:["certification","training","seminar","education","learning"],valuePerMatch:1500,flatBonus:0,maxValue:null,requiresMinMatches:1,description:"Identifies educational assistance indicators",irsReference:"IRC 127(c)"},{ruleId:"GRN-001",ruleName:"Green Energy Detection",category:"green_energy",keywords:["solar","energy","retrofit"],valuePerMatch:0,flatBonus:15e3,maxValue:15e3,requiresMinMatches:1,description:"Identifies energy efficiency improvements",irsReference:"IRC 179D"},{ruleId:"GRN-002",ruleName:"Energy Efficiency Indicators",category:"green_energy",keywords:["hvac","insulation","lighting","efficiency","sustainable"],valuePerMatch:2500,flatBonus:0,maxValue:5e4,requiresMinMatches:2,description:"Identifies specific energy efficiency improvements",irsReference:"IRC 179D(c)"},{ruleId:"ERC-001",ruleName:"ERC Eligibility Indicators",category:"employee_retention",keywords:["pandemic","covid","shutdown","suspension","gross receipts decline"],valuePerMatch:0,flatBonus:25e3,maxValue:25e3,requiresMinMatches:2,description:"Identifies potential ERC eligibility",irsReference:"IRC 3134"}],Exe=[{pattern:/\b(estimated|approximately|about|roughly)\s+\$[\d,]+/gi,type:"caution",category:"financial_uncertainty",description:"Estimated financial figures detected",recommendation:"Request supporting documentation"},{pattern:/\b(verbal|oral|informal)\s+(agreement|contract)/gi,type:"warning",category:"documentation_gap",description:"Informal agreement referenced",recommendation:"Obtain written documentation"},{pattern:/\b(independent contractor|1099|freelance)/gi,type:"info",category:"worker_classification",description:"Independent contractor reference detected",recommendation:"Verify proper worker classification"}];function Pxe(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e).toString(16).padStart(8,"0")}function kxe(){const t=Date.now().toString(36),e=Math.random().toString(36).substring(2,8);return`SCAN-${t}-${e}`.toUpperCase()}function Cxe(t,e){const n=t.substring(0,e).split(`
`);return{line:n.length,column:n[n.length-1].length+1}}function Txe(t,e,n,r=50){const i=Math.max(0,e-r),s=Math.min(t.length,e+n+r);let a=t.substring(i,s).replace(/\s+/g," ").trim();return i>0&&(a="..."+a),s<t.length&&(a=a+"..."),{context:a,start:i,end:s}}function Oxe(t,e){const n=[],r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`\\b${r}\\b`,"gi");let s;for(;(s=i.exec(t))!==null;){const{line:a,column:o}=Cxe(t,s.index),{context:l,start:c,end:u}=Txe(t,s.index,s[0].length);n.push({keyword:e.toLowerCase(),pattern:s[0],position:s.index,lineNumber:a,columnNumber:o,context:l,contextStart:c,contextEnd:u,confidence:1})}return n}function Nxe(t,e){const n=t.split(/\s+/).filter(c=>c.length>0),r=t.split(/[.!?]+/).filter(c=>c.trim().length>0),i=t.split(`
`),s={};n.forEach(c=>{const u=c.toLowerCase().replace(/[^a-z0-9]/g,"");u.length>2&&(s[u]=(s[u]||0)+1)});const a=Object.entries(s).sort((c,u)=>u[1]-c[1]).slice(0,20).map(([c,u])=>({word:c,count:u})),o=n.reduce((c,u)=>c+u.length,0),l=new Set(n.map(c=>c.toLowerCase())).size;return{totalCharacters:t.length,totalWords:n.length,totalLines:i.length,totalSentences:r.length,averageWordLength:n.length>0?o/n.length:0,averageSentenceLength:r.length>0?n.length/r.length:0,lexicalDensity:n.length>0?l/n.length*100:0,keywordDensity:n.length>0?e.length/n.length*100:0,topWords:a}}function Lxe(t){const e=[];return Exe.forEach((n,r)=>{let i;const s=new RegExp(n.pattern.source,n.pattern.flags);for(;(i=s.exec(t))!==null;)e.push({indicatorId:`RISK-${String(r+1).padStart(3,"0")}-${e.length}`,type:n.type,category:n.category,description:n.description,evidence:i[0],position:i.index,recommendation:n.recommendation})}),e}function Ixe(t,e,n){if(t===0)return"none";const r=e/n;return t>=5&&r>=.5?"strong":t>=3&&r>=.3?"moderate":t>=1?"weak":"none"}function Rxe(t,e,n,r){if(t<r)return 0;const i=e/n*.4,s=Math.min(1,t/10)*.4,a=Math.min(1,t/(r*2))*.2;return Math.min(1,i+s+a)}function oH(t){const e=performance.now(),n=kxe(),r=[];r.push({action:"SCAN_INITIATED",timestamp:new Date().toISOString(),details:`Analysis ${n} started, content length: ${t.length} characters`});const i=[],s={},a=[];qC.forEach(M=>{const z=[],$=new Set;M.keywords.forEach(ce=>{const ae=Oxe(t,ce);ae.length>0&&($.add(ce.toLowerCase()),z.push(...ae),i.push(...ae),s[M.category]||(s[M.category]=[]),s[M.category].push(...ae))});let V=0;const X=z.length>=M.requiresMinMatches;X&&(V=z.length*M.valuePerMatch,V+=M.flatBonus,M.maxValue!==null&&(V=Math.min(V,M.maxValue)));const Q=Rxe(z.length,$.size,M.keywords.length,M.requiresMinMatches),W=Ixe(z.length,$.size,M.keywords.length),re=[];!X&&z.length>0&&re.push(`Found ${z.length} matches but requires minimum ${M.requiresMinMatches}`),W==="strong"&&re.push("Strong evidence supporting qualification"),a.push({ruleId:M.ruleId,ruleName:M.ruleName,category:M.category,qualified:X,matchCount:z.length,uniqueKeywordsMatched:Array.from($),matches:z,calculatedValue:V,valueBreakdown:{perMatchValue:z.length*M.valuePerMatch,flatBonus:X?M.flatBonus:0,total:V},confidence:Q,evidenceStrength:W,notes:re})}),r.push({action:"RULES_PROCESSED",timestamp:new Date().toISOString(),details:`Processed ${qC.length} rules, found ${i.length} total matches`});const o=a.filter(M=>M.category==="rd_credit"),l=a.filter(M=>M.category==="training"),c=a.filter(M=>M.category==="green_energy"),u=a.filter(M=>M.category==="employee_retention"),f=o.some(M=>M.qualified),d=l.some(M=>M.qualified),p=c.some(M=>M.qualified),v=u.some(M=>M.qualified),m=o.reduce((M,z)=>M+z.calculatedValue,0),b=l.reduce((M,z)=>M+z.calculatedValue,0),g=c.reduce((M,z)=>M+z.calculatedValue,0),w=u.reduce((M,z)=>M+z.calculatedValue,0),x=m+b+g+w,S=Nxe(t,i),A=Lxe(t),E=A.filter(M=>M.type==="warning").length>=2?"high":A.filter(M=>M.type==="warning").length>=1?"medium":"low",C=(M,z,$,V,X,Q)=>{const W=V.filter(ae=>ae.qualified).map(ae=>ae.ruleId),re=V.reduce((ae,D)=>ae+D.matchCount,0),ce=V.length>0?V.reduce((ae,D)=>ae+D.confidence,0)/V.length:0;return{programId:z,programName:M,irsForm:$,isEligible:X,eligibilityScore:Math.round(ce*100),estimatedValue:Q,valueRange:{minimum:Math.round(Q*.7),expected:Q,maximum:Math.round(Q*1.3)},matchedRules:W,evidenceCount:re,confidence:ce,requirements:V.map(ae=>({requirement:ae.ruleName,met:ae.qualified,evidence:ae.qualified?`${ae.matchCount} matches found`:null})),recommendations:X?["Gather supporting documentation","Review contemporaneous records"]:["Insufficient evidence found"]}},L=new Set(i.map(M=>M.keyword)).size,I=a.filter(M=>M.qualified).length,q=a.reduce((M,z)=>M+z.calculatedValue*z.confidence,0),O=performance.now();return r.push({action:"SCAN_COMPLETE",timestamp:new Date().toISOString(),details:`Analysis complete in ${Math.round(O-e)}ms`}),{analysisId:n,analysisVersion:"5.0.0",timestamp:new Date().toISOString(),processingTimeMs:Math.round(O-e),source:{contentLength:t.length,contentHash:Pxe(t),contentType:"plain_text",language:"en",encoding:"UTF-8"},isRdEligible:f,isTrainingEligible:d,isGreenEligible:p,isErcEligible:v,isWotcEligible:!1,is179dEligible:p,financialSummary:{totalEstimatedValue:x,rdCreditValue:m,trainingCreditValue:b,greenEnergyValue:g,otherCreditsValue:w,confidenceWeightedValue:Math.round(q),valueByCategory:{rd_credit:m,training:b,green_energy:g,employee_retention:w}},ruleEvaluations:a,qualifications:{rdCredit:C("Federal R&D Tax Credit","IRC-41","Form 6765",o,f,m),trainingGrant:C("Training & Education Grant","TRN-127","Form W-2",l,d,b),greenEnergy:C("Energy Efficiency Deduction","SEC-179D","Form 7205",c,p,g),employeeRetention:C("Employee Retention Credit","ERC-3134","Form 941-X",u,v,w)},allMatches:i,matchesByCategory:s,statistics:S,riskIndicators:A,overallRiskLevel:E,processingDetails:{rulesApplied:qC.length,rulesTriggered:I,totalMatchesFound:i.length,uniqueKeywordsFound:L,scanCoverage:100,confidenceScore:I>0?a.filter(M=>M.qualified).reduce((M,z)=>M+z.confidence,0)/I:0},auditLog:r}}function zu(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function ZP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mxe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}const jxe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class GI extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Dxe extends GI{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q8 extends GI{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class eF extends GI{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var J3;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(J3||(J3={}));class Fxe{constructor(e,{headers:n={},customFetch:r,region:i=J3.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=jxe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Mxe(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=r;let d={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(d["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(d["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(d["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let b=u;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),u?(b=a.signal,u.addEventListener("abort",()=>a.abort())):b=a.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:m,signal:b}).catch(A=>{throw new Dxe(A)}),w=g.headers.get("x-relay-error");if(w&&w==="true")throw new Q8(g);if(!g.ok)throw new eF(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield g.json():x==="application/octet-stream"||x==="application/pdf"?S=yield g.blob():x==="text/event-stream"?S=g:x==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof eF||o instanceof Q8?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var $xe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Bxe=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,u=s.statusText;if(s.ok){var f,d;if(n.method!=="HEAD"){var p;const g=await s.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const m=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(d=s.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");m&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const m=await s.text();try{a=JSON.parse(m),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,u="OK")}catch{s.status===404&&m===""?(c=204,u="No Content"):a={message:m}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&n.shouldThrowOnError)throw new $xe(a)}return{error:a,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="";const l=s==null?void 0:s.cause;if(l){var c,u,f,d;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",m=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"Error"}: ${v}`,m&&(o+=` (${m})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var p;o=(p=s==null?void 0:s.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Uxe=class extends Bxe{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const tF=new RegExp("[,()]");var vm=class extends Uxe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&tF.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&tF.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},zxe=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new vm({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(s.length>0){const a=[...new Set(s)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new vm({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new vm({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new vm({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new vm({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},qxe=class lH{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new zxe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lH(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",c=n);const u=new Headers(this.headers);return s&&u.set("Prefer",`count=${s}`),new vm({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Hxe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Wxe="2.89.0",Vxe=`realtime-js/${Wxe}`,cH="1.0.0",Gxe="2.0.0",nF=cH,Z3=1e4,Kxe=1e3,Yxe=100;var Rh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Rh||(Rh={}));var ci;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ci||(ci={}));var pl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pl||(pl={}));var Q3;(function(t){t.websocket="websocket"})(Q3||(Q3={}));var Dd;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Dd||(Dd={}));class Xxe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+d);let v=new DataView(p),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,o.length),v.setUint8(m++,a.length),v.setUint8(m++,c.length),v.setUint8(m++,f.length),v.setUint8(m++,n),Array.from(l,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(c,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(f,g=>v.setUint8(m++,g.charCodeAt(0)));var b=new Uint8Array(p.byteLength+r.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(r),p.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,o,l]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const u=r.decode(e.slice(l,l+s));l=l+s;const f=r.decode(e.slice(l,l+a));l=l+a;const d=e.slice(l,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,v={type:this.BROADCAST_EVENT,event:u,payload:p};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class uH{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Un;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Un||(Un={}));const rF=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=Jxe(a,t,e,i),s),{}):{}},Jxe=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?hH(s,a):eN(a)},hH=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return t_e(e,n)}switch(t){case Un.bool:return Zxe(e);case Un.float4:case Un.float8:case Un.int2:case Un.int4:case Un.int8:case Un.numeric:case Un.oid:return Qxe(e);case Un.json:case Un.jsonb:return e_e(e);case Un.timestamp:return n_e(e);case Un.abstime:case Un.date:case Un.daterange:case Un.int4range:case Un.int8range:case Un.money:case Un.reltime:case Un.text:case Un.time:case Un.timestamptz:case Un.timetz:case Un.tsrange:case Un.tstzrange:return eN(e);default:return eN(e)}},eN=t=>t,Zxe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Qxe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},e_e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},t_e=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>hH(e,o))}return t},n_e=t=>typeof t=="string"?t.replace(" ","T"):t,fH=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class HC{constructor(e,n,r={},i=Z3){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iF||(iF={}));class Ab{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ab.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Ab.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ab.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const f=s[c];if(f){const d=u.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),v=u.filter(b=>p.indexOf(b.presence_ref)<0),m=f.filter(b=>d.indexOf(b.presence_ref)<0);v.length>0&&(o[c]=v),m.length>0&&(l[c]=m)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(p=>p.presence_ref),d=u.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...d)}r(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sF;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sF||(sF={}));var Sb;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sb||(Sb={}));var Zc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zc||(Zc={}));class Wm{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ci.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new HC(this,pl.join,this.params,this.timeout),this.rejoinTimer=new uH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ci.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ci.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ci.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ci.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ci.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pl.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Ab(this),this.broadcastEndpointURL=fH(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ci.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Sb.PRESENCE]&&this.bindings[Sb.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},d={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Zc.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Zc.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Zc.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,g=[];for(let w=0;w<b;w++){const x=m[w],{filter:{event:S,schema:A,table:E,filter:C}}=x,L=p&&p[w];if(L&&L.event===S&&Wm.isFilterValueEqual(L.schema,A)&&Wm.isFilterValueEqual(L.table,E)&&Wm.isFilterValueEqual(L.filter,C))g.push(Object.assign(Object.assign({},x),{id:L.id}));else{this.unsubscribe(),this.state=ci.errored,e==null||e(Zc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Zc.SUBSCRIBED);return}}).receive("error",p=>{this.state=ci.errored,e==null||e(Zc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ci.joined&&e===Sb.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ci.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pl.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new HC(this,pl.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ci.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new HC(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Yxe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=pl;if(r&&[o,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let d=this._onMessage(a,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,m,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(d,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var v,m,b,g,w,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,A=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(w=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:m,table:b,commit_timestamp:g,type:w,errors:x}=v;d=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:g,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(v))}p.callback(d,r)})}_isClosed(){return this.state===ci.closed}_isJoined(){return this.state===ci.joined}_isJoining(){return this.state===ci.joining}_isLeaving(){return this.state===ci.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Wm.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pl.close,{},e)}_onError(e){this._on(pl.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ci.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=rF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=rF(e.columns,e.old_record)),n}}const WC=()=>{},f5={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r_e=[1e3,2e3,5e3,1e4],i_e=1e4,s_e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a_e{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Z3,this.transport=null,this.heartbeatIntervalMs=f5.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=WC,this.ref=0,this.reconnectTimer=null,this.vsn=nF,this.logger=WC,this.conn=null,this.sendBuffer=[],this.serializer=new Xxe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Q3.websocket}`,this.httpEndpoint=fH(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hxe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rh.connecting:return Dd.Connecting;case Rh.open:return Dd.Open;case Rh.closing:return Dd.Closing;default:return Dd.Closed}}isConnected(){return this.connectionState()===Dd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Wm(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Kxe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},f5.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Rh.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rh.open||this.conn.readyState===Rh.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(pl.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([s_e],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:Vxe};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(pl.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new uH(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},f5.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,l,c,u,f,d,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Z3,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:f5.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:WC,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:nF,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:v=>r_e[v-1]||i_e,this.vsn){case cH:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(v,m)=>m(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,m)=>m(JSON.parse(v));break;case Gxe:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var kw=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function o_e(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function l_e(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function c_e(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=o_e(t.baseUrl,r,i),l=await l_e(t.auth),c=await e(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),u=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),d=f&&u?JSON.parse(u):u;if(!c.ok){const p=f?d:void 0,v=p==null?void 0:p.error;throw new kw((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:c.status,headers:c.headers,data:d}}}}function d5(t){return t.join("")}var u_e=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:d5(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${d5(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${d5(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${d5(t.namespace)}`}),!0}catch(e){if(e instanceof kw&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof kw&&n.status===409)return;throw n}}};function am(t){return t.join("")}var h_e=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${am(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${am(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${am(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${am(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${am(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${am(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof kw&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof kw&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},f_e=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=c_e({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new u_e(this.client,e),this.tableOps=new h_e(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},QP=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function fr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var d_e=class extends QP{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tN=class extends QP{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const KI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),p_e=()=>Response,nN=t=>{if(Array.isArray(t))return t.map(n=>nN(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=nN(r)}),e},g_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},m_e=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Cw(t){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(t)}function v_e(t,e){if(Cw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y_e(t){var e=v_e(t,"string");return Cw(e)=="symbol"?e:e+""}function b_e(t,e,n){return(e=y_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(n),!0).forEach(function(r){b_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const VC=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},w_e=async(t,e,n)=>{t instanceof await p_e()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,s=(r==null?void 0:r.statusCode)||i+"";e(new d_e(VC(r),i,s))}).catch(r=>{e(new tN(VC(r),r))}):e(new tN(VC(t),t))},x_e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(g_e(r)?(i.headers=yt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),yt(yt({},i),n))};async function qx(t,e,n,r,i,s){return new Promise((a,o)=>{t(n,x_e(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>w_e(l,o,r))})}async function Tw(t,e,n,r){return qx(t,"GET",e,n,r)}async function Qo(t,e,n,r,i){return qx(t,"POST",e,r,i,n)}async function rN(t,e,n,r,i){return qx(t,"PUT",e,r,i,n)}async function __e(t,e,n,r){return qx(t,"HEAD",e,yt(yt({},n),{},{noResolveJson:!0}),r)}async function YI(t,e,n,r,i){return qx(t,"DELETE",e,r,i,n)}var A_e=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fr(e))return{data:null,error:e};throw e}}};let dH;dH=Symbol.toStringTag;var S_e=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[dH]="BlobDownloadBuilder",this.promise=null}asStream(){return new A_e(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fr(e))return{data:null,error:e};throw e}}};const E_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var P_e=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=KI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let s;const a=yt(yt({},oF),r);let o=yt(yt({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=yt(yt({},o),r.headers));const c=i._removeEmptyFolders(e),u=i._getFinalPath(c),f=await(t=="PUT"?rN:Qo)(i.fetch,`${i.url}/object/${u}`,s,yt({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(fr(s))return{data:null,error:s};throw s}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);o.searchParams.set("token",e);try{let l;const c=yt({upsert:oF.upsert},r),u=yt(yt({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:s,fullPath:(await rN(i.fetch,o.toString(),l,{headers:u})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(fr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=yt({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await Qo(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),o=a.searchParams.get("token");if(!o)throw new QP("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Qo(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Qo(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),s=await Qo(r.fetch,`${r.url}/object/sign/${i}`,yt({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Qo(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>yt(yt({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",s=this._getFinalPath(t),a=()=>Tw(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new S_e(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:nN(await Tw(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await __e(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fr(r)&&r instanceof tN){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}async remove(t){var e=this;try{return{data:await YI(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=yt(yt(yt({},E_e),e),{},{prefix:t||""});return{data:await Qo(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=yt({},t);return{data:await Qo(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const pH="2.89.0",gH={"X-Client-Info":`storage-js/${pH}`};var k_e=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=yt(yt({},gH),e),this.fetch=KI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Tw(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Tw(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Qo(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await rN(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Qo(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await YI(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},C_e=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=yt(yt({},gH),e),this.fetch=KI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Qo(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Tw(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await YI(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!m_e(t))throw new QP("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new f_e({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const XI={"X-Client-Info":`storage-js/${pH}`,"Content-Type":"application/json"};var mH=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $a(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var GC=class extends mH{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},T_e=class extends mH{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const JI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),O_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lF=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),N_e=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||r+"";e(new GC(lF(s),r,a))}).catch(()=>{const s=r+"";e(new GC(i.statusText||`HTTP ${r} error`,r,s))});else{const s=r+"";e(new GC(i.statusText||`HTTP ${r} error`,r,s))}}else e(new T_e(lF(t),t))},L_e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(O_e(r)?(i.headers=yt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,yt(yt({},i),n)):i};async function I_e(t,e,n,r,i,s){return new Promise((a,o)=>{t(n,L_e(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>N_e(l,o,r))})}async function Ba(t,e,n,r,i){return I_e(t,"POST",e,r,i,n)}var R_e=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=yt(yt({},XI),e),this.fetch=JI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ba(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ba(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($a(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Ba(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ba(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($a(r))return{data:null,error:r};throw r}}},M_e=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=yt(yt({},XI),e),this.fetch=JI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ba(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ba(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ba(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ba(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ba(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}},j_e=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=yt(yt({},XI),e),this.fetch=JI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ba(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ba(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ba(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ba(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($a(n))return{data:null,error:n};throw n}}},D_e=class extends j_e{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new F_e(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},F_e=class extends R_e{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,yt(yt({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,yt(yt({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new $_e(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},$_e=class extends M_e{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,yt(yt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,yt(yt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,yt(yt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,yt(yt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,yt(yt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},B_e=class extends k_e{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new P_e(this.url,this.headers,t,this.fetch)}get vectors(){return new D_e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new C_e(this.url+"/iceberg",this.headers,this.fetch)}};const vH="2.89.0",ym=30*1e3,iN=3,KC=iN*ym,U_e="http://localhost:9999",z_e="supabase.auth.token",q_e={"X-Client-Info":`gotrue-js/${vH}`},sN="X-Supabase-Api-Version",yH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H_e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W_e=10*60*1e3;class Ow extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ot(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class V_e extends Ow{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function G_e(t){return ot(t)&&t.name==="AuthApiError"}class Fd extends Ow{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ch extends Ow{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ha extends ch{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K_e(t){return ot(t)&&t.name==="AuthSessionMissingError"}class om extends ch{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class p5 extends ch{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class g5 extends ch{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y_e(t){return ot(t)&&t.name==="AuthImplicitGrantRedirectError"}class cF extends ch{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X_e extends ch{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class aN extends ch{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function YC(t){return ot(t)&&t.name==="AuthRetryableFetchError"}class uF extends ch{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class oN extends ch{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hF=` 	
\r=`.split(""),J_e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<hF.length;e+=1)t[hF[e].charCodeAt(0)]=-2;for(let e=0;e<sE.length;e+=1)t[sE[e].charCodeAt(0)]=e;return t})();function fF(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sE[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sE[r]),e.queuedBits-=6}}function bH(t,e,n){const r=J_e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function dF(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{e5e(a,r,n)};for(let a=0;a<t.length;a+=1)bH(t.charCodeAt(a),i,s);return e.join("")}function Z_e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q_e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Z_e(r,e)}}function e5e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function c0(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)bH(t.charCodeAt(i),n,r);return new Uint8Array(e)}function t5e(t){const e=[];return Q_e(t,n=>e.push(n)),new Uint8Array(e)}function Zd(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>fF(i,n,r)),fF(null,n,r),e.join("")}function n5e(t){return Math.round(Date.now()/1e3)+t}function r5e(){return Symbol("auth-callback")}const $i=()=>typeof window<"u"&&typeof document<"u",Ed={tested:!1,writable:!1},wH=()=>{if(!$i())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ed.tested)return Ed.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ed.tested=!0,Ed.writable=!0}catch{Ed.tested=!0,Ed.writable=!1}return Ed.writable};function i5e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const xH=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),s5e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bm=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Pd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Fi=async(t,e)=>{await t.removeItem(e)};class ek{constructor(){this.promise=new ek.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ek.promiseConstructor=Promise;function XC(t){const e=t.split(".");if(e.length!==3)throw new oN("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!H_e.test(e[r]))throw new oN("JWT not in base64url format");return{header:JSON.parse(dF(e[0])),payload:JSON.parse(dF(e[1])),signature:c0(e[2]),raw:{header:e[0],payload:e[1]}}}async function a5e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function o5e(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function l5e(t){return("0"+t.toString(16)).substr(-2)}function c5e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,l5e).join("")}async function u5e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function h5e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await u5e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lm(t,e,n=!1){const r=c5e();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await bm(t,`${e}-code-verifier`,i);const s=await h5e(r);return[s,r===s?"plain":"s256"]}const f5e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function d5e(t){const e=t.headers.get(sN);if(!e||!e.match(f5e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function p5e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function g5e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const m5e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cm(t){if(!m5e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function JC(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v5e(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function pF(t){return JSON.parse(JSON.stringify(t))}const Ld=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y5e=[502,503,504];async function gF(t){var e;if(!s5e(t))throw new aN(Ld(t),0);if(y5e.includes(t.status))throw new aN(Ld(t),t.status);let n;try{n=await t.json()}catch(s){throw new Fd(Ld(s),s)}let r;const i=d5e(t);if(i&&i.getTime()>=yH["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uF(Ld(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ha}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new uF(Ld(n),t.status,n.weak_password.reasons);throw new V_e(Ld(n),t.status||500,r)}const b5e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function vt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[sN]||(s[sN]=yH["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await w5e(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function w5e(t,e,n,r,i,s){const a=b5e(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new aN(Ld(l),0)}if(o.ok||await gF(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await gF(l)}}function Yo(t){var e;let n=null;A5e(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=n5e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function mF(t){const e=Yo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fh(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function x5e(t){return{data:t,error:null}}function _5e(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=ZP(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function vF(t){return t}function A5e(t){return t.access_token&&t.refresh_token&&t.expires_in}const ZC=["global","local","others"];class S5e{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xH(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ZC[0]){if(ZC.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ZC.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fh})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ZP(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_5e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ot(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fh})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:vF});if(u.error)throw u.error;const f=await u.json(),d=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ot(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){cm(e);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fh})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){cm(e);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Fh})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){cm(e);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fh})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){cm(e.userId);try{const{data:n,error:r}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _deleteFactor(e){cm(e.userId),cm(e.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:vF});if(u.error)throw u.error;const f=await u.json(),d=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ot(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await vt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}}function yF(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const um={debug:!!(globalThis&&wH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _H extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class E5e extends _H{}async function P5e(t,e,n){um.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),um.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){um.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{um.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw um.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new E5e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(um.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function k5e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function AH(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function C5e(t){return parseInt(t,16)}function T5e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function O5e(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:d}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=AH(t.address),v=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${p}

${m}`;let g=`URI: ${f}
Version: ${d}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}g+=w}return`${b}
${g}`}class Yr extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class aE extends Yr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function N5e({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Yr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Yr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Yr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Yr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Yr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Yr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Yr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(SH(a)){if(s.rp.id!==a)return new Yr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Yr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function L5e({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Yr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(SH(r)){if(n.rpId!==r)return new Yr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class I5e{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const R5e=new I5e;function M5e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=ZP(t,["challenge","user","excludeCredentials"]),s=c0(e).buffer,a=Object.assign(Object.assign({},n),{id:c0(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:c0(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function j5e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ZP(t,["challenge","allowCredentials"]),i=c0(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:c0(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function D5e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zd(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zd(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function F5e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zd(new Uint8Array(i.authenticatorData)),clientDataJSON:Zd(new Uint8Array(i.clientDataJSON)),signature:Zd(new Uint8Array(i.signature)),userHandle:i.userHandle?Zd(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function SH(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function bF(){var t,e;return!!($i()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $5e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new aE("Browser returned unexpected credential type",e)}:{data:null,error:new aE("Empty credential response",e)}}catch(e){return{data:null,error:N5e({error:e,options:t})}}}async function B5e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new aE("Browser returned unexpected credential type",e)}:{data:null,error:new aE("Empty credential response",e)}}catch(e){return{data:null,error:L5e({error:e,options:t})}}}const U5e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},z5e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function oE(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=oE(o,a):r[s]=oE(a)}else r[s]=a}return r}function q5e(t,e){return oE(U5e,t,e||{})}function H5e(t,e){return oE(z5e,t,e||{})}class W5e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const l=i??R5e.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=q5e(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:f}=await $5e({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=H5e(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:f}=await B5e(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(a){return ot(a)?{data:null,error:a}:{data:null,error:new Fd("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Ow("rpId is required for WebAuthn authentication")};try{if(!bF())return{data:null,error:new Fd("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ot(a)?{data:null,error:a}:{data:null,error:new Fd("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Ow("rpId is required for WebAuthn registration")};try{if(!bF())return{data:null,error:new Fd("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return ot(a)?{data:null,error:a}:{data:null,error:new Fd("Unexpected error in register",a)}}}}k5e();const V5e={url:U_e,storageKey:z_e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q_e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function wF(t,e,n){return await n()}const hm={};class Nw{get jwks(){var e,n;return(n=(e=hm[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hm[this.storageKey]=Object.assign(Object.assign({},hm[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hm[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hm[this.storageKey]=Object.assign(Object.assign({},hm[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},V5e),e);if(this.storageKey=s.storageKey,this.instanceID=(n=Nw.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Nw.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&$i()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new S5e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xH(s.fetch),this.lock=s.lock||wF,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&$i()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=P5e:this.lock=wF,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new W5e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:wH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yF(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=yF(this.memoryStorage)),$i()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vH}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if($i()&&(n=i5e(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),$i()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Y_e(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ot(n)?this._returnResult({error:n}):this._returnResult({error:new Fd("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Yo}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(ot(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:f,options:d}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await lm(this.storage,this.storageKey)),s=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:v},xform:Yo})}else if("phone"in e){const{phone:u,password:f,options:d}=e;s=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Yo})}else throw new p5("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Fi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await Fi(this.storage,`${this.storageKey}-code-verifier`),ot(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mF})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mF})}else throw new p5("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new om;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,l,c,u,f,d;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:m,wallet:b,statement:g,options:w}=e;let x;if($i())if(typeof b=="object")x=b;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")x=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),A=await x.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=AH(A[0]);let C=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const I=await x.request({method:"eth_chainId"});C=C5e(I)}const L={domain:S.host,address:E,statement:g,uri:S.href,version:"1",chainId:C,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=O5e(L),v=await x.request({method:"personal_sign",params:[T5e(p),E]})}try{const{data:m,error:b}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Yo});if(b)throw b;if(!m||!m.session||!m.user){const g=new om;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(ot(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var n,r,i,s,a,o,l,c,u,f,d,p;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:b,wallet:g,statement:w,options:x}=e;let S;if($i())if(typeof g=="object")S=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const A=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),w?{statement:w}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${A.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:b,error:g}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Zd(m)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Yo});if(g)throw g;if(!b||!b.session||!b.user){const w=new om;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(ot(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Pd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new X_e;const{data:s,error:a}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Yo});if(await Fi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new om;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Fi(this.storage,`${this.storageKey}-code-verifier`),ot(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Yo}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new om;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await lm(this.storage,this.storageKey));const{error:f}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new p5("You must provide either an email or phone number.")}catch(o){if(await Fi(this.storage,`${this.storageKey}-code-verifier`),ot(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Yo});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ot(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await lm(this.storage,this.storageKey));const c=await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:x5e});return!((s=c.data)===null||s===void 0)&&s.url&&$i()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await Fi(this.storage,`${this.storageKey}-code-verifier`),ot(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ha;const{error:i}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ot(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await vt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await vt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new p5("You must provide either an email or phone number and a type")}catch(n){if(ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<KC:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Pd(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=JC()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=v5e(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fh}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ha}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Fh})})}catch(n){if(ot(n))return K_e(n)&&(await this._removeSession(),await Fi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ha;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await lm(this.storage,this.storageKey));const{data:c,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Fh});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Fi(this.storage,`${this.storageKey}-code-verifier`),ot(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ha;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=XC(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(ot(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ha;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!$i())throw new g5("No browser detected.");if(e.error||e.error_description||e.error_code)throw new g5(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new g5("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cF("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new g5("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let d=u+f;l&&(d=parseInt(l));const p=d-u;p*1e3<=ym&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=d-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,u);const{data:m,error:b}=await this._getUser(s);if(b)throw b;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:d,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(ot(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(G_e(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Fi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=r5e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await lm(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Fi(this.storage,`${this.storageKey}-code-verifier`),ot(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,u;const{data:f,error:d}=s;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return $i()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ot(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:u}=e,f=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yo}),{data:d,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new om}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:p}))}catch(i){if(await Fi(this.storage,`${this.storageKey}-code-verifier`),ot(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await o5e(async i=>(i>0&&await a5e(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yo})),(i,s)=>{const a=200*Math.pow(2,i);return s&&YC(s)&&Date.now()+a-r<ym})}catch(r){if(this._debug(n,"error",r),ot(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),$i()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Pd(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Pd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await bm(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:JC()}else if(i&&!i.user&&!i.user){const a=await Pd(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Fi(this.storage,this.storageKey+"-user"),await bm(this.storage,this.storageKey,i)):i.user=JC()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<KC;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${KC}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),YC(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ek;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new ha;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),ot(s)){const a={data:null,error:s};return YC(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Fi(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await bm(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=pF(i);await bm(this.storage,this.storageKey,s)}else{const i=pF(n);await bm(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fi(this.storage,this.storageKey),await Fi(this.storage,this.storageKey+"-code-verifier"),await Fi(this.storage,this.storageKey+"-user"),this.userStorage&&await Fi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$i()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ym);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ym);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ym}ms, refresh threshold is ${iN} ticks`),i<=iN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _H)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$i()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await lm(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?D5e(e.webauthn.credential_response):F5e(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:M5e(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:j5e(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=XC(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await vt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ha})})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ha});const a=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&$i()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ha});const a=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&$i()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await vt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ha})})}catch(e){if(ot(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await vt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ha})})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+W_e>i)return r;const{data:s,error:a}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=XC(r);n!=null&&n.allowExpired||p5e(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const u=g5e(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,t5e(`${o}.${l}`)))throw new oN("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}}Nw.nextInstanceID={};const G5e=Nw,K5e="2.89.0";let $1="";typeof Deno<"u"?$1="deno":typeof document<"u"?$1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$1="react-native":$1="node";const Y5e={"X-Client-Info":`supabase-js-${$1}/${K5e}`},X5e={headers:Y5e},J5e={schema:"public"},Z5e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Q5e={};function Lw(t){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lw(t)}function eAe(t,e){if(Lw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tAe(t){var e=eAe(t,"string");return Lw(e)=="symbol"?e:e+""}function nAe(t,e,n){return(e=tAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(n),!0).forEach(function(r){nAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const rAe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iAe=()=>Headers,sAe=(t,e,n)=>{const r=rAe(n),i=iAe();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Pr(Pr({},a),{},{headers:c}))}};function aAe(t){return t.endsWith("/")?t:t+"/"}function oAe(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:u,global:f}=e,d={db:Pr(Pr({},l),i),auth:Pr(Pr({},c),s),realtime:Pr(Pr({},u),a),storage:{},global:Pr(Pr(Pr({},f),o),{},{headers:Pr(Pr({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function lAe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aAe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var cAe=class extends G5e{constructor(t){super(t)}},uAe=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=lAe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:J5e,realtime:Q5e,auth:Pr(Pr({},Z5e),{},{storageKey:a}),global:X5e},l=oAe(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=sAe(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Pr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new qxe(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new B_e(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Fxe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cAe({url:this.authUrl.href,headers:Pr(Pr({},d),u),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new a_e(this.realtimeUrl.href,Pr(Pr({},t),{},{params:Pr(Pr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const hAe=(t,e,n)=>new uAe(t,e,n);function fAe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fAe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dAe="https://qmhqewbagjyfjbwobsfl.supabase.co",pAe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFtaHFld2JhZ2p5Zmpid29ic2ZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyOTc3OTgsImV4cCI6MjA4Mjg3Mzc5OH0.JxgFOTV3AOR5TDpIyJVBou44RFsi3RXxU7Yi8nr4iU4",B1=hAe(dAe,pAe),Cs=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),lN=[.001,0,0,.001,0,0],QC=1.35,Ia={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},$h={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Iw="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Zt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},gAe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},cN={TRIANGLES:1,LATTICE:2},li={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},K5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Vr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},wm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},tk={ERRORS:0,WARNINGS:1,INFOS:5},Rw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},P1={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},mAe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let nk=tk.WARNINGS;function vAe(t){Number.isInteger(t)&&(nk=t)}function yAe(){return nk}function rk(t){nk>=tk.INFOS&&console.info(`Info: ${t}`)}function St(t){nk>=tk.WARNINGS&&console.warn(`Warning: ${t}`)}function Dn(t){throw new Error(t)}function Qt(t,e){t||Dn(e)}function bAe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function EH(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=SAe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return bAe(r)?r:null}function PH(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&EH(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Et(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Bg=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class _F extends Bg{constructor(e,n){super(e,"PasswordException"),this.code=n}}class eT extends Bg{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class uN extends Bg{constructor(e){super(e,"InvalidPDFException")}}class lE extends Bg{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class wAe extends Bg{constructor(e){super(e,"FormatError")}}class Kf extends Bg{constructor(e){super(e,"AbortException")}}function kH(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Dn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Hx(t){typeof t!="string"&&Dn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function xAe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function _Ae(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function AAe(){try{return new Function(""),!0}catch{return!1}}class vi{static get isLittleEndian(){return Et(this,"isLittleEndian",_Ae())}static get isEvalSupported(){return Et(this,"isEvalSupported",AAe())}static get isOffscreenCanvasSupported(){return Et(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Et(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Et(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Et(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Et(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return Et(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const tT=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Vu,Y5,hN;class ze{static makeHexColor(e,n,r){return`#${tT[e]}${tT[n]}${tT[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5];for(let u=0;u<6;u+=2){const f=e[r+u],d=e[r+u+1];e[r+u]=f*i+d*a+l,e[r+u+1]=f*s+d*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5],u=e[0],f=e[1],d=e[2],p=e[3];let v=i*u+l,m=v,b=i*d+l,g=b,w=o*f+c,x=w,S=o*p+c,A=S;if(s!==0||a!==0){const E=s*u,C=s*d,L=a*f,I=a*p;v+=L,g+=L,b+=I,m+=I,w+=E,A+=E,S+=C,x+=C}r[0]=Math.min(r[0],v,b,m,g),r[1]=Math.min(r[1],w,S,x,A),r[2]=Math.max(r[2],v,b,m,g),r[3]=Math.max(r[3],w,S,x,A)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,u=(o+c)/2,f=Math.sqrt(u**2-(o*c-l**2));n[0]=Math.sqrt(u+f||1),n[1]=Math.sqrt(u-f||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static bezierBoundingBox(e,n,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),F(this,Vu,hN).call(this,e,r,s,o,n,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),F(this,Vu,hN).call(this,e,r,s,o,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}Vu=new WeakSet,Y5=function(e,n,r,i,s,a,o,l,c,u){if(c<=0||c>=1)return;const f=1-c,d=c*c,p=d*c,v=f*(f*(f*e+3*c*n)+3*d*r)+p*i,m=f*(f*(f*s+3*c*a)+3*d*o)+p*l;u[0]=Math.min(u[0],v),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],v),u[3]=Math.max(u[3],m)},hN=function(e,n,r,i,s,a,o,l,c,u,f,d){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&F(this,Vu,Y5).call(this,e,n,r,i,s,a,o,l,-f/u,d);return}const p=u**2-4*f*c;if(p<0)return;const v=Math.sqrt(p),m=2*c;F(this,Vu,Y5).call(this,e,n,r,i,s,a,o,l,(-u+v)/m,d),F(this,Vu,Y5).call(this,e,n,r,i,s,a,o,l,(-u-v)/m,d)},j(ze,Vu);function SAe(t){return decodeURIComponent(escape(t))}let nT=null,AF=null;function EAe(t){return nT||(nT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,AF=new Map([["","t"]])),t.replaceAll(nT,(e,n,r)=>n?n.normalize("NFKC"):AF.get(r))}function CH(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),kH(t)}const Vm="pdfjs_internal_id_";function PAe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Ts(t,e,n){return Math.min(Math.max(t,e),n)}function TH(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(kH(t))}function kAe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Hx(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Mw{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Mw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class OH{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){var f,d;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&Mw.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[p,v,m]=u.at(-1);if(v+1===p.children.length){u.pop();continue}const b=p.children[++u.at(-1)[1]];if(b===null)continue;const{name:g}=b;if(g==="#text"){const x=document.createTextNode(b.value);c.push(x),m.append(x);continue}const w=(f=b==null?void 0:b.attributes)!=null&&f.xmlns?document.createElementNS(b.attributes.xmlns,g):document.createElement(g);if(m.append(w),b.attributes&&this.setAttributes({html:w,element:b,storage:n,intent:s,linkService:r}),((d=b.children)==null?void 0:d.length)>0)u.push([b,-1,w]);else if(b.value){const x=document.createTextNode(b.value);o&&Mw.shouldBuildText(g)&&c.push(x),w.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Gc="http://www.w3.org/2000/svg",Ud=class Ud{};Se(Ud,"CSS",96),Se(Ud,"PDF",72),Se(Ud,"PDF_TO_CSS_UNITS",Ud.CSS/Ud.PDF);let Yf=Ud;async function Wx(t,e="text"){if(U1(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Vx{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,f,d,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,f=0,d=0,p=1;break;case 90:u=0,f=1,d=1,p=0;break;case 270:u=0,f=-1,d=-1,p=0;break;case 0:u=1,f=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,p=-p);let v,m,b,g;u===0?(v=Math.abs(c-e[1])*r+s,m=Math.abs(l-e[0])*r+a,b=(e[3]-e[1])*r,g=(e[2]-e[0])*r):(v=Math.abs(l-e[0])*r+s,m=Math.abs(c-e[1])*r+a,b=(e[2]-e[0])*r,g=(e[3]-e[1])*r),this.transform=[u*r,f*r,d*r,p*r,v-u*r*l-d*r*c,m-f*r*l-p*r*c],this.width=b,this.height=g}get rawDims(){const e=this.viewBox;return Et(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Vx({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return ze.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];ze.applyTransform(n,this.transform);const r=[e[2],e[3]];return ze.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return ze.applyInverseTransform(r,this.transform),r}}class ZI extends Bg{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function ik(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function QI(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function CAe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function TAe(t,e="document.pdf"){if(typeof t!="string")return e;if(ik(t))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class SF{constructor(){Se(this,"started",Object.create(null));Se(this,"times",[])}time(e){e in this.started&&St(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||St(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function U1(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function Ro(t){t.preventDefault()}function Or(t){t.preventDefault(),t.stopPropagation()}function OAe(t){console.log("Deprecated API usage: "+t)}var Bw;class cE{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;h(this,Bw)||T(this,Bw,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=h(this,Bw).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(n[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(a+=u,o+=f):c==="+"&&(a-=u,o-=f),new Date(Date.UTC(r,i,s,a,o,l))}}Bw=new WeakMap,j(cE,Bw);function NAe(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Vx({viewBox:s,userUnit:1,scale:e,rotation:n})}function Gx(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(St(`Not a valid color format: "${t}"`),[0,0,0])}function LAe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Gx(r))}e.remove()}function hr(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function Fl(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function Tg(t,e,n=!1,r=!0){if(e instanceof Vx){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=vi.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,f=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=u,a.height=f):(a.width=f,a.height=u)}r&&t.setAttribute("data-main-rotation",e.rotation)}class _c{constructor(){const{pixelRatio:e}=_c;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=_c.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,l=i/n);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const fN=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class IAe{static get isDarkMode(){var e;return Et(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class RAe{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Et(this,"commentForegroundColor",Gx(r))}}function MAe(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function EF(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=o}function dN(t,e){const n=t[0],r=t[1],i=t[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(n/60%2-1)),o=i-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function PF(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function kF(t,e,n){dN(t,n),n.map(PF);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];dN(e,n),n.map(PF);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const CF=new Map;function jAe(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=CF.get(n);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);EF(t,a);const o=i.subarray(6,9);EF(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),kF(a,o,s)<c){let u,f;l?(u=a[2],f=1):(u=0,f=a[2]);const d=.005;for(;f-u>d;){const p=a[2]=(u+f)/2;l===kF(a,o,s)<c?u=p:f=p}a[2]=l?f:u}return dN(a,s),r=ze.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),CF.set(n,r),r}function NH({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else OH.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",n),r.append(i)}function LH(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case P1.moveTo:e.moveTo(t[n++],t[n++]);break;case P1.lineTo:e.lineTo(t[n++],t[n++]);break;case P1.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case P1.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case P1.closePath:e.closePath();break;default:St(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}var Bh,Uh,co,uo,Uw,zh,g0,m0,zw,kE,IH,Xi,RH,MH,xm,z1;const Qc=class Qc{constructor(e){j(this,Xi);j(this,Bh,null);j(this,Uh,null);j(this,co);j(this,uo,null);j(this,Uw,null);j(this,zh,null);j(this,g0,null);j(this,m0,null);T(this,co,e),h(Qc,zw)||T(Qc,zw,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=T(this,Bh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=h(this,co)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Ro,{signal:n}),e.addEventListener("pointerdown",F(Qc,kE,IH),{signal:n}));const r=T(this,uo,document.createElement("div"));r.className="buttons",e.append(r);const i=h(this,co).toolbarPosition;if(i){const{style:s}=e,a=h(this,co)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return h(this,Bh)}hide(){var e;h(this,Bh).classList.add("hidden"),(e=h(this,Uh))==null||e.hideDropdown()}show(){var e,n;h(this,Bh).classList.remove("hidden"),(e=h(this,Uw))==null||e.shown(),(n=h(this,zh))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=h(this,co),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",h(Qc,zw)[e]),F(this,Xi,xm).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),h(this,uo).append(r)}async addAltText(e){const n=await e.render();F(this,Xi,xm).call(this,n),h(this,uo).append(n,h(this,Xi,z1)),T(this,Uw,e)}addComment(e,n=null){if(h(this,zh))return;const r=e.renderForToolbar();if(!r)return;F(this,Xi,xm).call(this,r);const i=T(this,g0,h(this,Xi,z1));n?(h(this,uo).insertBefore(r,n),h(this,uo).insertBefore(i,n)):h(this,uo).append(r,i),T(this,zh,e),e.toolbar=this}addColorPicker(e){if(h(this,Uh))return;T(this,Uh,e);const n=e.renderButton();F(this,Xi,xm).call(this,n),h(this,uo).append(n,h(this,Xi,z1))}async addEditSignatureButton(e){const n=T(this,m0,await e.renderEditButton(h(this,co)));F(this,Xi,xm).call(this,n),h(this,uo).append(n,h(this,Xi,z1))}removeButton(e){var n,r;switch(e){case"comment":(n=h(this,zh))==null||n.removeToolbarCommentButton(),T(this,zh,null),(r=h(this,g0))==null||r.remove(),T(this,g0,null);break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=h(this,uo).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){h(this,m0)&&(h(this,m0).title=e)}remove(){var e;h(this,Bh).remove(),(e=h(this,Uh))==null||e.destroy(),T(this,Uh,null)}};Bh=new WeakMap,Uh=new WeakMap,co=new WeakMap,uo=new WeakMap,Uw=new WeakMap,zh=new WeakMap,g0=new WeakMap,m0=new WeakMap,zw=new WeakMap,kE=new WeakSet,IH=function(e){e.stopPropagation()},Xi=new WeakSet,RH=function(e){h(this,co)._focusEventsAllowed=!1,Or(e)},MH=function(e){h(this,co)._focusEventsAllowed=!0,Or(e)},xm=function(e){const n=h(this,co)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",F(this,Xi,RH).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",F(this,Xi,MH).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Ro,{signal:n}),!0)},z1=function(){const e=document.createElement("div");return e.className="divider",e},j(Qc,kE),j(Qc,zw,null);let pN=Qc;var qw,Qd,ru,rh,jH,DH,gN;class DAe{constructor(e){j(this,rh);j(this,qw,null);j(this,Qd,null);j(this,ru);T(this,ru,e)}show(e,n,r){const[i,s]=F(this,rh,DH).call(this,n,r),{style:a}=h(this,Qd)||T(this,Qd,F(this,rh,jH).call(this));e.append(h(this,Qd)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Qd).remove()}}qw=new WeakMap,Qd=new WeakMap,ru=new WeakMap,rh=new WeakSet,jH=function(){const e=T(this,Qd,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=h(this,ru)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Ro,{signal:n});const r=T(this,qw,document.createElement("div"));return r.className="buttons",e.append(r),h(this,ru).hasCommentManager()&&F(this,rh,gN).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{h(this,ru).commentSelection("floating_button")}),F(this,rh,gN).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{h(this,ru).highlightSelection("floating_button")}),e},DH=function(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(n?s.width:0);if(a>r){i=o,r=a;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},gN=function(e,n,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=h(this,ru)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Ro,{signal:o}),s.addEventListener("click",i,{signal:o})),h(this,qw).append(s)};function FH(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var ep,tp,v0,np;const An=class An{static initializeAndAddPointerId(e){(h(An,tp)||T(An,tp,new Set)).add(e)}static setPointer(e,n){h(An,ep)||T(An,ep,n),h(An,np)??T(An,np,e)}static setTimeStamp(e){T(An,v0,e)}static isSamePointerId(e){return h(An,ep)===e}static isSamePointerIdOrRemove(e){var n;return h(An,ep)===e?!0:((n=h(An,tp))==null||n.delete(e),!1)}static isSamePointerType(e){return h(An,np)===e}static isInitializedAndDifferentPointerType(e){return h(An,np)!==null&&!An.isSamePointerType(e)}static isSameTimeStamp(e){return h(An,v0)===e}static isUsingMultiplePointers(){var e;return((e=h(An,tp))==null?void 0:e.size)>=1}static clearPointerType(){T(An,np,null)}static clearPointerIds(){T(An,ep,NaN),T(An,tp,null)}static clearTimeStamp(){T(An,v0,NaN)}};ep=new WeakMap,tp=new WeakMap,v0=new WeakMap,np=new WeakMap,j(An,ep,NaN),j(An,tp,null),j(An,v0,NaN),j(An,np,null);let cs=An;var CE;class FAe{constructor(){j(this,CE,0)}get id(){return`${Iw}${si(this,CE)._++}`}}CE=new WeakMap;var y0,Hw,us,b0,X5;const pR=class pR{constructor(){j(this,b0);j(this,y0,CH());j(this,Hw,0);j(this,us,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Et(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return F(this,b0,X5).call(this,`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return F(this,b0,X5).call(this,e,e)}async getFromBlob(e,n){const r=await n;return F(this,b0,X5).call(this,e,r)}async getFromId(e){h(this,us)||T(this,us,new Map);const n=h(this,us).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){h(this,us)||T(this,us,new Map);let r=h(this,us).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${h(this,y0)}_${si(this,Hw)._++}`,refCounter:1,isSvg:!1},h(this,us).set(e,r),h(this,us).set(r.id,r),r}getSvgUrl(e){const n=h(this,us).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;h(this,us)||T(this,us,new Map);const n=h(this,us).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,y0)}_`)}};y0=new WeakMap,Hw=new WeakMap,us=new WeakMap,b0=new WeakSet,X5=async function(e,n){h(this,us)||T(this,us,new Map);let r=h(this,us).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${h(this,y0)}_${si(this,Hw)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Wx(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=pR._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const f=r.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=u});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){St(i),r=null}return h(this,us).set(e,r),r&&h(this,us).set(r.id,r),r};let mN=pR;var jr,qh,Ww,ur;class $Ae{constructor(e=128){j(this,jr,[]);j(this,qh,!1);j(this,Ww);j(this,ur,-1);T(this,Ww,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),h(this,qh))return;const l={cmd:e,undo:n,post:r,type:s};if(h(this,ur)===-1){h(this,jr).length>0&&(h(this,jr).length=0),T(this,ur,0),h(this,jr).push(l);return}if(a&&h(this,jr)[h(this,ur)].type===s){o&&(l.undo=h(this,jr)[h(this,ur)].undo),h(this,jr)[h(this,ur)]=l;return}const c=h(this,ur)+1;c===h(this,Ww)?h(this,jr).splice(0,1):(T(this,ur,c),c<h(this,jr).length&&h(this,jr).splice(c)),h(this,jr).push(l)}undo(){if(h(this,ur)===-1)return;T(this,qh,!0);const{undo:e,post:n}=h(this,jr)[h(this,ur)];e(),n==null||n(),T(this,qh,!1),T(this,ur,h(this,ur)-1)}redo(){if(h(this,ur)<h(this,jr).length-1){T(this,ur,h(this,ur)+1),T(this,qh,!0);const{cmd:e,post:n}=h(this,jr)[h(this,ur)];e(),n==null||n(),T(this,qh,!1)}}hasSomethingToUndo(){return h(this,ur)!==-1}hasSomethingToRedo(){return h(this,ur)<h(this,jr).length-1}cleanType(e){if(h(this,ur)!==-1){for(let n=h(this,ur);n>=0;n--)if(h(this,jr)[n].type!==e){h(this,jr).splice(n+1,h(this,ur)-n),T(this,ur,n);return}h(this,jr).length=0,T(this,ur,-1)}}destroy(){T(this,jr,null)}}jr=new WeakMap,qh=new WeakMap,Ww=new WeakMap,ur=new WeakMap;var TE,$H;class Kx{constructor(e){j(this,TE);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=vi.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(F(this,TE,$H).call(this,n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...a,n)(),s||Or(n))}}TE=new WeakSet,$H=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const OE=class OE{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return LAe(e),Et(this,"_colors",e)}convert(e){const n=Gx(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return OE._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?ze.makeHexColor(...n):e}};Se(OE,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let vN=OE;var w0,pa,x0,xr,hi,_0,ho,A0,fo,hs,Hh,Wh,S0,Vh,Hl,po,rp,Vw,Gw,E0,Kw,Wl,Gh,P0,Kh,Vl,NE,Yh,k0,Yw,Xh,ip,C0,Jh,Xw,Gr,yn,iu,Zh,Qh,Jw,T0,Zw,ef,Gl,su,Qw,e2,go,Be,J5,yN,BH,UH,q1,zH,qH,HH,bN,WH,VH,GH,KH,As,Kc,YH,XH,wN,JH,H1,xN;const Ym=class Ym{constructor(e,n,r,i,s,a,o,l,c,u,f,d,p,v,m,b){j(this,Be);j(this,w0,new AbortController);j(this,pa,null);j(this,x0,null);j(this,xr,new Map);j(this,hi,new Map);j(this,_0,null);j(this,ho,null);j(this,A0,null);j(this,fo,new $Ae);j(this,hs,null);j(this,Hh,null);j(this,Wh,null);j(this,S0,0);j(this,Vh,new Set);j(this,Hl,null);j(this,po,null);j(this,rp,new Set);Se(this,"_editorUndoBar",null);j(this,Vw,!1);j(this,Gw,!1);j(this,E0,!1);j(this,Kw,null);j(this,Wl,null);j(this,Gh,null);j(this,P0,null);j(this,Kh,!1);j(this,Vl,null);j(this,NE,new FAe);j(this,Yh,!1);j(this,k0,!1);j(this,Yw,!1);j(this,Xh,null);j(this,ip,null);j(this,C0,null);j(this,Jh,null);j(this,Xw,null);j(this,Gr,Nt.NONE);j(this,yn,new Set);j(this,iu,null);j(this,Zh,null);j(this,Qh,null);j(this,Jw,null);j(this,T0,null);j(this,Zw,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});j(this,ef,[0,0]);j(this,Gl,null);j(this,su,null);j(this,Qw,null);j(this,e2,null);j(this,go,null);const g=this._signal=h(this,w0).signal;T(this,su,e),T(this,Qw,n),T(this,e2,r),T(this,_0,i),T(this,hs,s),T(this,Zh,a),T(this,T0,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:g}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),o._on("setpreference",this.onSetPreference.bind(this),{signal:g}),o._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:g}),window.addEventListener("pointerdown",()=>{T(this,k0,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{T(this,k0,!1)},{capture:!0,signal:g}),F(this,Be,zH).call(this),F(this,Be,KH).call(this),F(this,Be,bN).call(this),T(this,ho,l.annotationStorage),T(this,Kw,l.filterFactory),T(this,Qh,c),T(this,P0,u||null),T(this,Vw,f),T(this,Gw,d),T(this,E0,p),T(this,Xw,v||null),this.viewParameters={realScale:Yf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=b!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Ym.prototype,n=a=>h(a,su).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Et(this,"_keyboardManager",new Kx([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,su).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,su).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,r,i,s,a,o,l,c;(e=h(this,go))==null||e.resolve(),T(this,go,null),(n=h(this,w0))==null||n.abort(),T(this,w0,null),this._signal=null;for(const u of h(this,hi).values())u.destroy();h(this,hi).clear(),h(this,xr).clear(),h(this,rp).clear(),(r=h(this,Jh))==null||r.clear(),T(this,pa,null),h(this,yn).clear(),h(this,fo).destroy(),(i=h(this,_0))==null||i.destroy(),(s=h(this,hs))==null||s.destroy(),(a=h(this,Zh))==null||a.destroy(),(o=h(this,Vl))==null||o.hide(),T(this,Vl,null),(l=h(this,C0))==null||l.destroy(),T(this,C0,null),T(this,x0,null),h(this,Wl)&&(clearTimeout(h(this,Wl)),T(this,Wl,null)),h(this,Gl)&&(clearTimeout(h(this,Gl)),T(this,Gl,null)),(c=this._editorUndoBar)==null||c.destroy(),T(this,T0,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,Xw)}get useNewAltTextFlow(){return h(this,Gw)}get useNewAltTextWhenAddingImage(){return h(this,E0)}get hcmFilter(){return Et(this,"hcmFilter",h(this,Qh)?h(this,Kw).addHCMFilter(h(this,Qh).foreground,h(this,Qh).background):"none")}get direction(){return Et(this,"direction",getComputedStyle(h(this,su)).direction)}get _highlightColors(){return Et(this,"_highlightColors",h(this,P0)?new Map(h(this,P0).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Et(this,"highlightColors",null);const n=new Map,r=!!h(this,Qh);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),s);continue}!r&&!a&&n.set(i,s)}return Et(this,"highlightColors",n)}get highlightColorNames(){return Et(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),T(this,Wh,e)}setMainHighlightColorPicker(e){T(this,C0,e)}editAltText(e,n=!1){var r;(r=h(this,_0))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!h(this,hs)}editComment(e,n,r,i){var s;(s=h(this,hs))==null||s.showDialog(this,e,n,r,i)}selectComment(e,n){const r=h(this,hi).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=h(this,hs))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=h(this,hs))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=h(this,hs))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=h(this,hs))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=h(this,hs))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=h(this,hs))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(h(this,hi).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=h(this,Zh))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return h(this,Zh)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":T(this,E0,n);break}}onPageChanging({pageNumber:e}){T(this,S0,e-1)}focusMainContainer(){h(this,su).focus()}findParent(e,n){for(const r of h(this,hi).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+o)return r}return null}disableUserSelect(e=!1){h(this,Qw).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,rp).add(e)}removeShouldRescale(e){h(this,rp).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Yf.PDF_TO_CSS_UNITS;for(const r of h(this,rp))r.onScaleChanging();(n=h(this,Wh))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),u=F(this,Be,J5).call(this,r).closest(".textLayer"),f=this.getSelectionBoxes(u);if(!f)return;r.empty();const d=F(this,Be,yN).call(this,u),p=h(this,Gr)===Nt.NONE,v=()=>{const m=d==null?void 0:d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});p&&this.showAllEditors("highlight",!0,!0),n&&(m==null||m.editComment())};if(p){this.switchToMode(Nt.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!h(this,ho))return null;const n=`${Iw}${e}`,r=h(this,ho).getRawValue(n);return r&&h(this,ho).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&h(this,ho)&&!h(this,ho).has(e.id)&&h(this,ho).setValue(e.id,e)}a11yAlert(e,n=null){const r=h(this,e2);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,h(this,Kh)&&(T(this,Kh,!1),F(this,Be,q1).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of h(this,yn))if(n.div.contains(e)){T(this,ip,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!h(this,ip))return;const[e,n]=h(this,ip);T(this,ip,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){F(this,Be,bN).call(this),this.setEditingState(!0)}removeEditListeners(){F(this,Be,WH).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of h(this,po))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of h(this,po))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=h(this,pa))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of h(this,yn)){const s=i.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of h(this,po))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){St(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)F(this,Be,wN).call(this,l);F(this,Be,xN).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){St(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Gr)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&Ym._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Kh)&&(T(this,Kh,!1),F(this,Be,q1).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(F(this,Be,qH).call(this),F(this,Be,VH).call(this),F(this,Be,As).call(this,{isEditing:h(this,Gr)!==Nt.NONE,isEmpty:F(this,Be,H1).call(this),hasSomethingToUndo:h(this,fo).hasSomethingToUndo(),hasSomethingToRedo:h(this,fo).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,Be,HH).call(this),F(this,Be,GH).call(this),F(this,Be,As).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,po)){T(this,po,e);for(const n of h(this,po))F(this,Be,Kc).call(this,n.defaultPropertiesToUpdate)}}getId(){return h(this,NE).id}get currentLayer(){return h(this,hi).get(h(this,S0))}getLayer(e){return h(this,hi).get(e)}get currentPageIndex(){return h(this,S0)}addLayer(e){h(this,hi).set(e.pageIndex,e),h(this,Yh)?e.enable():e.disable()}removeLayer(e){h(this,hi).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,s=!1,a=!1){var o,l,c,u,f,d;if(h(this,Gr)!==e&&!(h(this,go)&&(await h(this,go).promise,!h(this,go)))){if(T(this,go,Promise.withResolvers()),(o=h(this,Wh))==null||o.commitOrRemove(),h(this,Gr)===Nt.POPUP&&((l=h(this,hs))==null||l.hideSidebar()),(c=h(this,hs))==null||c.destroyPopup(),T(this,Gr,e),e===Nt.NONE){this.setEditingState(!1),F(this,Be,XH).call(this);for(const p of h(this,xr).values())p.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),h(this,go).resolve();return}for(const p of h(this,xr).values())p.addStandaloneCommentButton();e===Nt.SIGNATURE&&await((f=h(this,Zh))==null?void 0:f.loadSignatures()),r&&cs.clearPointerType(),this.setEditingState(!0),await F(this,Be,YH).call(this),this.unselectAll();for(const p of h(this,hi).values())p.updateMode(e);if(e===Nt.POPUP){h(this,x0)||T(this,x0,await h(this,T0).getAnnotationsByType(new Set(h(this,po).map(m=>m._editorType))));const p=new Set,v=[];for(const m of h(this,xr).values()){const{annotationElementId:b,hasComment:g,deleted:w}=m;b&&p.add(b),g&&!w&&v.push(m.getData())}for(const m of h(this,x0)){const{id:b,popupRef:g,contentsObj:w}=m;g&&(w!=null&&w.str)&&!p.has(b)&&!h(this,Vh).has(b)&&v.push(m)}(d=h(this,hs))==null||d.showSidebar(v)}if(!n){i&&this.addNewEditorFromKeyboard(),h(this,go).resolve();return}for(const p of h(this,xr).values())p.uid===n?(this.setSelected(p),a?p.editComment():s?p.enterInEditMode():p.focus()):p.unselect();h(this,go).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==h(this,Gr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(h(this,po)){switch(e){case Zt.CREATE:this.currentLayer.addNewEditor(n);return;case Zt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Jw)||T(this,Jw,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of h(this,yn))r.updateParams(e,n);else for(const r of h(this,po))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var s;for(const a of h(this,xr).values())a.editorType===e&&a.show(n);(((s=h(this,Jw))==null?void 0:s.get(Zt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&F(this,Be,Kc).call(this,[[Zt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(h(this,Yw)!==e){T(this,Yw,e);for(const n of h(this,hi).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of h(this,xr).values())n.pageIndex===e&&(yield n)}getEditor(e){return h(this,xr).get(e)}addEditor(e){h(this,xr).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(h(this,Wl)&&clearTimeout(h(this,Wl)),T(this,Wl,setTimeout(()=>{this.focusMainContainer(),T(this,Wl,null)},0))),h(this,xr).delete(e.id),e.annotationElementId&&((n=h(this,Jh))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!h(this,Vh).has(e.annotationElementId))&&((r=h(this,ho))==null||r.remove(e.id))}addDeletedAnnotationElement(e){h(this,Vh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,Vh).has(e)}removeDeletedAnnotationElement(e){h(this,Vh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,pa)!==e&&(T(this,pa,e),e&&F(this,Be,Kc).call(this,e.propertiesToUpdate))}updateUI(e){h(this,Be,JH)===e&&F(this,Be,Kc).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){F(this,Be,Kc).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(h(this,yn).has(e)){h(this,yn).delete(e),e.unselect(),F(this,Be,As).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,yn).add(e),e.select(),F(this,Be,Kc).call(this,e.propertiesToUpdate),F(this,Be,As).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.uid}),(n=h(this,Wh))==null||n.commitOrRemove();for(const r of h(this,yn))r!==e&&r.unselect();h(this,yn).clear(),h(this,yn).add(e),e.select(),F(this,Be,Kc).call(this,e.propertiesToUpdate),F(this,Be,As).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,yn).has(e)}get firstSelectedEditor(){return h(this,yn).values().next().value}unselect(e){e.unselect(),h(this,yn).delete(e),F(this,Be,As).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,yn).size!==0}get isEnterHandled(){return h(this,yn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;h(this,fo).undo(),F(this,Be,As).call(this,{hasSomethingToUndo:h(this,fo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,Be,H1).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){h(this,fo).redo(),F(this,Be,As).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,fo).hasSomethingToRedo(),isEmpty:F(this,Be,H1).call(this)})}addCommands(e){h(this,fo).add(e),F(this,Be,As).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,Be,H1).call(this)})}cleanUndoStack(e){h(this,fo).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...h(this,yn)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},i=()=>{for(const a of n)F(this,Be,wN).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=h(this,pa))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,pa)||this.hasSelection}selectAll(){for(const e of h(this,yn))e.commit();F(this,Be,xN).call(this,h(this,xr).values())}unselectAll(){var e;if(!(h(this,pa)&&(h(this,pa).commitOrRemove(),h(this,Gr)!==Nt.NONE))&&!((e=h(this,Wh))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of h(this,yn))n.unselect();h(this,yn).clear(),F(this,Be,As).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;h(this,ef)[0]+=e,h(this,ef)[1]+=n;const[i,s]=h(this,ef),a=[...h(this,yn)],o=1e3;h(this,Gl)&&clearTimeout(h(this,Gl)),T(this,Gl,setTimeout(()=>{T(this,Gl,null),h(this,ef)[0]=h(this,ef)[1]=0,this.addCommands({cmd:()=>{for(const l of a)h(this,xr).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)h(this,xr).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),T(this,Hl,new Map);for(const e of h(this,yn))h(this,Hl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Hl))return!1;this.disableUserSelect(!1);const e=h(this,Hl);T(this,Hl,null);let n=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,n||(n=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!n)return!1;const r=(i,s,a,o)=>{if(h(this,xr).has(i.id)){const l=h(this,hi).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(h(this,Hl))for(const r of h(this,Hl).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,yn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,pa)===e}getActive(){return h(this,pa)}getMode(){return h(this,Gr)}isEditingMode(){return h(this,Gr)!==Nt.NONE}get imageManager(){return Et(this,"imageManager",new mN)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,f,d)=>({x:(u-i)/a,y:1-(c+f-r)/s,width:d/a,height:f/s});break;case"180":o=(c,u,f,d)=>({x:1-(c+f-r)/s,y:1-(u+d-i)/a,width:f/s,height:d/a});break;case"270":o=(c,u,f,d)=>({x:1-(u+d-i)/a,y:(c-r)/s,width:d/a,height:f/s});break;default:o=(c,u,f,d)=>({x:(c-r)/s,y:(u-i)/a,width:f/s,height:d/a});break}const l=[];for(let c=0,u=n.rangeCount;c<u;c++){const f=n.getRangeAt(c);if(!f.collapsed)for(const{x:d,y:p,width:v,height:m}of f.getClientRects())v===0||m===0||l.push(o(d,p,v,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(h(this,A0)||T(this,A0,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=h(this,A0))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=h(this,A0))==null?void 0:i.get(e.data.id);if(!n)return;const r=h(this,ho).getRawValue(n);r&&(h(this,Gr)===Nt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var s;const i=(s=h(this,Jh))==null?void 0:s.get(e);i&&(i.setCanvas(n,r),h(this,Jh).delete(e))}addMissingCanvas(e,n){(h(this,Jh)||T(this,Jh,new Map)).set(e,n)}};w0=new WeakMap,pa=new WeakMap,x0=new WeakMap,xr=new WeakMap,hi=new WeakMap,_0=new WeakMap,ho=new WeakMap,A0=new WeakMap,fo=new WeakMap,hs=new WeakMap,Hh=new WeakMap,Wh=new WeakMap,S0=new WeakMap,Vh=new WeakMap,Hl=new WeakMap,po=new WeakMap,rp=new WeakMap,Vw=new WeakMap,Gw=new WeakMap,E0=new WeakMap,Kw=new WeakMap,Wl=new WeakMap,Gh=new WeakMap,P0=new WeakMap,Kh=new WeakMap,Vl=new WeakMap,NE=new WeakMap,Yh=new WeakMap,k0=new WeakMap,Yw=new WeakMap,Xh=new WeakMap,ip=new WeakMap,C0=new WeakMap,Jh=new WeakMap,Xw=new WeakMap,Gr=new WeakMap,yn=new WeakMap,iu=new WeakMap,Zh=new WeakMap,Qh=new WeakMap,Jw=new WeakMap,T0=new WeakMap,Zw=new WeakMap,ef=new WeakMap,Gl=new WeakMap,su=new WeakMap,Qw=new WeakMap,e2=new WeakMap,go=new WeakMap,Be=new WeakSet,J5=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},yN=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of h(this,hi).values())if(r.hasTextLayer(e))return r;return null},BH=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=F(this,Be,J5).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(h(this,Vl)||T(this,Vl,new DAe(this)),h(this,Vl).show(r,i,this.direction==="ltr"))},UH=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){h(this,iu)&&((s=h(this,Vl))==null||s.hide(),T(this,iu,null),F(this,Be,As).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===h(this,iu))return;const i=F(this,Be,J5).call(this,e).closest(".textLayer");if(!i){h(this,iu)&&((a=h(this,Vl))==null||a.hide(),T(this,iu,null),F(this,Be,As).call(this,{hasSelectedText:!1}));return}if((o=h(this,Vl))==null||o.hide(),T(this,iu,n),F(this,Be,As).call(this,{hasSelectedText:!0}),!(h(this,Gr)!==Nt.HIGHLIGHT&&h(this,Gr)!==Nt.NONE)&&(h(this,Gr)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),T(this,Kh,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,Gr)===Nt.HIGHLIGHT?F(this,Be,yN).call(this,i):null;if(l==null||l.toggleDrawing(),h(this,k0)){const c=new AbortController,u=this.combinedSignal(c),f=d=>{d.type==="pointerup"&&d.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),d.type==="pointerup"&&F(this,Be,q1).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:u}),window.addEventListener("blur",f,{signal:u})}else l==null||l.toggleDrawing(!0),F(this,Be,q1).call(this,"main_toolbar")}},q1=function(e=""){h(this,Gr)===Nt.HIGHLIGHT?this.highlightSelection(e):h(this,Vw)&&F(this,Be,BH).call(this)},zH=function(){document.addEventListener("selectionchange",F(this,Be,UH).bind(this),{signal:this._signal})},qH=function(){if(h(this,Gh))return;T(this,Gh,new AbortController);const e=this.combinedSignal(h(this,Gh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},HH=function(){var e;(e=h(this,Gh))==null||e.abort(),T(this,Gh,null)},bN=function(){if(h(this,Xh))return;T(this,Xh,new AbortController);const e=this.combinedSignal(h(this,Xh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},WH=function(){var e;(e=h(this,Xh))==null||e.abort(),T(this,Xh,null)},VH=function(){if(h(this,Hh))return;T(this,Hh,new AbortController);const e=this.combinedSignal(h(this,Hh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},GH=function(){var e;(e=h(this,Hh))==null||e.abort(),T(this,Hh,null)},KH=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},As=function(e){Object.entries(e).some(([r,i])=>h(this,Zw)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Zw),e)}),h(this,Gr)===Nt.HIGHLIGHT&&e.hasSelectedEditor===!1&&F(this,Be,Kc).call(this,[[Zt.HIGHLIGHT_FREE,!0]]))},Kc=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},YH=async function(){if(!h(this,Yh)){T(this,Yh,!0);const e=[];for(const n of h(this,hi).values())e.push(n.enable());await Promise.all(e);for(const n of h(this,xr).values())n.enable()}},XH=function(){if(this.unselectAll(),h(this,Yh)){T(this,Yh,!1);for(const e of h(this,hi).values())e.disable();for(const e of h(this,xr).values())e.disable()}},wN=function(e){const n=h(this,hi).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},JH=function(){let e=null;for(e of h(this,yn));return e},H1=function(){if(h(this,xr).size===0)return!0;if(h(this,xr).size===1)for(const e of h(this,xr).values())return e.isEmpty();return!1},xN=function(e){for(const n of h(this,yn))n.unselect();h(this,yn).clear();for(const n of e)n.isEmpty()||(h(this,yn).add(n),n.select());F(this,Be,As).call(this,{hasSelectedEditor:this.hasSelection})},Se(Ym,"TRANSLATE_SMALL",1),Se(Ym,"TRANSLATE_BIG",10);let Og=Ym;var wi,Kl,el,O0,Yl,ga,N0,Xl,Us,au,sp,Jl,tf,yl,W1,Z5;const Ss=class Ss{constructor(e){j(this,yl);j(this,wi,null);j(this,Kl,!1);j(this,el,null);j(this,O0,null);j(this,Yl,null);j(this,ga,null);j(this,N0,!1);j(this,Xl,null);j(this,Us,null);j(this,au,null);j(this,sp,null);j(this,Jl,!1);T(this,Us,e),T(this,Jl,e._uiManager.useNewAltTextFlow),h(Ss,tf)||T(Ss,tf,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ss._l10n??(Ss._l10n=e)}async render(){const e=T(this,el,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=T(this,O0,document.createElement("span"));e.append(n),h(this,Jl)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(Ss,tf).missing),n.setAttribute("data-l10n-id",h(Ss,tf)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=h(this,Us)._uiManager._signal;e.addEventListener("contextmenu",Ro,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),h(this,Us)._uiManager.editAltText(h(this,Us)),h(this,Jl)&&h(this,Us)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,yl,W1)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(T(this,N0,!0),i(s))},{signal:r}),await F(this,yl,Z5).call(this),e}finish(){h(this,el)&&(h(this,el).focus({focusVisible:h(this,N0)}),T(this,N0,!1))}isEmpty(){return h(this,Jl)?h(this,wi)===null:!h(this,wi)&&!h(this,Kl)}hasData(){return h(this,Jl)?h(this,wi)!==null||!!h(this,au):this.isEmpty()}get guessedText(){return h(this,au)}async setGuessedText(e){h(this,wi)===null&&(T(this,au,e),T(this,sp,await Ss._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),F(this,yl,Z5).call(this))}toggleAltTextBadge(e=!1){var n;if(!h(this,Jl)||h(this,wi)){(n=h(this,Xl))==null||n.remove(),T(this,Xl,null);return}if(!h(this,Xl)){const r=T(this,Xl,document.createElement("div"));r.className="noAltTextBadge",h(this,Us).div.append(r)}h(this,Xl).classList.toggle("hidden",!e)}serialize(e){let n=h(this,wi);return!e&&h(this,au)===n&&(n=h(this,sp)),{altText:n,decorative:h(this,Kl),guessedText:h(this,au),textWithDisclaimer:h(this,sp)}}get data(){return{altText:h(this,wi),decorative:h(this,Kl)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(T(this,au,r),T(this,sp,i)),!(h(this,wi)===e&&h(this,Kl)===n)&&(s||(T(this,wi,e),T(this,Kl,n)),F(this,yl,Z5).call(this))}toggle(e=!1){h(this,el)&&(!e&&h(this,ga)&&(clearTimeout(h(this,ga)),T(this,ga,null)),h(this,el).disabled=!e)}shown(){h(this,Us)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,yl,W1)}})}destroy(){var e,n;(e=h(this,el))==null||e.remove(),T(this,el,null),T(this,O0,null),T(this,Yl,null),(n=h(this,Xl))==null||n.remove(),T(this,Xl,null)}};wi=new WeakMap,Kl=new WeakMap,el=new WeakMap,O0=new WeakMap,Yl=new WeakMap,ga=new WeakMap,N0=new WeakMap,Xl=new WeakMap,Us=new WeakMap,au=new WeakMap,sp=new WeakMap,Jl=new WeakMap,tf=new WeakMap,yl=new WeakSet,W1=function(){return h(this,wi)&&"added"||h(this,wi)===null&&this.guessedText&&"review"||"missing"},Z5=async function(){var i,s,a;const e=h(this,el);if(!e)return;if(h(this,Jl)){if(e.classList.toggle("done",!!h(this,wi)),e.setAttribute("data-l10n-id",h(Ss,tf)[h(this,yl,W1)]),(i=h(this,O0))==null||i.setAttribute("data-l10n-id",h(Ss,tf)[`${h(this,yl,W1)}-label`]),!h(this,wi)){(s=h(this,Yl))==null||s.remove();return}}else{if(!h(this,wi)&&!h(this,Kl)){e.classList.remove("done"),(a=h(this,Yl))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=h(this,Yl);if(!n){T(this,Yl,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${h(this,Us).id}`;const o=100,l=h(this,Us)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,ga)),T(this,ga,null)},{once:!0}),e.addEventListener("mouseenter",()=>{T(this,ga,setTimeout(()=>{T(this,ga,null),h(this,Yl).classList.add("show"),h(this,Us)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;h(this,ga)&&(clearTimeout(h(this,ga)),T(this,ga,null)),(c=h(this,Yl))==null||c.classList.remove("show")},{signal:l})}h(this,Kl)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=h(this,wi)),n.parentNode||e.append(n);const r=h(this,Us).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},j(Ss,tf,null),Se(Ss,"_l10n",null);let uE=Ss;var Ui,mo,ap,qn,t2,op,tl,lp,cp,up,n2,_N;class m5{constructor(e){j(this,n2);j(this,Ui,null);j(this,mo,null);j(this,ap,!1);j(this,qn,null);j(this,t2,null);j(this,op,null);j(this,tl,null);j(this,lp,null);j(this,cp,!1);j(this,up,null);T(this,qn,e)}renderForToolbar(){const e=T(this,mo,document.createElement("button"));return e.className="comment",F(this,n2,_N).call(this,e,!1)}renderForStandalone(){const e=T(this,Ui,document.createElement("button"));e.className="annotationCommentButton";const n=h(this,qn).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(h(this,qn)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=h(this,qn).commentButtonColor;i&&(r.backgroundColor=i)}return F(this,n2,_N).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=h(this,Ui)??h(this,mo))==null||e.focus()},0)}onUpdatedColor(){if(!h(this,Ui))return;const e=h(this,qn).commentButtonColor;e&&(h(this,Ui).style.backgroundColor=e),h(this,qn)._uiManager.updatePopupColor(h(this,qn))}get commentButtonWidth(){var e;return(((e=h(this,Ui))==null?void 0:e.getBoundingClientRect().width)??0)/h(this,qn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(h(this,up))return h(this,up);if(!h(this,Ui))return null;const{x:e,y:n,height:r}=h(this,Ui).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=h(this,qn).parent.boundingClientRect;return[(e-i)/a,(n+r-s)/o]}set commentPopupPositionInLayer(e){T(this,up,e)}hasDefaultPopupPosition(){return h(this,up)===null}removeStandaloneCommentButton(){var e;(e=h(this,Ui))==null||e.remove(),T(this,Ui,null)}removeToolbarCommentButton(){var e;(e=h(this,mo))==null||e.remove(),T(this,mo,null)}setCommentButtonStates({selected:e,hasPopup:n}){h(this,Ui)&&(h(this,Ui).classList.toggle("selected",e),h(this,Ui).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=h(this,qn).commentButtonPosition;const{width:u,height:f,x:d,y:p}=h(this,qn);r=d+r*u,i=p+i*f}const s=h(this,qn).parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;h(this,qn)._uiManager.editComment(h(this,qn),a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){h(this,mo)&&(h(this,mo).focus({focusVisible:h(this,ap)}),T(this,ap,!1))}isDeleted(){return h(this,cp)||h(this,tl)===""}isEmpty(){return h(this,tl)===null}hasBeenEdited(){return this.isDeleted()||h(this,tl)!==h(this,t2)}serialize(){return this.data}get data(){return{text:h(this,tl),richText:h(this,op),date:h(this,lp),deleted:this.isDeleted()}}set data(e){if(e!==h(this,tl)&&T(this,op,null),e===null){T(this,tl,""),T(this,cp,!0);return}T(this,tl,e),T(this,lp,new Date),T(this,cp,!1)}setInitialText(e,n=null){T(this,t2,e),this.data=e,T(this,lp,null),T(this,op,n)}shown(){}destroy(){var e,n;(e=h(this,mo))==null||e.remove(),T(this,mo,null),(n=h(this,Ui))==null||n.remove(),T(this,Ui,null),T(this,tl,""),T(this,op,null),T(this,lp,null),T(this,qn,null),T(this,ap,!1),T(this,cp,!1)}}Ui=new WeakMap,mo=new WeakMap,ap=new WeakMap,qn=new WeakMap,t2=new WeakMap,op=new WeakMap,tl=new WeakMap,lp=new WeakMap,cp=new WeakMap,up=new WeakMap,n2=new WeakSet,_N=function(e,n){if(!h(this,qn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[h(this,qn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=h(this,qn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Ro,{signal:r}),n&&(e.addEventListener("focusin",s=>{h(this,qn)._focusEventsAllowed=!1,Or(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{h(this,qn)._focusEventsAllowed=!0,Or(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===h(this,mo)?this.edit():h(this,qn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(T(this,ap,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{h(this,qn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{h(this,qn).toggleComment(!1,!1)},{signal:r}),e};var L0,hp,r2,i2,s2,a2,o2,ou,fp,lu,dp,cu,Jf,ZH,QH,eW;const gR=class gR{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){j(this,Jf);j(this,L0);j(this,hp,!1);j(this,r2,null);j(this,i2);j(this,s2);j(this,a2);j(this,o2);j(this,ou,null);j(this,fp);j(this,lu,null);j(this,dp);j(this,cu,null);T(this,L0,e),T(this,r2,r),T(this,i2,n),T(this,s2,i),T(this,a2,s),T(this,o2,a),T(this,dp,new AbortController),T(this,fp,AbortSignal.any([o,h(this,dp).signal])),e.addEventListener("touchstart",F(this,Jf,ZH).bind(this),{passive:!1,signal:h(this,fp)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/_c.pixelRatio}destroy(){var e,n;(e=h(this,dp))==null||e.abort(),T(this,dp,null),(n=h(this,ou))==null||n.abort(),T(this,ou,null)}};L0=new WeakMap,hp=new WeakMap,r2=new WeakMap,i2=new WeakMap,s2=new WeakMap,a2=new WeakMap,o2=new WeakMap,ou=new WeakMap,fp=new WeakMap,lu=new WeakMap,dp=new WeakMap,cu=new WeakMap,Jf=new WeakSet,ZH=function(e){var i,s,a;if((i=h(this,i2))!=null&&i.call(this))return;if(e.touches.length===1){if(h(this,ou))return;const o=T(this,ou,new AbortController),l=AbortSignal.any([h(this,fp),o.signal]),c=h(this,L0),u={capture:!0,signal:l,passive:!1},f=d=>{var p;d.pointerType==="touch"&&((p=h(this,ou))==null||p.abort(),T(this,ou,null))};c.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Or(d),f(d))},u),c.addEventListener("pointerup",f,u),c.addEventListener("pointercancel",f,u);return}if(!h(this,cu)){T(this,cu,new AbortController);const o=AbortSignal.any([h(this,fp),h(this,cu).signal]),l=h(this,L0),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",F(this,Jf,QH).bind(this),c);const u=F(this,Jf,eW).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Or,c),l.addEventListener("pointermove",Or,c),l.addEventListener("pointercancel",Or,c),l.addEventListener("pointerup",Or,c),(s=h(this,s2))==null||s.call(this)}if(Or(e),e.touches.length!==2||(a=h(this,r2))!=null&&a.call(this)){T(this,lu,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),T(this,lu,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},QH=function(e){var S;if(!h(this,lu)||e.touches.length!==2)return;Or(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=h(this,lu),{touch0X:c,touch0Y:u,touch1X:f,touch1Y:d}=l,p=f-c,v=d-u,m=a-i,b=o-s,g=Math.hypot(m,b)||1,w=Math.hypot(p,v)||1;if(!h(this,hp)&&Math.abs(w-g)<=gR.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!h(this,hp)){T(this,hp,!0);return}const x=[(i+a)/2,(s+o)/2];(S=h(this,a2))==null||S.call(this,x,w,g)},eW=function(e){var n;e.touches.length>=2||(h(this,cu)&&(h(this,cu).abort(),T(this,cu,null),(n=h(this,o2))==null||n.call(this)),h(this,lu)&&(Or(e),T(this,lu,null),T(this,hp,!1)))};let hE=gR;var pp,nl,sr,Ln,uu,I0,nf,l2,zi,gp,hu,vo,rf,c2,mp,ma,u2,vp,fu,Zl,R0,M0,yo,yp,h2,LE,dt,AN,f2,SN,Q5,tW,nW,EN,eA,PN,rW,iW,sW,kN,aW,CN,oW,lW,cW,TN,V1;const Ot=class Ot{constructor(e){j(this,dt);j(this,pp,null);j(this,nl,null);j(this,sr,null);j(this,Ln,null);j(this,uu,null);j(this,I0,!1);j(this,nf,null);j(this,l2,"");j(this,zi,null);j(this,gp,null);j(this,hu,null);j(this,vo,null);j(this,rf,null);j(this,c2,"");j(this,mp,!1);j(this,ma,null);j(this,u2,!1);j(this,vp,!1);j(this,fu,!1);j(this,Zl,null);j(this,R0,0);j(this,M0,0);j(this,yo,null);j(this,yp,null);Se(this,"isSelected",!1);Se(this,"_isCopy",!1);Se(this,"_editToolbar",null);Se(this,"_initialOptions",Object.create(null));Se(this,"_initialData",null);Se(this,"_isVisible",!0);Se(this,"_uiManager",null);Se(this,"_focusEventsAllowed",!0);j(this,h2,!1);j(this,LE,Ot._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ot.prototype._resizeWithKeyboard,n=Og.TRANSLATE_SMALL,r=Og.TRANSLATE_BIG;return Et(this,"_resizerKeyboardManager",new Kx([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Ot.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Et(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new BAe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Ot._l10n??(Ot._l10n=e),Ot._l10nResizer||(Ot._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ot._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Ot._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Dn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,h2)}set _isDraggable(e){var n;T(this,h2,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,LE)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(F(this,dt,V1).call(this),(n=h(this,vo))==null||n.remove(),T(this,vo,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,mp)?T(this,mp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){F(this,dt,AN).call(this,this.parentDimensions,e,n)}translateInPage(e,n){h(this,ma)||T(this,ma,[this.x,this.y,this.width,this.height]),F(this,dt,AN).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){h(this,ma)||T(this,ma,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=r;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!h(this,ma)&&(h(this,ma)[0]!==this.x||h(this,ma)[1]!==this.y)}get _hasBeenResized(){return!!h(this,ma)&&(h(this,ma)[2]!==this.width||h(this,ma)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Ot,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=Ts(s,0,r-o),a=Ts(a,0,i-l);break;case 90:s=Ts(s,0,r-l),a=Ts(a,o,i);break;case 180:s=Ts(s,o,r),a=Ts(a,l,i);break;case 270:s=Ts(s,l,r),a=Ts(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,u]=this.getBaseTranslation();s+=c,a+=u,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return F(r=Ot,f2,SN).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return F(r=Ot,f2,SN).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=h(this,sr))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||h(this,vp))return this._editToolbar;this._editToolbar=new pN(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=h(this,sr))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return h(this,sr)||(uE.initialize(Ot._l10n),T(this,sr,new uE(this)),h(this,pp)&&(h(this,sr).data=h(this,pp),T(this,pp,null))),h(this,sr)}get altTextData(){var e;return(e=h(this,sr))==null?void 0:e.data}set altTextData(e){h(this,sr)&&(h(this,sr).data=e)}get guessedAltText(){var e;return(e=h(this,sr))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=h(this,sr))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=h(this,sr))==null?void 0:n.serialize(e)}hasAltText(){return!!h(this,sr)&&!h(this,sr).isEmpty()}hasAltTextData(){var e;return((e=h(this,sr))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=h(this,Ln))==null||e.focusButton()}addCommentButton(){return this.canAddComment?h(this,Ln)||T(this,Ln,new m5(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(h(this,uu)){this._uiManager.isEditingMode()&&h(this,uu).classList.remove("hidden");return}this.hasComment&&(T(this,uu,h(this,Ln).renderForStandalone()),this.div.append(h(this,uu)))}}removeStandaloneCommentButton(){h(this,Ln).removeStandaloneCommentButton(),T(this,uu,null)}hideStandaloneCommentButton(){var e;(e=h(this,uu))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=h(this,Ln);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){h(this,Ln)||T(this,Ln,new m5(this)),h(this,Ln).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(h(this,Ln)||T(this,Ln,new m5(this)),h(this,Ln).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=h(this,Ln))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=h(this,Ln))==null?void 0:e.isDeleted()}get hasComment(){return!!h(this,Ln)&&!h(this,Ln).isEmpty()&&!h(this,Ln).isDeleted()}async editComment(e){h(this,Ln)||T(this,Ln,new m5(this)),h(this,Ln).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){h(this,Ln).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){h(this,Ln).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=h(this,I0)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),F(this,dt,CN).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),FH(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,yp)||T(this,yp,new hE({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:F(this,dt,rW).bind(this),onPinching:F(this,dt,iW).bind(this),onPinchEnd:F(this,dt,sW).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:n}=vi.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(T(this,mp,!0),this._isDraggable){F(this,dt,aW).call(this,e);return}F(this,dt,kN).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,Zl)&&clearTimeout(h(this,Zl)),T(this,Zl,setTimeout(()=>{var e;T(this,Zl,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=n/i,f=this.x*s,d=this.y*a,p=this.width*s,v=this.height*a;switch(r){case 0:return[f+c+o,a-d-u-v+l,f+c+p+o,a-d-u+l];case 90:return[f+u+o,a-d+c+l,f+u+v+o,a-d+c+p+l];case 180:return[f-c-p+o,a-d+u+l,f-c+o,a-d+u+v+l];case 270:return[f-u-v+o,a-d-c-p+l,f-u+o,a-d-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,o,l];case 90:return[r,n-i,l,o];case 180:return[s,n-i,o,l];case 270:return[s,n-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Ot._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=h(this,Ln))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||u,popupRef:!s,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),T(this,vp,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),T(this,vp,!1),!0):!1}isInEditMode(){return h(this,vp)}shouldGetKeyboardEvents(){return h(this,fu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}rebuild(){F(this,dt,CN).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,T(i,pp,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n,r;if((e=h(this,rf))==null||e.abort(),T(this,rf,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),h(this,Zl)&&(clearTimeout(h(this,Zl)),T(this,Zl,null)),F(this,dt,V1).call(this),this.removeEditToolbar(),h(this,yo)){for(const i of h(this,yo).values())clearTimeout(i);T(this,yo,null)}this.parent=null,(n=h(this,yp))==null||n.destroy(),T(this,yp,null),(r=h(this,vo))==null||r.remove(),T(this,vo,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,dt,tW).call(this),h(this,zi).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,s,a]=this.getPDFRect();return[Ot._round(r+(s-r)*e),Ot._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return h(this,Ln).commentPopupPositionInLayer}set commentPopupPosition(e){h(this,Ln).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return h(this,Ln).hasDefaultPopupPosition()}get commentButtonWidth(){return h(this,Ln).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var n;(n=h(this,Ln))==null||n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),T(this,hu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=h(this,zi).children;if(!h(this,nl)){T(this,nl,Array.from(n));const a=F(this,dt,oW).bind(this),o=F(this,dt,lW).bind(this),l=this._uiManager._signal;for(const c of h(this,nl)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",F(this,dt,cW).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Ot._l10nResizer[u])}}const r=h(this,nl)[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,nl).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)h(this,zi).append(h(this,zi).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)h(this,zi).firstElementChild.before(h(this,zi).lastElementChild);let a=0;for(const o of n){const c=h(this,nl)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Ot._l10nResizer[c])}}F(this,dt,TN).call(this,0),T(this,fu,!0),h(this,zi).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){h(this,fu)&&F(this,dt,PN).call(this,h(this,c2),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){F(this,dt,V1).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(n=this._editToolbar)==null||n.show(),(r=h(this,sr))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,s;this.isSelected&&(this.isSelected=!1,(e=h(this,zi))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=h(this,sr))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return h(this,u2)}set isEditing(e){T(this,u2,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){h(this,yo)||T(this,yo,new Map);const{action:r}=e;let i=h(this,yo).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),h(this,yo).delete(r),h(this,yo).size===0&&T(this,yo,null)},Ot._telemetryTimeout),h(this,yo).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),T(this,I0,!1)}disable(){this.div&&(this.div.tabIndex=-1),T(this,I0,!0)}updateFakeAnnotationElement(e){if(!h(this,vo)&&!this.deleted){T(this,vo,e.addFakeAnnotation(this));return}if(this.deleted){h(this,vo).remove(),T(this,vo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&h(this,vo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstElementChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};pp=new WeakMap,nl=new WeakMap,sr=new WeakMap,Ln=new WeakMap,uu=new WeakMap,I0=new WeakMap,nf=new WeakMap,l2=new WeakMap,zi=new WeakMap,gp=new WeakMap,hu=new WeakMap,vo=new WeakMap,rf=new WeakMap,c2=new WeakMap,mp=new WeakMap,ma=new WeakMap,u2=new WeakMap,vp=new WeakMap,fu=new WeakMap,Zl=new WeakMap,R0=new WeakMap,M0=new WeakMap,yo=new WeakMap,yp=new WeakMap,h2=new WeakMap,LE=new WeakMap,dt=new WeakSet,AN=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},f2=new WeakSet,SN=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},Q5=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},tW=function(){if(h(this,zi))return;T(this,zi,document.createElement("div")),h(this,zi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");h(this,zi).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",F(this,dt,nW).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Ro,{signal:n}),i.tabIndex=-1}this.div.prepend(h(this,zi))},nW=function(e,n){var u;n.preventDefault();const{isMac:r}=vi.platform;if(n.button!==0||n.ctrlKey&&r)return;(u=h(this,sr))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,T(this,gp,[n.screenX,n.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,dt,PN).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Or,{passive:!1,signal:a}),window.addEventListener("contextmenu",Ro,{signal:a}),T(this,hu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var f;s.abort(),this.parent.togglePointerEvents(!0),(f=h(this,sr))==null||f.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,F(this,dt,eA).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},EN=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},eA=function(){if(!h(this,hu))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=h(this,hu);T(this,hu,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===n&&o===r&&l===i||this.addCommands({cmd:F(this,dt,EN).bind(this,s,a,o,l),undo:F(this,dt,EN).bind(this,e,n,r,i),mustExec:!0})},PN=function(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=Ot.MIN_SIZE/r,u=Ot.MIN_SIZE/i,f=F(this,dt,Q5).call(this,this.rotation),d=(X,Q)=>[f[0]*X+f[2]*Q,f[1]*X+f[3]*Q],p=F(this,dt,Q5).call(this,360-this.rotation),v=(X,Q)=>[p[0]*X+p[2]*Q,p[1]*X+p[3]*Q];let m,b,g=!1,w=!1;switch(e){case"topLeft":g=!0,m=(X,Q)=>[0,0],b=(X,Q)=>[X,Q];break;case"topMiddle":m=(X,Q)=>[X/2,0],b=(X,Q)=>[X/2,Q];break;case"topRight":g=!0,m=(X,Q)=>[X,0],b=(X,Q)=>[0,Q];break;case"middleRight":w=!0,m=(X,Q)=>[X,Q/2],b=(X,Q)=>[0,Q/2];break;case"bottomRight":g=!0,m=(X,Q)=>[X,Q],b=(X,Q)=>[0,0];break;case"bottomMiddle":m=(X,Q)=>[X/2,Q],b=(X,Q)=>[X/2,0];break;case"bottomLeft":g=!0,m=(X,Q)=>[0,Q],b=(X,Q)=>[X,0];break;case"middleLeft":w=!0,m=(X,Q)=>[0,Q/2],b=(X,Q)=>[X,Q/2];break}const x=m(o,l),S=b(o,l);let A=d(...S);const E=Ot._round(s+A[0]),C=Ot._round(a+A[1]);let L=1,I=1,q,O;if(n.fromKeyboard)({deltaX:q,deltaY:O}=n);else{const{screenX:X,screenY:Q}=n,[W,re]=h(this,gp);[q,O]=this.screenToPageTranslation(X-W,Q-re),h(this,gp)[0]=X,h(this,gp)[1]=Q}if([q,O]=v(q/r,O/i),g){const X=Math.hypot(o,l);L=I=Math.max(Math.min(Math.hypot(S[0]-x[0]-q,S[1]-x[1]-O)/X,1/o,1/l),c/o,u/l)}else w?L=Ts(Math.abs(S[0]-x[0]-q),c,1)/o:I=Ts(Math.abs(S[1]-x[1]-O),u,1)/l;const M=Ot._round(o*L),z=Ot._round(l*I);A=d(...b(M,z));const $=E-A[0],V=C-A[1];h(this,ma)||T(this,ma,[this.x,this.y,this.width,this.height]),this.width=M,this.height=z,this.x=$,this.y=V,this.setDims(),this.fixAndSetPosition(),this._onResizing()},rW=function(){var e;T(this,hu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=h(this,sr))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},iW=function(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=F(this,dt,Q5).call(this,this.rotation),o=(E,C)=>[a[0]*E+a[2]*C,a[1]*E+a[3]*C],[l,c]=this.parentDimensions,u=this.x,f=this.y,d=this.width,p=this.height,v=Ot.MIN_SIZE/l,m=Ot.MIN_SIZE/c;s=Math.max(Math.min(s,1/d,1/p),v/d,m/p);const b=Ot._round(d*s),g=Ot._round(p*s);if(b===d&&g===p)return;h(this,ma)||T(this,ma,[u,f,d,p]);const w=o(d/2,p/2),x=Ot._round(u+w[0]),S=Ot._round(f+w[1]),A=o(b/2,g/2);this.x=x-A[0],this.y=S-A[1],this.width=b,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()},sW=function(){var e;(e=h(this,sr))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),F(this,dt,eA).call(this)},kN=function(e){const{isMac:n}=vi.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},aW=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),T(this,nf,null),T(this,mp,!1),this._uiManager.endDragSession()||F(this,dt,kN).call(this,c),r&&this._onStopDragging()};n&&(T(this,R0,e.clientX),T(this,M0,e.clientY),T(this,nf,e.pointerId),T(this,l2,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:f,pointerId:d}=c;if(d!==h(this,nf)){Or(c);return}const[p,v]=this.screenToPageTranslation(u-h(this,R0),f-h(this,M0));T(this,R0,u),T(this,M0,f),this._uiManager.dragSelectedEditors(p,v)},a),window.addEventListener("touchmove",Or,a),window.addEventListener("pointerdown",c=>{c.pointerType===h(this,l2)&&(h(this,yp)||c.isPrimary)&&o(c),Or(c)},a));const l=c=>{if(!h(this,nf)||h(this,nf)===c.pointerId){o(c);return}Or(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},CN=function(){if(h(this,rf)||!this.div)return;T(this,rf,new AbortController);const e=this._uiManager.combinedSignal(h(this,rf));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},oW=function(e){Ot._resizerKeyboardManager.exec(this,e)},lW=function(e){var n;h(this,fu)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==h(this,zi)&&F(this,dt,V1).call(this)},cW=function(e){T(this,c2,h(this,fu)?e:"")},TN=function(e){if(h(this,nl))for(const n of h(this,nl))n.tabIndex=e},V1=function(){T(this,fu,!1),F(this,dt,TN).call(this,-1),F(this,dt,eA).call(this)},j(Ot,f2),Se(Ot,"_l10n",null),Se(Ot,"_l10nResizer",null),Se(Ot,"_borderLineWidth",-1),Se(Ot,"_colorManager",new vN),Se(Ot,"_zIndex",1),Se(Ot,"_telemetryTimeout",1e3);let Vn=Ot;class BAe extends Vn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const TF=3285377520,oo=4294901760,$l=65535;class uW{constructor(e){this.h1=e?e&4294967295:TF,this.h2=e?e&4294967295:TF}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let m=0,b=e.length;m<b;m++){const g=e.charCodeAt(m);g<=255?n[r++]=g:(n[r++]=g>>>8,n[r++]=g&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const f=3432918353,d=461845907,p=f&$l,v=d&$l;for(let m=0;m<i;m++)m&1?(o=a[m],o=o*f&oo|o*p&$l,o=o<<15|o>>>17,o=o*d&oo|o*v&$l,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[m],l=l*f&oo|l*p&$l,l=l<<15|l>>>17,l=l*d&oo|l*v&$l,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*f&oo|o*p&$l,o=o<<15|o>>>17,o=o*d&oo|o*v&$l,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&oo|e*36045&$l,n=n*4283543511&oo|((n<<16|e>>>16)*2950163797&oo)>>>16,e^=n>>>1,e=e*444984403&oo|e*60499&$l,n=n*3301882366&oo|((n<<16|e>>>16)*3120437893&oo)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const ON=Object.freeze({map:null,hash:"",transfer:void 0});var bp,wp,du,qi,IE,hW;class eR{constructor(){j(this,IE);j(this,bp,!1);j(this,wp,null);j(this,du,null);j(this,qi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=h(this,qi).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return h(this,qi).get(e)}remove(e){const n=h(this,qi).get(e);if(n!==void 0&&(n instanceof Vn&&h(this,du).delete(n.annotationElementId),h(this,qi).delete(e),h(this,qi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of h(this,qi).values())if(r instanceof Vn)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=h(this,qi).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,h(this,qi).set(e,n);i&&F(this,IE,hW).call(this),n instanceof Vn&&((h(this,du)||T(this,du,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return h(this,qi).has(e)}get size(){return h(this,qi).size}resetModified(){h(this,bp)&&(T(this,bp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fW(this)}get serializable(){if(h(this,qi).size===0)return ON;const e=new Map,n=new uW,r=[],i=Object.create(null);let s=!1;for(const[a,o]of h(this,qi)){const l=o instanceof Vn?o.serialize(!1,i):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:ON}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const s of h(this,qi).values()){if(!(s instanceof Vn)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;n.has(o)||n.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,u]of Object.entries(a)){if(c==="type")continue;let f=l.get(c);f||(f=new Map,l.set(c,f));const d=f.get(u)??0;f.set(u,d+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of n)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){T(this,wp,null)}updateEditor(e,n){var i;const r=(i=h(this,du))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=h(this,du))==null?void 0:n.get(e))||null}get modifiedIds(){if(h(this,wp))return h(this,wp);const e=[];if(h(this,du))for(const n of h(this,du).values())n.serialize()&&e.push(n.annotationElementId);return T(this,wp,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return h(this,qi).entries()}}bp=new WeakMap,wp=new WeakMap,du=new WeakMap,qi=new WeakMap,IE=new WeakSet,hW=function(){h(this,bp)||(T(this,bp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var d2;class fW extends eR{constructor(n){super();j(this,d2);const{map:r,hash:i,transfer:s}=n.serializable,a=structuredClone(r,s?{transfer:s}:null);T(this,d2,{map:a,hash:i,transfer:s})}get print(){Dn("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,d2)}get modifiedIds(){return Et(this,"modifiedIds",{ids:new Set,hash:""})}}d2=new WeakMap;var j0;class UAe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){j(this,j0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,j0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||h(this,j0).has(e.loadedName))){if(Qt(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),h(this,j0).add(i),r==null||r(e)}catch{St(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Dn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw St(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Et(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Et(this,"isSyncFontLoadingSupported",Cs||vi.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(Qt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Et(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(S,A){return S.charCodeAt(A)<<24|S.charCodeAt(A+1)<<16|S.charCodeAt(A+2)<<8|S.charCodeAt(A+3)&255}function i(S,A,E,C){const L=S.substring(0,A),I=S.substring(A+E);return L+C+I}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(S,A){if(++c>30){St("Load test font never loaded."),A();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(u.bind(null,S,A))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,f.length,f);const v=16,m=1482184792;let b=r(d,v);for(s=0,a=f.length-3;s<a;s+=4)b=b-m+r(f,s)|0;s<f.length&&(b=b-m+r(f+"XXX",s)|0),d=i(d,v,4,xAe(b));const g=`url(data:font/opentype;base64,${btoa(d)});`,w=`@font-face {font-family:"${f}";src:${g}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const S of[e.loadedName,f]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=S,x.append(A)}this._document.body.append(x),u(f,()=>{x.remove(),n.complete()})}}j0=new WeakMap;var Sn;class zAe{constructor(e,n=null,r,i){j(this,Sn);this.compiledGlyphs=Object.create(null),T(this,Sn,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${TH(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){St(`getPathGenerator - ignoring character: "${a}".`)}const s=LH(i==null?void 0:i.path);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}get black(){return h(this,Sn).black}get bold(){return h(this,Sn).bold}get disableFontFace(){return h(this,Sn).disableFontFace??!1}set disableFontFace(e){Et(this,"disableFontFace",!!e)}get fontExtraProperties(){return h(this,Sn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return h(this,Sn).isInvalidPDFjsFont}get isType3Font(){return h(this,Sn).isType3Font}get italic(){return h(this,Sn).italic}get missingFile(){return h(this,Sn).missingFile}get remeasure(){return h(this,Sn).remeasure}get vertical(){return h(this,Sn).vertical}get ascent(){return h(this,Sn).ascent}get defaultWidth(){return h(this,Sn).defaultWidth}get descent(){return h(this,Sn).descent}get bbox(){return h(this,Sn).bbox}set bbox(e){Et(this,"bbox",e)}get fontMatrix(){return h(this,Sn).fontMatrix}get fallbackName(){return h(this,Sn).fallbackName}get loadedName(){return h(this,Sn).loadedName}get mimetype(){return h(this,Sn).mimetype}get name(){return h(this,Sn).name}get data(){return h(this,Sn).data}clearData(){h(this,Sn).clearData()}get cssFontInfo(){return h(this,Sn).cssFontInfo}get systemFontInfo(){return h(this,Sn).systemFontInfo}get defaultVMetrics(){return h(this,Sn).defaultVMetrics}}Sn=new WeakMap;var D0,F0,p2,$0,tA;const Xm=class Xm{constructor(e){j(this,$0);j(this,D0);j(this,F0);j(this,p2);T(this,D0,e),T(this,F0,new DataView(h(this,D0))),T(this,p2,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of Xm.strings){const u=n.encode(e[c]);r[c]=u,i+=4+u.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of Xm.strings){const u=r[c],f=u.length;o.setUint32(l,f),a.set(u,l+4),l+=4+f}return Qt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return F(this,$0,tA).call(this,0)}get fontWeight(){return F(this,$0,tA).call(this,1)}get italicAngle(){return F(this,$0,tA).call(this,2)}};D0=new WeakMap,F0=new WeakMap,p2=new WeakMap,$0=new WeakSet,tA=function(e){Qt(e<Xm.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=h(this,F0).getUint32(n)+4;const r=h(this,F0).getUint32(n);return h(this,p2).decode(new Uint8Array(h(this,D0),n+4,r))},Se(Xm,"strings",["fontFamily","fontWeight","italicAngle"]);let fE=Xm;var sf,Ql,xp,_p,G1;const Jm=class Jm{constructor(e){j(this,_p);j(this,sf);j(this,Ql);j(this,xp);T(this,sf,e),T(this,Ql,new DataView(h(this,sf))),T(this,xp,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const d of Jm.strings){const p=n.encode(e[d]);r[d]=p,i+=4+p.length}i+=4;let s,a,o=1+i;e.style&&(s=n.encode(e.style.style),a=n.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let f=0;u.setUint8(f++,e.guessFallback?1:0),u.setUint32(f,0),f+=4,i=0;for(const d of Jm.strings){const p=r[d],v=p.length;i+=4+v,u.setUint32(f,v),c.set(p,f+4),f+=4+v}return u.setUint32(f-i-4,i),e.style&&(u.setUint32(f,s.length),c.set(s,f+4),f+=4+s.length,u.setUint32(f,a.length),c.set(a,f+4),f+=4+a.length),Qt(f<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(f)}get guessFallback(){return h(this,Ql).getUint8(0)!==0}get css(){return F(this,_p,G1).call(this,0)}get loadedName(){return F(this,_p,G1).call(this,1)}get baseFontName(){return F(this,_p,G1).call(this,2)}get src(){return F(this,_p,G1).call(this,3)}get style(){let e=1;e+=4+h(this,Ql).getUint32(e);const n=h(this,Ql).getUint32(e),r=h(this,xp).decode(new Uint8Array(h(this,sf),e+4,n));e+=4+n;const i=h(this,Ql).getUint32(e),s=h(this,xp).decode(new Uint8Array(h(this,sf),e+4,i));return{style:r,weight:s}}};sf=new WeakMap,Ql=new WeakMap,xp=new WeakMap,_p=new WeakSet,G1=function(e){Qt(e<Jm.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=h(this,Ql).getUint32(n)+4;const r=h(this,Ql).getUint32(n);return h(this,xp).decode(new Uint8Array(h(this,sf),n+4,r))},Se(Jm,"strings",["css","loadedName","baseFontName","src"]);let dE=Jm;var B0,U0,z0,q0,va,ec,g2,En,kr,Xo,nA,K1;const Rt=class Rt{constructor({data:e,extra:n}){j(this,kr);j(this,ec);j(this,g2);j(this,En);T(this,ec,e),T(this,g2,new TextDecoder),T(this,En,new DataView(h(this,ec))),n&&Object.assign(this,n)}get black(){return F(this,kr,Xo).call(this,0)}get bold(){return F(this,kr,Xo).call(this,1)}get disableFontFace(){return F(this,kr,Xo).call(this,2)}get fontExtraProperties(){return F(this,kr,Xo).call(this,3)}get isInvalidPDFjsFont(){return F(this,kr,Xo).call(this,4)}get isType3Font(){return F(this,kr,Xo).call(this,5)}get italic(){return F(this,kr,Xo).call(this,6)}get missingFile(){return F(this,kr,Xo).call(this,7)}get remeasure(){return F(this,kr,Xo).call(this,8)}get vertical(){return F(this,kr,Xo).call(this,9)}get ascent(){return F(this,kr,nA).call(this,0)}get defaultWidth(){return F(this,kr,nA).call(this,1)}get descent(){return F(this,kr,nA).call(this,2)}get bbox(){let e=h(Rt,U0);if(h(this,En).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(h(this,En).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=h(Rt,z0);if(h(this,En).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(h(this,En).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=h(Rt,q0);if(h(this,En).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(h(this,En).getInt16(e,!0)),e+=2;return r}get fallbackName(){return F(this,kr,K1).call(this,0)}get loadedName(){return F(this,kr,K1).call(this,1)}get mimetype(){return F(this,kr,K1).call(this,2)}get name(){return F(this,kr,K1).call(this,3)}get data(){let e=h(Rt,va);const n=h(this,En).getUint32(e);e+=4+n;const r=h(this,En).getUint32(e);e+=4+r;const i=h(this,En).getUint32(e);e+=4+i;const s=h(this,En).getUint32(e);if(s!==0)return new Uint8Array(h(this,ec),e+4,s)}clearData(){let e=h(Rt,va);const n=h(this,En).getUint32(e);e+=4+n;const r=h(this,En).getUint32(e);e+=4+r;const i=h(this,En).getUint32(e);e+=4+i;const s=h(this,En).getUint32(e);new Uint8Array(h(this,ec),e+4,s).fill(0),h(this,En).setUint32(e,0)}get cssFontInfo(){let e=h(Rt,va);const n=h(this,En).getUint32(e);e+=4+n;const r=h(this,En).getUint32(e);e+=4+r;const i=h(this,En).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(h(this,ec),e+4,i)),new fE(s.buffer)}get systemFontInfo(){let e=h(Rt,va);const n=h(this,En).getUint32(e);e+=4+n;const r=h(this,En).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(h(this,ec),e+4,r)),new dE(i.buffer)}static write(e){const n=e.systemFontInfo?dE.write(e.systemFontInfo):null,r=e.cssFontInfo?fE.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const m of Rt.strings)s[m]=i.encode(e[m]),a+=4+s[m].length;const o=h(Rt,va)+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let f=0;const d=Rt.bools.length;let p=0,v=0;for(let m=0;m<d;m++){const b=e[Rt.bools[m]];p|=(b===void 0?0:b?2:1)<<v,v+=2,(v===8||m===d-1)&&(u.setUint8(f++,p),p=0,v=0)}Qt(f===h(Rt,B0),"FontInfo.write: Boolean properties offset mismatch");for(const m of Rt.numbers)u.setFloat64(f,e[m]),f+=8;if(Qt(f===h(Rt,U0),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(f++,4);for(const m of e.bbox)u.setInt16(f,m,!0),f+=2}else u.setUint8(f++,0),f+=2*4;if(Qt(f===h(Rt,z0),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(f++,6);for(const m of e.fontMatrix)u.setFloat64(f,m,!0),f+=8}else u.setUint8(f++,0),f+=8*6;if(Qt(f===h(Rt,q0),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(f++,1);for(const m of e.defaultVMetrics)u.setInt16(f,m,!0),f+=2}else u.setUint8(f++,0),f+=3*2;Qt(f===h(Rt,va),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(h(Rt,va),0),f+=4;for(const m of Rt.strings){const b=s[m],g=b.length;u.setUint32(f,g),c.set(b,f+4),f+=4+g}if(u.setUint32(h(Rt,va),f-h(Rt,va)-4),!n)u.setUint32(f,0),f+=4;else{const m=n.byteLength;u.setUint32(f,m),Qt(f+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),f+4),f+=4+m}if(!r)u.setUint32(f,0),f+=4;else{const m=r.byteLength;u.setUint32(f,m),Qt(f+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),f+4),f+=4+m}return e.data===void 0?(u.setUint32(f,0),f+=4):(u.setUint32(f,e.data.length),c.set(e.data,f+4),f+=4+e.data.length),Qt(f<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(f)}};B0=new WeakMap,U0=new WeakMap,z0=new WeakMap,q0=new WeakMap,va=new WeakMap,ec=new WeakMap,g2=new WeakMap,En=new WeakMap,kr=new WeakSet,Xo=function(e){Qt(e<Rt.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=h(this,En).getUint8(n)>>r&3;return i===0?void 0:i===2},nA=function(e){return Qt(e<Rt.numbers.length,"Invalid number index"),h(this,En).getFloat64(h(Rt,B0)+e*8)},K1=function(e){Qt(e<Rt.strings.length,"Invalid string index");let n=h(Rt,va)+4;for(let s=0;s<e;s++)n+=h(this,En).getUint32(n)+4;const r=h(this,En).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(h(this,ec),n+4,r)),h(this,g2).decode(i)},Se(Rt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Se(Rt,"numbers",["ascent","defaultWidth","descent"]),Se(Rt,"strings",["fallbackName","loadedName","mimetype","name"]),j(Rt,B0,Math.ceil(Rt.bools.length*2/8)),j(Rt,U0,h(Rt,B0)+Rt.numbers.length*8),j(Rt,z0,h(Rt,U0)+1+2*4),j(Rt,q0,h(Rt,z0)+1+8*6),j(Rt,va,h(Rt,q0)+1+2*3);let NN=Rt;var m2,v2,y2,b2,w2,x2,_2,A2;const zn=class zn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],a=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(i.length/2),f=Math.floor(s.length/3),d=a.length,p=o.length;let v=0;for(const A of o)v+=1,v=Math.ceil(v/4)*4,v+=4+A.coords.length*4,v+=4+A.colors.length*4,A.verticesPerRow!==void 0&&(v+=4);const m=20+u*8+f*3+d*8+(r?16:0)+(c?3:0)+v,b=new ArrayBuffer(m),g=new DataView(b),w=new Uint8Array(b);g.setUint8(h(zn,m2),n),g.setUint8(h(zn,v2),r?1:0),g.setUint8(h(zn,y2),c?1:0),g.setUint8(h(zn,b2),l),g.setUint32(h(zn,w2),u,!0),g.setUint32(h(zn,x2),f,!0),g.setUint32(h(zn,_2),d,!0),g.setUint32(h(zn,A2),p,!0);let x=20;new Float32Array(b,x,u*2).set(i),x+=u*8,w.set(s,x),x+=f*3;for(const[A,E]of a)g.setFloat32(x,A,!0),x+=4,g.setUint32(x,parseInt(E.slice(1),16),!0),x+=4;if(r)for(const A of r)g.setFloat32(x,A,!0),x+=4;c&&(w.set(c,x),x+=3);for(let A=0;A<o.length;A++){const E=o[A];g.setUint8(x,E.type),x+=1,x=Math.ceil(x/4)*4,g.setUint32(x,E.coords.length,!0),x+=4,new Int32Array(b,x,E.coords.length).set(E.coords),x+=E.coords.length*4,g.setUint32(x,E.colors.length,!0),x+=4,new Int32Array(b,x,E.colors.length).set(E.colors),x+=E.colors.length*4,E.verticesPerRow!==void 0&&(g.setUint32(x,E.verticesPerRow,!0),x+=4)}return b}getIR(){const e=this.view,n=this.data[h(zn,m2)],r=!!this.data[h(zn,v2)],i=!!this.data[h(zn,y2)],s=e.getUint32(h(zn,w2),!0),a=e.getUint32(h(zn,x2),!0),o=e.getUint32(h(zn,_2),!0),l=e.getUint32(h(zn,A2),!0);let c=20;const u=new Float32Array(this.buffer,c,s*2);c+=s*8;const f=new Uint8Array(this.buffer,c,a*3);c+=a*3;const d=[];for(let b=0;b<o;++b){const g=e.getFloat32(c,!0);c+=4;const w=e.getUint32(c,!0);c+=4,d.push([g,`#${w.toString(16).padStart(6,"0")}`])}let p=null;if(r){p=[];for(let b=0;b<4;++b)p.push(e.getFloat32(c,!0)),c+=4}let v=null;i&&(v=new Uint8Array(this.buffer,c,3),c+=3);const m=[];for(let b=0;b<l;++b){const g=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const w=e.getUint32(c,!0);c+=4;const x=new Int32Array(this.buffer,c,w);c+=w*4;const S=e.getUint32(c,!0);c+=4;const A=new Int32Array(this.buffer,c,S);c+=S*4;const E={type:g,coords:x,colors:A};g===cN.LATTICE&&(E.verticesPerRow=e.getUint32(c,!0),c+=4),m.push(E)}if(n===1)return["RadialAxial","axial",p,d,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",p,d,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(n===3){const b=this.data[h(zn,b2)];let g=null;if(u.length>0){let w=u[0],x=u[0],S=u[1],A=u[1];for(let E=0;E<u.length;E+=2){const C=u[E],L=u[E+1];w=w>C?C:w,S=S>L?L:S,x=x<C?C:x,A=A<L?L:A}g=[w,S,x,A]}return["Mesh",b,u,f,m,g,p,v]}throw new Error(`Unsupported pattern kind: ${n}`)}};m2=new WeakMap,v2=new WeakMap,y2=new WeakMap,b2=new WeakMap,w2=new WeakMap,x2=new WeakMap,_2=new WeakMap,A2=new WeakMap,j(zn,m2,0),j(zn,v2,1),j(zn,y2,2),j(zn,b2,3),j(zn,w2,4),j(zn,x2,8),j(zn,_2,12),j(zn,A2,16);let LN=zn;var H0;class qAe{constructor(e){j(this,H0);T(this,H0,e)}static write(e){let n,r;return vi.isFloat16ArraySupported?(r=new ArrayBuffer(e.length*2),n=new Float16Array(r)):(r=new ArrayBuffer(e.length*4),n=new Float32Array(r)),n.set(e),r}get path(){return vi.isFloat16ArraySupported?new Float16Array(h(this,H0)):new Float32Array(h(this,H0))}}H0=new WeakMap;function HAe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Cs)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function WAe(t){if(Cs&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Hx(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function v5(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const IN=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,VAe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",GAe=PAe.bind(null,IN,VAe);var pu,RE;class KAe{constructor(){j(this,pu,new Map);j(this,RE,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};h(this,RE).then(()=>{for(const[i]of h(this,pu))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}h(this,pu).set(n,i)}removeEventListener(e,n){const r=h(this,pu).get(n);r==null||r(),h(this,pu).delete(n)}terminate(){for(const[,e]of h(this,pu))e==null||e();h(this,pu).clear()}}pu=new WeakMap,RE=new WeakMap;const y5={DATA:1,ERROR:2},Wr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function OF(){}function $s(t){if(t instanceof Kf||t instanceof uN||t instanceof _F||t instanceof lE||t instanceof eT)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Dn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Kf(t.message);case"InvalidPDFException":return new uN(t.message);case"PasswordException":return new _F(t.message,t.code);case"ResponseException":return new lE(t.message,t.status,t.missing);case"UnknownErrorException":return new eT(t.message,t.details)}return new eT(t.message,t.toString())}var W0,Oo,dW,pW,gW,rA;class Y1{constructor(e,n,r){j(this,Oo);j(this,W0,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,Oo,dW).bind(this),{signal:h(this,W0).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:Wr.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Qt(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Wr.CANCEL,streamId:s,reason:$s(c)}),u.promise}},r)}destroy(){var e;(e=h(this,W0))==null||e.abort(),T(this,W0,null)}}W0=new WeakMap,Oo=new WeakSet,dW=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){F(this,Oo,gW).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===y5.DATA)i.resolve(e.data);else if(e.callback===y5.ERROR)i.reject($s(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:y5.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:y5.ERROR,callbackId:e.callbackId,reason:$s(a)})});return}if(e.streamId){F(this,Oo,pW).call(this,e);return}n(e.data)},pW=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,f){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Wr.ENQUEUE,streamId:n,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Wr.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){Qt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Wr.ERROR,streamId:n,reason:$s(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Wr.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Wr.START_COMPLETE,streamId:n,reason:$s(c)})})},gW=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case Wr.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject($s(e.reason));break;case Wr.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject($s(e.reason));break;case Wr.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:Wr.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||OF).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Wr.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Wr.PULL_COMPLETE,streamId:n,reason:$s(c)})});break;case Wr.ENQUEUE:if(Qt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Wr.CLOSE:if(Qt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),F(this,Oo,rA).call(this,a,n);break;case Wr.ERROR:Qt(a,"error should have stream controller"),a.controller.error($s(e.reason)),F(this,Oo,rA).call(this,a,n);break;case Wr.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject($s(e.reason)),F(this,Oo,rA).call(this,a,n);break;case Wr.CANCEL:if(!o)break;const l=$s(e.reason);Promise.try(o.onCancel||OF,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Wr.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Wr.CANCEL_COMPLETE,streamId:n,reason:$s(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},rA=async function(e,n){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var S2;class mW{constructor({enableHWA:e=!1}){j(this,S2,!1);T(this,S2,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!h(this,S2)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Dn("Abstract method `_createCanvas` called.")}}S2=new WeakMap;class YAe extends mW{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class vW{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Dn("Abstract method `_fetch` called.")}}class NF extends vW{async _fetch(e){const n=await Wx(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Hx(n)}}class yW{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}var Ap,V0,gu,mu,fs,Sp,Ep,He,ls,X1,_m,iA,Am,bW,RN,Sm,J1,Z1,MN,Q1;class XAe extends yW{constructor({docId:n,ownerDocument:r=globalThis.document}){super();j(this,He);j(this,Ap);j(this,V0);j(this,gu);j(this,mu);j(this,fs);j(this,Sp);j(this,Ep,0);T(this,mu,n),T(this,fs,r)}addFilter(n){if(!n)return"none";let r=h(this,He,ls).get(n);if(r)return r;const[i,s,a]=F(this,He,iA).call(this,n),o=n.length===1?i:`${i}${s}${a}`;if(r=h(this,He,ls).get(o),r)return h(this,He,ls).set(n,r),r;const l=`g_${h(this,mu)}_transfer_map_${si(this,Ep)._++}`,c=F(this,He,Am).call(this,l);h(this,He,ls).set(n,c),h(this,He,ls).set(o,c);const u=F(this,He,Sm).call(this,l);return F(this,He,Z1).call(this,i,s,a,u),c}addHCMFilter(n,r){var v;const i=`${n}-${r}`,s="base";let a=h(this,He,X1).get(s);if((a==null?void 0:a.key)===i||(a?((v=a.filter)==null||v.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},h(this,He,X1).set(s,a)),!n||!r))return a.url;const o=F(this,He,Q1).call(this,n);n=ze.makeHexColor(...o);const l=F(this,He,Q1).call(this,r);if(r=ze.makeHexColor(...l),h(this,He,_m).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return a.url;const c=new Array(256);for(let m=0;m<=255;m++){const b=m/255;c[m]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const u=c.join(","),f=`g_${h(this,mu)}_hcm_filter`,d=a.filter=F(this,He,Sm).call(this,f);F(this,He,Z1).call(this,u,u,u,d),F(this,He,RN).call(this,d);const p=(m,b)=>{const g=o[m]/255,w=l[m]/255,x=new Array(b+1);for(let S=0;S<=b;S++)x[S]=g+S/b*(w-g);return x.join(",")};return F(this,He,Z1).call(this,p(0,5),p(1,5),p(2,5),d),a.url=F(this,He,Am).call(this,f),a.url}addAlphaFilter(n){let r=h(this,He,ls).get(n);if(r)return r;const[i]=F(this,He,iA).call(this,[n]),s=`alpha_${i}`;if(r=h(this,He,ls).get(s),r)return h(this,He,ls).set(n,r),r;const a=`g_${h(this,mu)}_alpha_map_${si(this,Ep)._++}`,o=F(this,He,Am).call(this,a);h(this,He,ls).set(n,o),h(this,He,ls).set(s,o);const l=F(this,He,Sm).call(this,a);return F(this,He,MN).call(this,i,l),o}addLuminosityFilter(n){let r=h(this,He,ls).get(n||"luminosity");if(r)return r;let i,s;if(n?([i]=F(this,He,iA).call(this,[n]),s=`luminosity_${i}`):s="luminosity",r=h(this,He,ls).get(s),r)return h(this,He,ls).set(n,r),r;const a=`g_${h(this,mu)}_luminosity_map_${si(this,Ep)._++}`,o=F(this,He,Am).call(this,a);h(this,He,ls).set(n,o),h(this,He,ls).set(s,o);const l=F(this,He,Sm).call(this,a);return F(this,He,bW).call(this,l),n&&F(this,He,MN).call(this,i,l),o}addHighlightHCMFilter(n,r,i,s,a){var w;const o=`${r}-${i}-${s}-${a}`;let l=h(this,He,X1).get(n);if((l==null?void 0:l.key)===o||(l?((w=l.filter)==null||w.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},h(this,He,X1).set(n,l)),!r||!i))return l.url;const[c,u]=[r,i].map(F(this,He,Q1).bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,v]=[s,a].map(F(this,He,Q1).bind(this));d<f&&([f,d,p,v]=[d,f,v,p]),h(this,He,_m).style.color="";const m=(x,S,A)=>{const E=new Array(256),C=(d-f)/A,L=x/255,I=(S-x)/(255*A);let q=0;for(let O=0;O<=A;O++){const M=Math.round(f+O*C),z=L+O*I;for(let $=q;$<=M;$++)E[$]=z;q=M+1}for(let O=q;O<256;O++)E[O]=E[q-1];return E.join(",")},b=`g_${h(this,mu)}_hcm_${n}_filter`,g=l.filter=F(this,He,Sm).call(this,b);return F(this,He,RN).call(this,g),F(this,He,Z1).call(this,m(p[0],v[0],5),m(p[1],v[1],5),m(p[2],v[2],5),g),l.url=F(this,He,Am).call(this,b),l.url}destroy(n=!1){var r,i,s,a;n&&((r=h(this,Sp))!=null&&r.size)||((i=h(this,gu))==null||i.parentNode.parentNode.remove(),T(this,gu,null),(s=h(this,V0))==null||s.clear(),T(this,V0,null),(a=h(this,Sp))==null||a.clear(),T(this,Sp,null),T(this,Ep,0))}}Ap=new WeakMap,V0=new WeakMap,gu=new WeakMap,mu=new WeakMap,fs=new WeakMap,Sp=new WeakMap,Ep=new WeakMap,He=new WeakSet,ls=function(){return h(this,V0)||T(this,V0,new Map)},X1=function(){return h(this,Sp)||T(this,Sp,new Map)},_m=function(){if(!h(this,gu)){const n=h(this,fs).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=h(this,fs).createElementNS(Gc,"svg");i.setAttribute("width",0),i.setAttribute("height",0),T(this,gu,h(this,fs).createElementNS(Gc,"defs")),n.append(i),i.append(h(this,gu)),h(this,fs).body.append(n)}return h(this,gu)},iA=function(n){if(n.length===1){const c=n[0],u=new Array(256);for(let d=0;d<256;d++)u[d]=c[d]/255;const f=u.join(",");return[f,f,f]}const[r,i,s]=n,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},Am=function(n){if(h(this,Ap)===void 0){T(this,Ap,"");const r=h(this,fs).URL;r!==h(this,fs).baseURI&&(ik(r)?St('#createUrl: ignore "data:"-URL for performance reasons.'):T(this,Ap,PH(r,"")))}return`url(${h(this,Ap)}#${n})`},bW=function(n){const r=h(this,fs).createElementNS(Gc,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},RN=function(n){const r=h(this,fs).createElementNS(Gc,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Sm=function(n){const r=h(this,fs).createElementNS(Gc,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),h(this,He,_m).append(r),r},J1=function(n,r,i){const s=h(this,fs).createElementNS(Gc,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),n.append(s)},Z1=function(n,r,i,s){const a=h(this,fs).createElementNS(Gc,"feComponentTransfer");s.append(a),F(this,He,J1).call(this,a,"feFuncR",n),F(this,He,J1).call(this,a,"feFuncG",r),F(this,He,J1).call(this,a,"feFuncB",i)},MN=function(n,r){const i=h(this,fs).createElementNS(Gc,"feComponentTransfer");r.append(i),F(this,He,J1).call(this,i,"feFuncA",n)},Q1=function(n){return h(this,He,_m).style.color=n,Gx(getComputedStyle(h(this,He,_m)).getPropertyValue("color"))};class wW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Dn("Abstract method `_fetch` called.")}}class LF extends wW{async _fetch(e){const n=await Wx(e,"arraybuffer");return new Uint8Array(n)}}class xW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Dn("Abstract method `_fetch` called.")}}class IF extends xW{async _fetch(e){const n=await Wx(e,"arraybuffer");return new Uint8Array(n)}}Cs&&St("Please use the `legacy` build in Node.js environments.");async function tR(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class JAe extends yW{}class ZAe extends mW{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class QAe extends vW{async _fetch(e){return tR(e)}}class eSe extends wW{async _fetch(e){return tR(e)}}class tSe extends xW{async _fetch(e){return tR(e)}}const fm="__forcedDependency",{floor:RF,ceil:MF}=Math;function b5(t,e,n,r,i,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const jN=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var G0,af;class nSe{constructor(e,n){j(this,G0);j(this,af);T(this,G0,e),T(this,af,n)}get length(){return h(this,G0).length}isEmpty(e){return h(this,G0)[e]===jN}minX(e){return h(this,af)[e*4+0]/256}minY(e){return h(this,af)[e*4+1]/256}maxX(e){return(h(this,af)[e*4+2]+1)/256}maxY(e){return(h(this,af)[e*4+3]+1)/256}}G0=new WeakMap,af=new WeakMap;const w5=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var zs,qs,Pp,rl,kp,vu,bn,Pn,yu,Hs,E2,K0,Cp,Tp,bu,ds,tc,P2,DN;class rSe{constructor(e,n,r=!1){j(this,P2);j(this,zs,{__proto__:null});j(this,qs,{__proto__:null,transform:[],moveText:[],sameLineText:[],[fm]:[]});j(this,Pp,new Map);j(this,rl,[]);j(this,kp,[]);j(this,vu,[[1,0,0,1,0,0]]);j(this,bn,[-1/0,-1/0,1/0,1/0]);j(this,Pn,new Float64Array([1/0,1/0,-1/0,-1/0]));j(this,yu,-1);j(this,Hs,new Set);j(this,E2,new Map);j(this,K0,new Map);j(this,Cp);j(this,Tp);j(this,bu);j(this,ds);j(this,tc);T(this,Cp,e.width),T(this,Tp,e.height),F(this,P2,DN).call(this,n),r&&T(this,tc,new Map)}growOperationsCount(e){e>=h(this,ds).length&&F(this,P2,DN).call(this,e,h(this,ds))}save(e){return T(this,zs,{__proto__:h(this,zs)}),T(this,qs,{__proto__:h(this,qs),transform:{__proto__:h(this,qs).transform},moveText:{__proto__:h(this,qs).moveText},sameLineText:{__proto__:h(this,qs).sameLineText},[fm]:{__proto__:h(this,qs)[fm]}}),T(this,bn,{__proto__:h(this,bn)}),h(this,rl).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(h(this,zs));if(n===null)return this;T(this,zs,n),T(this,qs,Object.getPrototypeOf(h(this,qs))),T(this,bn,Object.getPrototypeOf(h(this,bn)));const r=h(this,rl).pop();return r!==void 0&&((i=w5(h(this,tc),e))==null||i.dependencies.add(r),h(this,ds)[e]=h(this,ds)[r]),this}recordOpenMarker(e){return h(this,rl).push(e),this}getOpenMarker(){return h(this,rl).length===0?null:h(this,rl).at(-1)}recordCloseMarker(e){var r;const n=h(this,rl).pop();return n!==void 0&&((r=w5(h(this,tc),e))==null||r.dependencies.add(n),h(this,ds)[e]=h(this,ds)[n]),this}beginMarkedContent(e){return h(this,kp).push(e),this}endMarkedContent(e){var r;const n=h(this,kp).pop();return n!==void 0&&((r=w5(h(this,tc),e))==null||r.dependencies.add(n),h(this,ds)[e]=h(this,ds)[n]),this}pushBaseTransform(e){return h(this,vu).push(ze.multiplyByDOMMatrix(h(this,vu).at(-1),e.getTransform())),this}popBaseTransform(){return h(this,vu).length>1&&h(this,vu).pop(),this}recordSimpleData(e,n){return h(this,zs)[e]=n,this}recordIncrementalData(e,n){return h(this,qs)[e].push(n),this}resetIncrementalData(e,n){return h(this,qs)[e].length=0,this}recordNamedData(e,n){return h(this,Pp).set(e,n),this}recordSimpleDataFromNamed(e,n,r){h(this,zs)[e]=h(this,Pp).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(fm,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in h(this,zs)&&this.recordFutureForcedDependency(n,h(this,zs)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of h(this,Hs))this.recordFutureForcedDependency(fm,e);return this}resetBBox(e){return h(this,yu)!==e&&(T(this,yu,e),h(this,Pn)[0]=1/0,h(this,Pn)[1]=1/0,h(this,Pn)[2]=-1/0,h(this,Pn)[3]=-1/0),this}recordClipBox(e,n,r,i,s,a){const o=ze.multiplyByDOMMatrix(h(this,vu).at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];ze.axialAlignedBoundingBox([r,s,i,a],o,l);const c=ze.intersect(h(this,bn),l);return c?(h(this,bn)[0]=c[0],h(this,bn)[1]=c[1],h(this,bn)[2]=c[2],h(this,bn)[3]=c[3]):(h(this,bn)[0]=h(this,bn)[1]=1/0,h(this,bn)[2]=h(this,bn)[3]=-1/0),this}recordBBox(e,n,r,i,s,a){const o=h(this,bn);if(o[0]===1/0)return this;const l=ze.multiplyByDOMMatrix(h(this,vu).at(-1),n.getTransform());if(o[0]===-1/0)return ze.axialAlignedBoundingBox([r,s,i,a],l,h(this,Pn)),this;const c=[1/0,1/0,-1/0,-1/0];return ze.axialAlignedBoundingBox([r,s,i,a],l,c),h(this,Pn)[0]=Math.min(h(this,Pn)[0],Math.max(c[0],o[0])),h(this,Pn)[1]=Math.min(h(this,Pn)[1],Math.max(c[1],o[1])),h(this,Pn)[2]=Math.max(h(this,Pn)[2],Math.min(c[2],o[2])),h(this,Pn)[3]=Math.max(h(this,Pn)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,s=0,a=0,o){const l=r.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&h(this,K0).get(r),c!==!1&&(u=[0,0,0,0],ze.axialAlignedBoundingBox(l,r.fontMatrix,u),(i!==1||s!==0||a!==0)&&ze.scaleMinMax([i,0,0,-i,s,a],u),c)))return this.recordBBox(e,n,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const f=o();return l&&u&&c===void 0&&(c=u[0]<=s-f.actualBoundingBoxLeft&&u[2]>=s+f.actualBoundingBoxRight&&u[1]<=a-f.actualBoundingBoxAscent&&u[3]>=a+f.actualBoundingBoxDescent,h(this,K0).set(r,c),c)?this.recordBBox(e,n,u[0],u[2],u[1],u[3]):this.recordBBox(e,n,s-f.actualBoundingBoxLeft,s+f.actualBoundingBoxRight,a-f.actualBoundingBoxAscent,a+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return h(this,Pn)[0]=Math.max(0,h(this,bn)[0]),h(this,Pn)[1]=Math.max(0,h(this,bn)[1]),h(this,Pn)[2]=Math.min(h(this,Cp),h(this,bn)[2]),h(this,Pn)[3]=Math.min(h(this,Tp),h(this,bn)[3]),this}getSimpleIndex(e){return h(this,zs)[e]}recordDependencies(e,n){const r=h(this,Hs),i=h(this,zs),s=h(this,qs);for(const a of n)a in h(this,zs)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return h(this,Pp).has(n)&&h(this,Hs).add(h(this,Pp).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[fm]),h(this,tc)){const r=w5(h(this,tc),e),{dependencies:i}=r;h(this,Hs).forEach(i.add,i),h(this,rl).forEach(i.add,i),h(this,kp).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(h(this,yu)===e){const r=RF(h(this,Pn)[0]*256/h(this,Cp)),i=RF(h(this,Pn)[1]*256/h(this,Tp)),s=MF(h(this,Pn)[2]*256/h(this,Cp)),a=MF(h(this,Pn)[3]*256/h(this,Tp));b5(h(this,bu),e,r,i,s,a);for(const o of h(this,Hs))o!==e&&b5(h(this,bu),o,r,i,s,a);for(const o of h(this,rl))o!==e&&b5(h(this,bu),o,r,i,s,a);for(const o of h(this,kp))o!==e&&b5(h(this,bu),o,r,i,s,a);n||(h(this,Hs).clear(),T(this,yu,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(h(this,Hs));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return h(this,yu)===e&&(T(this,yu,-1),h(this,bn)[0]=Math.max(h(this,bn)[0],h(this,Pn)[0]),h(this,bn)[1]=Math.max(h(this,bn)[1],h(this,Pn)[1]),h(this,bn)[2]=Math.min(h(this,bn)[2],h(this,Pn)[2]),h(this,bn)[3]=Math.min(h(this,bn)[3],h(this,Pn)[3]),n||h(this,Hs).clear()),this}_takePendingDependencies(){const e=h(this,Hs);return T(this,Hs,new Set),e}_extractOperation(e){const n=h(this,E2).get(e);return h(this,E2).delete(e),n}_pushPendingDependencies(e){for(const n of e)h(this,Hs).add(n)}take(){return h(this,K0).clear(),new nSe(h(this,ds),h(this,bu))}takeDebugMetadata(){return h(this,tc)}}zs=new WeakMap,qs=new WeakMap,Pp=new WeakMap,rl=new WeakMap,kp=new WeakMap,vu=new WeakMap,bn=new WeakMap,Pn=new WeakMap,yu=new WeakMap,Hs=new WeakMap,E2=new WeakMap,K0=new WeakMap,Cp=new WeakMap,Tp=new WeakMap,bu=new WeakMap,ds=new WeakMap,tc=new WeakMap,P2=new WeakSet,DN=function(e,n){const r=new ArrayBuffer(e*4);T(this,bu,new Uint8ClampedArray(r)),T(this,ds,new Uint32Array(r)),n&&n.length>0?(h(this,ds).set(n),h(this,ds).fill(jN,n.length)):h(this,ds).fill(jN)};var In,_r,il,Y0,X0;const mR=class mR{constructor(e,n,r){j(this,In);j(this,_r);j(this,il);j(this,Y0,0);j(this,X0,0);if(e instanceof mR&&h(e,il)===!!r)return e;T(this,In,e),T(this,_r,n),T(this,il,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return si(this,X0)._++,h(this,In).save(h(this,_r)),this}restore(e){return h(this,X0)>0&&(h(this,In).restore(h(this,_r)),si(this,X0)._--),this}recordOpenMarker(e){return si(this,Y0)._++,this}getOpenMarker(){return h(this,Y0)>0?h(this,_r):h(this,In).getOpenMarker()}recordCloseMarker(e){return si(this,Y0)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return h(this,In).pushBaseTransform(e),this}popBaseTransform(){return h(this,In).popBaseTransform(),this}recordSimpleData(e,n){return h(this,In).recordSimpleData(e,h(this,_r)),this}recordIncrementalData(e,n){return h(this,In).recordIncrementalData(e,h(this,_r)),this}resetIncrementalData(e,n){return h(this,In).resetIncrementalData(e,h(this,_r)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return h(this,In).recordSimpleDataFromNamed(e,n,h(this,_r)),this}recordFutureForcedDependency(e,n){return h(this,In).recordFutureForcedDependency(e,h(this,_r)),this}inheritSimpleDataAsFutureForcedDependencies(e){return h(this,In).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return h(this,In).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return h(this,il)||h(this,In).resetBBox(h(this,_r)),this}recordClipBox(e,n,r,i,s,a){return h(this,il)||h(this,In).recordClipBox(h(this,_r),n,r,i,s,a),this}recordBBox(e,n,r,i,s,a){return h(this,il)||h(this,In).recordBBox(h(this,_r),n,r,i,s,a),this}recordCharacterBBox(e,n,r,i,s,a,o){return h(this,il)||h(this,In).recordCharacterBBox(h(this,_r),n,r,i,s,a,o),this}recordFullPageBBox(e){return h(this,il)||h(this,In).recordFullPageBBox(h(this,_r)),this}getSimpleIndex(e){return h(this,In).getSimpleIndex(e)}recordDependencies(e,n){return h(this,In).recordDependencies(h(this,_r),n),this}recordNamedDependency(e,n){return h(this,In).recordNamedDependency(h(this,_r),n),this}recordOperation(e){return h(this,In).recordOperation(h(this,_r),!0),this}recordShowTextOperation(e){return h(this,In).recordShowTextOperation(h(this,_r),!0),this}bboxToClipBoxDropOperation(e){return h(this,il)||h(this,In).bboxToClipBoxDropOperation(h(this,_r),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};In=new WeakMap,_r=new WeakMap,il=new WeakMap,Y0=new WeakMap,X0=new WeakMap;let pE=mR;const lo={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ki={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function FN(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class nR{isModifyingCurrentTransform(){return!1}getPattern(){Dn("Abstract method `getPattern` called.")}}class iSe extends nR{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,n=null){let r,i=this._p0,s=this._p1;if(n&&(i=i.slice(),s=s.slice(),ze.applyTransform(i,n),ze.applyTransform(s,n)),this._type==="axial")r=e.createLinearGradient(i[0],i[1],s[0],s[1]);else if(this._type==="radial"){let a=this._r0,o=this._r1;if(n){const l=new Float32Array(2);ze.singularValueDecompose2dScale(n,l),a*=l[0],o*=l[0]}r=e.createRadialGradient(i[0],i[1],a,s[0],s[1],o)}for(const a of this._colorStops)r.addColorStop(a[0],a[1]);return r}getPattern(e,n,r,i){let s;if(i===Ki.STROKE||i===Ki.FILL){if(this.isOriginBased()){let d=ze.transform(r,n.baseTransform);this.matrix&&(d=ze.transform(d,this.matrix));const p=.001,v=Math.hypot(d[0],d[1]),m=Math.hypot(d[2],d[3]),b=(d[0]*d[2]+d[1]*d[3])/(v*m);if(Math.abs(b)<p)if(this.isRadial()){if(Math.abs(v-m)<p)return this._createGradient(e,d)}else return this._createGradient(e,d)}const a=n.current.getClippedPathBoundingBox(i,hr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),r=ze.transform(r,[1,0,0,1,a[0],a[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),FN(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(r);s.setTransform(f)}else FN(e,this._bbox),s=this._createGradient(e);return s}}function rT(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,u=t.data,f=t.width*4;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=a,a=d),l[r+1]>l[i+1]&&(d=r,r=i,i=d,d=a,a=o,o=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=a,a=d);const p=(l[n]+e.offsetX)*e.scaleX,v=(l[n+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(v>=w)return;const x=c[s],S=c[s+1],A=c[s+2],E=c[a],C=c[a+1],L=c[a+2],I=c[o],q=c[o+1],O=c[o+2],M=Math.round(v),z=Math.round(w);let $,V,X,Q,W,re,ce,ae;for(let D=M;D<=z;D++){if(D<b){const fe=D<v?0:(v-D)/(v-b);$=p-(p-m)*fe,V=x-(x-E)*fe,X=S-(S-C)*fe,Q=A-(A-L)*fe}else{let fe;D>w?fe=1:b===w?fe=0:fe=(b-D)/(b-w),$=m-(m-g)*fe,V=E-(E-I)*fe,X=C-(C-q)*fe,Q=L-(L-O)*fe}let K;D<v?K=0:D>w?K=1:K=(v-D)/(v-w),W=p-(p-g)*K,re=x-(x-I)*K,ce=S-(S-q)*K,ae=A-(A-O)*K;const ee=Math.round(Math.min($,W)),se=Math.round(Math.max($,W));let oe=f*D+ee*4;for(let fe=ee;fe<=se;fe++)K=($-fe)/($-W),K<0?K=0:K>1&&(K=1),u[oe++]=V-(V-re)*K|0,u[oe++]=X-(X-ce)*K|0,u[oe++]=Q-(Q-ae)*K|0,u[oe++]=255}}function sSe(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case cN.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let f=0;f<c;f++,u++)rT(t,n,r[u],r[u+1],r[u+o],i[u],i[u+1],i[u+o]),rT(t,n,r[u+o+1],r[u+1],r[u+o],i[u+o+1],i[u+1],i[u+o])}break;case cN.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)rT(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class aSe extends nR{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/f,v=u/d,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/v},b=f+2*2,g=d+2*2,w=r.getCanvas("mesh",b,g),x=w.context,S=x.createImageData(f,d);if(n){const E=S.data;for(let C=0,L=E.length;C<L;C+=4)E[C]=n[0],E[C+1]=n[1],E[C+2]=n[2],E[C+3]=255}for(const E of this._figures)sSe(S,E,m);return x.putImageData(S,2,2),{canvas:w.canvas,offsetX:o-2*p,offsetY:l-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){FN(e,this._bbox);const s=new Float32Array(2);if(i===Ki.SHADING)ze.singularValueDecompose2dScale(hr(e),s);else if(this.matrix){ze.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;ze.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=o,s[1]*=l}else ze.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===Ki.SHADING?null:this._background,n.cachedCanvases);return i!==Ki.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class oSe extends nR{getPattern(){return"hotpink"}}function lSe(t){switch(t[0]){case"RadialAxial":return new iSe(t);case"Mesh":return new aSe(t);case"Dummy":return new oSe}throw new Error(`Unknown IR type: ${t[0]}`)}const jF={COLORED:1,UNCOLORED:2},ME=class ME{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var re,ce;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),rk("TilingType: "+a);const f=r[0],d=r[1],p=r[2],v=r[3],m=p-f,b=v-d,g=new Float32Array(2);ze.singularValueDecompose2dScale(this.matrix,g);const[w,x]=g;ze.singularValueDecompose2dScale(this.baseTransform,g);const S=w*g[0],A=x*g[1];let E=m,C=b,L=!1,I=!1;const q=Math.ceil(c*S),O=Math.ceil(u*A),M=Math.ceil(m*S),z=Math.ceil(b*A);q>=M?E=c:L=!0,O>=z?C=u:I=!0;const $=this.getSizeAndScale(E,this.ctx.canvas.width,S),V=this.getSizeAndScale(C,this.ctx.canvas.height,A),X=e.cachedCanvases.getCanvas("pattern",$.size,V.size),Q=X.context,W=l.createCanvasGraphics(Q,n);if(W.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(W,s,o),Q.translate(-$.scale*f,-V.scale*d),W.transform(0,$.scale,0,0,V.scale,0,0),Q.save(),(re=W.dependencyTracker)==null||re.save(),this.clipBbox(W,f,d,p,v),W.baseTransform=hr(W.ctx),W.executeOperatorList(i),W.endDrawing(),(ce=W.dependencyTracker)==null||ce.restore(),Q.restore(),L||I){const ae=X.canvas;L&&(E=c),I&&(C=u);const D=this.getSizeAndScale(E,this.ctx.canvas.width,S),K=this.getSizeAndScale(C,this.ctx.canvas.height,A),ee=D.size,se=K.size,oe=e.cachedCanvases.getCanvas("pattern-workaround",ee,se),fe=oe.context,xe=L?Math.floor(m/c):0,ue=I?Math.floor(b/u):0;for(let ye=0;ye<=xe;ye++)for(let _e=0;_e<=ue;_e++)fe.drawImage(ae,ee*ye,se*_e,ee,se,0,0,ee,se);return{canvas:oe.canvas,scaleX:D.scale,scaleY:K.scale,offsetX:f,offsetY:d}}return{canvas:X.canvas,scaleX:$.scale,scaleY:V.scale,offsetX:f,offsetY:d}}getSizeAndScale(e,n,r){const i=Math.max(ME.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,o=s-r;e.ctx.rect(n,r,a,o),ze.axialAlignedBoundingBox([n,r,i,s],hr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case jF.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case jF.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new wAe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,s){let a=r;i!==Ki.SHADING&&(a=ze.transform(a,n.baseTransform),this.matrix&&(a=ze.transform(a,this.matrix)));const o=this.createPatternCanvas(n,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};Se(ME,"MAX_PATTERN_SIZE",3e3);let $N=ME;function cSe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=vi.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=r>>3,f=r&7,d=t.length;n=new Uint32Array(n.buffer);let p=0;for(let v=0;v<i;v++){for(const b=e+u;e<b;e++){const g=e<d?t[e]:255;n[p++]=g&128?c:l,n[p++]=g&64?c:l,n[p++]=g&32?c:l,n[p++]=g&16?c:l,n[p++]=g&8?c:l,n[p++]=g&4?c:l,n[p++]=g&2?c:l,n[p++]=g&1?c:l}if(f===0)continue;const m=e<d?t[e++]:255;for(let b=0;b<f;b++)n[p++]=m&1<<7-b?c:l}return{srcPos:e,destPos:p}}const DF=16,FF=100,uSe=15,$F=10,Gs=16,iT=new DOMMatrix,ja=new Float32Array(2),Gm=new Float32Array([1/0,1/0,-1/0,-1/0]);function hSe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,o){e.transform(n,r,i,s,a,o),this.__originalTransform(n,r,i,s,a,o)},t.setTransform=function(n,r,i,s,a,o){e.setTransform(n,r,i,s,a,o),this.__originalSetTransform(n,r,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,o){e.bezierCurveTo(n,r,i,s,a,o),this.__originalBezierCurveTo(n,r,i,s,a,o)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class fSe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function x5(t,e,n,r,i,s,a,o,l,c){const[u,f,d,p,v,m]=hr(t);if(f===0&&d===0){const w=a*u+v,x=Math.round(w),S=o*p+m,A=Math.round(S),E=(a+l)*u+v,C=Math.abs(Math.round(E)-x)||1,L=(o+c)*p+m,I=Math.abs(Math.round(L)-A)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(p),x,A),t.drawImage(e,n,r,i,s,0,0,C,I),t.setTransform(u,f,d,p,v,m),[C,I]}if(u===0&&p===0){const w=o*d+v,x=Math.round(w),S=a*f+m,A=Math.round(S),E=(o+c)*d+v,C=Math.abs(Math.round(E)-x)||1,L=(a+l)*f+m,I=Math.abs(Math.round(L)-A)||1;return t.setTransform(0,Math.sign(f),Math.sign(d),0,x,A),t.drawImage(e,n,r,i,s,0,0,I,C),t.setTransform(u,f,d,p,v,m),[I,C]}t.drawImage(e,n,r,i,s,a,o,l,c);const b=Math.hypot(u,f),g=Math.hypot(d,p);return[b*l,g*c]}class BF{constructor(e,n,r){Se(this,"alphaIsShape",!1);Se(this,"fontSize",0);Se(this,"fontSizeScale",1);Se(this,"textMatrix",null);Se(this,"textMatrixScale",1);Se(this,"fontMatrix",lN);Se(this,"leading",0);Se(this,"x",0);Se(this,"y",0);Se(this,"lineX",0);Se(this,"lineY",0);Se(this,"charSpacing",0);Se(this,"wordSpacing",0);Se(this,"textHScale",1);Se(this,"textRenderingMode",li.FILL);Se(this,"textRise",0);Se(this,"fillColor","#000000");Se(this,"strokeColor","#000000");Se(this,"patternFill",!1);Se(this,"patternStroke",!1);Se(this,"fillAlpha",1);Se(this,"strokeAlpha",1);Se(this,"lineWidth",1);Se(this,"activeSMask",null);Se(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=Gm.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ki.FILL,n=null){const r=this.minMax.slice();if(e===Ki.STROKE){n||Dn("Stroke bounding box must include transform."),ze.singularValueDecompose2dScale(n,ja);const i=ja[0]*this.lineWidth/2,s=ja[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=ze.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Gm,0)}getClippedPathBoundingBox(e=Ki.FILL,n=null){return ze.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function UF(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Gs,s=(n-i)/Gs,a=i===0?s:s+1,o=t.createImageData(r,Gs);let l=0,c;const u=e.data,f=o.data;let d,p,v,m;if(e.kind===K5.GRAYSCALE_1BPP){const b=u.byteLength,g=new Uint32Array(f.buffer,0,f.byteLength>>2),w=g.length,x=r+7>>3,S=4294967295,A=vi.isLittleEndian?4278190080:255;for(d=0;d<a;d++){for(v=d<s?Gs:i,c=0,p=0;p<v;p++){const E=b-l;let C=0;const L=E>x?r:E*8-7,I=L&-8;let q=0,O=0;for(;C<I;C+=8)O=u[l++],g[c++]=O&128?S:A,g[c++]=O&64?S:A,g[c++]=O&32?S:A,g[c++]=O&16?S:A,g[c++]=O&8?S:A,g[c++]=O&4?S:A,g[c++]=O&2?S:A,g[c++]=O&1?S:A;for(;C<L;C++)q===0&&(O=u[l++],q=128),g[c++]=O&q?S:A,q>>=1}for(;c<w;)g[c++]=0;t.putImageData(o,0,d*Gs)}}else if(e.kind===K5.RGBA_32BPP){for(p=0,m=r*Gs*4,d=0;d<s;d++)f.set(u.subarray(l,l+m)),l+=m,t.putImageData(o,0,p),p+=Gs;d<a&&(m=r*i*4,f.set(u.subarray(l,l+m)),t.putImageData(o,0,p))}else if(e.kind===K5.RGB_24BPP)for(v=Gs,m=r*v,d=0;d<a;d++){for(d>=s&&(v=i,m=r*v),c=0,p=m;p--;)f[c++]=u[l++],f[c++]=u[l++],f[c++]=u[l++],f[c++]=255;t.putImageData(o,0,d*Gs)}else throw new Error(`bad image kind: ${e.kind}`)}function zF(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Gs,s=(n-i)/Gs,a=i===0?s:s+1,o=t.createImageData(r,Gs);let l=0;const c=e.data,u=o.data;for(let f=0;f<a;f++){const d=f<s?Gs:i;({srcPos:l}=cSe({src:c,srcPos:l,dest:u,width:r,height:d,nonBlackColor:0})),t.putImageData(o,0,f*Gs)}}function k1(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function _5(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function qF(t,e){if(e)return!0;ze.singularValueDecompose2dScale(t,ja);const n=Math.fround(_c.pixelRatio*Yf.PDF_TO_CSS_UNITS);return ja[0]<=n&&ja[1]<=n}const dSe=["butt","round","square"],pSe=["miter","round","bevel"],gSe={},HF={};var Sl,BN,UN,zN;const vR=class vR{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,u){j(this,Sl);this.ctx=e,this.current=new BF(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new fSe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...hr(this.compositeCtx))}this.ctx.save(),_5(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=hr(this.ctx)}executeOperatorList(e,n,r,i,s){var g;const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const u=c-l>$F&&typeof r=="function",f=u?Date.now()+uSe:0;let d=0;const p=this.commonObjs,v=this.objs;let m,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(m=o[l],b=a[l]??null,m!==Rw.dependency)b===null?this[m](l):this[m](l,...b);else for(const w of b){(g=this.dependencyTracker)==null||g.recordNamedData(w,l);const x=w.startsWith("g_")?p:v;if(!x.has(w))return x.get(w,r),l}if(l++,l===c)return l;if(u&&++d>$F){if(Date.now()>f)return r(),l;d=0}}}endDrawing(){F(this,Sl,BN).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),F(this,Sl,UN).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,c="prescale1",u,f;for(;s>2&&o>1||a>2&&l>1;){let d=o,p=l;s>2&&o>1&&(d=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/d),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),u=this.cachedCanvases.getCanvas(c,d,p),f=u.context,f.clearRect(0,0,d,p),f.drawImage(e,0,0,o,l,0,0,d,p),e=u.canvas,o=d,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,n){var q,O;const r=this.ctx,{width:i,height:s}=n,a=this.current.fillColor,o=this.current.patternFill,l=hr(r);let c,u,f,d;if((n.bitmap||n.data)&&n.count>1){const M=n.bitmap||n.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(M),c||(c=new Map,this._cachedBitmapsMap.set(M,c));const z=c.get(u);if(z&&!o){const $=Math.round(Math.min(l[0],l[2])+l[4]),V=Math.round(Math.min(l[1],l[3])+l[5]);return(q=this.dependencyTracker)==null||q.recordDependencies(e,lo.transformAndFill),{canvas:z,offsetX:$,offsetY:V}}f=z}f||(d=this.cachedCanvases.getCanvas("maskCanvas",i,s),zF(d.context,n));let p=ze.transform(l,[1/i,0,0,-1/s,0,0]);p=ze.transform(p,[1,0,0,1,0,-s]);const v=Gm.slice();ze.axialAlignedBoundingBox([0,0,i,s],p,v);const[m,b,g,w]=v,x=Math.round(g-m)||1,S=Math.round(w-b)||1,A=this.cachedCanvases.getCanvas("fillCanvas",x,S),E=A.context,C=m,L=b;E.translate(-C,-L),E.transform(...p),f||(f=this._scaleImage(d.canvas,Fl(E)),f=f.img,c&&o&&c.set(u,f)),E.imageSmoothingEnabled=qF(hr(E),n.interpolate),x5(E,f,0,0,f.width,f.height,0,0,i,s),E.globalCompositeOperation="source-in";const I=ze.transform(Fl(E),[1,0,0,1,-C,-L]);return E.fillStyle=o?a.getPattern(r,this,I,Ki.FILL,e):a,E.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,A.canvas)),(O=this.dependencyTracker)==null||O.recordDependencies(e,lo.transformAndFill),{canvas:A.canvas,offsetX:Math.round(C),offsetY:Math.round(L)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=dSe[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=pSe[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,s,a,o;for(const[l,c]of n)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),k1(this.suspendedCtx,a),hSe(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),k1(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,o,l,c,u,f){let d=e.canvas,p=l-u,v=c-f;if(a)if(p<0||v<0||p+r>d.width||v+i>d.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),g=b.context;g.drawImage(d,-p,-v),g.globalCompositeOperation="destination-atop",g.fillStyle=a,g.fillRect(0,0,r,i),g.globalCompositeOperation="source-over",d=b.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,v,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,v,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(l,c,r,i),n.clip(m),n.globalCompositeOperation="destination-in",n.drawImage(d,p,v,r,i,l,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&k1(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&k1(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[n](e,s);return}if(this.dependencyTracker!==null){const a=n===Rw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=LH(s)),ze.axialAlignedBoundingBox(i,hr(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Fl(i),Ki.STROKE,e),o){const l=new Path2D;l.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=l}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,lo.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Ki.STROKE,hr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,u,f;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const d=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Fl(i),Ki.FILL,e),d){const p=new Path2D;p.addPath(n,i.getTransform().invertSelf().multiplySelf(d)),n=p}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(u=this.dependencyTracker)==null||u.recordDependencies(e,lo.fill),o&&(i.restore(),(f=this.dependencyTracker)==null||f.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,lo.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=gSe}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=HF}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of n)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var f,d;(f=this.dependencyTracker)==null||f.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),s=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=i.fontMatrix||lN,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&St("Invalid font matrix for font "+n),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((d=i.systemFontInfo)==null?void 0:d.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=r;r<DF?u=DF:r>FF&&(u=FF),this.current.fontSizeScale=r/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,s,a){var g,w,x,S;const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,d=u&li.FILL_STROKE_MASK,p=!!(u&li.ADD_TO_PATH_FLAG),v=l.patternFill&&!c.missingFile,m=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||p||v||m)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,n)),b&&(c.disableFontFace||v||m)){o.save(),o.translate(r,i),o.scale(f,-f),(g=this.dependencyTracker)==null||g.recordCharacterBBox(e,o,c);let A;if(d===li.FILL||d===li.FILL_STROKE)if(s){A=o.getTransform(),o.setTransform(...s);const E=F(this,Sl,zN).call(this,b,A,s);o.fill(E)}else o.fill(b);if(d===li.STROKE||d===li.FILL_STROKE)if(a){A||(A=o.getTransform()),o.setTransform(...a);const{a:E,b:C,c:L,d:I}=A,q=ze.inverseTransform(a),O=ze.transform([E,C,L,I,0,0],q);ze.singularValueDecompose2dScale(O,ja),o.lineWidth*=Math.max(ja[0],ja[1])/f,o.stroke(F(this,Sl,zN).call(this,b,A,a))}else o.lineWidth/=f,o.stroke(b);o.restore()}else(d===li.FILL||d===li.FILL_STROKE)&&(o.fillText(n,r,i),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,c,f,r,i,()=>o.measureText(n))),(d===li.STROKE||d===li.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,c,f,r,i,()=>o.measureText(n)).recordDependencies(e,lo.stroke)),o.strokeText(n,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:hr(o),x:r,y:i,fontSize:f,path:b}),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,c,f,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Et(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var O,M,z,$;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,lo.showText).resetBBox(e),this.current.textRenderingMode&li.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(O=this.dependencyTracker)==null||O.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(M=this.dependencyTracker)==null||M.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,u=r.fontDirection,f=r.textHScale*u,d=n.length,p=i.vertical,v=p?1:-1,m=i.defaultVMetrics,b=s*r.fontMatrix[0],g=r.textRenderingMode===li.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),u>0?a.scale(f,-1):a.scale(f,1);let w,x;const S=r.textRenderingMode&li.FILL_STROKE_MASK,A=S===li.FILL||S===li.FILL_STROKE,E=S===li.STROKE||S===li.FILL_STROKE;if(A&&r.patternFill){a.save();const V=r.fillColor.getPattern(a,this,Fl(a),Ki.FILL,e);w=hr(a),a.restore(),a.fillStyle=V}if(E&&r.patternStroke){a.save();const V=r.strokeColor.getPattern(a,this,Fl(a),Ki.STROKE,e);x=hr(a),a.restore(),a.strokeStyle=V}let C=r.lineWidth;const L=r.textMatrixScale;if(L===0||C===0?E&&(C=this.getSinglePixelWidth()):C/=L,o!==1&&(a.scale(o,o),C/=o),a.lineWidth=C,i.isInvalidPDFjsFont){const V=[];let X=0;for(const W of n)V.push(W.unicode),X+=W.width;const Q=V.join("");if(a.fillText(Q,0,0),this.dependencyTracker!==null){const W=a.measureText(Q);this.dependencyTracker.recordBBox(e,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=X*b*f,a.restore(),this.compose();return}let I=0,q;for(q=0;q<d;++q){const V=n[q];if(typeof V=="number"){I+=v*V*s/1e3;continue}let X=!1;const Q=(V.isSpace?c:0)+l,W=V.fontChar,re=V.accent;let ce,ae,D=V.width;if(p){const se=V.vmetric||m,oe=-(V.vmetric?se[1]:D*.5)*b,fe=se[2]*b;D=se?-se[0]:D,ce=oe/o,ae=(I+fe)/o}else ce=I/o,ae=0;let K;if(i.remeasure&&D>0){K=a.measureText(W);const se=K.width*1e3/s*o;if(D<se&&this.isFontSubpixelAAEnabled){const oe=D/se;X=!0,a.save(),a.scale(oe,1),ce/=oe}else D!==se&&(ce+=(D-se)/2e3*s/o)}if(this.contentVisible&&(V.isInFont||i.missingFile)){if(g&&!re)a.fillText(W,ce,ae),(z=this.dependencyTracker)==null||z.recordCharacterBBox(e,a,K?{bbox:null}:i,s/o,ce,ae,()=>K??a.measureText(W));else if(this.paintChar(e,W,ce,ae,w,x),re){const se=ce+s*re.offset.x/o,oe=ae-s*re.offset.y/o;this.paintChar(e,re.fontChar,se,oe,w,x)}}const ee=p?D*b-Q*u:D*b+Q*u;I+=ee,X&&a.restore()}p?r.y-=I:r.x+=I*f,a.restore(),this.compose(),($=this.dependencyTracker)==null||$.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,f=i.textHScale*o,d=i.fontMatrix||lN,p=n.length,v=i.textRenderingMode===li.INVISIBLE;let m,b,g,w;if(v||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(f,o);const x=this.dependencyTracker;for(this.dependencyTracker=x?new pE(x,e):null,m=0;m<p;++m){if(b=n[m],typeof b=="number"){w=l*b*a/1e3,this.ctx.translate(w,0),i.x+=w*f;continue}const S=(b.isSpace?u:0)+c,A=s.charProcOperatorList[b.operatorListId];A?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...d),this.executeOperatorList(A),this.restore()):St(`Type3 character "${b.operatorListId}" is not available.`);const E=[b.width,0];ze.applyTransform(E,d),g=E[0]*a+S,r.translate(g,0),i.x+=g*f}r.restore(),x&&(this.dependencyTracker=x)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,s,a,o){var c;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||hr(this.ctx),s={createCanvasGraphics:(a,o)=>new vR(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new pE(this.dependencyTracker,o,!0):null)};r=new $N(n,this.ctx,s,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=lSe(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,Fl(r),Ki.SHADING,e);const s=Fl(r);if(s){const{width:o,height:l}=r.canvas,c=Gm.slice();ze.axialAlignedBoundingBox([0,0,o,l],s,c);const[u,f,d,p]=c;this.ctx.fillRect(u,f,d-u,p-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,lo.transform).recordDependencies(e,lo.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Dn("Should not call beginInlineImage")}beginImageData(){Dn("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=hr(this.ctx),r)){ze.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,c=new Path2D;c.rect(s,a,o-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var x;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||rk("TODO: Support non-isolated groups."),n.knockout&&St("Knockout groups not supported.");const i=hr(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=Gm.slice();ze.axialAlignedBoundingBox(n.bbox,hr(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=ze.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let f="groupAt"+this.groupLevel;n.smask&&(f+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(f,c,u),p=d.context;p.translate(-o,-l),p.transform(...i);let v=new Path2D;const[m,b,g,w]=n.bbox;if(v.rect(m,b,g-m,w-b),n.matrix){const S=new Path2D;S.addPath(v,new DOMMatrix(n.matrix)),v=S}p.clip(v),n.smask&&this.smaskStack.push({canvas:d.canvas,context:p,offsetX:o,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),k1(r,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=hr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Gm.slice();ze.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,s,a){if(F(this,Sl,BN).call(this),_5(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,ze.singularValueDecompose2dScale(hr(this.ctx),ja);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),f=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,f);const{canvas:d,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(n,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(ja[0],0,0,-ja[1],0,l*ja[1]),_5(this.ctx)}else{_5(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new BF(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),F(this,Sl,UN).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var o;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,s=this._createMaskCanvas(e,n),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,s=0,a,o){var f,d,p;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=hr(l);l.transform(r,i,s,a,0,0);const u=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(f=this.dependencyTracker)==null||f.resetBBox(e);for(let v=0,m=o.length;v<m;v+=2){const b=ze.transform(c,[r,i,s,a,o[v],o[v+1]]);l.drawImage(u.canvas,b[4],b[5]),(d=this.dependencyTracker)==null||d.recordBBox(e,this.ctx,b[4],b[4]+u.canvas.width,b[5],b[5]+u.canvas.height)}l.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,lo.transformAndFill);for(const c of n){const{data:u,width:f,height:d,transform:p}=c,v=this.cachedCanvases.getCanvas("maskCanvas",f,d),m=v.context;m.save();const b=this.getObject(e,u,c);zF(m,b),m.globalCompositeOperation="source-in",m.fillStyle=s?i.getPattern(m,this,Fl(r),Ki.FILL,e):i,m.fillRect(0,0,f,d),m.restore(),r.save(),r.transform(...p),r.scale(1,-1),x5(r,v.canvas,0,0,f,d,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,f,0,d),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){St("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,f=s.length;u<f;u+=2)c.push({transform:[r,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const f=this.cachedCanvases.getCanvas("inlineImage",r,i).context;UF(f,n),o=this.applyTransferMapsToCanvas(f)}const l=this._scaleImage(o,Fl(s));s.imageSmoothingEnabled=qF(hr(s),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,lo.imageXObject).recordOperation(e),x5(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const c=n.width,u=n.height,d=this.cachedCanvases.getCanvas("inlineImage",c,u).context;UF(d,n),s=this.applyTransferMapsToCanvas(d)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),x5(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,lo.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===HF?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=hr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,f=c*e;a=u<1?1/u:1,o=f<1?1/f:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),u=Math.hypot(i,s);if(e===0)a=u/l,o=c/l;else{const f=e*l;a=u>f?u/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(s,a),iT.a=1/s,iT.d=1/a;const l=new Path2D;if(l.addPath(e,iT),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Sl=new WeakSet,BN=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},UN=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},zN=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let u0=vR;for(const t in Rw)u0.prototype[t]!==void 0&&(u0.prototype[Rw[t]]=u0.prototype[t]);var k2,C2;class dc{static get workerPort(){return h(this,k2)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");T(this,k2,e)}static get workerSrc(){return h(this,C2)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");T(this,C2,e)}}k2=new WeakMap,C2=new WeakMap,j(dc,k2,null),j(dc,C2,"");var J0,T2;class mSe{constructor({parsedData:e,rawData:n}){j(this,J0);j(this,T2);T(this,J0,e),T(this,T2,n)}getRaw(){return h(this,T2)}get(e){return h(this,J0).get(e)??null}[Symbol.iterator](){return h(this,J0).entries()}}J0=new WeakMap,T2=new WeakMap;const Em=Symbol("INTERNAL");var O2,N2,L2,Z0;class vSe{constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){j(this,O2,!1);j(this,N2,!1);j(this,L2,!1);j(this,Z0,!0);T(this,O2,!!(e&Ia.DISPLAY)),T(this,N2,!!(e&Ia.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(h(this,L2))return h(this,Z0);if(!h(this,Z0))return!1;const{print:e,view:n}=this.usage;return h(this,O2)?(n==null?void 0:n.viewState)!=="OFF":h(this,N2)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Em&&Dn("Internal method `_setVisible` called."),T(this,L2,r),T(this,Z0,n)}}O2=new WeakMap,N2=new WeakMap,L2=new WeakMap,Z0=new WeakMap;var of,kn,Q0,ev,I2,qN;class ySe{constructor(e,n=Ia.DISPLAY){j(this,I2);j(this,of,null);j(this,kn,new Map);j(this,Q0,null);j(this,ev,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,T(this,ev,e.order);for(const r of e.groups)h(this,kn).set(r.id,new vSe(n,r));if(e.baseState==="OFF")for(const r of h(this,kn).values())r._setVisible(Em,!1);for(const r of e.on)h(this,kn).get(r)._setVisible(Em,!0);for(const r of e.off)h(this,kn).get(r)._setVisible(Em,!1);T(this,Q0,this.getHash())}}isVisible(e){if(h(this,kn).size===0)return!0;if(!e)return rk("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,kn).has(e.id)?h(this,kn).get(e.id).visible:(St(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return F(this,I2,qN).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!h(this,kn).has(n))return St(`Optional content group not found: ${n}`),!0;if(h(this,kn).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!h(this,kn).has(n))return St(`Optional content group not found: ${n}`),!0;if(!h(this,kn).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!h(this,kn).has(n))return St(`Optional content group not found: ${n}`),!0;if(!h(this,kn).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!h(this,kn).has(n))return St(`Optional content group not found: ${n}`),!0;if(h(this,kn).get(n).visible)return!1}return!0}return St(`Unknown optional content policy ${e.policy}.`),!0}return St(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var s;const i=h(this,kn).get(e);if(!i){St(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=h(this,kn).get(o))==null||s._setVisible(Em,!1,!0));i._setVisible(Em,!!n,!0),T(this,of,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=h(this,kn).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}T(this,of,null)}get hasInitialVisibility(){return h(this,Q0)===null||this.getHash()===h(this,Q0)}getOrder(){return h(this,kn).size?h(this,ev)?h(this,ev).slice():[...h(this,kn).keys()]:null}getGroup(e){return h(this,kn).get(e)||null}getHash(){if(h(this,of)!==null)return h(this,of);const e=new uW;for(const[n,r]of h(this,kn))e.update(`${n}:${r.visible}`);return T(this,of,e.hexdigest())}[Symbol.iterator](){return h(this,kn).entries()}}of=new WeakMap,kn=new WeakMap,Q0=new WeakMap,ev=new WeakMap,I2=new WeakSet,qN=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=F(this,I2,qN).call(this,s);else if(h(this,kn).has(s))a=h(this,kn).get(s).visible;else return St(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class bSe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){Qt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Qt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,s;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Qt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new wSe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new xSe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class wSe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=QI(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class xSe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function _Se(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let u=o(n);return u=unescape(u),u=l(u),u=c(u),s(u)}if(n=a(t),n){const u=c(n);return s(u)}if(n=r("filename","i").exec(t),n){n=n[1];let u=o(n);return u=c(u),s(u)}function r(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const d=new TextDecoder(u,{fatal:!0}),p=Hx(f);f=d.decode(p),e=!1}catch{}}return f}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const f=[];let d;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=p.exec(u))!==null;){let[,m,b,g]=d;if(m=parseInt(m,10),m in f){if(m===0)break;continue}f[m]=[b,g]}const v=[];for(let m=0;m<f.length&&m in f;++m){let[b,g]=f[m];g=o(g),b&&(g=unescape(g),m===0&&(g=l(g))),v.push(g)}return v.join("")}function o(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let d=0;d<f.length;++d){const p=f[d].indexOf('"');p!==-1&&(f[d]=f[d].slice(0,p),f.length=d+1),f[d]=f[d].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const d=u.slice(0,f),v=u.slice(f+1).replace(/^[^']*'/,"");return i(d,v)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,d,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,b){return String.fromCharCode(parseInt(b,16))}),i(d,v);try{v=atob(v)}catch{}return i(d,v)})}return""}function _W(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function sk(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function AW({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function SW(t){const e=t.get("Content-Disposition");if(e){let n=_Se(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(QI(n))return n}return null}function Yx(t,e){return new lE(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function EW(t){return t===200||t===206}function PW(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function kW(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(St(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class ASe{constructor(e){Se(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=_W(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new SSe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new ESe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class SSe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,PW(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=sk(s.url),!EW(s.status))throw Yx(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=AW({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=SW(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Kf("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:kW(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class ESe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,PW(s,this._withCredentials,this._abortController)).then(o=>{const l=sk(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!EW(o.status))throw Yx(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:kW(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const sT=200,aT=206;function PSe(t){const e=t.response;return typeof e!="string"?e:Hx(e).buffer}class kSe{constructor({url:e,httpHeaders:n,withCredentials:r}){Se(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=_W(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=aT):i.expectedStatus=sT,n.responseType="arraybuffer",Qt(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||sT;if(!(s===sT&&r.expectedStatus===aT)&&s!==r.expectedStatus){r.onError(i.status);return}const o=PSe(i);if(s===aT){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(St('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class CSe{constructor(e){this._source=e,this._manager=new kSe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Qt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new TSe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new OSe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class TSe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=sk(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=AW({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=SW(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Yx(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class OSe{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=sk((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Yx(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const NSe=/^[a-z][a-z0-9\-+.]+:/i;function LSe(t){if(NSe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class ISe{constructor(e){this.source=e,this.url=LSe(e.url),Qt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new RSe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new MSe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class RSe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Yx(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Kf("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class MSe{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const C1=Symbol("INITIAL_DATA");var ya,R2,HN;class CW{constructor(){j(this,R2);j(this,ya,Object.create(null))}get(e,n=null){if(n){const i=F(this,R2,HN).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=h(this,ya)[e];if(!r||r.data===C1)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=h(this,ya)[e];return!!n&&n.data!==C1}delete(e){const n=h(this,ya)[e];return!n||n.data===C1?!1:(delete h(this,ya)[e],!0)}resolve(e,n=null){const r=F(this,R2,HN).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in h(this,ya)){const{data:r}=h(this,ya)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}T(this,ya,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,ya)){const{data:n}=h(this,ya)[e];n!==C1&&(yield[e,n])}}}ya=new WeakMap,R2=new WeakSet,HN=function(e){var n;return(n=h(this,ya))[e]||(n[e]={...Promise.withResolvers(),data:C1})};const jSe=1e5,WF=30;var uB,lf,ba,M2,j2,Op,wu,D2,F2,Np,$2,tv,cf,nv,B2,rv,Lp,U2,z2,iv,Ip,q2,sv,av,ih,TW,OW,WN,Ha,sA,VN,NW,LW;const Bi=class Bi{constructor({textContentSource:e,container:n,viewport:r}){j(this,ih);j(this,lf,Promise.withResolvers());j(this,ba,null);j(this,M2,!1);j(this,j2,!!((uB=globalThis.FontInspector)!=null&&uB.enabled));j(this,Op,null);j(this,wu,null);j(this,D2,0);j(this,F2,0);j(this,Np,null);j(this,$2,null);j(this,tv,0);j(this,cf,0);j(this,nv,Object.create(null));j(this,B2,[]);j(this,rv,null);j(this,Lp,[]);j(this,U2,new WeakMap);j(this,z2,null);var l;if(e instanceof ReadableStream)T(this,rv,e);else if(typeof e=="object")T(this,rv,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');T(this,ba,T(this,$2,n)),T(this,cf,r.scale*_c.pixelRatio),T(this,tv,r.rotation),T(this,wu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;T(this,z2,[1,0,0,-1,-a,o+s]),T(this,F2,i),T(this,D2,s),F(l=Bi,Ha,NW).call(l),n.style.setProperty("--min-font-size",h(Bi,sv)),Tg(n,r),h(this,lf).promise.finally(()=>{h(Bi,av).delete(this),T(this,wu,null),T(this,nv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=vi.platform;return Et(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,Np).read().then(({value:n,done:r})=>{if(r){h(this,lf).resolve();return}h(this,Op)??T(this,Op,n.lang),Object.assign(h(this,nv),n.styles),F(this,ih,TW).call(this,n.items),e()},h(this,lf).reject)};return T(this,Np,h(this,rv).getReader()),h(Bi,av).add(this),e(),h(this,lf).promise}update({viewport:e,onBefore:n=null}){var s;const r=e.scale*_c.pixelRatio,i=e.rotation;if(i!==h(this,tv)&&(n==null||n(),T(this,tv,i),Tg(h(this,$2),{rotation:i})),r!==h(this,cf)){n==null||n(),T(this,cf,r);const a={div:null,properties:null,ctx:F(s=Bi,Ha,sA).call(s,h(this,Op))};for(const o of h(this,Lp))a.properties=h(this,U2).get(o),a.div=o,F(this,ih,WN).call(this,a)}}cancel(){var n;const e=new Kf("TextLayer task cancelled.");(n=h(this,Np))==null||n.cancel(e).catch(()=>{}),T(this,Np,null),h(this,lf).reject(e)}get textDivs(){return h(this,Lp)}get textContentItemsStr(){return h(this,B2)}static cleanup(){if(!(h(this,av).size>0)){h(this,iv).clear();for(const{canvas:e}of h(this,Ip).values())e.remove();h(this,Ip).clear()}}};lf=new WeakMap,ba=new WeakMap,M2=new WeakMap,j2=new WeakMap,Op=new WeakMap,wu=new WeakMap,D2=new WeakMap,F2=new WeakMap,Np=new WeakMap,$2=new WeakMap,tv=new WeakMap,cf=new WeakMap,nv=new WeakMap,B2=new WeakMap,rv=new WeakMap,Lp=new WeakMap,U2=new WeakMap,z2=new WeakMap,iv=new WeakMap,Ip=new WeakMap,q2=new WeakMap,sv=new WeakMap,av=new WeakMap,ih=new WeakSet,TW=function(e){var i,s;if(h(this,M2))return;(s=h(this,wu)).ctx??(s.ctx=F(i=Bi,Ha,sA).call(i,h(this,Op)));const n=h(this,Lp),r=h(this,B2);for(const a of e){if(n.length>jSe){St("Ignoring additional textDivs for performance reasons."),T(this,M2,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=h(this,ba);T(this,ba,document.createElement("span")),h(this,ba).classList.add("markedContent"),a.id&&h(this,ba).setAttribute("id",`${a.id}`),o.append(h(this,ba))}else a.type==="endMarkedContent"&&T(this,ba,h(this,ba).parentNode);continue}r.push(a.str),F(this,ih,OW).call(this,a)}},OW=function(e){var v;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,Lp).push(n);const i=ze.transform(h(this,z2),e.transform);let s=Math.atan2(i[1],i[0]);const a=h(this,nv)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=h(this,j2)&&a.fontSubstitution||a.fontFamily;o=Bi.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*F(v=Bi,Ha,LW).call(v,o,a,h(this,Op));let u,f;s===0?(u=i[4],f=i[5]-c):(u=i[4]+c*Math.sin(s),f=i[5]-c*Math.cos(s));const d=n.style;d.left=`${(100*u/h(this,F2)).toFixed(2)}%`,d.top=`${(100*f/h(this,D2)).toFixed(2)}%`,d.setProperty("--font-height",`${l.toFixed(2)}px`),d.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,h(this,j2)&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const m=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);m!==b&&Math.max(m,b)/Math.min(m,b)>1.5&&(p=!0)}if(p&&(r.canvasWidth=a.vertical?e.height:e.width),h(this,U2).set(n,r),h(this,wu).div=n,h(this,wu).properties=r,F(this,ih,WN).call(this,h(this,wu)),r.hasText&&h(this,ba).append(n),r.hasEOL){const m=document.createElement("br");m.setAttribute("role","presentation"),h(this,ba).append(m)}},WN=function(e){var a;const{div:n,properties:r,ctx:i}=e,{style:s}=n;if(r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=r;F(a=Bi,Ha,VN).call(a,i,c*h(this,cf),o);const{width:u}=i.measureText(n.textContent);u>0&&s.setProperty("--scale-x",l*h(this,cf)/u)}r.angle!==0&&s.setProperty("--rotate",`${r.angle}deg`)},Ha=new WeakSet,sA=function(e=null){let n=h(this,Ip).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Ip).set(e,n),h(this,q2).set(n,{size:0,family:""})}return n},VN=function(e,n,r){const i=h(this,q2).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},NW=function(){if(h(this,sv)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),T(this,sv,e.getBoundingClientRect().height),e.remove()},LW=function(e,n,r){const i=h(this,iv).get(e);if(i)return i;const s=F(this,Ha,sA).call(this,r);s.canvas.width=s.canvas.height=WF,F(this,Ha,VN).call(this,s,WF,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(vi.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),h(this,iv).set(e,c),c},j(Bi,Ha),j(Bi,iv,new Map),j(Bi,Ip,new Map),j(Bi,q2,new WeakMap),j(Bi,sv,null),j(Bi,av,new Set);let jw=Bi;const DSe=100;function IW(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new GN,{docId:n}=e,r=t.url?HAe(t.url):null,i=t.data?WAe(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof RW?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let u=t.worker instanceof Dw?t.worker:null;const f=t.verbosity,d=typeof t.docBaseUrl=="string"&&!ik(t.docBaseUrl)?t.docBaseUrl:null,p=v5(t.cMapUrl),v=t.cMapPacked!==!1,m=t.CMapReaderFactory||(Cs?QAe:NF),b=v5(t.iccUrl),g=v5(t.standardFontDataUrl),w=t.StandardFontDataFactory||(Cs?eSe:LF),x=v5(t.wasmUrl),S=t.WasmFactory||(Cs?tSe:IF),A=t.stopAtErrors!==!0,E=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,C=t.isEvalSupported!==!1,L=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Cs,I=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Cs&&(vi.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,O=typeof t.disableFontFace=="boolean"?t.disableFontFace:Cs,M=t.fontExtraProperties===!0,z=t.enableXfa===!0,$=t.ownerDocument||globalThis.document,V=t.disableRange===!0,X=t.disableStream===!0,Q=t.disableAutoFetch===!0,W=t.pdfBug===!0,re=t.CanvasFactory||(Cs?ZAe:YAe),ce=t.FilterFactory||(Cs?JAe:XAe),ae=t.enableHWA===!0,D=t.useWasm!==!1,K=l?l.length:t.length??NaN,ee=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Cs&&!O,se=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(m===NF&&w===LF&&S===IF&&p&&g&&x&&U1(p,document.baseURI)&&U1(g,document.baseURI)&&U1(x,document.baseURI)),oe=null;vAe(f);const fe={canvasFactory:new re({ownerDocument:$,enableHWA:ae}),filterFactory:new ce({docId:n,ownerDocument:$}),cMapReaderFactory:se?null:new m({baseUrl:p,isCompressed:v}),standardFontDataFactory:se?null:new w({baseUrl:g}),wasmFactory:se?null:new S({baseUrl:x})};u||(u=Dw.create({verbosity:f,port:dc.workerPort}),e._worker=u);const xe={docId:n,apiVersion:"5.4.530",data:i,password:o,disableAutoFetch:Q,rangeChunkSize:c,length:K,docBaseUrl:d,enableXfa:z,evaluatorOptions:{maxImageSize:E,disableFontFace:O,ignoreErrors:A,isEvalSupported:C,isOffscreenCanvasSupported:L,isImageDecoderSupported:I,canvasMaxAreaInBytes:q,fontExtraProperties:M,useSystemFonts:ee,useWasm:D,useWorkerFetch:se,cMapUrl:p,iccUrl:b,standardFontDataUrl:g,wasmUrl:x}},ue={ownerDocument:$,pdfBug:W,styleElement:oe,loadingParams:{disableAutoFetch:Q,enableXfa:z}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ye=u.messageHandler.sendWithPromise("GetDocRequest",xe,i?[i.buffer]:null);let _e;if(l)_e=new bSe(l,{disableRange:V,disableStream:X});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const me=U1(r)?ASe:Cs?ISe:CSe;_e=new me({url:r,length:K,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:V,disableStream:X})}return ye.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ie=new Y1(n,me,u.port),De=new BSe(Ie,e,_e,ue,fe,ae);e._transport=De,Ie.send("Ready",null)})}).catch(e._capability.reject),e}var jE;const DE=class DE{constructor(){Se(this,"_capability",Promise.withResolvers());Se(this,"_transport",null);Se(this,"_worker",null);Se(this,"docId",`d${si(DE,jE)._++}`);Se(this,"destroyed",!1);Se(this,"onPassword",null);Se(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};jE=new WeakMap,j(DE,jE,0);let GN=DE;var Rp,H2,W2,V2,G2;class RW{constructor(e,n,r=!1,i=null){j(this,Rp,Promise.withResolvers());j(this,H2,[]);j(this,W2,[]);j(this,V2,[]);j(this,G2,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){h(this,G2).push(e)}addProgressListener(e){h(this,V2).push(e)}addProgressiveReadListener(e){h(this,W2).push(e)}addProgressiveDoneListener(e){h(this,H2).push(e)}onDataRange(e,n){for(const r of h(this,G2))r(e,n)}onDataProgress(e,n){h(this,Rp).promise.then(()=>{for(const r of h(this,V2))r(e,n)})}onDataProgressiveRead(e){h(this,Rp).promise.then(()=>{for(const n of h(this,W2))n(e)})}onDataProgressiveDone(){h(this,Rp).promise.then(()=>{for(const e of h(this,H2))e()})}transportReady(){h(this,Rp).resolve()}requestDataRange(e,n){Dn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Rp=new WeakMap,H2=new WeakMap,W2=new WeakMap,V2=new WeakMap,G2=new WeakMap;class FSe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Et(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var xu,Mp,eb;class $Se{constructor(e,n,r,i=!1){j(this,Mp);j(this,xu,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new SF:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new CW,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Vx({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Et(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:s=$h.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:f=null,isEditing:d=!1,recordOperations:p=!1,operationsFilter:v=null}){var I,q,O;(I=this._stats)==null||I.time("Overall");const m=this._transport.getRenderingIntent(i,s,f,d),{renderingIntent:b,cacheKey:g}=m;T(this,xu,!1),l||(l=this._transport.getOptionalContentConfig(b));let w=this._intentStates.get(g);w||(w=Object.create(null),this._intentStates.set(g,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const x=!!(b&Ia.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(q=this._stats)==null||q.time("Page Request"),this._pumpOperatorList(m));const S=!!(this._pdfBug&&((O=globalThis.StepperManager)!=null&&O.enabled)),A=!this.recordedBBoxes&&(p||S),E=M=>{var z,$;if(w.renderTasks.delete(C),A){const V=(z=C.gfx)==null?void 0:z.dependencyTracker.take();V&&(C.stepper&&C.stepper.setOperatorBBoxes(V,C.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=V))}x&&T(this,xu,!0),F(this,Mp,eb).call(this),M?(C.capability.reject(M),this._abortOperatorList({intentState:w,reason:M instanceof Error?M:new Error(M)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),($=globalThis.Stats)!=null&&$.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new KN({callback:E,params:{canvas:n,canvasContext:e,dependencyTracker:A?new rSe(n,w.operatorList.length,S):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:v});(w.renderTasks||(w.renderTasks=new Set)).add(C);const L=C.task;return Promise.all([w.displayReadyCapability.promise,l]).then(([M,z])=>{var $;if(this.destroyed){E();return}if(($=this._stats)==null||$.time("Rendering"),!(z.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:M,optionalContentConfig:z}),C.operatorListChanged()}).catch(E),L}getOperatorList({intent:e="display",annotationMode:n=$h.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Mw.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),T(this,xu,!1),Promise.all(e)}cleanup(e=!1){T(this,xu,!0);const n=F(this,Mp,eb).call(this);return e&&n&&this._stats&&(this._stats=new SF),n}_startRenderPage(e,n){var i,s;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&F(this,Mp,eb).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const u=()=>{l.read().then(({value:f,done:d})=>{if(d){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,c),u())},f=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const d of c.renderTasks)d.operatorListChanged();F(this,Mp,eb).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(f);else if(c.opListReadCapability)c.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof ZI){let i=DSe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Kf(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}xu=new WeakMap,Mp=new WeakSet,eb=function(){if(!h(this,xu)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),T(this,xu,!1),!0};var uf,sl,_u,jp,FE,Dp,Fp,Ls,aA,MW,jW,tb,ov,oA;const ir=class ir{constructor({name:e=null,port:n=null,verbosity:r=yAe()}={}){j(this,Ls);j(this,uf,Promise.withResolvers());j(this,sl,null);j(this,_u,null);j(this,jp,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(h(ir,Fp).has(n))throw new Error("Cannot use more than one PDFWorker per port.");h(ir,Fp).set(n,this),F(this,Ls,MW).call(this,n)}else F(this,Ls,jW).call(this)}get promise(){return h(this,uf).promise}get port(){return h(this,_u)}get messageHandler(){return h(this,sl)}destroy(){var e,n;this.destroyed=!0,(e=h(this,jp))==null||e.terminate(),T(this,jp,null),h(ir,Fp).delete(h(this,_u)),T(this,_u,null),(n=h(this,sl))==null||n.destroy(),T(this,sl,null)}static create(e){const n=h(this,Fp).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ir(e)}static get workerSrc(){if(dc.workerSrc)return dc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Et(this,"_setupFakeWorkerGlobal",(async()=>h(this,ov,oA)?h(this,ov,oA):(await import(this.workerSrc)).WorkerMessageHandler)())}};uf=new WeakMap,sl=new WeakMap,_u=new WeakMap,jp=new WeakMap,FE=new WeakMap,Dp=new WeakMap,Fp=new WeakMap,Ls=new WeakSet,aA=function(){h(this,uf).resolve(),h(this,sl).send("configure",{verbosity:this.verbosity})},MW=function(e){T(this,_u,e),T(this,sl,new Y1("main","worker",e)),h(this,sl).on("ready",()=>{}),F(this,Ls,aA).call(this)},jW=function(){if(h(ir,Dp)||h(ir,ov,oA)){F(this,Ls,tb).call(this);return}let{workerSrc:e}=ir;try{ir._isSameOrigin(window.location,e)||(e=ir._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Y1("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?h(this,uf).reject(new Error("Worker was destroyed")):F(this,Ls,tb).call(this)},s=new AbortController;n.addEventListener("error",()=>{h(this,jp)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}T(this,sl,r),T(this,_u,n),T(this,jp,n),F(this,Ls,aA).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{F(this,Ls,tb).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{rk("The worker has been disabled.")}F(this,Ls,tb).call(this)},tb=function(){h(ir,Dp)||(St("Setting up fake worker."),T(ir,Dp,!0)),ir._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){h(this,uf).reject(new Error("Worker was destroyed"));return}const n=new KAe;T(this,_u,n);const r=`fake${si(ir,FE)._++}`,i=new Y1(r+"_worker",r,n);e.setup(i,n),T(this,sl,new Y1(r,r+"_worker",n)),F(this,Ls,aA).call(this)}).catch(e=>{h(this,uf).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},ov=new WeakSet,oA=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},j(ir,ov),j(ir,FE,0),j(ir,Dp,!1),j(ir,Fp,new WeakMap),Cs&&(T(ir,Dp,!0),dc.workerSrc||(dc.workerSrc="./pdf.worker.mjs")),ir._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},ir._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},ir.fromPort=e=>{if(OAe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ir.create(e)};let Dw=ir;var Au,nc,lv,cv,Su,$p,nb;class BSe{constructor(e,n,r,i,s,a){j(this,$p);j(this,Au,new Map);j(this,nc,new Map);j(this,lv,new Map);j(this,cv,new Map);j(this,Su,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new CW,this.fontLoader=new UAe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Et(this,"annotationStorage",new eR)}getRenderingIntent(e,n=$h.ENABLE,r=null,i=!1,s=!1){let a=Ia.DISPLAY,o=ON;switch(e){case"any":a=Ia.ANY;break;case"display":break;case"print":a=Ia.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Ia.PRINT&&r instanceof fW?r:this.annotationStorage;switch(n){case $h.DISABLE:a+=Ia.ANNOTATIONS_DISABLE;break;case $h.ENABLE:break;case $h.ENABLE_FORMS:a+=Ia.ANNOTATIONS_FORMS;break;case $h.ENABLE_STORAGE:a+=Ia.ANNOTATIONS_STORAGE,o=l.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=Ia.IS_EDITING),s&&(a+=Ia.OPLIST);const{ids:c,hash:u}=l.modifiedIds,f=[a,o.hash,u];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=h(this,Su))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of h(this,nc).values())e.push(i._destroy());h(this,nc).clear(),h(this,lv).clear(),h(this,cv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Au).clear(),this.filterFactory.destroy(),jw.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Kf("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{Qt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Qt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Qt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Qt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new FSe(r,this))}),e.on("DocException",r=>{n._capability.reject($s(r))}),e.on("PasswordRequest",r=>{T(this,Su,Promise.withResolvers());try{if(!n.onPassword)throw $s(r);const i=s=>{s instanceof Error?h(this,Su).reject(s):h(this,Su).resolve({password:s})};n.onPassword(i,r.code)}catch(i){h(this,Su).reject(i)}return h(this,Su).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;h(this,nc).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const d=s.error;St(`Error during font loading: ${d}`),this.commonObjs.resolve(r,d);break}const o=new NN(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(d,p)=>globalThis.FontInspector.fontAdded(d,p):null,c=new zAe(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:u}=s;Qt(u,"The imageRef must be defined.");for(const d of h(this,nc).values())for(const[,p]of d.objs)if((p==null?void 0:p.ref)===u)return p.dataLen?(this.commonObjs.resolve(r,structuredClone(p)),p.dataLen):null;break;case"FontPath":this.commonObjs.resolve(r,new qAe(s));break;case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const f=new LN(s);this.commonObjs.resolve(r,f.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=h(this,nc).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=h(this,lv).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,cv).set(s.refStr,e);const a=new $Se(n,s,this,this._params.pdfBug);return h(this,nc).set(n,a),a});return h(this,lv).set(n,i),i}getPageIndex(e){return IN(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return F(this,$p,nb).call(this,"GetFieldObjects")}hasJSActions(){return F(this,$p,nb).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return F(this,$p,nb).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return F(this,$p,nb).call(this,"GetOptionalContentConfig").then(n=>new ySe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=h(this,Au).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new mSe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return h(this,Au).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of h(this,nc).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,Au).clear(),this.filterFactory.destroy(!0),jw.cleanup()}}cachedPageNumber(e){if(!IN(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,cv).get(n)??null}}Au=new WeakMap,nc=new WeakMap,lv=new WeakMap,cv=new WeakMap,Su=new WeakMap,$p=new WeakSet,nb=function(e,n=null){const r=h(this,Au).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return h(this,Au).set(e,i),i};var hf;class USe{constructor(e){j(this,hf,null);Se(this,"onContinue",null);Se(this,"onError",null);T(this,hf,e)}get promise(){return h(this,hf).capability.promise}cancel(e=0){h(this,hf).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,hf).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=h(this,hf);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}hf=new WeakMap;var ff,Bp;const zd=class zd{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:d=null,enableHWA:p=!1,operationsFilter:v=null}){j(this,ff,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new USe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var l,c;if(this.cancelled)return;if(this._canvas){if(h(zd,Bp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(zd,Bp).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new u0(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),h(this,ff)&&(window.cancelAnimationFrame(h(this,ff)),T(this,ff,null)),h(zd,Bp).delete(this._canvas),e||(e=new ZI(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?T(this,ff,window.requestAnimationFrame(()=>{T(this,ff,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(zd,Bp).delete(this._canvas),this.callback())))}};ff=new WeakMap,Bp=new WeakMap,j(zd,Bp,new WeakSet);let KN=zd;const zSe="5.4.530",qSe="50cc4adac";var wa,Up,uv,fi,K2,hv,Eu,Y2,df,al,X2,Tn,YN,XN,JN,Id,DW,Oh;const Bs=class Bs{constructor({editor:e=null,uiManager:n=null}){j(this,Tn);j(this,wa,null);j(this,Up,null);j(this,uv);j(this,fi,null);j(this,K2,!1);j(this,hv,!1);j(this,Eu,null);j(this,Y2);j(this,df,null);j(this,al,null);var r,i;e?(T(this,hv,!1),T(this,Eu,e)):T(this,hv,!0),T(this,al,(e==null?void 0:e._uiManager)||n),T(this,Y2,h(this,al)._eventBus),T(this,uv,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=h(this,al))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(Bs,X2)||T(Bs,X2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Et(this,"_keyboardManager",new Kx([[["Escape","mac+Escape"],Bs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Bs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Bs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Bs.prototype._moveToPrevious],[["Home","mac+Home"],Bs.prototype._moveToBeginning],[["End","mac+End"],Bs.prototype._moveToEnd]]))}renderButton(){const e=T(this,wa,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",h(this,Eu)&&(e.ariaControls=`${h(this,Eu).id}_colorpicker_dropdown`);const n=h(this,al)._signal;e.addEventListener("click",F(this,Tn,Id).bind(this),{signal:n}),e.addEventListener("keydown",F(this,Tn,JN).bind(this),{signal:n});const r=T(this,Up,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=h(this,uv),e.append(r),e}renderMainDropdown(){const e=T(this,fi,F(this,Tn,YN).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===h(this,wa)){F(this,Tn,Id).call(this,e);return}const n=e.target.getAttribute("data-color");n&&F(this,Tn,XN).call(this,n,e)}_moveToNext(e){var n,r;if(!h(this,Tn,Oh)){F(this,Tn,Id).call(this,e);return}if(e.target===h(this,wa)){(n=h(this,fi).firstElementChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=h(this,fi))==null?void 0:n.firstElementChild)||e.target===h(this,wa)){h(this,Tn,Oh)&&this._hideDropdownFromKeyboard();return}h(this,Tn,Oh)||F(this,Tn,Id).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!h(this,Tn,Oh)){F(this,Tn,Id).call(this,e);return}(n=h(this,fi).firstElementChild)==null||n.focus()}_moveToEnd(e){var n;if(!h(this,Tn,Oh)){F(this,Tn,Id).call(this,e);return}(n=h(this,fi).lastElementChild)==null||n.focus()}hideDropdown(){var e,n;(e=h(this,fi))==null||e.classList.add("hidden"),h(this,wa).ariaExpanded="false",(n=h(this,df))==null||n.abort(),T(this,df,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,hv)){if(!h(this,Tn,Oh)){(e=h(this,Eu))==null||e.unselect();return}this.hideDropdown(),h(this,wa).focus({preventScroll:!0,focusVisible:h(this,K2)})}}updateColor(e){if(h(this,Up)&&(h(this,Up).style.backgroundColor=e),!h(this,fi))return;const n=h(this,al).highlightColors.values();for(const r of h(this,fi).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=h(this,wa))==null||e.remove(),T(this,wa,null),T(this,Up,null),(n=h(this,fi))==null||n.remove(),T(this,fi,null)}};wa=new WeakMap,Up=new WeakMap,uv=new WeakMap,fi=new WeakMap,K2=new WeakMap,hv=new WeakMap,Eu=new WeakMap,Y2=new WeakMap,df=new WeakMap,al=new WeakMap,X2=new WeakMap,Tn=new WeakSet,YN=function(){const e=document.createElement("div"),n=h(this,al)._signal;e.addEventListener("contextmenu",Ro,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),h(this,Eu)&&(e.id=`${h(this,Eu).id}_colorpicker_dropdown`);for(const[r,i]of h(this,al).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",h(Bs,X2)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===h(this,uv),s.addEventListener("click",F(this,Tn,XN).bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",F(this,Tn,JN).bind(this),{signal:n}),e},XN=function(e,n){n.stopPropagation(),h(this,Y2).dispatch("switchannotationeditorparams",{source:this,type:Zt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},JN=function(e){Bs._keyboardManager.exec(this,e)},Id=function(e){if(h(this,Tn,Oh)){this.hideDropdown();return}if(T(this,K2,e.detail===0),h(this,df)||(T(this,df,new AbortController),window.addEventListener("pointerdown",F(this,Tn,DW).bind(this),{signal:h(this,al).combinedSignal(h(this,df))})),h(this,wa).ariaExpanded="true",h(this,fi)){h(this,fi).classList.remove("hidden");return}const n=T(this,fi,F(this,Tn,YN).call(this));h(this,wa).append(n)},DW=function(e){var n;(n=h(this,fi))!=null&&n.contains(e.target)||this.hideDropdown()},Oh=function(){return h(this,fi)&&!h(this,fi).classList.contains("hidden")},j(Bs,X2,null);let gE=Bs;var rc,J2,fv,Z2;const qd=class qd{constructor(e){j(this,rc,null);j(this,J2,null);j(this,fv,null);T(this,J2,e),T(this,fv,e._uiManager),h(qd,Z2)||T(qd,Z2,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(h(this,rc))return h(this,rc);const{editorType:e,colorType:n,color:r}=h(this,J2),i=T(this,rc,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",h(qd,Z2)[e]),i.addEventListener("input",()=>{h(this,fv).updateParams(n,i.value)},{signal:h(this,fv)._signal}),i}update(e){h(this,rc)&&(h(this,rc).value=e)}destroy(){var e;(e=h(this,rc))==null||e.remove(),T(this,rc,null)}hideDropdown(){}};rc=new WeakMap,J2=new WeakMap,fv=new WeakMap,Z2=new WeakMap,j(qd,Z2,null);let mE=qd;function VF(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function T1(t){return Math.max(0,Math.min(255,255*t))}class GF{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=T1(e),[e,e,e]}static G_HTML([e]){const n=VF(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(T1)}static RGB_HTML(e){return`#${e.map(VF).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[T1(1-Math.min(1,e+i)),T1(1-Math.min(1,r+i)),T1(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class HSe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Dn("Abstract method `_createSVG` called.")}}class vE extends HSe{_createSVG(e){return document.createElementNS(Gc,e)}}const WSe=9,Ng=new WeakSet,VSe=new Date().getTimezoneOffset()*60*1e3;class oT{static create(e){switch(e.data.annotationType){case Vr.LINK:return new rR(e);case Vr.TEXT:return new KSe(e);case Vr.WIDGET:switch(e.data.fieldType){case"Tx":return new YSe(e);case"Btn":return e.data.radioButton?new BW(e):e.data.checkBox?new JSe(e):new ZSe(e);case"Ch":return new QSe(e);case"Sig":return new XSe(e)}return new Ug(e);case Vr.POPUP:return new QN(e);case Vr.FREETEXT:return new WW(e);case Vr.LINE:return new tEe(e);case Vr.SQUARE:return new nEe(e);case Vr.CIRCLE:return new rEe(e);case Vr.POLYLINE:return new VW(e);case Vr.CARET:return new sEe(e);case Vr.INK:return new iR(e);case Vr.POLYGON:return new iEe(e);case Vr.HIGHLIGHT:return new GW(e);case Vr.UNDERLINE:return new aEe(e);case Vr.SQUIGGLY:return new oEe(e);case Vr.STRIKEOUT:return new lEe(e);case Vr.STAMP:return new KW(e);case Vr.FILEATTACHMENT:return new cEe(e);default:return new mr(e)}}}var zp,dv,bo,Q2,ZN;const yR=class yR{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){j(this,Q2);j(this,zp,null);j(this,dv,!1);j(this,bo,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return yR._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((n==null?void 0:n.length)>=8){for(let l=0;l<n.length;l+=8)n[l+1]>a?(a=n[l+1],s=n[l+2]):n[l+1]===a&&(s=Math.max(s,n[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${Iw}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Iw}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=h(this,bo))==null?void 0:e.popup)||this.popup)==null||n.remove(),T(this,bo,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(h(this,zp)||T(this,zp,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&F(this,Q2,ZN).call(this,n);let i=((s=h(this,bo))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=h(this,bo).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),T(this,bo,null),this.popup=null))}resetEdited(){var e;h(this,zp)&&(F(this,Q2,ZN).call(this,h(this,zp).rect),(e=h(this,bo))==null||e.popup.resetEdited(),T(this,zp,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof Ug)&&!(this instanceof rR)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof QN){const{rotation:m}=n;return!n.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const m=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(m>0||b>0){const w=`calc(${m}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof BW){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=w}switch(n.borderStyle.style){case wm.SOLID:a.borderStyle="solid";break;case wm.DASHED:a.borderStyle="dashed";break;case wm.BEVELED:St("Unimplemented border style: beveled");break;case wm.INSET:St("Unimplemented border style: inset");break;case wm.UNDERLINE:a.borderBottomStyle="solid";break}const g=n.borderColor||null;g?(T(this,dv,!0),a.borderColor=ze.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):a.borderWidth=0}const c=ze.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:f,pageX:d,pageY:p}=i.rawDims;a.left=`${100*(c[0]-d)/u}%`,a.top=`${100*(c[1]-p)/f}%`;const{rotation:v}=n;return n.hasOwnCanvas||v===0?(a.width=`${100*o/u}%`,a.height=`${100*l/f}%`):this.setRotation(v,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],o=s.slice(1);i.target.style[r]=GF[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:GF[`${a}_rgb`](o)})};return Et(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const s=e[i]||r[i];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,b,g,w]=e.subarray(2,6);if(i===m&&s===b&&n===g&&r===w)return}const{style:a}=this.container;let o;if(h(this,dv)){const{borderColor:m,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const d=u.createElement("defs");f.append(d);const p=u.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),d.append(p);for(let m=2,b=e.length;m<b;m+=8){const g=e[m],w=e[m+1],x=e[m+2],S=e[m+3],A=u.createElement("rect"),E=(x-n)/l,C=(s-w)/c,L=(g-x)/l,I=(w-S)/c;A.setAttribute("x",E),A.setAttribute("y",C),A.setAttribute("width",L),A.setAttribute("height",I),p.append(A),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${C}" width="${L}" height="${I}"/>`)}h(this,dv)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),T(this,bo,new QN({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(h(this,bo)||this.popup||this.data.popupRef)}get extraPopupElement(){return h(this,bo)}render(){Dn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Ng.has(c)){St(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&Ng.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};zp=new WeakMap,dv=new WeakMap,bo=new WeakMap,Q2=new WeakSet,ZN=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-o)/s}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let mr=yR;class GSe extends mr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Da,Rd,FW,$W;class rR extends mr{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});j(this,Da);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let s=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),s=!0):n.attachment?(F(this,Da,FW).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),s=!0):n.setOCGState?(F(this,Da,$W).call(this,i,n.setOCGState,n.overlaidText),s=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),s=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,Da,Rd).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),F(this,Da,Rd).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(n[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),F(this,Da,Rd).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),F(this,Da,Rd).call(this),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var f;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const d=new Set(a);for(const p of s){const v=this._fieldObjects[p]||[];for(const{id:m}of v)d.add(m)}for(const p of Object.values(this._fieldObjects))for(const v of p)d.has(v.id)===o&&l.push(v)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:p}=d;switch(u.push(p),d.type){case"text":{const m=d.defaultValue||"";c.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=d.defaultValue===d.exportValues;c.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=d.defaultValue||"";c.setValue(p,{value:m});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!Ng.has(v)){St(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Da=new WeakSet,Rd=function(){this.container.setAttribute("data-internal-link","")},FW=function(n,r,i="",s=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},F(this,Da,Rd).call(this)},$W=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),F(this,Da,Rd).call(this)};class KSe extends mr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Ug extends mr{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return vi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,n,r,i){var s,a,o;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":ze.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||WSe,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(QC*i))||1,f=c/u;a=Math.min(i,l(f/QC))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/QC))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=ze.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class YSe extends Ug{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Ng.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:f,datetimeType:d,timeStep:p}=this.data,v=!!d&&this.enableScripting;f&&(r.title=f),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",b=>{e.setValue(n,{value:b.target.value}),this.setPropertyOnSiblings(r,"value",b.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",b=>{const g=this.data.defaultFieldValue??"";r.value=u.userValue=g,u.formattedValue=null});let m=b=>{const{formattedValue:g}=u;g!=null&&(b.target.value=g),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",g=>{var x;if(u.focused)return;const{target:w}=g;if(v&&(w.type=d,p&&(w.step=p)),u.userValue){const S=u.userValue;if(v)if(d==="time"){const A=new Date(S),E=[A.getHours(),A.getMinutes(),A.getSeconds()];w.value=E.map(C=>C.toString().padStart(2,"0")).join(":")}else w.value=new Date(S-VSe).toISOString().split(d==="date"?"T":".",1)[0];else w.value=S}u.lastCommittedValue=w.value,u.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const w={value(x){u.userValue=x.detail.value??"",v||e.setValue(n,{value:u.userValue.toString()}),x.target.value=u.userValue},formattedValue(x){const{formattedValue:S}=x.detail;u.formattedValue=S,S!=null&&x.target!==document.activeElement&&(x.target.value=S);const A={formattedValue:S};v&&(A.value=S),e.setValue(n,A)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var C;const{charLimit:S}=x.detail,{target:A}=x;if(S===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",S);let E=u.userValue;!E||E.length<=S||(E=E.slice(0,S),A.value=u.userValue=E,e.setValue(n,{value:E}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(w,g)}),r.addEventListener("keydown",g=>{var S;u.commitKey=1;let w=-1;if(g.key==="Escape"?w=0:g.key==="Enter"&&!this.data.multiLine?w=2:g.key==="Tab"&&(u.commitKey=3),w===-1)return;const{value:x}=g.target;u.lastCommittedValue!==x&&(u.lastCommittedValue=x,u.userValue=x,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const b=m;m=null,r.addEventListener("blur",g=>{var S,A;if(!u.focused||!g.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(u.focused=!1);const{target:w}=g;let{value:x}=w;if(v){if(x&&d==="time"){const E=x.split(":").map(C=>parseInt(C,10));x=new Date(2e3,0,1,E[0],E[1],E[2]||0).valueOf(),w.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();w.type="text"}u.userValue=x,u.lastCommittedValue!==x&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:u.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),b(g)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",g=>{var I;u.lastCommittedValue=null;const{data:w,target:x}=g,{value:S,selectionStart:A,selectionEnd:E}=x;let C=A,L=E;switch(g.inputType){case"deleteWordBackward":{const q=S.substring(0,A).match(/\w*[^\w]*$/);q&&(C-=q[0].length);break}case"deleteWordForward":{const q=S.substring(A).match(/^[^\w]*\w*/);q&&(L+=q[0].length);break}case"deleteContentBackward":A===E&&(C-=1);break;case"deleteContentForward":A===E&&(L+=1);break}g.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,change:w||"",willCommit:!1,selStart:C,selEnd:L}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(m&&r.addEventListener("blur",m),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class XSe extends Ug{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class JSe extends Ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ng.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const u=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class BW extends Ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Ng.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const d=u&&f.id===r;f.domElement&&(f.domElement.checked=d),e.setValue(f.id,{value:d})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class ZSe extends rR{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class QSe extends Ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Ng.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const d of i.options)d.selected=d.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,r.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const f=u?"value":"textContent",{options:d,multiple:p}=i;return p?Array.prototype.filter.call(d,v=>v.selected).map(v=>v[f]):d.selectedIndex===-1?null:d[d.selectedIndex][f]};let l=o(!1);const c=u=>{const f=u.target.options;return Array.prototype.map.call(f,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const f={value(d){a==null||a();const p=d.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=v.has(m.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(d){i.multiple=!0},remove(d){const p=i.options,v=d.detail.remove;p[v].selected=!1,i.remove(v),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:o(!0),items:c(d)}),l=o(!1)},clear(d){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(d){const{index:p,displayValue:v,exportValue:m}=d.detail.insert,b=i.children[p],g=document.createElement("option");g.textContent=v,g.value=m,b?b.before(g):i.append(g),e.setValue(n,{value:o(!0),items:c(d)}),l=o(!1)},items(d){const{items:p}=d.detail;for(;i.length!==0;)i.remove(0);for(const v of p){const{displayValue:m,exportValue:b}=v,g=document.createElement("option");g.textContent=m,g.value=b,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(d)}),l=o(!1)},indices(d){const p=new Set(d.detail.indices);for(const v of d.target.options)v.selected=p.has(v.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(f,u)}),i.addEventListener("input",u=>{var p;const f=o(!0),d=o(!1);e.setValue(n,{value:f}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:d,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var ex,e4;class QN extends mr{constructor(n){const{data:r,elements:i,parent:s}=n,a=!!s._commentManager;super(n,{isRenderable:!a&&mr._hasPopupData(r)});j(this,ex);if(this.elements=i,a&&mr._hasPopupData(r)){const o=this.popup=F(this,ex,e4).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=F(this,ex,e4).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${Vm}${s}`).join(",")),this.container}}ex=new WeakSet,e4=function(){return new eEe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var xa,pf,$E,BE,pv,gv,Ar,ic,gf,qp,mv,vv,sc,_a,Pu,ku,Sr,Cu,mf,tx,Tu,yv,Hp,vf,xi,yf,Ft,lA,t4,n4,r4,cA,i4,UW,zW,qW,HW,uA,hA,s4;class eEe{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:f,commentManager:d=null}){j(this,Ft);j(this,xa,null);j(this,pf,F(this,Ft,qW).bind(this));j(this,$E,F(this,Ft,s4).bind(this));j(this,BE,F(this,Ft,hA).bind(this));j(this,pv,F(this,Ft,uA).bind(this));j(this,gv,null);j(this,Ar,null);j(this,ic,null);j(this,gf,null);j(this,qp,null);j(this,mv,null);j(this,vv,null);j(this,sc,!1);j(this,_a,null);j(this,Pu,null);j(this,ku,null);j(this,Sr,null);j(this,Cu,null);j(this,mf,null);j(this,tx,null);j(this,Tu,null);j(this,yv,null);j(this,Hp,null);j(this,vf,!1);j(this,xi,null);j(this,yf,null);T(this,Ar,e),T(this,yv,i),T(this,ic,a),T(this,Tu,o),T(this,mv,l),T(this,gv,n),T(this,tx,c),T(this,vv,u),T(this,qp,r),T(this,xa,d),T(this,xi,r[0]),T(this,gf,cE.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),d||(F(this,Ft,lA).call(this),h(this,Ar).hidden=!0,f&&F(this,Ft,uA).call(this))}renderCommentButton(){if(h(this,Sr)){h(this,Sr).parentNode||h(this,xi).container.after(h(this,Sr));return}if(h(this,Cu)||F(this,Ft,t4).call(this),!h(this,Cu))return;const{signal:e}=T(this,Pu,new AbortController),n=h(this,xi).hasOwnCommentButton,r=()=>{h(this,xa).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{h(this,xa).toggleCommentPopup(this,!1,!0,!n)},s=()=>{h(this,xa).toggleCommentPopup(this,!1,!1)};if(n){T(this,Sr,h(this,xi).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",h(this,pf),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=T(this,Sr,document.createElement("button"));a.className="annotationCommentButton";const o=h(this,xi).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),F(this,Ft,r4).call(this),F(this,Ft,n4).call(this),a.addEventListener("keydown",h(this,pf),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:n}=h(this,xi).commentData;return e?h(this,mv)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=h(this,Sr))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}=h(this,xi).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return h(this,Sr)}get comment(){return h(this,yf)||T(this,yf,h(this,xi).commentText),h(this,yf)}set comment(e){e!==this.comment&&(h(this,xi).commentText=T(this,yf,e))}focus(){var e;(e=h(this,xi).container)==null||e.focus()}get parentBoundingClientRect(){return h(this,xi).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){h(this,Sr)&&(h(this,Sr).classList.toggle("selected",e),h(this,Sr).ariaExpanded=n)}setSelectedCommentButton(e){h(this,Sr).classList.toggle("selected",e)}get commentPopupPosition(){if(h(this,mf))return h(this,mf);const{x:e,y:n,height:r}=h(this,Sr).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=h(this,xi).layer.getBoundingClientRect();return[(e-i)/a,(n+r-s)/o]}set commentPopupPosition(e){T(this,mf,e)}hasDefaultPopupPosition(){return h(this,mf)===null}get commentButtonPosition(){return h(this,Cu)}get commentButtonWidth(){return h(this,Sr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=h(this,mf)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;h(this,xa).showDialog(null,this,s+n*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(h(this,_a))return;const e=T(this,_a,document.createElement("div"));if(e.className="popup",h(this,gv)){const s=e.style.outlineColor=ze.makeHexColor(...h(this,gv));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=h(this,yv))!=null&&r.str){const s=document.createElement("span");s.className="title",n.append(s),{dir:s.dir,str:s.textContent}=h(this,yv)}if(e.append(n),h(this,gf)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,gf).valueOf()})),s.dateTime=h(this,gf).toISOString(),n.append(s)}NH({html:h(this,Ft,cA)||h(this,ic).str,dir:(i=h(this,ic))==null?void 0:i.dir,className:"popupContent"},e),h(this,Ar).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(h(this,xa)){r?(this.remove(),T(this,yf,null)):n&&(n.deleted?this.remove():(F(this,Ft,r4).call(this),T(this,yf,n.text))),e&&(T(this,Cu,null),F(this,Ft,t4).call(this),F(this,Ft,n4).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}F(this,Ft,lA).call(this),h(this,Hp)||T(this,Hp,{contentsObj:h(this,ic),richText:h(this,Tu)}),e&&T(this,ku,null),n&&n.text&&(T(this,Tu,F(this,Ft,zW).call(this,n.text)),T(this,gf,cE.toDateObject(n.date)),T(this,ic,null)),(i=h(this,_a))==null||i.remove(),T(this,_a,null)}resetEdited(){var e;h(this,Hp)&&({contentsObj:si(this,ic)._,richText:si(this,Tu)._}=h(this,Hp),T(this,Hp,null),(e=h(this,_a))==null||e.remove(),T(this,_a,null),T(this,ku,null))}remove(){var e,n,r;if((e=h(this,Pu))==null||e.abort(),T(this,Pu,null),(n=h(this,_a))==null||n.remove(),T(this,_a,null),T(this,vf,!1),T(this,sc,!1),(r=h(this,Sr))==null||r.remove(),T(this,Sr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){T(this,vf,this.isVisible),h(this,vf)&&(h(this,Ar).hidden=!0)}maybeShow(){h(this,xa)||(F(this,Ft,lA).call(this),h(this,vf)&&(h(this,_a)||F(this,Ft,hA).call(this),T(this,vf,!1),h(this,Ar).hidden=!1))}get isVisible(){return h(this,xa)?!1:h(this,Ar).hidden===!1}}xa=new WeakMap,pf=new WeakMap,$E=new WeakMap,BE=new WeakMap,pv=new WeakMap,gv=new WeakMap,Ar=new WeakMap,ic=new WeakMap,gf=new WeakMap,qp=new WeakMap,mv=new WeakMap,vv=new WeakMap,sc=new WeakMap,_a=new WeakMap,Pu=new WeakMap,ku=new WeakMap,Sr=new WeakMap,Cu=new WeakMap,mf=new WeakMap,tx=new WeakMap,Tu=new WeakMap,yv=new WeakMap,Hp=new WeakMap,vf=new WeakMap,xi=new WeakMap,yf=new WeakMap,Ft=new WeakSet,lA=function(){var n;if(h(this,Pu))return;T(this,Pu,new AbortController);const{signal:e}=h(this,Pu);for(const r of this.trigger)r.addEventListener("click",h(this,pv),{signal:e}),r.addEventListener("pointerenter",h(this,BE),{signal:e}),r.addEventListener("pointerleave",h(this,$E),{signal:e}),r.classList.add("popupTriggerArea");for(const r of h(this,qp))(n=r.container)==null||n.addEventListener("keydown",h(this,pf),{signal:e})},t4=function(){const e=h(this,qp).find(n=>n.hasCommentButton);e&&T(this,Cu,e._normalizePoint(e.commentButtonPosition))},n4=function(){if(h(this,xi).extraPopupElement&&!h(this,xi).editor)return;h(this,Sr)||this.renderCommentButton();const[e,n]=h(this,Cu),{style:r}=h(this,Sr);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},r4=function(){h(this,xi).extraPopupElement||(h(this,Sr)||this.renderCommentButton(),h(this,Sr).style.backgroundColor=this.commentButtonColor||"")},cA=function(){const e=h(this,Tu),n=h(this,ic);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&h(this,Tu).html||null},i4=function(){var e,n,r;return((r=(n=(e=h(this,Ft,cA))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},UW=function(){var e,n,r;return((r=(n=(e=h(this,Ft,cA))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},zW=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:h(this,Ft,UW),fontSize:h(this,Ft,i4)?`calc(${h(this,Ft,i4)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r},qW=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,sc))&&F(this,Ft,uA).call(this)},HW=function(){if(h(this,ku)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=h(this,mv);let a=!!h(this,vv),o=a?h(this,vv):h(this,tx);for(const v of h(this,qp))if(!o||ze.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const l=ze.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,f=l[0]+u,d=l[1];T(this,ku,[100*(f-i)/n,100*(d-s)/r]);const{style:p}=h(this,Ar);p.left=`${h(this,ku)[0]}%`,p.top=`${h(this,ku)[1]}%`},uA=function(){if(h(this,xa)){h(this,xa).toggleCommentPopup(this,!1);return}T(this,sc,!h(this,sc)),h(this,sc)?(F(this,Ft,hA).call(this),h(this,Ar).addEventListener("click",h(this,pv)),h(this,Ar).addEventListener("keydown",h(this,pf))):(F(this,Ft,s4).call(this),h(this,Ar).removeEventListener("click",h(this,pv)),h(this,Ar).removeEventListener("keydown",h(this,pf)))},hA=function(){h(this,_a)||this.render(),this.isVisible?h(this,sc)&&h(this,Ar).classList.add("focused"):(F(this,Ft,HW).call(this),h(this,Ar).hidden=!1,h(this,Ar).style.zIndex=parseInt(h(this,Ar).style.zIndex)+1e3)},s4=function(){h(this,Ar).classList.remove("focused"),!(h(this,sc)||!this.isVisible)&&(h(this,Ar).hidden=!0,h(this,Ar).style.zIndex=parseInt(h(this,Ar).style.zIndex)-1e3)};class WW extends mr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var nx;class tEe extends mr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,nx,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=T(this,nx,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),a.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),a.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),a.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),a.setAttribute("stroke-width",n.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,nx)}addHighlightArea(){this.container.classList.add("highlightArea")}}nx=new WeakMap;var rx;class nEe extends mr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,rx,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,o=T(this,rx,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,rx)}addHighlightArea(){this.container.classList.add("highlightArea")}}rx=new WeakMap;var ix;class rEe extends mr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,ix,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,o=T(this,ix,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,ix)}addHighlightArea(){this.container.classList.add("highlightArea")}}ix=new WeakMap;var sx;class VW extends mr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,sx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let f=0,d=r.length;f<d;f+=2){const p=r[f]-n[0],v=n[3]-r[f+1];c.push(`${p},${v}`)}c=c.join(" ");const u=T(this,sx,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,sx)}addHighlightArea(){this.container.classList.add("highlightArea")}}sx=new WeakMap;class iEe extends VW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class sEe extends mr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var ax,Wp,ox,a4;class iR extends mr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,ox);j(this,ax,null);j(this,Wp,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:c}=F(this,ox,a4).call(this,r,n),u=this.svgFactory.create(l,c,!0),f=T(this,ax,this.svgFactory.createElement("svg:g"));u.append(f),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let d=0,p=i.length;d<p;d++){const v=this.svgFactory.createElement(this.svgElementName);h(this,Wp).push(v),v.setAttribute("points",i[d].join(",")),f.append(v)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:s}=n,a=h(this,ax);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=h(this,Wp).length;o<l;o++)h(this,Wp)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:c}=F(this,ox,a4).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return h(this,Wp)}addHighlightArea(){this.container.classList.add("highlightArea")}}ax=new WeakMap,Wp=new WeakMap,ox=new WeakSet,a4=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class GW extends mr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class aEe extends mr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class oEe extends mr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class lEe extends mr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class KW extends mr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var lx,cx,o4;class cEe extends mr{constructor(n){var i;super(n,{isRenderable:!0});j(this,cx);j(this,lx,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",F(this,cx,o4).bind(this)),T(this,lx,i);const{isMac:s}=vi.platform;return n.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&F(this,cx,o4).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return h(this,lx)}addHighlightArea(){this.container.classList.add("highlightArea")}}lx=new WeakMap,cx=new WeakSet,o4=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Vp,Gp,bv,bf,ux,Kp,Aa,hx,Gu,fA,c4;const bR=class bR{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}){j(this,Gu);j(this,Vp,null);j(this,Gp,null);j(this,bv,null);j(this,bf,new Map);j(this,ux,null);j(this,Kp,null);j(this,Aa,[]);j(this,hx,!1);this.div=e,T(this,Vp,n),T(this,Gp,r),T(this,ux,o||null),T(this,Kp,c||null),T(this,bv,u||new eR),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return h(this,bf).size>0}async render(e){var o;const{annotations:n}=e,r=this.div;Tg(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:h(this,Kp),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new vE,annotationStorage:h(this,bv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of n){if(l.noHTML)continue;const c=l.annotationType===Vr.POPUP;if(c){const d=i.get(l.id);if(!d)continue;if(!this._commentManager){s.push(l);continue}a.elements=d}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const u=oT.create(a);if(!u.isRenderable)continue;if(!c&&(h(this,Aa).push(u),l.popupRef)){const d=i.get(l.popupRef);d?d.push(u):i.set(l.popupRef,[u])}const f=u.render();l.hidden&&(f.style.visibility="hidden"),u._isEditable&&(h(this,bf).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}await F(this,Gu,fA).call(this);for(const l of s){const c=a.elements=i.get(l.id);a.data=l;const u=oT.create(a);if(!u.isRenderable)continue;const f=u.render();u.contentElement.id=`${Vm}${l.id}`,l.hidden&&(f.style.visibility="hidden"),c.at(-1).container.after(f)}F(this,Gu,c4).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:h(this,Kp),svgFactory:new vE,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=bR._defaultBorderStyle),n.data=r;const i=oT.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${Vm}${r.id}`,h(this,Aa).push(i))}await F(this,Gu,fA).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,Tg(n,{rotation:e.rotation}),F(this,Gu,c4).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(h(this,bf).values())}getEditableAnnotation(e){return h(this,bf).get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,s=new GSe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:h(this,Kp),annotationStorage:h(this,bv)});return s.render(),s.contentElement.id=`${Vm}${r}`,s.createOrUpdatePopup(),h(this,Aa).push(s),s}removeAnnotation(e){var i;const n=h(this,Aa).findIndex(s=>s.data.id===e);if(n<0)return;const[r]=h(this,Aa).splice(n,1);(i=h(this,Vp))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);F(this,Gu,fA).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Et(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:wm.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Vp=new WeakMap,Gp=new WeakMap,bv=new WeakMap,bf=new WeakMap,ux=new WeakMap,Kp=new WeakMap,Aa=new WeakMap,hx=new WeakMap,Gu=new WeakSet,fA=async function(){var r,i,s;if(h(this,Aa).length===0)return;this.div.replaceChildren();const e=[];if(!h(this,hx)){T(this,hx,!0);for(const{contentElement:a,data:{id:o}}of h(this,Aa)){const l=a.id=`${Vm}${o}`;e.push((r=h(this,ux))==null?void 0:r.getAriaAttributes(l).then(c=>{if(c)for(const[u,f]of c)a.setAttribute(u,f)}))}}h(this,Aa).sort(({data:{rect:[a,o,l,c]}},{data:{rect:[u,f,d,p]}})=>{if(a===l&&o===c)return 1;if(u===d&&f===p)return-1;const v=c,m=o,b=(o+c)/2,g=p,w=f,x=(f+p)/2;if(b>=g&&x<=m)return-1;if(x>=v&&b<=w)return 1;const S=(a+l)/2,A=(u+d)/2;return S-A});const n=document.createDocumentFragment();for(const a of h(this,Aa))n.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&n.append(a.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),h(this,Vp))for(const a of h(this,Aa))h(this,Vp).addPointerInTextLayer(a.contentElement,!1)},c4=function(){var n;if(!h(this,Gp))return;const e=this.div;for(const[r,i]of h(this,Gp)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=h(this,bf).get(r);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}h(this,Gp).clear()};let l4=bR;const A5=/\r\n?|\n/g;var Sa,fx,Yp,Ea,Zr,YW,XW,JW,dA,Ku,pA,gA,ZW,h4,QW;const Xn=class Xn extends Vn{constructor(n){super({...n,name:"freeTextEditor"});j(this,Zr);j(this,Sa,"");j(this,fx,`${this.id}-editor`);j(this,Yp,null);j(this,Ea);Se(this,"_colorPicker",null);this.color=n.color||Xn._defaultColor||Vn._defaultLineColor,T(this,Ea,n.fontSize||Xn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const n=Xn.prototype,r=a=>a.isEmpty(),i=Og.TRANSLATE_SMALL,s=Og.TRANSLATE_BIG;return Et(this,"_keyboardManager",new Kx([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(n,r){Vn.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Zt.FREETEXT_SIZE:Xn._defaultFontSize=r;break;case Zt.FREETEXT_COLOR:Xn._defaultColor=r;break}}updateParams(n,r){switch(n){case Zt.FREETEXT_SIZE:F(this,Zr,YW).call(this,r);break;case Zt.FREETEXT_COLOR:F(this,Zr,XW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Zt.FREETEXT_SIZE,Xn._defaultFontSize],[Zt.FREETEXT_COLOR,Xn._defaultColor||Vn._defaultLineColor]]}get propertiesToUpdate(){return[[Zt.FREETEXT_SIZE,h(this,Ea)],[Zt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new mE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Zt.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-Xn._internalPadding*n,-(Xn._internalPadding+h(this,Ea))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),T(this,Yp,new AbortController);const n=this._uiManager.combinedSignal(h(this,Yp));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,fx)),this._isDraggable=!0,(n=h(this,Yp))==null||n.abort(),T(this,Yp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=h(this,Sa),r=T(this,Sa,F(this,Zr,JW).call(this).trimEnd());if(n===r)return;const i=s=>{if(T(this,Sa,s),!s){this.remove();return}F(this,Zr,gA).call(this),this._uiManager.rebuild(this),F(this,Zr,dA).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),F(this,Zr,dA).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Xn._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,fx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,Ea)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,f]=this.pageDimensions,[d,p]=this.pageTranslation;let v,m;switch(this.rotation){case 0:v=n+(o[0]-d)/u,m=r+this.height-(o[1]-p)/f;break;case 90:v=n+(o[0]-d)/u,m=r-(o[1]-p)/f,[l,c]=[c,-l];break;case 180:v=n-this.width+(o[0]-d)/u,m=r-(o[1]-p)/f,[l,c]=[-l,-c];break;case 270:v=n+(o[0]-d-this.height*f)/u,m=r+(o[1]-p-this.width*u)/f,[l,c]=[-c,l];break}this.setAt(v*s,m*a,l,c)}else this._moveAfterPaste(n,r);F(this,Zr,gA).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var v,m,b;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const s=F(v=Xn,Ku,h4).call(v,r.getData("text")||"").replaceAll(A5,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],f=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(A5,"")),g!==this.editorDiv){let w=u;for(const x of this.editorDiv.childNodes){if(x===g){w=f;continue}w.push(F(m=Xn,Ku,pA).call(m,x))}}u.push(l.nodeValue.slice(0,c).replaceAll(A5,""))}else if(l===this.editorDiv){let g=u,w=0;for(const x of this.editorDiv.childNodes)w++===c&&(g=f),g.push(F(b=Xn,Ku,pA).call(b,x))}T(this,Sa,`${u.join(`
`)}${s}${f.join(`
`)}`),F(this,Zr,gA).call(this);const d=new Range;let p=Math.sumPrecise(u.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const w=g.nodeValue.length;if(p<=w){d.setStart(g,p),d.setEnd(g,p);break}p-=w}a.removeAllRanges(),a.addRange(d)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=Xn._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var o;let s=null;if(n instanceof WW){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:f,id:d,popupRef:p,richText:v,contentsObj:m,creationDate:b,modificationDate:g},textContent:w,textPosition:x,parent:{page:{pageNumber:S}}}=n;if(!w||w.length===0)return null;s=n={annotationType:Nt.FREETEXT,color:Array.from(c),fontSize:l,value:w.join(`
`),position:x,pageIndex:S-1,rect:u.slice(0),rotation:f,annotationElementId:d,id:d,deleted:!1,popupRef:p,comment:(m==null?void 0:m.str)||null,richText:v,creationDate:b,modificationDate:g}}const a=await super.deserialize(n,r,i);return T(a,Ea,n.fontSize),a.color=ze.makeHexColor(...n.color),T(a,Sa,F(o=Xn,Ku,h4).call(o,n.value)),a._initialData=s,n.comment&&a.setCommentData(n),a}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Vn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:h(this,Ea),value:F(this,Zr,ZW).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!F(this,Zr,QW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${h(this,Ea)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of h(this,Sa).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:h(this,Sa)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Sa=new WeakMap,fx=new WeakMap,Yp=new WeakMap,Ea=new WeakMap,Zr=new WeakSet,YW=function(n){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-h(this,Ea))*this.parentScale),T(this,Ea,s),F(this,Zr,dA).call(this)},i=h(this,Ea);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},XW=function(n){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},JW=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(n.push(F(i=Xn,Ku,pA).call(i,s)),r=s);return n.join(`
`)},dA=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Ku=new WeakSet,pA=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(A5,"")},gA=function(){if(this.editorDiv.replaceChildren(),!!h(this,Sa))for(const n of h(this,Sa).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},ZW=function(){return h(this,Sa).replaceAll(""," ")},h4=function(n){return n.replaceAll(" ","")},QW=function(n){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,l)=>o!==s[l])||n.pageIndex!==a},j(Xn,Ku),Se(Xn,"_freeTextDefaultContent",""),Se(Xn,"_internalPadding",0),Se(Xn,"_defaultColor",null),Se(Xn,"_defaultFontSize",10),Se(Xn,"_type","freetext"),Se(Xn,"_editorType",Nt.FREETEXT);let u4=Xn;class We{toSVGPath(){Dn("Abstract method `toSVGPath` must be implemented.")}get box(){Dn("Abstract getter `box` must be implemented.")}serialize(e,n){Dn("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}Se(We,"PRECISION",1e-4);var Pa,ol,wv,xv,ac,qt,Xp,Jp,dx,px,_v,Av,wf,gx,UE,zE,mi,rb,eV,tV,nV,rV,iV,sV;const eu=class eu{constructor({x:e,y:n},r,i,s,a,o=0){j(this,mi);j(this,Pa);j(this,ol,[]);j(this,wv);j(this,xv);j(this,ac,[]);j(this,qt,new Float32Array(18));j(this,Xp);j(this,Jp);j(this,dx);j(this,px);j(this,_v);j(this,Av);j(this,wf,[]);T(this,Pa,r),T(this,Av,s*i),T(this,xv,a),h(this,qt).set([NaN,NaN,NaN,NaN,e,n],6),T(this,wv,o),T(this,px,h(eu,gx)*i),T(this,dx,h(eu,zE)*i),T(this,_v,i),h(this,wf).push(e,n)}isEmpty(){return isNaN(h(this,qt)[8])}add({x:e,y:n}){var I;T(this,Xp,e),T(this,Jp,n);const[r,i,s,a]=h(this,Pa);let[o,l,c,u]=h(this,qt).subarray(8,12);const f=e-c,d=n-u,p=Math.hypot(f,d);if(p<h(this,dx))return!1;const v=p-h(this,px),m=v/p,b=m*f,g=m*d;let w=o,x=l;o=c,l=u,c+=b,u+=g,(I=h(this,wf))==null||I.push(e,n);const S=-g/v,A=b/v,E=S*h(this,Av),C=A*h(this,Av);return h(this,qt).set(h(this,qt).subarray(2,8),0),h(this,qt).set([c+E,u+C],4),h(this,qt).set(h(this,qt).subarray(14,18),12),h(this,qt).set([c-E,u-C],16),isNaN(h(this,qt)[6])?(h(this,ac).length===0&&(h(this,qt).set([o+E,l+C],2),h(this,ac).push(NaN,NaN,NaN,NaN,(o+E-r)/s,(l+C-i)/a),h(this,qt).set([o-E,l-C],14),h(this,ol).push(NaN,NaN,NaN,NaN,(o-E-r)/s,(l-C-i)/a)),h(this,qt).set([w,x,o,l,c,u],6),!this.isEmpty()):(h(this,qt).set([w,x,o,l,c,u],6),Math.abs(Math.atan2(x-l,w-o)-Math.atan2(g,b))<Math.PI/2?([o,l,c,u]=h(this,qt).subarray(2,6),h(this,ac).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+u)/2-i)/a),[o,l,w,x]=h(this,qt).subarray(14,18),h(this,ol).push(NaN,NaN,NaN,NaN,((w+o)/2-r)/s,((x+l)/2-i)/a),!0):([w,x,o,l,c,u]=h(this,qt).subarray(0,6),h(this,ac).push(((w+5*o)/6-r)/s,((x+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+u)/6-i)/a,((o+c)/2-r)/s,((l+u)/2-i)/a),[c,u,o,l,w,x]=h(this,qt).subarray(12,18),h(this,ol).push(((w+5*o)/6-r)/s,((x+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+u)/6-i)/a,((o+c)/2-r)/s,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,ac),n=h(this,ol);if(isNaN(h(this,qt)[6])&&!this.isEmpty())return F(this,mi,eV).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);F(this,mi,nV).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return F(this,mi,tV).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,s,a){return new aV(e,n,r,i,s,a)}getOutlines(){var f;const e=h(this,ac),n=h(this,ol),r=h(this,qt),[i,s,a,o]=h(this,Pa),l=new Float32Array((((f=h(this,wf))==null?void 0:f.length)??0)+2);for(let d=0,p=l.length-2;d<p;d+=2)l[d]=(h(this,wf)[d]-i)/a,l[d+1]=(h(this,wf)[d+1]-s)/o;if(l[l.length-2]=(h(this,Xp)-i)/a,l[l.length-1]=(h(this,Jp)-s)/o,isNaN(r[6])&&!this.isEmpty())return F(this,mi,rV).call(this,l);const c=new Float32Array(h(this,ac).length+24+h(this,ol).length);let u=e.length;for(let d=0;d<u;d+=2){if(isNaN(e[d])){c[d]=c[d+1]=NaN;continue}c[d]=e[d],c[d+1]=e[d+1]}u=F(this,mi,sV).call(this,c,u);for(let d=n.length-6;d>=6;d-=6)for(let p=0;p<6;p+=2){if(isNaN(n[d+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=n[d+p],c[u+1]=n[d+p+1],u+=2}return F(this,mi,iV).call(this,c,u),this.newFreeDrawOutline(c,l,h(this,Pa),h(this,_v),h(this,wv),h(this,xv))}};Pa=new WeakMap,ol=new WeakMap,wv=new WeakMap,xv=new WeakMap,ac=new WeakMap,qt=new WeakMap,Xp=new WeakMap,Jp=new WeakMap,dx=new WeakMap,px=new WeakMap,_v=new WeakMap,Av=new WeakMap,wf=new WeakMap,gx=new WeakMap,UE=new WeakMap,zE=new WeakMap,mi=new WeakSet,rb=function(){const e=h(this,qt).subarray(4,6),n=h(this,qt).subarray(16,18),[r,i,s,a]=h(this,Pa);return[(h(this,Xp)+(e[0]-n[0])/2-r)/s,(h(this,Jp)+(e[1]-n[1])/2-i)/a,(h(this,Xp)+(n[0]-e[0])/2-r)/s,(h(this,Jp)+(n[1]-e[1])/2-i)/a]},eV=function(){const[e,n,r,i]=h(this,Pa),[s,a,o,l]=F(this,mi,rb).call(this);return`M${(h(this,qt)[2]-e)/r} ${(h(this,qt)[3]-n)/i} L${(h(this,qt)[4]-e)/r} ${(h(this,qt)[5]-n)/i} L${s} ${a} L${o} ${l} L${(h(this,qt)[16]-e)/r} ${(h(this,qt)[17]-n)/i} L${(h(this,qt)[14]-e)/r} ${(h(this,qt)[15]-n)/i} Z`},tV=function(e){const n=h(this,ol);e.push(`L${n[4]} ${n[5]} Z`)},nV=function(e){const[n,r,i,s]=h(this,Pa),a=h(this,qt).subarray(4,6),o=h(this,qt).subarray(16,18),[l,c,u,f]=F(this,mi,rb).call(this);e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${l} ${c} L${u} ${f} L${(o[0]-n)/i} ${(o[1]-r)/s}`)},rV=function(e){const n=h(this,qt),[r,i,s,a]=h(this,Pa),[o,l,c,u]=F(this,mi,rb).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(f,e,h(this,Pa),h(this,_v),h(this,wv),h(this,xv))},iV=function(e,n){const r=h(this,ol);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},sV=function(e,n){const r=h(this,qt).subarray(4,6),i=h(this,qt).subarray(16,18),[s,a,o,l]=h(this,Pa),[c,u,f,d]=F(this,mi,rb).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],n),n+=24},j(eu,gx,8),j(eu,UE,2),j(eu,zE,h(eu,gx)+h(eu,UE));let yE=eu;var Sv,Zp,Ou,mx,ka,vx,Dr,qE,oV;class aV extends We{constructor(n,r,i,s,a,o){super();j(this,qE);j(this,Sv);j(this,Zp,new Float32Array(4));j(this,Ou);j(this,mx);j(this,ka);j(this,vx);j(this,Dr);T(this,Dr,n),T(this,ka,r),T(this,Sv,i),T(this,vx,s),T(this,Ou,a),T(this,mx,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],F(this,qE,oV).call(this,o);const[l,c,u,f]=h(this,Zp);for(let d=0,p=n.length;d<p;d+=2)n[d]=(n[d]-l)/u,n[d+1]=(n[d+1]-c)/f;for(let d=0,p=r.length;d<p;d+=2)r[d]=(r[d]-l)/u,r[d+1]=(r[d+1]-c)/f}toSVGPath(){const n=[`M${h(this,Dr)[4]} ${h(this,Dr)[5]}`];for(let r=6,i=h(this,Dr).length;r<i;r+=6){if(isNaN(h(this,Dr)[r])){n.push(`L${h(this,Dr)[r+4]} ${h(this,Dr)[r+5]}`);continue}n.push(`C${h(this,Dr)[r]} ${h(this,Dr)[r+1]} ${h(this,Dr)[r+2]} ${h(this,Dr)[r+3]} ${h(this,Dr)[r+4]} ${h(this,Dr)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,s],a){const o=i-n,l=s-r;let c,u;switch(a){case 0:c=We._rescale(h(this,Dr),n,s,o,-l),u=We._rescale(h(this,ka),n,s,o,-l);break;case 90:c=We._rescaleAndSwap(h(this,Dr),n,r,o,l),u=We._rescaleAndSwap(h(this,ka),n,r,o,l);break;case 180:c=We._rescale(h(this,Dr),i,r,-o,l),u=We._rescale(h(this,ka),i,r,-o,l);break;case 270:c=We._rescaleAndSwap(h(this,Dr),i,s,-o,-l),u=We._rescaleAndSwap(h(this,ka),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return h(this,Zp)}newOutliner(n,r,i,s,a,o=0){return new yE(n,r,i,s,a,o)}getNewOutline(n,r){const[i,s,a,o]=h(this,Zp),[l,c,u,f]=h(this,Sv),d=a*u,p=o*f,v=i*u+l,m=s*f+c,b=this.newOutliner({x:h(this,ka)[0]*d+v,y:h(this,ka)[1]*p+m},h(this,Sv),h(this,vx),n,h(this,mx),r??h(this,Ou));for(let g=2;g<h(this,ka).length;g+=2)b.add({x:h(this,ka)[g]*d+v,y:h(this,ka)[g+1]*p+m});return b.getOutlines()}}Sv=new WeakMap,Zp=new WeakMap,Ou=new WeakMap,mx=new WeakMap,ka=new WeakMap,vx=new WeakMap,Dr=new WeakMap,qE=new WeakSet,oV=function(n){const r=h(this,Dr);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,c=i,u=s;const f=n?Math.max:Math.min,d=new Float32Array(4);for(let v=6,m=r.length;v<m;v+=6){const b=r[v+4],g=r[v+5];isNaN(r[v])?(ze.pointBoundingBox(b,g,a),l>g?(o=b,l=g):l===g&&(o=f(o,b)),u<g?(c=b,u=g):u===g&&(c=f(c,b))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,ze.bezierBoundingBox(i,s,...r.slice(v,v+6),d),ze.rectBoundingBox(d[0],d[1],d[2],d[3],a),l>d[1]?(o=d[0],l=d[1]):l===d[1]&&(o=f(o,d[0])),u<d[3]?(c=d[2],u=d[3]):u===d[3]&&(c=f(c,d[2]))),i=b,s=g}const p=h(this,Zp);p[0]=a[0]-h(this,Ou),p[1]=a[1]-h(this,Ou),p[2]=a[2]-a[0]+2*h(this,Ou),p[3]=a[3]-a[1]+2*h(this,Ou),this.firstPoint=[o,l],this.lastPoint=[c,u]};var yx,bx,wx,xf,ll,Rs,lV,mA,cV,uV,d4;class f4{constructor(e,n=0,r=0,i=!0){j(this,Rs);j(this,yx);j(this,bx);j(this,wx);j(this,xf,[]);j(this,ll,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:m,y:b,width:g,height:w}of e){const x=Math.floor((m-n)/a)*a,S=Math.ceil((m+g+n)/a)*a,A=Math.floor((b-n)/a)*a,E=Math.ceil((b+w+n)/a)*a,C=[x,A,E,!0],L=[S,A,E,!1];h(this,xf).push(C,L),ze.rectBoundingBox(x,A,S,E,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,u=s[1]-r;let f=i?-1/0:1/0,d=1/0;const p=h(this,xf).at(i?-1:-2),v=[p[0],p[2]];for(const m of h(this,xf)){const[b,g,w,x]=m;!x&&i?g<d?(d=g,f=b):g===d&&(f=Math.max(f,b)):x&&!i&&(g<d?(d=g,f=b):g===d&&(f=Math.min(f,b))),m[0]=(b-c)/o,m[1]=(g-u)/l,m[2]=(w-u)/l}T(this,yx,new Float32Array([c,u,o,l])),T(this,bx,[f,d]),T(this,wx,v)}getOutlines(){h(this,xf).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of h(this,xf))n[3]?(e.push(...F(this,Rs,d4).call(this,n)),F(this,Rs,cV).call(this,n)):(F(this,Rs,uV).call(this,n),e.push(...F(this,Rs,d4).call(this,n)));return F(this,Rs,lV).call(this,e)}}yx=new WeakMap,bx=new WeakMap,wx=new WeakMap,xf=new WeakMap,ll=new WeakMap,Rs=new WeakSet,lV=function(e){const n=[],r=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,u,f]=a;r.delete(a);let d=o,p=l;for(s=[o,c],i.push(s);;){let v;if(r.has(u))v=u;else if(r.has(f))v=f;else break;r.delete(v),[o,l,c,u,f]=v,d!==o&&(s.push(d,p,o,p===l?l:c),d=o),p=p===l?c:l}s.push(d,p)}return new uEe(i,h(this,yx),h(this,bx),h(this,wx))},mA=function(e){const n=h(this,ll);let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},cV=function([,e,n]){const r=F(this,Rs,mA).call(this,e);h(this,ll).splice(r,0,[e,n])},uV=function([,e,n]){const r=F(this,Rs,mA).call(this,e);for(let i=r;i<h(this,ll).length;i++){const[s,a]=h(this,ll)[i];if(s!==e)break;if(s===e&&a===n){h(this,ll).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=h(this,ll)[i];if(s!==e)break;if(s===e&&a===n){h(this,ll).splice(i,1);return}}},d4=function(e){const[n,r,i]=e,s=[[n,r,i]],a=F(this,Rs,mA).call(this,i);for(let o=0;o<a;o++){const[l,c]=h(this,ll)[o];for(let u=0,f=s.length;u<f;u++){const[,d,p]=s[u];if(!(c<=d||p<=l)){if(d>=l){if(p>c)s[u][1]=c;else{if(f===1)return[];s.splice(u,1),u--,f--}continue}s[u][2]=l,p>c&&s.push([n,c,p])}}}return s};var xx,Ev;class uEe extends We{constructor(n,r,i,s){super();j(this,xx);j(this,Ev);T(this,Ev,n),T(this,xx,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const n=[];for(const r of h(this,Ev)){let[i,s]=r;n.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(n.push(`V${l}`),s=l):l===s&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,s],a){const o=[],l=i-n,c=s-r;for(const u of h(this,Ev)){const f=new Array(u.length);for(let d=0;d<u.length;d+=2)f[d]=n+u[d]*l,f[d+1]=s-u[d+1]*c;o.push(f)}return o}get box(){return h(this,xx)}get classNamesForOutlining(){return["highlightOutline"]}}xx=new WeakMap,Ev=new WeakMap;class p4 extends yE{newFreeDrawOutline(e,n,r,i,s,a){return new hEe(e,n,r,i,s,a)}}class hEe extends aV{newOutliner(e,n,r,i,s,a=0){return new p4(e,n,r,i,s,a)}}var Pv,_x,Nu,Qp,Ax,Ws,Sx,Ex,eg,Ca,Ta,Hi,kv,Cv,ps,Tv,wo,Px,Dt,g4,vA,hV,fV,dV,m4,Md,Eo,Pm,pV,yA,bA,gV,mV,vV,yV,bV;const hn=class hn extends Vn{constructor(n){super({...n,name:"highlightEditor"});j(this,Dt);j(this,Pv,null);j(this,_x,0);j(this,Nu);j(this,Qp,null);j(this,Ax,null);j(this,Ws,null);j(this,Sx,null);j(this,Ex,0);j(this,eg,null);j(this,Ca,null);j(this,Ta,null);j(this,Hi,!1);j(this,kv,null);j(this,Cv,null);j(this,ps,null);j(this,Tv,"");j(this,wo);j(this,Px,"");this.color=n.color||hn._defaultColor,T(this,wo,n.thickness||hn._defaultThickness),this.opacity=n.opacity||hn._defaultOpacity,T(this,Nu,n.boxes||null),T(this,Px,n.methodOfCreation||""),T(this,Tv,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(T(this,Hi,!0),F(this,Dt,vA).call(this,n),F(this,Dt,Md).call(this)):h(this,Nu)&&(T(this,Pv,n.anchorNode),T(this,_x,n.anchorOffset),T(this,Sx,n.focusNode),T(this,Ex,n.focusOffset),F(this,Dt,g4).call(this),F(this,Dt,Md).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=hn.prototype;return Et(this,"_keyboardManager",new Kx([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Hi)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:h(this,wo),methodOfCreation:h(this,Px)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;Vn.initialize(n,r),hn._defaultColor||(hn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Zt.HIGHLIGHT_COLOR:hn._defaultColor=r;break;case Zt.HIGHLIGHT_THICKNESS:hn._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return h(this,Cv)}get commentButtonPosition(){return h(this,kv)}updateParams(n,r){switch(n){case Zt.HIGHLIGHT_COLOR:F(this,Dt,hV).call(this,r);break;case Zt.HIGHLIGHT_THICKNESS:F(this,Dt,fV).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Zt.HIGHLIGHT_COLOR,hn._defaultColor],[Zt.HIGHLIGHT_THICKNESS,hn._defaultThickness]]}get propertiesToUpdate(){return[[Zt.HIGHLIGHT_COLOR,this.color||hn._defaultColor],[Zt.HIGHLIGHT_THICKNESS,h(this,wo)||hn._defaultThickness],[Zt.HIGHLIGHT_FREE,h(this,Hi)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(h(this,Ta),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=h(this,Ax))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",T(this,Ax,new gE({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,Dt,bA).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,F(this,Dt,bA).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){F(this,Dt,m4).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,Dt,Md).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?F(this,Dt,m4).call(this):n&&(F(this,Dt,Md).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var s,a,o;const{drawLayer:r}=this.parent;let i;h(this,Hi)?(n=(n-this.rotation+360)%360,i=F(s=hn,Eo,Pm).call(s,h(this,Ca).box,n)):i=F(a=hn,Eo,Pm).call(a,[this.x,this.y,this.width,this.height],n),r.updateProperties(h(this,Ta),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(h(this,ps),{bbox:F(o=hn,Eo,Pm).call(o,h(this,Ws).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();h(this,Tv)&&(n.setAttribute("aria-label",h(this,Tv)),n.setAttribute("role","mark")),h(this,Hi)?n.classList.add("free"):this.div.addEventListener("keydown",F(this,Dt,pV).bind(this),{signal:this._uiManager._signal});const r=T(this,eg,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=h(this,Qp),this.setDims(),FH(this,h(this,eg),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(h(this,ps),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(h(this,ps),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:F(this,Dt,yA).call(this,!0);break;case 1:case 3:F(this,Dt,yA).call(this,!1);break}}select(){var n;super.select(),h(this,ps)&&((n=this.parent)==null||n.drawLayer.updateProperties(h(this,ps),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),h(this,ps)&&((n=this.parent)==null||n.drawLayer.updateProperties(h(this,ps),{rootClass:{selected:!1}}),h(this,Hi)||F(this,Dt,yA).call(this,!1))}get _mustFixPosition(){return!h(this,Hi)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(h(this,Ta),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(h(this,ps),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),f=new AbortController,d=n.combinedSignal(f),p=v=>{f.abort(),F(this,Eo,yV).call(this,n,v)};window.addEventListener("blur",p,{signal:d}),window.addEventListener("pointerup",p,{signal:d}),window.addEventListener("pointerdown",Or,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Ro,{signal:d}),i.addEventListener("pointermove",F(this,Eo,vV).bind(this,n),{signal:d}),this._freeHighlight=new p4({x:s,y:a},[o,l,c,u],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var m,b,g,w;let s=null;if(n instanceof GW){const{data:{quadPoints:x,rect:S,rotation:A,id:E,color:C,opacity:L,popupRef:I,richText:q,contentsObj:O,creationDate:M,modificationDate:z},parent:{page:{pageNumber:$}}}=n;s=n={annotationType:Nt.HIGHLIGHT,color:Array.from(C),opacity:L,quadPoints:x,boxes:null,pageIndex:$-1,rect:S.slice(0),rotation:A,annotationElementId:E,id:E,deleted:!1,popupRef:I,richText:q,comment:(O==null?void 0:O.str)||null,creationDate:M,modificationDate:z}}else if(n instanceof iR){const{data:{inkLists:x,rect:S,rotation:A,id:E,color:C,borderStyle:{rawWidth:L},popupRef:I,richText:q,contentsObj:O,creationDate:M,modificationDate:z},parent:{page:{pageNumber:$}}}=n;s=n={annotationType:Nt.HIGHLIGHT,color:Array.from(C),thickness:L,inkLists:x,boxes:null,pageIndex:$-1,rect:S.slice(0),rotation:A,annotationElementId:E,id:E,deleted:!1,popupRef:I,richText:q,comment:(O==null?void 0:O.str)||null,creationDate:M,modificationDate:z}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=n,u=await super.deserialize(n,r,i);u.color=ze.makeHexColor(...a),u.opacity=c||1,l&&T(u,wo,n.thickness),u._initialData=s,n.comment&&u.setCommentData(n);const[f,d]=u.pageDimensions,[p,v]=u.pageTranslation;if(o){const x=T(u,Nu,[]);for(let S=0;S<o.length;S+=8)x.push({x:(o[S]-p)/f,y:1-(o[S+1]-v)/d,width:(o[S+2]-o[S])/f,height:(o[S+1]-o[S+5])/d});F(m=u,Dt,g4).call(m),F(b=u,Dt,Md).call(b),u.rotate(u.rotation)}else if(l){T(u,Hi,!0);const x=l[0],S={x:x[0]-p,y:d-(x[1]-v)},A=new p4(S,[0,0,f,d],1,h(u,wo)/2,!0,.001);for(let L=0,I=x.length;L<I;L+=2)S.x=x[L]-p,S.y=d-(x[L+1]-v),A.add(S);const{id:E,clipPathId:C}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);F(g=u,Dt,vA).call(g,{highlightOutlines:A.getOutlines(),highlightId:E,clipPathId:C}),F(w=u,Dt,Md).call(w),u.rotate(u.parentRotation)}return u}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=Vn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:h(this,wo),quadPoints:F(this,Dt,gV).call(this),outlines:F(this,Dt,mV).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!F(this,Dt,bV).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Pv=new WeakMap,_x=new WeakMap,Nu=new WeakMap,Qp=new WeakMap,Ax=new WeakMap,Ws=new WeakMap,Sx=new WeakMap,Ex=new WeakMap,eg=new WeakMap,Ca=new WeakMap,Ta=new WeakMap,Hi=new WeakMap,kv=new WeakMap,Cv=new WeakMap,ps=new WeakMap,Tv=new WeakMap,wo=new WeakMap,Px=new WeakMap,Dt=new WeakSet,g4=function(){const n=new f4(h(this,Nu),.001);T(this,Ca,n.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,Ca).box;const r=new f4(h(this,Nu),.0025,.001,this._uiManager.direction==="ltr");T(this,Ws,r.getOutlines());const{firstPoint:i}=h(this,Ca);T(this,kv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=h(this,Ws);T(this,Cv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},vA=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var d,p;if(T(this,Ca,n),T(this,Ws,n.getNewOutline(h(this,wo)/2+1.5,.0025)),r>=0)T(this,Ta,r),T(this,Qp,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),T(this,ps,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,Ws).box,path:{d:h(this,Ws).toSVGPath()}},!0));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,Ta),{bbox:F(d=hn,Eo,Pm).call(d,h(this,Ca).box,(v-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,ps),{bbox:F(p=hn,Eo,Pm).call(p,h(this,Ws).box,v),path:{d:h(this,Ws).toSVGPath()}})}const[a,o,l,c]=n.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[v,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*m/v,this.height=c*v/m;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[v,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*m/v,this.height=c*v/m;break}}const{firstPoint:u}=n;T(this,kv,[(u[0]-a)/l,(u[1]-o)/c]);const{lastPoint:f}=h(this,Ws);T(this,Cv,[(f[0]-a)/l,(f[1]-o)/c])},hV=function(n){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,n,hn._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},fV=function(n){const r=h(this,wo),i=s=>{T(this,wo,s),F(this,Dt,dV).call(this,s)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},dV=function(n){h(this,Hi)&&(F(this,Dt,vA).call(this,{highlightOutlines:h(this,Ca).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims())},m4=function(){h(this,Ta)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Ta)),T(this,Ta,null),this.parent.drawLayer.remove(h(this,ps)),T(this,ps,null))},Md=function(n=this.parent){h(this,Ta)===null&&({id:si(this,Ta)._,clipPathId:si(this,Qp)._}=n.drawLayer.draw({bbox:h(this,Ca).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:h(this,Hi)},path:{d:h(this,Ca).toSVGPath()}},!1,!0),T(this,ps,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,Hi)},bbox:h(this,Ws).box,path:{d:h(this,Ws).toSVGPath()}},h(this,Hi))),h(this,eg)&&(h(this,eg).style.clipPath=h(this,Qp)))},Eo=new WeakSet,Pm=function([n,r,i,s],a){switch(a){case 90:return[1-r-s,n,s,i];case 180:return[1-n-i,1-r-s,i,s];case 270:return[r,1-n-i,s,i]}return[n,r,i,s]},pV=function(n){hn._keyboardManager.exec(this,n)},yA=function(n){if(!h(this,Pv))return;const r=window.getSelection();n?r.setPosition(h(this,Pv),h(this,_x)):r.setPosition(h(this,Sx),h(this,Ex))},bA=function(){return h(this,Hi)?this.rotation:0},gV=function(){if(h(this,Hi))return null;const[n,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=h(this,Nu),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:f,height:d}of a){const p=c*n+i,v=(1-u)*r+s;o[l]=o[l+4]=p,o[l+1]=o[l+3]=v,o[l+2]=o[l+6]=p+f*n,o[l+5]=o[l+7]=v-d*r,l+=8}return o},mV=function(n){return h(this,Ca).serialize(n,F(this,Dt,bA).call(this))},vV=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},yV=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},bV=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,s)=>i!==r[s])},j(hn,Eo),Se(hn,"_defaultColor",null),Se(hn,"_defaultOpacity",1),Se(hn,"_defaultThickness",12),Se(hn,"_type","highlight"),Se(hn,"_editorType",Nt.HIGHLIGHT),Se(hn,"_freeHighlightId",-1),Se(hn,"_freeHighlight",null),Se(hn,"_freeHighlightClipId","");let bE=hn;var tg;class wV{constructor(){j(this,tg,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){h(this,tg)[e]=n}toSVGProperties(){const e=h(this,tg);return T(this,tg,Object.create(null)),{root:e}}reset(){T(this,tg,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Dn("Not implemented")}}tg=new WeakMap;var Oa,Ov,_i,ng,rg,on,v4,y4,b4,ib,xV,wA,sb,km;const Gt=class Gt extends Vn{constructor(n){super(n);j(this,on);j(this,Oa,null);j(this,Ov);Se(this,"_colorPicker",null);Se(this,"_drawId",null);T(this,Ov,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(F(this,on,v4).call(this,n),F(this,on,ib).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(n[s],a):n[s]=a;return n}static getDefaultDrawingOptions(n){Dn("Not implemented")}static get typesMap(){Dn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(h(Gt,_i).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)n.push([i,r[s]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)n.push([i,r[s]]);return n}_updateProperty(n,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var u;s.updateProperty(r,l);const c=h(this,Oa).updateProperty(r,l);c&&F(this,on,sb).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Gt._mergeSVGProperties(h(this,Oa).getPathResizingSVGProperties(F(this,on,wA).call(this)),{bbox:F(this,on,km).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Gt._mergeSVGProperties(h(this,Oa).getPathResizedSVGProperties(F(this,on,wA).call(this)),{bbox:F(this,on,km).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:F(this,on,km).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Gt._mergeSVGProperties(h(this,Oa).getPathTranslatedSVGProperties(F(this,on,wA).call(this),this.parentDimensions),{bbox:F(this,on,km).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,Ov)&&(T(this,Ov,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){F(this,on,b4).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,on,ib).call(this),F(this,on,sb).call(this,h(this,Oa).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),F(this,on,b4).call(this)):n&&(this._uiManager.addShouldRescale(this),F(this,on,ib).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Gt._mergeSVGProperties({bbox:F(this,on,km).call(this)},h(this,Oa).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&F(this,on,sb).call(this,h(this,Oa).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,s,a){Dn("Not implemented")}static startDrawing(n,r,i,s){var b;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=s;if(cs.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:f}}=n,{width:d,height:p}=a.getBoundingClientRect(),v=T(Gt,ng,new AbortController),m=n.combinedSignal(v);if(cs.setPointer(u,c),window.addEventListener("pointerup",g=>{cs.isSamePointerIdOrRemove(g.pointerId)&&this._endDraw(g)},{signal:m}),window.addEventListener("pointercancel",g=>{cs.isSamePointerIdOrRemove(g.pointerId)&&this._currentParent.endDrawingSession()},{signal:m}),window.addEventListener("pointerdown",g=>{cs.isSamePointerType(g.pointerType)&&(cs.initializeAndAddPointerId(g.pointerId),h(Gt,_i).isCancellable()&&(h(Gt,_i).removeLastElement(),h(Gt,_i).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ro,{signal:m}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),a.addEventListener("touchmove",g=>{cs.isSameTimeStamp(g.timeStamp)&&Or(g)},{signal:m}),n.toggleDrawing(),(b=r._editorUndoBar)==null||b.hide(),h(Gt,_i)){n.drawLayer.updateProperties(this._currentDrawId,h(Gt,_i).startNew(o,l,d,p,f));return}r.updateUIForDefaultProperties(this),T(Gt,_i,this.createDrawerInstance(o,l,d,p,f)),T(Gt,rg,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(h(Gt,rg).toSVGProperties(),h(Gt,_i).defaultSVGProperties),!0,!1)}static _drawMove(n){if(cs.isSameTimeStamp(n.timeStamp),!h(Gt,_i))return;const{offsetX:r,offsetY:i,pointerId:s}=n;if(cs.isSamePointerId(s)){if(cs.isUsingMultiplePointers()){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(Gt,_i).add(r,i)),cs.setTimeStamp(n.timeStamp),Or(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,T(Gt,_i,null),T(Gt,rg,null),cs.clearTimeStamp()),h(Gt,ng)&&(h(Gt,ng).abort(),T(Gt,ng,null),cs.clearPointerIds())}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,h(Gt,_i).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=h(Gt,_i),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Zt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Zt.DRAW_STEP),!h(Gt,_i).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(Gt,_i).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:h(Gt,rg),mustBeCommitted:!n});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,s,a,o){Dn("Not implemented")}static async deserialize(n,r,i){var f,d;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,c=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,n),u=await super.deserialize(n,r,i);return u.createDrawingOptions(n),F(f=u,on,v4).call(f,{drawOutlines:c}),F(d=u,on,ib).call(d),u.onScaleChanging(),u.rotate(),u}serializeDraw(n){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return h(this,Oa).serialize([r,i,s,a],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Oa=new WeakMap,Ov=new WeakMap,_i=new WeakMap,ng=new WeakMap,rg=new WeakMap,on=new WeakSet,v4=function({drawOutlines:n,drawId:r,drawingOptions:i}){T(this,Oa,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=F(this,on,y4).call(this,n,this.parent),F(this,on,sb).call(this,n.box)},y4=function(n,r){const{id:i}=r.drawLayer.draw(Gt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},b4=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},ib=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=F(this,on,y4).call(this,h(this,Oa),n)}},xV=function([n,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-n,i*(o/a),s*(a/o)];case 180:return[1-n,1-r,i,s];case 270:return[1-r,n,i*(o/a),s*(a/o)];default:return[n,r,i,s]}},wA=function(){const{x:n,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,n,i*(a/o),s*(o/a)];case 180:return[1-n,1-r,i,s];case 270:return[r,1-n,i*(a/o),s*(o/a)];default:return[n,r,i,s]}},sb=function(n){[this.x,this.y,this.width,this.height]=F(this,on,xV).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},km=function(){const{x:n,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-r-s,n,s,i];case 2:return[1-n-i,1-r-s,i,s];case 3:return[r,1-n-i,s,i];case 4:return[n,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,n,i*(l/c),s*(c/l)];case 6:return[1-n-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-n-s*(c/l),i*(l/c),s*(c/l)];case 8:return[n-i,r-s,i,s];case 9:return[1-r,n-i,s,i];case 10:return[1-n,1-r,i,s];case 11:return[r-s,1-n,s,i];case 12:return[n-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),n-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-n,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-n,i*(l/c),s*(c/l)];default:return[n,r,i,s]}},Se(Gt,"_currentDrawId",-1),Se(Gt,"_currentParent",null),j(Gt,_i,null),j(Gt,ng,null),j(Gt,rg,null),Se(Gt,"_INNER_MARGIN",3);let wE=Gt;var oc,Ai,Si,ig,Nv,Es,Wi,xo,sg,ag,og,Lv,xA;class fEe{constructor(e,n,r,i,s,a){j(this,Lv);j(this,oc,new Float64Array(6));j(this,Ai);j(this,Si);j(this,ig);j(this,Nv);j(this,Es);j(this,Wi,"");j(this,xo,0);j(this,sg,new Xx);j(this,ag);j(this,og);T(this,ag,r),T(this,og,i),T(this,ig,s),T(this,Nv,a),[e,n]=F(this,Lv,xA).call(this,e,n);const o=T(this,Ai,[NaN,NaN,NaN,NaN,e,n]);T(this,Es,[e,n]),T(this,Si,[{line:o,points:h(this,Es)}]),h(this,oc).set(o,0)}updateProperty(e,n){e==="stroke-width"&&T(this,Nv,n)}isEmpty(){return!h(this,Si)||h(this,Si).length===0}isCancellable(){return h(this,Es).length<=10}add(e,n){[e,n]=F(this,Lv,xA).call(this,e,n);const[r,i,s,a]=h(this,oc).subarray(2,6),o=e-s,l=n-a;return Math.hypot(h(this,ag)*o,h(this,og)*l)<=2?null:(h(this,Es).push(e,n),isNaN(r)?(h(this,oc).set([s,a,e,n],2),h(this,Ai).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(h(this,oc)[0])&&h(this,Ai).splice(6,6),h(this,oc).set([r,i,s,a,e,n],0),h(this,Ai).push(...We.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(h(this,Es).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){T(this,ag,r),T(this,og,i),T(this,ig,s),[e,n]=F(this,Lv,xA).call(this,e,n);const a=T(this,Ai,[NaN,NaN,NaN,NaN,e,n]);T(this,Es,[e,n]);const o=h(this,Si).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),h(this,Si).push({line:a,points:h(this,Es)}),h(this,oc).set(a,0),T(this,xo,0),this.toSVGPath(),null}getLastElement(){return h(this,Si).at(-1)}setLastElement(e){return h(this,Si)?(h(this,Si).push(e),T(this,Ai,e.line),T(this,Es,e.points),T(this,xo,0),{path:{d:this.toSVGPath()}}):h(this,sg).setLastElement(e)}removeLastElement(){if(!h(this,Si))return h(this,sg).removeLastElement();h(this,Si).pop(),T(this,Wi,"");for(let e=0,n=h(this,Si).length;e<n;e++){const{line:r,points:i}=h(this,Si)[e];T(this,Ai,r),T(this,Es,i),T(this,xo,0),this.toSVGPath()}return{path:{d:h(this,Wi)}}}toSVGPath(){const e=We.svgRound(h(this,Ai)[4]),n=We.svgRound(h(this,Ai)[5]);if(h(this,Es).length===2)return T(this,Wi,`${h(this,Wi)} M ${e} ${n} Z`),h(this,Wi);if(h(this,Es).length<=6){const i=h(this,Wi).lastIndexOf("M");T(this,Wi,`${h(this,Wi).slice(0,i)} M ${e} ${n}`),T(this,xo,6)}if(h(this,Es).length===4){const i=We.svgRound(h(this,Ai)[10]),s=We.svgRound(h(this,Ai)[11]);return T(this,Wi,`${h(this,Wi)} L ${i} ${s}`),T(this,xo,12),h(this,Wi)}const r=[];h(this,xo)===0&&(r.push(`M ${e} ${n}`),T(this,xo,6));for(let i=h(this,xo),s=h(this,Ai).length;i<s;i+=6){const[a,o,l,c,u,f]=h(this,Ai).slice(i,i+6).map(We.svgRound);r.push(`C${a} ${o} ${l} ${c} ${u} ${f}`)}return T(this,Wi,h(this,Wi)+r.join(" ")),T(this,xo,h(this,Ai).length),h(this,Wi)}getOutlines(e,n,r,i){const s=h(this,Si).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),h(this,sg).build(h(this,Si),e,n,r,h(this,ig),h(this,Nv),i),T(this,oc,null),T(this,Ai,null),T(this,Si,null),T(this,Wi,null),h(this,sg)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}oc=new WeakMap,Ai=new WeakMap,Si=new WeakMap,ig=new WeakMap,Nv=new WeakMap,Es=new WeakMap,Wi=new WeakMap,xo=new WeakMap,sg=new WeakMap,ag=new WeakMap,og=new WeakMap,Lv=new WeakSet,xA=function(e,n){return We._normalizePoint(e,n,h(this,ag),h(this,og),h(this,ig))};var Ps,kx,Cx,Na,lc,cc,Iv,Rv,lg,Yi,Yc,_V,AV,SV;class Xx extends We{constructor(){super(...arguments);j(this,Yi);j(this,Ps);j(this,kx,0);j(this,Cx);j(this,Na);j(this,lc);j(this,cc);j(this,Iv);j(this,Rv);j(this,lg)}build(n,r,i,s,a,o,l){T(this,lc,r),T(this,cc,i),T(this,Iv,s),T(this,Rv,a),T(this,lg,o),T(this,Cx,l??0),T(this,Na,n),F(this,Yi,AV).call(this)}get thickness(){return h(this,lg)}setLastElement(n){return h(this,Na).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,Na).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of h(this,Na)){if(n.push(`M${We.svgRound(r[4])} ${We.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${We.svgRound(r[10])} ${We.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,c,u,f]=r.subarray(i,i+6).map(We.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${f}`)}}return n.join("")}serialize([n,r,i,s],a){const o=[],l=[],[c,u,f,d]=F(this,Yi,_V).call(this);let p,v,m,b,g,w,x,S,A;switch(h(this,Rv)){case 0:A=We._rescale,p=n,v=r+s,m=i,b=-s,g=n+c*i,w=r+(1-u-d)*s,x=n+(c+f)*i,S=r+(1-u)*s;break;case 90:A=We._rescaleAndSwap,p=n,v=r,m=i,b=s,g=n+u*i,w=r+c*s,x=n+(u+d)*i,S=r+(c+f)*s;break;case 180:A=We._rescale,p=n+i,v=r,m=-i,b=s,g=n+(1-c-f)*i,w=r+u*s,x=n+(1-c)*i,S=r+(u+d)*s;break;case 270:A=We._rescaleAndSwap,p=n+i,v=r+s,m=-i,b=-s,g=n+(1-u-d)*i,w=r+(1-c-f)*s,x=n+(1-u)*i,S=r+(1-c)*s;break}for(const{line:E,points:C}of h(this,Na))o.push(A(E,p,v,m,b,a?new Array(E.length):null)),l.push(A(C,p,v,m,b,a?new Array(C.length):null));return{lines:o,points:l,rect:[g,w,x,S]}}static deserialize(n,r,i,s,a,{paths:{lines:o,points:l},rotation:c,thickness:u}){const f=[];let d,p,v,m,b;switch(c){case 0:b=We._rescale,d=-n/i,p=r/s+1,v=1/i,m=-1/s;break;case 90:b=We._rescaleAndSwap,d=-r/s,p=-n/i,v=1/s,m=1/i;break;case 180:b=We._rescale,d=n/i+1,p=-r/s,v=-1/i,m=1/s;break;case 270:b=We._rescaleAndSwap,d=r/s+1,p=n/i+1,v=-1/s,m=-1/i;break}if(!o){o=[];for(const w of l){const x=w.length;if(x===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const S=new Float32Array(3*(x-2));o.push(S);let[A,E,C,L]=w.subarray(0,4);S.set([NaN,NaN,NaN,NaN,A,E],0);for(let I=4;I<x;I+=2){const q=w[I],O=w[I+1];S.set(We.createBezierPoints(A,E,C,L,q,O),(I-2)*3),[A,E,C,L]=[C,L,q,O]}}}for(let w=0,x=o.length;w<x;w++)f.push({line:b(o[w].map(S=>S??NaN),d,p,v,m),points:b(l[w].map(S=>S??NaN),d,p,v,m)});const g=new this.prototype.constructor;return g.build(f,i,s,1,c,u,a),g}get box(){return h(this,Ps)}updateProperty(n,r){return n==="stroke-width"?F(this,Yi,SV).call(this,r):null}updateParentDimensions([n,r],i){const[s,a]=F(this,Yi,Yc).call(this);T(this,lc,n),T(this,cc,r),T(this,Iv,i);const[o,l]=F(this,Yi,Yc).call(this),c=o-s,u=l-a,f=h(this,Ps);return f[0]-=c,f[1]-=u,f[2]+=2*c,f[3]+=2*u,f}updateRotation(n){return T(this,kx,n),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,Ps).map(We.svgRound).join(" ")}get defaultProperties(){const[n,r]=h(this,Ps);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${We.svgRound(n)} ${We.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=h(this,Ps);let i=0,s=0,a=0,o=0,l=0,c=0;switch(h(this,kx)){case 90:s=r/n,a=-n/r,l=n;break;case 180:i=-1,o=-1,l=n,c=r;break;case 270:s=-r/n,a=n/r,c=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${We.svgRound(l)} ${We.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,s]){const[a,o]=F(this,Yi,Yc).call(this),[l,c,u,f]=h(this,Ps);if(Math.abs(u-a)<=We.PRECISION||Math.abs(f-o)<=We.PRECISION){const b=n+i/2-(l+u/2),g=r+s/2-(c+f/2);return{path:{"transform-origin":`${We.svgRound(n)} ${We.svgRound(r)}`,transform:`${this.rotationTransform} translate(${b} ${g})`}}}const d=(i-2*a)/(u-2*a),p=(s-2*o)/(f-2*o),v=u/i,m=f/s;return{path:{"transform-origin":`${We.svgRound(l)} ${We.svgRound(c)}`,transform:`${this.rotationTransform} scale(${v} ${m}) translate(${We.svgRound(a)} ${We.svgRound(o)}) scale(${d} ${p}) translate(${We.svgRound(-a)} ${We.svgRound(-o)})`}}}getPathResizedSVGProperties([n,r,i,s]){const[a,o]=F(this,Yi,Yc).call(this),l=h(this,Ps),[c,u,f,d]=l;if(l[0]=n,l[1]=r,l[2]=i,l[3]=s,Math.abs(f-a)<=We.PRECISION||Math.abs(d-o)<=We.PRECISION){const g=n+i/2-(c+f/2),w=r+s/2-(u+d/2);for(const{line:x,points:S}of h(this,Na))We._translate(x,g,w,x),We._translate(S,g,w,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${We.svgRound(n)} ${We.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(f-2*a),v=(s-2*o)/(d-2*o),m=-p*(c+a)+n+a,b=-v*(u+o)+r+o;if(p!==1||v!==1||m!==0||b!==0)for(const{line:g,points:w}of h(this,Na))We._rescale(g,m,b,p,v,g),We._rescale(w,m,b,p,v,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${We.svgRound(n)} ${We.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[s,a]=i,o=h(this,Ps),l=n-o[0],c=r-o[1];if(h(this,lc)===s&&h(this,cc)===a)for(const{line:u,points:f}of h(this,Na))We._translate(u,l,c,u),We._translate(f,l,c,f);else{const u=h(this,lc)/s,f=h(this,cc)/a;T(this,lc,s),T(this,cc,a);for(const{line:d,points:p}of h(this,Na))We._rescale(d,l,c,u,f,d),We._rescale(p,l,c,u,f,p);o[2]*=u,o[3]*=f}return o[0]=n,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${We.svgRound(n)} ${We.svgRound(r)}`}}}get defaultSVGProperties(){const n=h(this,Ps);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${We.svgRound(n[0])} ${We.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Ps=new WeakMap,kx=new WeakMap,Cx=new WeakMap,Na=new WeakMap,lc=new WeakMap,cc=new WeakMap,Iv=new WeakMap,Rv=new WeakMap,lg=new WeakMap,Yi=new WeakSet,Yc=function(n=h(this,lg)){const r=h(this,Cx)+n/2*h(this,Iv);return h(this,Rv)%180===0?[r/h(this,lc),r/h(this,cc)]:[r/h(this,cc),r/h(this,lc)]},_V=function(){const[n,r,i,s]=h(this,Ps),[a,o]=F(this,Yi,Yc).call(this,0);return[n+a,r+o,i-2*a,s-2*o]},AV=function(){const n=T(this,Ps,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of h(this,Na)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)ze.pointBoundingBox(s[l],s[l+1],n);continue}let a=s[4],o=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,f,d,p,v,m]=s.subarray(l,l+6);ze.bezierBoundingBox(a,o,u,f,d,p,v,m,n),a=v,o=m}}const[r,i]=F(this,Yi,Yc).call(this);n[0]=Ts(n[0]-r,0,1),n[1]=Ts(n[1]-i,0,1),n[2]=Ts(n[2]+r,0,1),n[3]=Ts(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},SV=function(n){const[r,i]=F(this,Yi,Yc).call(this);T(this,lg,n);const[s,a]=F(this,Yi,Yc).call(this),[o,l]=[s-r,a-i],c=h(this,Ps);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class ak extends wV{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Vn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new ak(this._viewParameters);return e.updateAll(this),e}}var HE,EV;const Zm=class Zm extends wE{constructor(n){super({...n,name:"inkEditor"});j(this,HE);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){Vn.initialize(n,r),this._defaultDrawingOptions=new ak(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Et(this,"typesMap",new Map([[Zt.INK_THICKNESS,"stroke-width"],[Zt.INK_COLOR,"stroke"],[Zt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,s,a){return new fEe(n,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,s,a,o){return Xx.deserialize(n,r,i,s,a,o)}static async deserialize(n,r,i){let s=null;if(n instanceof iR){const{data:{inkLists:o,rect:l,rotation:c,id:u,color:f,opacity:d,borderStyle:{rawWidth:p},popupRef:v,richText:m,contentsObj:b,creationDate:g,modificationDate:w},parent:{page:{pageNumber:x}}}=n;s=n={annotationType:Nt.INK,color:Array.from(f),thickness:p,opacity:d,paths:{points:o},boxes:null,pageIndex:x-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:v,richText:m,comment:(b==null?void 0:b.str)||null,creationDate:g,modificationDate:w}}const a=await super.deserialize(n,r,i);return a._initialData=s,n.comment&&a.setCommentData(n),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new mE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Zt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=Zm.getDefaultDrawingOptions({stroke:ze.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(n),{color:Vn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),n?(l.isCopy=!0,l):this.annotationElementId&&!F(this,HE,EV).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};HE=new WeakSet,EV=function(n){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((o,l)=>o!==r[l])||n.thickness!==i||n.opacity!==s||n.pageIndex!==a},Se(Zm,"_type","ink"),Se(Zm,"_editorType",Nt.INK),Se(Zm,"_defaultDrawingOptions",null);let w4=Zm;class x4 extends Xx{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const S5=8,O1=3;var cg,gn,_4,cl,PV,kV,A4,_A,CV,TV,OV,S4,E4,NV;class Du{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const f=200,d=u.font=`${r} ${i} ${f}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:m,actualBoundingBoxDescent:b,fontBoundingBoxAscent:g,fontBoundingBoxDescent:w,width:x}=u.measureText(e),S=1.5,A=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,x)*S),E=Math.ceil(Math.max(Math.abs(m)+Math.abs(b)||f,Math.abs(g)+Math.abs(w)||f)*S);c=new OffscreenCanvas(A,E),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=d,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,A,E),u.fillStyle="black",u.fillText(e,A*(S-1)/2,E*(3-S)/2);const C=F(this,gn,S4).call(this,u.getImageData(0,0,A,E).data),L=F(this,gn,OV).call(this,C),I=F(this,gn,E4).call(this,L),q=F(this,gn,A4).call(this,C,A,E,I);return this.processDrawnLines({lines:{curves:q,width:A,height:E},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,o,l]=F(this,gn,NV).call(this,e),[c,u]=F(this,gn,TV).call(this,a,o,l,Math.hypot(o,l)*h(this,cg).sigmaSFactor,h(this,cg).sigmaR,h(this,cg).kernelSize),f=F(this,gn,E4).call(this,u),d=F(this,gn,A4).call(this,c,o,l,f);return this.processDrawnLines({lines:{curves:d,width:o,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:u}=e,f=e.thickness??0,d=[],p=Math.min(n/c,r/u),v=p/n,m=p/r,b=[];for(const{points:w}of l){const x=a?F(this,gn,CV).call(this,w):w;if(!x)continue;b.push(x);const S=x.length,A=new Float32Array(S),E=new Float32Array(3*(S===2?2:S-2));if(d.push({line:E,points:A}),S===2){A[0]=x[0]*v,A[1]=x[1]*m,E.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[C,L,I,q]=x;C*=v,L*=m,I*=v,q*=m,A.set([C,L,I,q],0),E.set([NaN,NaN,NaN,NaN,C,L],0);for(let O=4;O<S;O+=2){const M=A[O]=x[O]*v,z=A[O+1]=x[O+1]*m;E.set(We.createBezierPoints(C,L,I,q,M,z),(O-2)*3),[C,L,I,q]=[I,q,M,z]}}if(d.length===0)return null;const g=o?new x4:new Xx;return g.build(d,n,r,1,i,o?0:f,s),{outline:g,newCurves:b,areContours:o,thickness:f,width:c,height:u}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const x of e){l+=x.length;for(let S=2,A=x.length;S<A;S++){const E=x[S]-x[S-2];a=Math.min(a,E),o=Math.max(o,E)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,f=S5+O1*u,d=new Uint32Array(f);let p=0;d[p++]=f*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,d[p++]=0,d[p++]=i,d[p++]=s,d[p++]=n?0:1,d[p++]=Math.max(0,Math.floor(r??0)),d[p++]=u,d[p++]=c.BYTES_PER_ELEMENT;for(const x of e)d[p++]=x.length-2,d[p++]=x[0],d[p++]=x[1];const v=new CompressionStream("deflate-raw"),m=v.writable.getWriter();await m.ready,m.write(d);const b=c.prototype.constructor;for(const x of e){const S=new b(x.length-2);for(let A=2,E=x.length;A<E;A++)S[A-2]=x[A]-x[A-2];m.write(S)}m.close();const g=await new Response(v.readable).arrayBuffer(),w=new Uint8Array(g);return TH(w)}static async decompressSignature(e){try{const n=kAe(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const x of r)a||(a=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),a.set(x,o),o+=x.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],f=l[3],d=l[4]===0,p=l[5],v=l[6],m=l[7],b=[],g=(S5+O1*v)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(m){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,g);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,g);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,g);break}o=0;for(let x=0;x<v;x++){const S=l[O1*x+S5],A=new Float32Array(S+2);b.push(A);for(let E=0;E<O1-1;E++)A[E]=l[O1*x+S5+E+1];for(let E=0;E<S;E++)A[E+2]=A[E]+w[o++]}return{areContours:d,thickness:p,outlines:b,width:u,height:f}}catch(n){return St(`decompressSignature: ${n}`),null}}}cg=new WeakMap,gn=new WeakSet,_4=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},cl=new WeakMap,PV=function(e,n,r,i,s,a,o){const l=F(this,gn,_4).call(this,r,i,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,f=h(this,cl)[2*u],d=h(this,cl)[2*u+1];if(e[(r+f)*n+(i+d)]!==0)return u}return-1},kV=function(e,n,r,i,s,a,o){const l=F(this,gn,_4).call(this,r,i,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,f=h(this,cl)[2*u],d=h(this,cl)[2*u+1];if(e[(r+f)*n+(i+d)]!==0)return u}return-1},A4=function(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)a[u*n]=a[u*n+n-1]=0;for(let u=0;u<n;u++)a[u]=a[n*r-1-u]=0;let o=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let f=1;f<n-1;f++){const d=u*n+f,p=a[d];if(p===0)continue;let v=u,m=f;if(p===1&&a[d-1]===0)o+=1,m-=1;else if(p>=1&&a[d+1]===0)o+=1,m+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const b=[f,u],g=m===f+1,w={isHole:g,points:b,id:o,parent:0};c.push(w);let x;for(const O of c)if(O.id===l){x=O;break}x?x.isHole?w.parent=g?x.parent:l:w.parent=g?l:x.parent:w.parent=g?l:0;const S=F(this,gn,PV).call(this,a,n,u,f,v,m,0);if(S===-1){a[d]=-o,a[d]!==1&&(l=Math.abs(a[d]));continue}let A=h(this,cl)[2*S],E=h(this,cl)[2*S+1];const C=u+A,L=f+E;v=C,m=L;let I=u,q=f;for(;;){const O=F(this,gn,kV).call(this,a,n,I,q,v,m,1);A=h(this,cl)[2*O],E=h(this,cl)[2*O+1];const M=I+A,z=q+E;b.push(z,M);const $=I*n+q;if(a[$+1]===0?a[$]=-o:a[$]===1&&(a[$]=o),M===u&&z===f&&I===C&&q===L){a[d]!==1&&(l=Math.abs(a[d]));break}else v=I,m=q,I=M,q=z}}}return c},_A=function(e,n,r,i){if(r-n<=4){for(let C=n;C<r-2;C+=2)i.push(e[C],e[C+1]);return}const s=e[n],a=e[n+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),u=o/c,f=l/c,d=u*a-f*s,p=l/o,v=1/c,m=Math.atan(p),b=Math.cos(m),g=Math.sin(m),w=v*(Math.abs(b)+Math.abs(g)),x=v*(1-w+w**2),S=Math.max(Math.atan(Math.abs(g+b)*x),Math.atan(Math.abs(g-b)*x));let A=0,E=n;for(let C=n+2;C<r-2;C+=2){const L=Math.abs(d-u*e[C+1]+f*e[C]);L>A&&(E=C,A=L)}A>(c*S)**2?(F(this,gn,_A).call(this,e,n,E+2,i),F(this,gn,_A).call(this,e,E,r,i)):i.push(s,a)},CV=function(e){const n=[],r=e.length;return F(this,gn,_A).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},TV=function(e,n,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let m=0;m<a;m++){const b=(m-c)**2;for(let g=0;g<a;g++)o[m*a+g]=Math.exp((b+(g-c)**2)/l)}const u=new Float32Array(256),f=-2*s**2;for(let m=0;m<256;m++)u[m]=Math.exp(m**2/f);const d=e.length,p=new Uint8Array(d),v=new Uint32Array(256);for(let m=0;m<r;m++)for(let b=0;b<n;b++){const g=m*n+b,w=e[g];let x=0,S=0;for(let E=0;E<a;E++){const C=m+E-c;if(!(C<0||C>=r))for(let L=0;L<a;L++){const I=b+L-c;if(I<0||I>=n)continue;const q=e[C*n+I],O=o[E*a+L]*u[Math.abs(q-w)];x+=q*O,S+=O}}const A=p[g]=Math.round(x/S);v[A]++}return[p,v]},OV=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},S4=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},E4=function(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,o=n-1),r=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},NV=function(e){const n=e,{width:r,height:i}=e,{maxDim:s}=h(this,cg);let a=r,o=i;if(r>s||i>s){let d=r,p=i,v=Math.log2(Math.max(r,i)/s);const m=Math.floor(v);v=v===m?m-1:m;for(let g=0;g<v;g++){a=Math.ceil(d/2),o=Math.ceil(p/2);const w=new OffscreenCanvas(a,o);w.getContext("2d").drawImage(e,0,0,d,p,0,0,a,o),d=a,p=o,e!==n&&e.close(),e=w.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[F(this,gn,S4).call(this,u),a,o]},j(Du,gn),j(Du,cg,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),j(Du,cl,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class sR extends wV{constructor(){super(),super.updateProperties({fill:Vn._defaultLineColor,"stroke-width":0})}clone(){const e=new sR;return e.updateAll(this),e}}class aR extends ak{constructor(e){super(e),super.updateProperties({stroke:Vn._defaultLineColor,"stroke-width":1})}clone(){const e=new aR(this._viewParameters);return e.updateAll(this),e}}var _f,uc,Af,ug;const fa=class fa extends wE{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});j(this,_f,!1);j(this,uc,null);j(this,Af,null);j(this,ug,null);this._willKeepAspectRatio=!0,T(this,Af,n.signatureData||null),T(this,uc,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){Vn.initialize(n,r),this._defaultDrawingOptions=new sR,this._defaultDrawnSignatureOptions=new aR(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Et(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!h(this,uc)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(h(this,Af)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:u}=h(this,Af),{rawDims:{pageWidth:f,pageHeight:d},rotation:p}=this.parent.viewport,v=Du.processDrawnLines({lines:s,pageWidth:f,pageHeight:d,rotation:p,innerMargin:fa._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(v,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:h(this,uc)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){T(this,ug,n),this.addEditToolbar()}getUuid(){return h(this,ug)}get description(){return h(this,uc)}set description(n){T(this,uc,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:s,height:a}=h(this,Af),o=Math.max(s,a),l=Du.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,s){const{x:a,y:o}=this,{outline:l}=T(this,Af,n);T(this,_f,l instanceof x4),this.description=i;let c;h(this,_f)?c=fa.getDefaultDrawingOptions():(c=fa._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let f=r/u;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Du.process(n,r,i,s,fa._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Du.extractContoursFromText(n,r,i,s,a,fa._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Du.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:s,innerMargin:fa._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=fa.getDefaultDrawingOptions():(this._drawingOptions=fa._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(n),{isSignature:!0,areContours:h(this,_f),color:[0,0,0],thickness:h(this,_f)?0:s});return this.addComment(a),n?(a.paths={lines:r,points:i},a.uuid=h(this,ug),a.isCopy=!0):a.lines=r,h(this,uc)&&(a.accessibilityData={type:"Figure",alt:h(this,uc)}),a}static deserializeDraw(n,r,i,s,a,o){return o.areContours?x4.deserialize(n,r,i,s,a,o):Xx.deserialize(n,r,i,s,a,o)}static async deserialize(n,r,i){var a;const s=await super.deserialize(n,r,i);return T(s,_f,n.areContours),s.description=((a=n.accessibilityData)==null?void 0:a.alt)||"",T(s,ug,n.uuid),s}};_f=new WeakMap,uc=new WeakMap,Af=new WeakMap,ug=new WeakMap,Se(fa,"_type","signature"),Se(fa,"_editorType",Nt.SIGNATURE),Se(fa,"_defaultDrawingOptions",null);let P4=fa;var ar,Ei,Sf,Lu,Ef,Mv,Iu,hg,hc,La,jv,cn,ab,ob,AA,SA,EA,C4,PA,LV;class k4 extends Vn{constructor(n){super({...n,name:"stampEditor"});j(this,cn);j(this,ar,null);j(this,Ei,null);j(this,Sf,null);j(this,Lu,null);j(this,Ef,null);j(this,Mv,"");j(this,Iu,null);j(this,hg,!1);j(this,hc,null);j(this,La,!1);j(this,jv,!1);T(this,Lu,n.bitmapUrl),T(this,Ef,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){Vn.initialize(n,r)}static isHandlingMimeForPasting(n){return fN.includes(n)}static paste(n,r){r.pasteEditor({mode:Nt.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;h(this,Ei)&&(T(this,ar,null),this._uiManager.imageManager.deleteId(h(this,Ei)),(n=h(this,Iu))==null||n.remove(),T(this,Iu,null),h(this,hc)&&(clearTimeout(h(this,hc)),T(this,hc,null))),super.remove()}rebuild(){if(!this.parent){h(this,Ei)&&F(this,cn,AA).call(this);return}super.rebuild(),this.div!==null&&(h(this,Ei)&&h(this,Iu)===null&&F(this,cn,AA).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(h(this,Sf)||h(this,ar)||h(this,Lu)||h(this,Ef)||h(this,Ei)||h(this,hg))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),h(this,hg)||(h(this,ar)?F(this,cn,SA).call(this):F(this,cn,AA).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(T(this,Ei,i),s&&T(this,ar,s),T(this,hg,!1),F(this,cn,SA).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,hc)!==null&&clearTimeout(h(this,hc)),T(this,hc,setTimeout(()=>{T(this,hc,null),F(this,cn,C4).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:s,height:a}=h(this,ar),o=new _c;let l=h(this,ar),c=s,u=a,f=null;if(r){if(s>r||a>r){const C=Math.min(r/s,r/a);c=Math.floor(s*C),u=Math.floor(a*C)}f=document.createElement("canvas");const p=f.width=Math.ceil(c*o.sx),v=f.height=Math.ceil(u*o.sy);h(this,La)||(l=F(this,cn,EA).call(this,p,v));const m=f.getContext("2d");m.filter=this._uiManager.hcmFilter;let b="white",g="#cfcfd8";this._uiManager.hcmFilter!=="none"?g="black":IAe.isDarkMode&&(b="#8f8f9d",g="#42414d");const w=15,x=w*o.sx,S=w*o.sy,A=new OffscreenCanvas(x*2,S*2),E=A.getContext("2d");E.fillStyle=b,E.fillRect(0,0,x*2,S*2),E.fillStyle=g,E.fillRect(0,0,x,S),E.fillRect(x,S,x,S),m.fillStyle=m.createPattern(A,"repeat"),m.fillRect(0,0,p,v),m.drawImage(l,0,0,l.width,l.height,0,0,p,v)}let d=null;if(i){let p,v;if(o.symmetric&&l.width<n&&l.height<n)p=l.width,v=l.height;else if(l=h(this,ar),s>n||a>n){const g=Math.min(n/s,n/a);p=Math.floor(s*g),v=Math.floor(a*g),h(this,La)||(l=F(this,cn,EA).call(this,p,v))}const b=new OffscreenCanvas(p,v).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,p,v),d={width:p,height:v,data:b.getImageData(0,0,p,v).data}}return{canvas:f,width:c,height:u,imageData:d}}static async deserialize(n,r,i){var b;let s=null,a=!1;if(n instanceof KW){const{data:{rect:g,rotation:w,id:x,structParent:S,popupRef:A,richText:E,contentsObj:C,creationDate:L,modificationDate:I},container:q,parent:{page:{pageNumber:O}},canvas:M}=n;let z,$;M?(delete n.canvas,{id:z,bitmap:$}=i.imageManager.getFromCanvas(q.id,M),M.remove()):(a=!0,n._hasNoCanvas=!0);const V=((b=await r._structTree.getAriaAttributes(`${Vm}${x}`))==null?void 0:b.get("aria-label"))||"";s=n={annotationType:Nt.STAMP,bitmapId:z,bitmap:$,pageIndex:O-1,rect:g.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:V},isSvg:!1,structParent:S,popupRef:A,richText:E,comment:(C==null?void 0:C.str)||null,creationDate:L,modificationDate:I}}const o=await super.deserialize(n,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:f,isSvg:d,accessibilityData:p}=n;a?(i.addMissingCanvas(n.id,o),T(o,hg,!0)):f&&i.imageManager.isValidId(f)?(T(o,Ei,f),c&&T(o,ar,c)):T(o,Lu,u),T(o,La,d);const[v,m]=o.pageDimensions;return o.width=(l[2]-l[0])/v,o.height=(l[3]-l[1])/m,p&&(o.altTextData=p),o._initialData=s,n.comment&&o.setCommentData(n),T(o,jv,!!s),o}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:h(this,Ei),isSvg:h(this,La)});if(this.addComment(i),n)return i.bitmapUrl=F(this,cn,PA).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=F(this,cn,LV).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=h(this,La)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(h(this,Ei)))r.stamps.set(h(this,Ei),{area:o,serialized:i}),i.bitmap=F(this,cn,PA).call(this,!1);else if(h(this,La)){const l=r.stamps.get(h(this,Ei));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=F(this,cn,PA).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}ar=new WeakMap,Ei=new WeakMap,Sf=new WeakMap,Lu=new WeakMap,Ef=new WeakMap,Mv=new WeakMap,Iu=new WeakMap,hg=new WeakMap,hc=new WeakMap,La=new WeakMap,jv=new WeakMap,cn=new WeakSet,ab=function(n,r=!1){if(!n){this.remove();return}T(this,ar,n.bitmap),r||(T(this,Ei,n.id),T(this,La,n.isSvg)),n.file&&T(this,Mv,n.file.name),F(this,cn,SA).call(this)},ob=function(){if(T(this,Sf,null),this._uiManager.enableWaiting(!1),!!h(this,Iu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ar)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ar)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},AA=function(){if(h(this,Ei)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Ei)).then(i=>F(this,cn,ab).call(this,i,!0)).finally(()=>F(this,cn,ob).call(this));return}if(h(this,Lu)){const i=h(this,Lu);T(this,Lu,null),this._uiManager.enableWaiting(!0),T(this,Sf,this._uiManager.imageManager.getFromUrl(i).then(s=>F(this,cn,ab).call(this,s)).finally(()=>F(this,cn,ob).call(this)));return}if(h(this,Ef)){const i=h(this,Ef);T(this,Ef,null),this._uiManager.enableWaiting(!0),T(this,Sf,this._uiManager.imageManager.getFromFile(i).then(s=>F(this,cn,ab).call(this,s)).finally(()=>F(this,cn,ob).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=fN.join(",");const r=this._uiManager._signal;T(this,Sf,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,cn,ab).call(this,s)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>F(this,cn,ob).call(this))),n.click()},SA=function(){var c;const{div:n}=this;let{width:r,height:i}=h(this,ar);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const u=Math.min(o*s/r,o*a/i);r*=u,i*=u}this._uiManager.enableWaiting(!1);const l=T(this,Iu,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),F(this,cn,C4).call(this),h(this,jv)||(this.parent.addUndoableEditor(this),T(this,jv,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Mv)&&this.div.setAttribute("aria-description",h(this,Mv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},EA=function(n,r){const{width:i,height:s}=h(this,ar);let a=i,o=s,l=h(this,ar);for(;a>2*n||o>2*r;){const c=a,u=o;a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,c,u,0,0,a,o),l=f.transferToImageBitmap()}return l},C4=function(){const[n,r]=this.parentDimensions,{width:i,height:s}=this,a=new _c,o=Math.ceil(i*n*a.sx),l=Math.ceil(s*r*a.sy),c=h(this,Iu);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=h(this,La)?h(this,ar):F(this,cn,EA).call(this,o,l),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(u,0,0,u.width,u.height,0,0,o,l)},PA=function(n){if(n){if(h(this,La)){const s=this._uiManager.imageManager.getSvgUrl(h(this,Ei));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=h(this,ar),r.getContext("2d").drawImage(h(this,ar),0,0),r.toDataURL()}if(h(this,La)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Yf.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Yf.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(h(this,ar),0,0,h(this,ar).width,h(this,ar).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(h(this,ar))},LV=function(n){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=n.pageIndex===r,a=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Se(k4,"_type","stamp"),Se(k4,"_editorType",Nt.STAMP);var fg,Dv,Pf,kf,Ru,Vs,Cf,Fv,$v,ul,Mu,Pi,ju,Tf,Bv,Qe,Of,Mn,O4,IV,Ul,N4,L4,kA;const Jo=class Jo{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){j(this,Mn);j(this,fg);j(this,Dv,!1);j(this,Pf,null);j(this,kf,null);j(this,Ru,null);j(this,Vs,new Map);j(this,Cf,!1);j(this,Fv,!1);j(this,$v,!1);j(this,ul,null);j(this,Mu,null);j(this,Pi,null);j(this,ju,null);j(this,Tf,null);j(this,Bv,-1);j(this,Qe);const f=[...h(Jo,Of).values()];if(!Jo._initialized){Jo._initialized=!0;for(const d of f)d.initialize(u,e)}e.registerEditorTypes(f),T(this,Qe,e),this.pageIndex=n,this.div=r,T(this,fg,s),T(this,Pf,a),this.viewport=c,T(this,Pi,l),this.drawLayer=o,this._structTree=i,h(this,Qe).addLayer(this)}get isEmpty(){return h(this,Vs).size===0}get isInvisible(){return this.isEmpty&&h(this,Qe).getMode()===Nt.NONE}updateToolbar(e){h(this,Qe).updateToolbar(e)}updateMode(e=h(this,Qe).getMode()){switch(F(this,Mn,kA).call(this),e){case Nt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Nt.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of h(Jo,Of).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=h(this,Pi))==null?void 0:n.div)}setEditingState(e){h(this,Qe).setEditingState(e)}addCommands(e){h(this,Qe).addCommands(e)}cleanUndoStack(e){h(this,Qe).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=h(this,Pf))==null||n.togglePointerEvents(e)}async enable(){var r;T(this,$v,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=h(this,Tf))==null||r.abort(),T(this,Tf,null);const e=new Set;for(const i of h(this,Mn,O4))i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,Qe).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=h(this,Pf);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),h(this,Qe).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}T(this,$v,!1),h(this,Qe)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(T(this,Fv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),h(this,Pi)&&!h(this,Tf)){T(this,Tf,new AbortController);const s=h(this,Qe).combinedSignal(h(this,Tf));h(this,Pi).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:u}=a,f=h(this,Bv);if(u-f>500){T(this,Bv,u);return}T(this,Bv,-1);const{classList:d}=this.div;d.toggle("getElements",!0);const p=document.elementsFromPoint(l,c);if(d.toggle("getElements",!1),!this.div.contains(p[0]))return;let v;const m=new RegExp(`^${Iw}[0-9]+$`);for(const g of p)if(m.test(g.id)){v=g.id;break}if(!v)return;const b=h(this,Vs).get(v);(b==null?void 0:b.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:s,capture:!0})}const e=h(this,Pf),n=[];if(e){const s=new Map,a=new Map;for(const l of h(this,Mn,O4)){if(l.disableEditing(),!l.annotationElementId){n.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(h(this,Qe).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=a.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=s.get(c),u&&(h(this,Qe).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}F(this,Mn,kA).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of h(Jo,Of).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(n),T(this,Fv,!1)}getEditableAnnotation(e){var n;return((n=h(this,Pf))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,Qe).getActive()!==e&&h(this,Qe).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,Pi))!=null&&e.div&&!h(this,ju)){T(this,ju,new AbortController);const n=h(this,Qe).combinedSignal(h(this,ju));h(this,Pi).div.addEventListener("pointerdown",F(this,Mn,IV).bind(this),{signal:n}),h(this,Pi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,Pi))!=null&&e.div&&h(this,ju)&&(h(this,ju).abort(),T(this,ju,null),h(this,Pi).div.classList.remove("highlighting"))}enableClick(){if(h(this,kf))return;T(this,kf,new AbortController);const e=h(this,Qe).combinedSignal(h(this,kf));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=h(this,kf))==null||e.abort(),T(this,kf,null)}attach(e){h(this,Vs).set(e.id,e);const{annotationElementId:n}=e;n&&h(this,Qe).isDeletedAnnotationElement(n)&&h(this,Qe).removeDeletedAnnotationElement(e)}detach(e){var n;h(this,Vs).delete(e.id),(n=h(this,fg))==null||n.removePointerInTextLayer(e.contentDiv),!h(this,Fv)&&e.annotationElementId&&h(this,Qe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,Qe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,Qe).addDeletedAnnotationElement(e),Vn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,Qe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!h(this,$v)),h(this,Qe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!h(this,Ru)&&(e._focusEventsAllowed=!1,T(this,Ru,setTimeout(()=>{T(this,Ru,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,Qe)._signal}),n.focus())},0))),e._structTreeParentId=(r=h(this,fg))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of h(this,Vs).values())if(n.uid===e)return n;return null}getNextId(){return h(this,Qe).getId()}combinedSignal(e){return h(this,Qe).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,Mn,Ul))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await h(this,Qe).updateMode(e.mode);const{offsetX:r,offsetY:i}=F(this,Mn,L4).call(this),s=this.getNextId(),a=F(this,Mn,N4).call(this,{parent:this,id:s,x:r,y:i,uiManager:h(this,Qe),isCentered:!0,...n});a&&this.add(a)}async deserialize(e){var n;return await((n=h(Jo,Of).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,h(this,Qe)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=F(this,Mn,N4).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:h(this,Qe),isCentered:n,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(F(this,Mn,L4).call(this),!0,e)}setSelected(e){h(this,Qe).setSelected(e)}toggleSelected(e){h(this,Qe).toggleSelected(e)}unselect(e){h(this,Qe).unselect(e)}pointerup(e){var i;const{isMac:n}=vi.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!h(this,Cf)||(T(this,Cf,!1),(i=h(this,Mn,Ul))!=null&&i.isDrawer&&h(this,Mn,Ul).supportMultipleDrawings))return;if(!h(this,Dv)){T(this,Dv,!0);return}const r=h(this,Qe).getMode();if(r===Nt.STAMP||r===Nt.SIGNATURE){h(this,Qe).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(h(this,Qe).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),h(this,Cf)){T(this,Cf,!1);return}const{isMac:n}=vi.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(T(this,Cf,!0),(i=h(this,Mn,Ul))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=h(this,Qe).getActive();T(this,Dv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),h(this,ul)){h(this,Mn,Ul).startDrawing(this,h(this,Qe),!1,e);return}h(this,Qe).setCurrentDrawingSession(this),T(this,ul,new AbortController);const n=h(this,Qe).combinedSignal(h(this,ul));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(T(this,Mu,null),this.commitOrRemove())},{signal:n}),h(this,Mn,Ul).startDrawing(this,h(this,Qe),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&T(this,Mu,n);return}h(this,Mu)&&setTimeout(()=>{var n;(n=h(this,Mu))==null||n.focus(),T(this,Mu,null)},0)}endDrawingSession(e=!1){return h(this,ul)?(h(this,Qe).setCurrentDrawingSession(null),h(this,ul).abort(),T(this,ul,null),T(this,Mu,null),h(this,Mn,Ul).endDrawing(e)):null}findNewParent(e,n,r){const i=h(this,Qe).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return h(this,ul)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,ul)&&h(this,Mn,Ul).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=h(this,Qe).getActive())==null?void 0:e.parent)===this&&(h(this,Qe).commitOrRemove(),h(this,Qe).setActiveEditor(null)),h(this,Ru)&&(clearTimeout(h(this,Ru)),T(this,Ru,null));for(const r of h(this,Vs).values())(n=h(this,fg))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,h(this,Vs).clear(),h(this,Qe).removeLayer(this)}render({viewport:e}){this.viewport=e,Tg(this.div,e);for(const n of h(this,Qe).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){h(this,Qe).commitOrRemove(),F(this,Mn,kA).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Tg(this.div,{rotation:r}),n!==r)for(const i of h(this,Vs).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return h(this,Qe).viewParameters.realScale}};fg=new WeakMap,Dv=new WeakMap,Pf=new WeakMap,kf=new WeakMap,Ru=new WeakMap,Vs=new WeakMap,Cf=new WeakMap,Fv=new WeakMap,$v=new WeakMap,ul=new WeakMap,Mu=new WeakMap,Pi=new WeakMap,ju=new WeakMap,Tf=new WeakMap,Bv=new WeakMap,Qe=new WeakMap,Of=new WeakMap,Mn=new WeakSet,O4=function(){return h(this,Vs).size!==0?h(this,Vs).values():h(this,Qe).getEditors(this.pageIndex)},IV=function(e){h(this,Qe).unselectAll();const{target:n}=e;if(n===h(this,Pi).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&h(this,Pi).div.contains(n)){const{isMac:r}=vi.platform;if(e.button!==0||e.ctrlKey&&r)return;h(this,Qe).showAllEditors("highlight",!0,!0),h(this,Pi).div.classList.add("free"),this.toggleDrawing(),bE.startHighlighting(this,h(this,Qe).direction==="ltr",{target:h(this,Pi).div,x:e.x,y:e.y}),h(this,Pi).div.addEventListener("pointerup",()=>{h(this,Pi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,Qe)._signal}),e.preventDefault()}},Ul=function(){return h(Jo,Of).get(h(this,Qe).getMode())},N4=function(e){const n=h(this,Mn,Ul);return n?new n.prototype.constructor(e):null},L4=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+o)/2-e,u=(a+l)/2-n,[f,d]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:f,offsetY:d}},kA=function(){for(const e of h(this,Vs).values())e.isEmpty()&&e.remove()},Se(Jo,"_initialized",!1),j(Jo,Of,new Map([u4,w4,k4,bE,P4].map(e=>[e._editorType,e])));let T4=Jo;var hl,ks,dg,Tx,WE,RV,Ac,R4,MV,M4;const ui=class ui{constructor({pageIndex:e}){j(this,Ac);j(this,hl,null);j(this,ks,new Map);j(this,dg,new Map);this.pageIndex=e}setParent(e){if(!h(this,hl)){T(this,hl,e);return}if(h(this,hl)!==e){if(h(this,ks).size>0)for(const n of h(this,ks).values())n.remove(),e.append(n);T(this,hl,e)}}static get _svgFactory(){return Et(this,"_svgFactory",new vE)}draw(e,n=!1,r=!1){const i=si(ui,Tx)._++,s=F(this,Ac,R4).call(this),a=ui._svgFactory.createElement("defs");s.append(a);const o=ui._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&h(this,dg).set(i,o);const c=r?F(this,Ac,MV).call(this,a,l):null,u=ui._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),h(this,ks).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=si(ui,Tx)._++,i=F(this,Ac,R4).call(this),s=ui._svgFactory.createElement("defs");i.append(s);const a=ui._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const f=ui._svgFactory.createElement("mask");s.append(f),l=`mask_p${this.pageIndex}_${r}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const d=ui._svgFactory.createElement("rect");f.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const p=ui._svgFactory.createElement("use");f.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=ui._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),h(this,ks).set(r,i),r}finalizeDraw(e,n){h(this,dg).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,o=typeof e=="number"?h(this,ks).get(e):e;if(o){if(r&&F(this,Ac,M4).call(this,o,r),i&&F(l=ui,WE,RV).call(l,o,i),s){const{classList:c}=o;for(const[u,f]of Object.entries(s))c.toggle(u,f)}if(a){const u=o.firstElementChild.firstElementChild;F(this,Ac,M4).call(this,u,a)}}}updateParent(e,n){if(n===this)return;const r=h(this,ks).get(e);r&&(h(n,hl).append(r),h(this,ks).delete(e),h(n,ks).set(e,r))}remove(e){h(this,dg).delete(e),h(this,hl)!==null&&(h(this,ks).get(e).remove(),h(this,ks).delete(e))}destroy(){T(this,hl,null);for(const e of h(this,ks).values())e.remove();h(this,ks).clear(),h(this,dg).clear()}};hl=new WeakMap,ks=new WeakMap,dg=new WeakMap,Tx=new WeakMap,WE=new WeakSet,RV=function(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Ac=new WeakSet,R4=function(){const e=ui._svgFactory.create(1,1,!0);return h(this,hl).append(e),e.setAttribute("aria-hidden",!0),e},MV=function(e,n){const r=ui._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=ui._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i},M4=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},j(ui,WE),j(ui,Tx,0);let I4=ui;globalThis._pdfjsTestingUtils={HighlightOutliner:f4};globalThis.pdfjsLib={AbortException:Kf,AnnotationEditorLayer:T4,AnnotationEditorParamsType:Zt,AnnotationEditorType:Nt,AnnotationEditorUIManager:Og,AnnotationLayer:l4,AnnotationMode:$h,AnnotationType:Vr,applyOpacity:MAe,build:qSe,ColorPicker:gE,createValidAbsoluteUrl:EH,CSSConstants:RAe,DOMSVGFactory:vE,DrawLayer:I4,FeatureTest:vi,fetchData:Wx,findContrastColor:jAe,getDocument:IW,getFilenameFromUrl:CAe,getPdfFilenameFromUrl:TAe,getRGB:Gx,getUuid:CH,getXfaPageViewport:NAe,GlobalWorkerOptions:dc,ImageKind:K5,InvalidPDFException:uN,isDataScheme:ik,isPdfFile:QI,isValidExplicitDest:GAe,MathClamp:Ts,noContextMenu:Ro,normalizeUnicode:EAe,OPS:Rw,OutputScale:_c,PasswordResponses:mAe,PDFDataRangeTransport:RW,PDFDateString:cE,PDFWorker:Dw,PermissionFlag:gAe,PixelsPerInch:Yf,RenderingCancelledException:ZI,renderRichText:NH,ResponseException:lE,setLayerDimensions:Tg,shadow:Et,SignatureExtractor:Du,stopEvent:Or,SupportedImageMimeTypes:fN,TextLayer:jw,TouchManager:hE,updateUrlHash:PH,Util:ze,VerbosityLevel:tk,version:zSe,XfaLayer:OH};const jV="5.4.530",dEe=`https://unpkg.com/pdfjs-dist@${jV}/build/pdf.worker.min.mjs`,pEe=`https://unpkg.com/pdfjs-dist@${jV}/standard_fonts/`;dc.workerSrc=dEe;class Mh extends Error{constructor(n,r,i){super(n);Se(this,"code");Se(this,"originalError");this.name="PdfExtractionError",this.code=r,this.originalError=i,Error.captureStackTrace&&Error.captureStackTrace(this,Mh)}}function gEe(t){return"str"in t&&typeof t.str=="string"}async function mEe(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{r.result instanceof ArrayBuffer?e(r.result):n(new Error("Failed to read file as ArrayBuffer"))},r.onerror=()=>{var i;n(new Error(`FileReader error: ${((i=r.error)==null?void 0:i.message)||"Unknown error"}`))},r.readAsArrayBuffer(t)})}function KF(t){if(!t)return null;const e=t.match(/D:(\d{4})(\d{2})(\d{2})(\d{2})?(\d{2})?(\d{2})?/);if(e){const[,r,i,s,a="00",o="00",l="00"]=e;return new Date(parseInt(r),parseInt(i)-1,parseInt(s),parseInt(a),parseInt(o),parseInt(l))}const n=new Date(t);return isNaN(n.getTime())?null:n}function vEe(t,e){return e.normalizeWhitespace?t.replace(/[^\S\n]+/g," ").replace(/\n{3,}/g,`

`).split(`
`).map(n=>n.trim()).join(`
`).trim():t}function yEe(t){return t.split(/\s+/).filter(e=>e.length>0).length}async function bEe(t,e){const n=await t.getTextContent(),r=[];let i=null;for(const s of n.items)if(gEe(s)){const a=s.transform[5];i!==null&&Math.abs(a-i)>5?r.push(e):r.length>0&&!r[r.length-1].endsWith(" ")&&r.push(" "),r.push(s.str),i=a}return r.join("")}async function wEe(t){try{const n=(await t.getMetadata()).info||{};return{title:n.Title||null,author:n.Author||null,subject:n.Subject||null,keywords:n.Keywords||null,creator:n.Creator||null,producer:n.Producer||null,creationDate:KF(n.CreationDate),modificationDate:KF(n.ModDate),pageCount:t.numPages,isEncrypted:n.IsEncrypted||!1,pdfVersion:n.PDFFormatVersion||null}}catch{return{title:null,author:null,subject:null,keywords:null,creator:null,producer:null,creationDate:null,modificationDate:null,pageCount:t.numPages,isEncrypted:!1,pdfVersion:null}}}function xEe(t){const e=(t==null?void 0:t.message)||String(t);return e.includes("Invalid PDF structure")||e.includes("Invalid XRef")?{code:"CORRUPTED_FILE",message:"The PDF file appears to be corrupted or has an invalid structure."}:e.includes("password")?e.includes("incorrect")||e.includes("wrong")?{code:"INCORRECT_PASSWORD",message:"The provided password is incorrect."}:{code:"PASSWORD_REQUIRED",message:"This PDF is password-protected. Please provide the password."}:e.includes("not a PDF")||e.includes("Invalid header")?{code:"INVALID_FILE",message:"The file does not appear to be a valid PDF document."}:e.includes("Worker")?{code:"WORKER_ERROR",message:"PDF processing worker failed to initialize."}:{code:"EXTRACTION_FAILED",message:`Failed to extract text from PDF: ${e}`}}async function _Ee(t,e={}){var s,a,o,l;const n=performance.now(),r={password:e.password,maxPages:e.maxPages,skipEmptyPages:e.skipEmptyPages??!1,includePageNumbers:e.includePageNumbers??!1,pageSeparator:e.pageSeparator??`

`,lineSeparator:e.lineSeparator??`
`,normalizeWhitespace:e.normalizeWhitespace??!0,onProgress:e.onProgress};if((s=r.onProgress)==null||s.call(r,{currentPage:0,totalPages:0,percentage:0,status:"loading",message:"Loading PDF document..."}),!t)throw new Mh("No file provided","INVALID_FILE");if(t.type&&t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf"))throw new Mh("The provided file does not appear to be a PDF","INVALID_FILE");let i=null;try{const c=await mEe(t);if(c.byteLength===0)throw new Mh("The PDF file is empty","EMPTY_DOCUMENT");i=await IW({data:c,password:r.password,disableFontFace:!0,useSystemFonts:!1,standardFontDataUrl:pEe}).promise;const f=i.numPages,d=r.maxPages?Math.min(f,r.maxPages):f;if(f===0)throw new Mh("The PDF document has no pages","EMPTY_DOCUMENT");const p=await wEe(i),v=[],m=[];for(let A=1;A<=d;A++){(a=r.onProgress)==null||a.call(r,{currentPage:A,totalPages:d,percentage:Math.round(A/d*100),status:"extracting",message:`Extracting page ${A} of ${d}...`});try{const E=await i.getPage(A),C=E.getViewport({scale:1}),L=await bEe(E,r.lineSeparator),I={pageNumber:A,text:L,wordCount:yEe(L),charCount:L.length,hasText:L.trim().length>0,width:C.width,height:C.height};v.push(I),(I.hasText||!r.skipEmptyPages)&&(r.includePageNumbers?m.push(`[Page ${A}]${r.lineSeparator}${L}`):m.push(L))}catch(E){console.warn(`Warning: Failed to extract text from page ${A}:`,E),v.push({pageNumber:A,text:"",wordCount:0,charCount:0,hasText:!1,width:0,height:0})}}let b=m.join(r.pageSeparator);b=vEe(b,r);const g=v.filter(A=>A.hasText).length,w=v.reduce((A,E)=>A+E.wordCount,0),x=v.reduce((A,E)=>A+E.charCount,0),S={totalPages:d,pagesWithText:g,pagesWithoutText:d-g,totalWords:w,totalCharacters:x,extractionTimeMs:Math.round(performance.now()-n),averageWordsPerPage:d>0?Math.round(w/d):0};return(o=r.onProgress)==null||o.call(r,{currentPage:d,totalPages:d,percentage:100,status:"complete",message:`Extraction complete. Found ${w} words across ${g} pages.`}),{text:b,metadata:p,pages:v,stats:S}}catch(c){if((l=r.onProgress)==null||l.call(r,{currentPage:0,totalPages:0,percentage:0,status:"error",message:c instanceof Error?c.message:"Unknown error occurred"}),c instanceof Mh)throw c;const{code:u,message:f}=xEe(c);throw new Mh(f,u,c instanceof Error?c:void 0)}finally{if(i)try{await i.destroy()}catch(c){console.warn("Warning: Failed to cleanup PDF document:",c)}}}async function DV(t){return(await _Ee(t,{normalizeWhitespace:!0,skipEmptyPages:!0})).text}class AEe extends Error{constructor(n,r){super(n);Se(this,"code");this.name="ArbitrageError",this.code=r}}const FV=[{id:"firm-001",name:"Deloitte",tier:"big4",avgPremium:.12,winRate:.35,specializations:["R&D","ERC","179D","WOTC"],minDealSize:5e4,maxDealSize:1e7,isActive:!0},{id:"firm-002",name:"KPMG",tier:"big4",avgPremium:.1,winRate:.32,specializations:["R&D","ERC","State Credits"],minDealSize:75e3,maxDealSize:1e7,isActive:!0},{id:"firm-003",name:"EY",tier:"big4",avgPremium:.11,winRate:.3,specializations:["R&D","ERC","Green Energy"],minDealSize:5e4,maxDealSize:1e7,isActive:!0},{id:"firm-004",name:"PwC",tier:"big4",avgPremium:.13,winRate:.28,specializations:["R&D","ERC","M&A Credits"],minDealSize:1e5,maxDealSize:1e7,isActive:!0},{id:"firm-005",name:"RSM",tier:"national",avgPremium:.08,winRate:.42,specializations:["R&D","ERC","WOTC"],minDealSize:25e3,maxDealSize:2e6,isActive:!0},{id:"firm-006",name:"BDO",tier:"national",avgPremium:.07,winRate:.38,specializations:["R&D","ERC","Manufacturing"],minDealSize:25e3,maxDealSize:2e6,isActive:!0},{id:"firm-007",name:"Grant Thornton",tier:"national",avgPremium:.09,winRate:.36,specializations:["R&D","ERC","179D"],minDealSize:3e4,maxDealSize:3e6,isActive:!0},{id:"firm-008",name:"Moss Adams",tier:"regional",avgPremium:.06,winRate:.45,specializations:["R&D","Tech Credits"],minDealSize:15e3,maxDealSize:1e6,isActive:!0},{id:"firm-009",name:"CLA",tier:"regional",avgPremium:.05,winRate:.48,specializations:["R&D","ERC","Agriculture"],minDealSize:1e4,maxDealSize:1e6,isActive:!0},{id:"firm-010",name:"Plante Moran",tier:"regional",avgPremium:.055,winRate:.44,specializations:["R&D","Manufacturing"],minDealSize:15e3,maxDealSize:15e5,isActive:!0},{id:"firm-011",name:"Armanino",tier:"regional",avgPremium:.065,winRate:.4,specializations:["R&D","Tech","Startups"],minDealSize:1e4,maxDealSize:5e5,isActive:!0},{id:"firm-012",name:"Marcum",tier:"regional",avgPremium:.058,winRate:.41,specializations:["R&D","Real Estate"],minDealSize:2e4,maxDealSize:1e6,isActive:!0}];function SEe(t="GF"){const e=Date.now().toString(36).toUpperCase(),n=Math.random().toString(36).substring(2,8).toUpperCase();return`${t}-${e}-${n}`}function lT(t,e){return Math.random()*(e-t)+t}function CA(t,e){return Math.floor(Math.random()*(e-t+1))+t}function EEe(t){const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}function PEe(t){return FV.filter(e=>e.isActive&&t>=e.minDealSize&&t<=e.maxDealSize)}function kEe(){const t=CA(24,72);return new Date(Date.now()+t*60*60*1e3).toISOString()}function CEe(t,e){return t>=5e5&&(e==="big4"||e==="national")?"urgent":t>=2e5?"high":t>=5e4?"standard":"low"}function TEe(t,e={}){if(t<=0)throw new AEe("Deal value must be greater than 0","VALIDATION_ERROR");const{minBids:n=3,maxBids:r=5,minBidPercentage:i=.03,maxBidPercentage:s=.08,dealId:a=null,costBasis:o=t*.008}=e;let l=PEe(t);l.length===0&&(l=FV.filter(v=>v.isActive));const c=EEe(l),u=Math.min(CA(n,r),c.length),f=c.slice(0,u),d=new Date().toISOString();return f.map(v=>{const m=lT(i,s),b=v.avgPremium*lT(.5,1.5),g=Math.min(s*1.2,m+b),w=Math.round(t*g),x=w-o,S=o>0?x/o*100:0,A=SEe("BID");return{id:A,bidId:A,dealId:a,firmId:v.id,firmName:v.name,firmTier:v.tier,bidAmount:w,bidPercentage:Math.round(g*1e4)/100,status:"OPEN",priority:CEe(t,v.tier),expiresAt:kEe(),createdAt:d,metadata:{dealValue:t,spread:x,spreadPercentage:Math.round(S*100)/100,firmRating:Math.round(lT(3.5,5)*10)/10,estimatedCloseTime:v.tier==="big4"?CA(5,14):CA(3,10),terms:["Standard engagement letter required","Audit defense included for 3 years"]}}}).sort((v,m)=>m.bidAmount-v.bidAmount)}function xE(t){return t>=1e6?`$${(t/1e6).toFixed(2)}M`:t>=1e3?`$${(t/1e3).toFixed(1)}K`:`$${t.toLocaleString()}`}function OEe(t){switch(t){case"big4":return"text-amber-400";case"national":return"text-cyan-400";case"regional":return"text-emerald-400";case"boutique":return"text-purple-400";default:return"text-slate-400"}}function NEe(t){switch(t){case"big4":return"BIG4";case"national":return"NATL";case"regional":return"RGNL";case"boutique":return"BTQE"}}const LEe="modulepreload",IEe=function(t){return"/"+t},YF={},cT=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=IEe(l),l in YF)return;YF[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":LEe,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function wn(t){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(t)}var Al=Uint8Array,za=Uint16Array,oR=Int32Array,lR=new Al([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cR=new Al([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),XF=new Al([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$V=function(t,e){for(var n=new za(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new oR(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},BV=$V(lR,2),REe=BV.b,j4=BV.r;REe[28]=258,j4[258]=28;var MEe=$V(cR,0),JF=MEe.r,D4=new za(32768);for(var Qn=0;Qn<32768;++Qn){var kh=(Qn&43690)>>1|(Qn&21845)<<1;kh=(kh&52428)>>2|(kh&13107)<<2,kh=(kh&61680)>>4|(kh&3855)<<4,D4[Qn]=((kh&65280)>>8|(kh&255)<<8)>>1}var Eb=function(t,e,n){for(var r=t.length,i=0,s=new za(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new za(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new za(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=a[t[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)o[D4[f]>>l]=c}else for(o=new za(r),i=0;i<r;++i)t[i]&&(o[i]=D4[a[t[i]-1]++]>>15-t[i]);return o},Lg=new Al(288);for(var Qn=0;Qn<144;++Qn)Lg[Qn]=8;for(var Qn=144;Qn<256;++Qn)Lg[Qn]=9;for(var Qn=256;Qn<280;++Qn)Lg[Qn]=7;for(var Qn=280;Qn<288;++Qn)Lg[Qn]=8;var _E=new Al(32);for(var Qn=0;Qn<32;++Qn)_E[Qn]=5;var jEe=Eb(Lg,9,0),DEe=Eb(_E,5,0),UV=function(t){return(t+7)/8|0},FEe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Al(t.subarray(e,n))},Wc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},N1=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},uT=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:qV,l:0};if(i==1){var a=new Al(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(A,E){return A.f-E.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=s[0].s,r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var p=new za(d+1),v=F4(n[u-1],p,0);if(v>e){var r=0,m=0,b=v-e,g=1<<b;for(s.sort(function(E,C){return p[C.s]-p[E.s]||E.f-C.f});r<i;++r){var w=s[r].s;if(p[w]>e)m+=g-(1<<v-p[w]),p[w]=e;else break}for(m>>=b;m>0;){var x=s[r].s;p[x]<e?m-=1<<e-p[x]++-1:++r}for(;r>=0&&m;--r){var S=s[r].s;p[S]==e&&(--p[S],++m)}v=e}return{t:new Al(p),l:v}},F4=function(t,e,n){return t.s==-1?Math.max(F4(t.l,e,n+1),F4(t.r,e,n+1)):e[t.s]=n},ZF=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new za(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},L1=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},zV=function(t,e,n){var r=n.length,i=UV(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},QF=function(t,e,n,r,i,s,a,o,l,c,u){Wc(e,u++,n),++i[256];for(var f=uT(i,15),d=f.t,p=f.l,v=uT(s,15),m=v.t,b=v.l,g=ZF(d),w=g.c,x=g.n,S=ZF(m),A=S.c,E=S.n,C=new za(19),L=0;L<w.length;++L)++C[w[L]&31];for(var L=0;L<A.length;++L)++C[A[L]&31];for(var I=uT(C,7),q=I.t,O=I.l,M=19;M>4&&!q[XF[M-1]];--M);var z=c+5<<3,$=L1(i,Lg)+L1(s,_E)+a,V=L1(i,d)+L1(s,m)+a+14+3*M+L1(C,q)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&z<=$&&z<=V)return zV(e,u,t.subarray(l,l+c));var X,Q,W,re;if(Wc(e,u,1+(V<$)),u+=2,V<$){X=Eb(d,p,0),Q=d,W=Eb(m,b,0),re=m;var ce=Eb(q,O,0);Wc(e,u,x-257),Wc(e,u+5,E-1),Wc(e,u+10,M-4),u+=14;for(var L=0;L<M;++L)Wc(e,u+3*L,q[XF[L]]);u+=3*M;for(var ae=[w,A],D=0;D<2;++D)for(var K=ae[D],L=0;L<K.length;++L){var ee=K[L]&31;Wc(e,u,ce[ee]),u+=q[ee],ee>15&&(Wc(e,u,K[L]>>5&127),u+=K[L]>>12)}}else X=jEe,Q=Lg,W=DEe,re=_E;for(var L=0;L<o;++L){var se=r[L];if(se>255){var ee=se>>18&31;N1(e,u,X[ee+257]),u+=Q[ee+257],ee>7&&(Wc(e,u,se>>23&31),u+=lR[ee]);var oe=se&31;N1(e,u,W[oe]),u+=re[oe],oe>3&&(N1(e,u,se>>5&8191),u+=cR[oe])}else N1(e,u,X[se]),u+=Q[se]}return N1(e,u,X[256]),u+Q[256]},$Ee=new oR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qV=new Al(0),BEe=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Al(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var f=$Ee[e-1],d=f>>13,p=f&8191,v=(1<<n)-1,m=s.p||new za(32768),b=s.h||new za(v+1),g=Math.ceil(n/3),w=2*g,x=function(De){return(t[De]^t[De+1]<<g^t[De+2]<<w)&v},S=new oR(25e3),A=new za(288),E=new za(32),C=0,L=0,I=s.i||0,q=0,O=s.w||0,M=0;I+2<a;++I){var z=x(I),$=I&32767,V=b[z];if(m[$]=V,b[z]=$,O<=I){var X=a-I;if((C>7e3||q>24576)&&(X>423||!c)){u=QF(t,l,0,S,A,E,L,q,M,I-M,u),q=C=L=0,M=I;for(var Q=0;Q<286;++Q)A[Q]=0;for(var Q=0;Q<30;++Q)E[Q]=0}var W=2,re=0,ce=p,ae=$-V&32767;if(X>2&&z==x(I-ae))for(var D=Math.min(d,X)-1,K=Math.min(32767,I),ee=Math.min(258,X);ae<=K&&--ce&&$!=V;){if(t[I+W]==t[I+W-ae]){for(var se=0;se<ee&&t[I+se]==t[I+se-ae];++se);if(se>W){if(W=se,re=ae,se>D)break;for(var oe=Math.min(ae,se-2),fe=0,Q=0;Q<oe;++Q){var xe=I-ae+Q&32767,ue=m[xe],ye=xe-ue&32767;ye>fe&&(fe=ye,V=xe)}}}$=V,V=m[$],ae+=$-V&32767}if(re){S[q++]=268435456|j4[W]<<18|JF[re];var _e=j4[W]&31,me=JF[re]&31;L+=lR[_e]+cR[me],++A[257+_e],++E[me],O=I+W,++C}else S[q++]=t[I],++A[t[I]]}}for(I=Math.max(I,O);I<a;++I)S[q++]=t[I],++A[t[I]];u=QF(t,l,c,S,A,E,L,q,M,I-M,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=b,s.p=m,s.i=I,s.w=O)}else{for(var I=s.w||0;I<a+c;I+=65535){var Ie=I+65535;Ie>=a&&(l[u/8|0]=c,Ie=a),u=zV(l,u+1,t.subarray(I,Ie))}s.i=a}return FEe(o,0,r+UV(u)+i)},HV=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},UEe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Al(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return BEe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},WV=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},zEe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=HV();i.p(e.dictionary),WV(t,2,i.d())}};function $4(t,e){e||(e={});var n=HV();n.p(t);var r=UEe(t,e,e.dictionary?6:2,4);return zEe(r,e),WV(r,r.length-4,n.d()),r}var qEe=typeof TextDecoder<"u"&&new TextDecoder,HEe=0;try{qEe.decode(qV,{stream:!0}),HEe=1}catch{}function WEe(t){if(Array.isArray(t))return t}function VEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function e$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function GEe(t,e){if(t){if(typeof t=="string")return e$(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e$(t,e):void 0}}function KEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t$(t,e){return WEe(t)||VEe(t,e)||GEe(t,e)||KEe()}function n$(t,e="utf8"){return new TextDecoder(e).decode(t)}const YEe=new TextEncoder;function XEe(t){return YEe.encode(t)}const JEe=1024*8,ZEe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),hT={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class uR{constructor(e=JEe,n={}){Se(this,"buffer");Se(this,"byteLength");Se(this,"byteOffset");Se(this,"length");Se(this,"offset");Se(this,"lastWrittenByte");Se(this,"littleEndian");Se(this,"_data");Se(this,"_mark");Se(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof uR)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=hT[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===ZEe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new hT[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new hT[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return n$(this.readBytes(e))}decodeText(e=1,n="utf8"){return n$(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(XEe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Iy(t){let e=t.length;for(;--e>=0;)t[e]=0}const QEe=3,ePe=258,VV=29,tPe=256,nPe=tPe+1+VV,GV=30,rPe=512,iPe=new Array((nPe+2)*2);Iy(iPe);const sPe=new Array(GV*2);Iy(sPe);const aPe=new Array(rPe);Iy(aPe);const oPe=new Array(ePe-QEe+1);Iy(oPe);const lPe=new Array(VV);Iy(lPe);const cPe=new Array(GV);Iy(cPe);const uPe=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var B4=uPe;const hPe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},fPe=new Uint32Array(hPe()),dPe=(t,e,n,r)=>{const i=fPe,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var Bl=dPe,U4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},KV={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pPe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var gPe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)pPe(n,r)&&(t[r]=n[r])}}return t},mPe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},YV={assign:gPe,flattenChunks:mPe};let XV=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{XV=!1}const Fw=new Uint8Array(256);for(let t=0;t<256;t++)Fw[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Fw[254]=Fw[254]=1;var vPe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const yPe=(t,e)=>{if(e<65534&&t.subarray&&XV)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var bPe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=Fw[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return yPe(s,i)},wPe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Fw[t[n]]>e?n:e},z4={string2buf:vPe,buf2string:bPe,utf8border:wPe};function xPe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _Pe=xPe;const E5=16209,APe=16191;var SPe=function(e,n){let r,i,s,a,o,l,c,u,f,d,p,v,m,b,g,w,x,S,A,E,C,L,I,q;const O=e.state;r=e.next_in,I=e.input,i=r+(e.avail_in-5),s=e.next_out,q=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=O.dmax,c=O.wsize,u=O.whave,f=O.wnext,d=O.window,p=O.hold,v=O.bits,m=O.lencode,b=O.distcode,g=(1<<O.lenbits)-1,w=(1<<O.distbits)-1;e:do{v<15&&(p+=I[r++]<<v,v+=8,p+=I[r++]<<v,v+=8),x=m[p&g];t:for(;;){if(S=x>>>24,p>>>=S,v-=S,S=x>>>16&255,S===0)q[s++]=x&65535;else if(S&16){A=x&65535,S&=15,S&&(v<S&&(p+=I[r++]<<v,v+=8),A+=p&(1<<S)-1,p>>>=S,v-=S),v<15&&(p+=I[r++]<<v,v+=8,p+=I[r++]<<v,v+=8),x=b[p&w];n:for(;;){if(S=x>>>24,p>>>=S,v-=S,S=x>>>16&255,S&16){if(E=x&65535,S&=15,v<S&&(p+=I[r++]<<v,v+=8,v<S&&(p+=I[r++]<<v,v+=8)),E+=p&(1<<S)-1,E>l){e.msg="invalid distance too far back",O.mode=E5;break e}if(p>>>=S,v-=S,S=s-a,E>S){if(S=E-S,S>u&&O.sane){e.msg="invalid distance too far back",O.mode=E5;break e}if(C=0,L=d,f===0){if(C+=c-S,S<A){A-=S;do q[s++]=d[C++];while(--S);C=s-E,L=q}}else if(f<S){if(C+=c+f-S,S-=f,S<A){A-=S;do q[s++]=d[C++];while(--S);if(C=0,f<A){S=f,A-=S;do q[s++]=d[C++];while(--S);C=s-E,L=q}}}else if(C+=f-S,S<A){A-=S;do q[s++]=d[C++];while(--S);C=s-E,L=q}for(;A>2;)q[s++]=L[C++],q[s++]=L[C++],q[s++]=L[C++],A-=3;A&&(q[s++]=L[C++],A>1&&(q[s++]=L[C++]))}else{C=s-E;do q[s++]=q[C++],q[s++]=q[C++],q[s++]=q[C++],A-=3;while(A>2);A&&(q[s++]=q[C++],A>1&&(q[s++]=q[C++]))}}else if(S&64){e.msg="invalid distance code",O.mode=E5;break e}else{x=b[(x&65535)+(p&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){O.mode=APe;break e}else{e.msg="invalid literal/length code",O.mode=E5;break e}else{x=m[(x&65535)+(p&(1<<S)-1)];continue t}break}}while(r<i&&s<o);A=v>>3,r-=A,v-=A<<3,p&=(1<<v)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),O.hold=p,O.bits=v};const dm=15,r$=852,i$=592,s$=0,fT=1,a$=2,EPe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),PPe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kPe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CPe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),TPe=(t,e,n,r,i,s,a,o)=>{const l=o.bits;let c=0,u=0,f=0,d=0,p=0,v=0,m=0,b=0,g=0,w=0,x,S,A,E,C,L=null,I;const q=new Uint16Array(dm+1),O=new Uint16Array(dm+1);let M=null,z,$,V;for(c=0;c<=dm;c++)q[c]=0;for(u=0;u<r;u++)q[e[n+u]]++;for(p=l,d=dm;d>=1&&q[d]===0;d--);if(p>d&&(p=d),d===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<d&&q[f]===0;f++);for(p<f&&(p=f),b=1,c=1;c<=dm;c++)if(b<<=1,b-=q[c],b<0)return-1;if(b>0&&(t===s$||d!==1))return-1;for(O[1]=0,c=1;c<dm;c++)O[c+1]=O[c]+q[c];for(u=0;u<r;u++)e[n+u]!==0&&(a[O[e[n+u]]++]=u);if(t===s$?(L=M=a,I=20):t===fT?(L=EPe,M=PPe,I=257):(L=kPe,M=CPe,I=0),w=0,u=0,c=f,C=s,v=p,m=0,A=-1,g=1<<p,E=g-1,t===fT&&g>r$||t===a$&&g>i$)return 1;for(;;){z=c-m,a[u]+1<I?($=0,V=a[u]):a[u]>=I?($=M[a[u]-I],V=L[a[u]-I]):($=96,V=0),x=1<<c-m,S=1<<v,f=S;do S-=x,i[C+(w>>m)+S]=z<<24|$<<16|V|0;while(S!==0);for(x=1<<c-1;w&x;)x>>=1;if(x!==0?(w&=x-1,w+=x):w=0,u++,--q[c]===0){if(c===d)break;c=e[n+a[u]]}if(c>p&&(w&E)!==A){for(m===0&&(m=p),C+=f,v=c-m,b=1<<v;v+m<d&&(b-=q[v+m],!(b<=0));)v++,b<<=1;if(g+=1<<v,t===fT&&g>r$||t===a$&&g>i$)return 1;A=w&E,i[A]=p<<24|v<<16|C-s|0}}return w!==0&&(i[C+w]=c-m<<24|64<<16|0),o.bits=p,0};var Pb=TPe;const OPe=0,JV=1,ZV=2,{Z_FINISH:o$,Z_BLOCK:NPe,Z_TREES:P5,Z_OK:Ig,Z_STREAM_END:LPe,Z_NEED_DICT:IPe,Z_STREAM_ERROR:Mo,Z_DATA_ERROR:QV,Z_MEM_ERROR:eG,Z_BUF_ERROR:RPe,Z_DEFLATED:l$}=KV,ok=16180,c$=16181,u$=16182,h$=16183,f$=16184,d$=16185,p$=16186,g$=16187,m$=16188,v$=16189,AE=16190,Vc=16191,dT=16192,y$=16193,pT=16194,b$=16195,w$=16196,x$=16197,_$=16198,k5=16199,C5=16200,A$=16201,S$=16202,E$=16203,P$=16204,k$=16205,gT=16206,C$=16207,T$=16208,rr=16209,tG=16210,nG=16211,MPe=852,jPe=592,DPe=15,FPe=DPe,O$=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function $Pe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ok||e.mode>nG?1:0},rG=t=>{if(zg(t))return Mo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ok,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(MPe),e.distcode=e.distdyn=new Int32Array(jPe),e.sane=1,e.back=-1,Ig},iG=t=>{if(zg(t))return Mo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,rG(t)},sG=(t,e)=>{let n;if(zg(t))return Mo;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Mo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,iG(t))},aG=(t,e)=>{if(!t)return Mo;const n=new $Pe;t.state=n,n.strm=t,n.window=null,n.mode=ok;const r=sG(t,e);return r!==Ig&&(t.state=null),r},BPe=t=>aG(t,FPe);let N$=!0,mT,vT;const UPe=t=>{if(N$){mT=new Int32Array(512),vT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Pb(JV,t.lens,0,288,mT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Pb(ZV,t.lens,0,32,vT,0,t.work,{bits:5}),N$=!1}t.lencode=mT,t.lenbits=9,t.distcode=vT,t.distbits=5},oG=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},zPe=(t,e)=>{let n,r,i,s,a,o,l,c,u,f,d,p,v,m,b=0,g,w,x,S,A,E,C,L;const I=new Uint8Array(4);let q,O;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zg(t)||!t.output||!t.input&&t.avail_in!==0)return Mo;n=t.state,n.mode===Vc&&(n.mode=dT),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,f=o,d=l,L=Ig;e:for(;;)switch(n.mode){case ok:if(n.wrap===0){n.mode=dT;break}for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,I[0]=c&255,I[1]=c>>>8&255,n.check=Bl(n.check,I,2,0),c=0,u=0,n.mode=c$;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=rr;break}if((c&15)!==l$){t.msg="unknown compression method",n.mode=rr;break}if(c>>>=4,u-=4,C=(c&15)+8,n.wbits===0&&(n.wbits=C),C>15||C>n.wbits){t.msg="invalid window size",n.mode=rr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?v$:Vc,c=0,u=0;break;case c$:for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==l$){t.msg="unknown compression method",n.mode=rr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=rr;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=Bl(n.check,I,2,0)),c=0,u=0,n.mode=u$;case u$:for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,n.check=Bl(n.check,I,4,0)),c=0,u=0,n.mode=h$;case h$:for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=Bl(n.check,I,2,0)),c=0,u=0,n.mode=f$;case f$:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=Bl(n.check,I,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=d$;case d$:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),C)),n.flags&512&&n.wrap&4&&(n.check=Bl(n.check,r,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=p$;case p$:if(n.flags&2048){if(o===0)break e;p=0;do C=r[s+p++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C));while(C&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Bl(n.check,r,p,s)),o-=p,s+=p,C)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=g$;case g$:if(n.flags&4096){if(o===0)break e;p=0;do C=r[s+p++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C));while(C&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Bl(n.check,r,p,s)),o-=p,s+=p,C)break e}else n.head&&(n.head.comment=null);n.mode=m$;case m$:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=rr;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Vc;break;case v$:for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}t.adler=n.check=O$(c),c=0,u=0,n.mode=AE;case AE:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=u,IPe;t.adler=n.check=1,n.mode=Vc;case Vc:if(e===NPe||e===P5)break e;case dT:if(n.last){c>>>=u&7,u-=u&7,n.mode=gT;break}for(;u<3;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=y$;break;case 1:if(UPe(n),n.mode=k5,e===P5){c>>>=2,u-=2;break e}break;case 2:n.mode=w$;break;case 3:t.msg="invalid block type",n.mode=rr}c>>>=2,u-=2;break;case y$:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=rr;break}if(n.length=c&65535,c=0,u=0,n.mode=pT,e===P5)break e;case pT:n.mode=b$;case b$:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,n.length-=p;break}n.mode=Vc;break;case w$:for(;u<14;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=rr;break}n.have=0,n.mode=x$;case x$:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.lens[M[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},L=Pb(OPe,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,L){t.msg="invalid code lengths set",n.mode=rr;break}n.have=0,n.mode=_$;case _$:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[c&(1<<n.lenbits)-1],g=b>>>24,w=b>>>16&255,x=b&65535,!(g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(x<16)c>>>=g,u-=g,n.lens[n.have++]=x;else{if(x===16){for(O=g+2;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(c>>>=g,u-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=rr;break}C=n.lens[n.have-1],p=3+(c&3),c>>>=2,u-=2}else if(x===17){for(O=g+3;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,C=0,p=3+(c&7),c>>>=3,u-=3}else{for(O=g+7;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,C=0,p=11+(c&127),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=rr;break}for(;p--;)n.lens[n.have++]=C}}if(n.mode===rr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=rr;break}if(n.lenbits=9,q={bits:n.lenbits},L=Pb(JV,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,L){t.msg="invalid literal/lengths set",n.mode=rr;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},L=Pb(ZV,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,L){t.msg="invalid distances set",n.mode=rr;break}if(n.mode=k5,e===P5)break e;case k5:n.mode=C5;case C5:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=u,SPe(t,d),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,n.mode===Vc&&(n.back=-1);break}for(n.back=0;b=n.lencode[c&(1<<n.lenbits)-1],g=b>>>24,w=b>>>16&255,x=b&65535,!(g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(w&&!(w&240)){for(S=g,A=w,E=x;b=n.lencode[E+((c&(1<<S+A)-1)>>S)],g=b>>>24,w=b>>>16&255,x=b&65535,!(S+g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=g,u-=g,n.back+=g,n.length=x,w===0){n.mode=k$;break}if(w&32){n.back=-1,n.mode=Vc;break}if(w&64){t.msg="invalid literal/length code",n.mode=rr;break}n.extra=w&15,n.mode=A$;case A$:if(n.extra){for(O=n.extra;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=S$;case S$:for(;b=n.distcode[c&(1<<n.distbits)-1],g=b>>>24,w=b>>>16&255,x=b&65535,!(g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(!(w&240)){for(S=g,A=w,E=x;b=n.distcode[E+((c&(1<<S+A)-1)>>S)],g=b>>>24,w=b>>>16&255,x=b&65535,!(S+g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=g,u-=g,n.back+=g,w&64){t.msg="invalid distance code",n.mode=rr;break}n.offset=x,n.extra=w&15,n.mode=E$;case E$:if(n.extra){for(O=n.extra;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=rr;break}n.mode=P$;case P$:if(l===0)break e;if(p=d-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=rr;break}p>n.wnext?(p-=n.wnext,v=n.wsize-p):v=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=i,v=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[a++]=m[v++];while(--p);n.length===0&&(n.mode=C5);break;case k$:if(l===0)break e;i[a++]=n.length,l--,n.mode=C5;break;case gT:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[s++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Bl(n.check,i,d,a-d):B4(n.check,i,d,a-d)),d=l,n.wrap&4&&(n.flags?c:O$(c))!==n.check){t.msg="incorrect data check",n.mode=rr;break}c=0,u=0}n.mode=C$;case C$:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=rr;break}c=0,u=0}n.mode=T$;case T$:L=LPe;break e;case rr:L=QV;break e;case tG:return eG;case nG:default:return Mo}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<rr&&(n.mode<gT||e!==o$))&&oG(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Bl(n.check,i,d,t.next_out-d):B4(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Vc?128:0)+(n.mode===k5||n.mode===pT?256:0),(f===0&&d===0||e===o$)&&L===Ig&&(L=RPe),L},qPe=t=>{if(zg(t))return Mo;let e=t.state;return e.window&&(e.window=null),t.state=null,Ig},HPe=(t,e)=>{if(zg(t))return Mo;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Ig):Mo},WPe=(t,e)=>{const n=e.length;let r,i,s;return zg(t)||(r=t.state,r.wrap!==0&&r.mode!==AE)?Mo:r.mode===AE&&(i=1,i=B4(i,e,n,0),i!==r.check)?QV:(s=oG(t,e,n,n),s?(r.mode=tG,eG):(r.havedict=1,Ig))};var VPe=iG,GPe=sG,KPe=rG,YPe=BPe,XPe=aG,JPe=zPe,ZPe=qPe,QPe=HPe,eke=WPe,tke="pako inflate (from Nodeca project)",nu={inflateReset:VPe,inflateReset2:GPe,inflateResetKeep:KPe,inflateInit:YPe,inflateInit2:XPe,inflate:JPe,inflateEnd:ZPe,inflateGetHeader:QPe,inflateSetDictionary:eke,inflateInfo:tke};function nke(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rke=nke;const lG=Object.prototype.toString,{Z_NO_FLUSH:ike,Z_FINISH:ske,Z_OK:$w,Z_STREAM_END:yT,Z_NEED_DICT:bT,Z_STREAM_ERROR:ake,Z_DATA_ERROR:L$,Z_MEM_ERROR:oke}=KV;function Jx(t){this.options=YV.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _Pe,this.strm.avail_out=0;let n=nu.inflateInit2(this.strm,e.windowBits);if(n!==$w)throw new Error(U4[n]);if(this.header=new rke,nu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=z4.string2buf(e.dictionary):lG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=nu.inflateSetDictionary(this.strm,e.dictionary),n!==$w)))throw new Error(U4[n])}Jx.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?ske:ike,lG.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=nu.inflate(n,a),s===bT&&i&&(s=nu.inflateSetDictionary(n,i),s===$w?s=nu.inflate(n,a):s===L$&&(s=bT));n.avail_in>0&&s===yT&&n.state.wrap>0&&t[n.next_in]!==0;)nu.inflateReset(n),s=nu.inflate(n,a);switch(s){case ake:case L$:case bT:case oke:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===yT))if(this.options.to==="string"){let l=z4.utf8border(n.output,n.next_out),c=n.next_out-l,u=z4.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===$w&&o===0)){if(s===yT)return s=nu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Jx.prototype.onData=function(t){this.chunks.push(t)};Jx.prototype.onEnd=function(t){t===$w&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=YV.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function lke(t,e){const n=new Jx(e);if(n.push(t),n.err)throw n.msg||U4[n.err];return n.result}var cke=Jx,uke=lke,hke={Inflate:cke,inflate:uke};const{Inflate:fke,inflate:dke}=hke;var I$=fke,pke=dke;const cG=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;cG[t]=e}const R$=4294967295;function gke(t,e,n){let r=t;for(let i=0;i<n;i++)r=cG[(r^e[i])&255]^r>>>8;return r}function mke(t,e){return(gke(R$,t,e)^R$)>>>0}function M$(t,e,n){const r=t.readUint32(),i=mke(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function uG(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function hG(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function fG(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function dG(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function pG(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+vke(e[s-i],n[s],n[s-i])&255}}function vke(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function yke(t,e,n,r,i,s){switch(t){case 0:uG(e,n,i);break;case 1:hG(e,n,i,s);break;case 2:fG(e,n,r,i);break;case 3:dG(e,n,r,i,s);break;case 4:pG(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const bke=new Uint16Array([255]),wke=new Uint8Array(bke.buffer),xke=wke[0]===255;function _ke(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const f=a[u],d=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(d<=0||p<=0)continue;const v=d*o,m=new Uint8Array(v);for(let b=0;b<p;b++){const g=e[c++],w=e.subarray(c,c+v);c+=v;const x=new Uint8Array(v);yke(g,w,x,m,v,o),m.set(x);for(let S=0;S<d;S++){const A=f.x+S*f.xStep,E=f.y+b*f.yStep;if(!(A>=n||E>=r))for(let C=0;C<o;C++)l[(E*n+A)*o+C]=x[S*o+C]}}}if(s===16){const u=new Uint16Array(l.buffer);if(xke)for(let f=0;f<u.length;f++)u[f]=Ake(u[f]);return u}else return l}function Ake(t){return(t&255)<<8|t>>8&255}const Ske=new Uint16Array([255]),Eke=new Uint8Array(Ske.buffer),Pke=Eke[0]===255,kke=new Uint8Array(0);function j$(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let c=kke,u=0,f,d;for(let p=0;p<r;p++){switch(f=e.subarray(u+1,u+1+o),d=l.subarray(p*o,(p+1)*o),e[u]){case 0:uG(f,d,o);break;case 1:hG(f,d,o,a);break;case 2:fG(f,d,c,o);break;case 3:dG(f,d,c,o,a);break;case 4:pG(f,d,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=d,u+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(Pke)for(let v=0;v<p.length;v++)p[v]=Cke(p[v]);return p}else return l}function Cke(t){return(t&255)<<8|t>>8&255}const TA=Uint8Array.of(137,80,78,71,13,10,26,10);function D$(t){if(!Tke(t.readBytes(TA.length)))throw new Error("wrong PNG signature")}function Tke(t){if(t.length<TA.length)return!1;for(let e=0;e<TA.length;e++)if(t[e]!==TA[e])return!1;return!0}const Oke="tEXt",Nke=0,gG=new TextDecoder("latin1");function Lke(t){if(Rke(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Ike=/^[\u0000-\u00FF]*$/;function Rke(t){if(!Ike.test(t))throw new Error("invalid latin1 text")}function Mke(t,e,n){const r=mG(e);t[r]=jke(e,n-r.length-1)}function mG(t){for(t.mark();t.readByte()!==Nke;);const e=t.offset;t.reset();const n=gG.decode(t.readBytes(e-t.offset-1));return t.skip(1),Lke(n),n}function jke(t,e){return gG.decode(t.readBytes(e))}const ua={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},wT={UNKNOWN:-1,DEFLATE:0},F$={UNKNOWN:-1,ADAPTIVE:0},xT={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},T5={NONE:0,BACKGROUND:1,PREVIOUS:2},_T={SOURCE:0,OVER:1};class Dke extends uR{constructor(n,r={}){super(n);Se(this,"_checkCrc");Se(this,"_inflator");Se(this,"_png");Se(this,"_apng");Se(this,"_end");Se(this,"_hasPalette");Se(this,"_palette");Se(this,"_hasTransparency");Se(this,"_transparency");Se(this,"_compressionMethod");Se(this,"_filterMethod");Se(this,"_interlaceMethod");Se(this,"_colorType");Se(this,"_isAnimated");Se(this,"_numberOfFrames");Se(this,"_numberOfPlays");Se(this,"_frames");Se(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new I$,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=wT.UNKNOWN,this._filterMethod=F$.UNKNOWN,this._interlaceMethod=xT.UNKNOWN,this._colorType=ua.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(D$(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(D$(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Oke:Mke(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?M$(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?M$(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Fke(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case ua.GREYSCALE:i=1;break;case ua.TRUECOLOUR:i=3;break;case ua.INDEXED_COLOUR:i=1;break;case ua.GREYSCALE_ALPHA:i=2;break;case ua.TRUECOLOUR_ALPHA:i=4;break;case ua.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==wT.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ua.GREYSCALE:case ua.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case ua.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ua.UNKNOWN:case ua.GREYSCALE_ALPHA:case ua.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=mG(this),i=this.readUint8();if(i!==wT.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:pke(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=j$({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case T5.NONE:break;case T5.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case T5.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case _T.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case _T.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let u=0;u<this._png.channels;u++){const f=r.data[c+this._png.channels-1]/i,d=u%(this._png.channels-1)===0?1:r.data[c+u],p=Math.floor(f*d+(1-f)*n.data[l+u]);n.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==F$.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xT.NO_INTERLACE)this._png.data=j$({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xT.ADAM7)this._png.data=_ke({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:T5.NONE,blendOp:_T.SOURCE,data:n}),this._inflator=new I$,this._writingDataChunks=!1}}function Fke(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var $$;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})($$||($$={}));function $ke(t,e){return new Dke(t,e).decode()}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function AT(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var Rn={log:AT,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):AT.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):AT(t))}};function ST(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){jd(r.response,e,n)},r.onerror=function(){Rn.error("could not download file")},r.send()}function B$(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function O5(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var jd=wt.saveAs||((typeof window>"u"?"undefined":wn(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=wt.URL||wt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?B$(i.href)?ST(t,e,n):O5(i,i.target="_blank"):O5(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){O5(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(B$(t))ST(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){O5(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:wn(s)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return ST(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(wt.HTMLElement)||wt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":wn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vG(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var OA=wt.atob.bind(wt),U$=wt.btoa.bind(wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ET(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=is(n,r,i,s,e[0],7,-680876936),s=is(s,n,r,i,e[1],12,-389564586),i=is(i,s,n,r,e[2],17,606105819),r=is(r,i,s,n,e[3],22,-1044525330),n=is(n,r,i,s,e[4],7,-176418897),s=is(s,n,r,i,e[5],12,1200080426),i=is(i,s,n,r,e[6],17,-1473231341),r=is(r,i,s,n,e[7],22,-45705983),n=is(n,r,i,s,e[8],7,1770035416),s=is(s,n,r,i,e[9],12,-1958414417),i=is(i,s,n,r,e[10],17,-42063),r=is(r,i,s,n,e[11],22,-1990404162),n=is(n,r,i,s,e[12],7,1804603682),s=is(s,n,r,i,e[13],12,-40341101),i=is(i,s,n,r,e[14],17,-1502002290),n=ss(n,r=is(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ss(s,n,r,i,e[6],9,-1069501632),i=ss(i,s,n,r,e[11],14,643717713),r=ss(r,i,s,n,e[0],20,-373897302),n=ss(n,r,i,s,e[5],5,-701558691),s=ss(s,n,r,i,e[10],9,38016083),i=ss(i,s,n,r,e[15],14,-660478335),r=ss(r,i,s,n,e[4],20,-405537848),n=ss(n,r,i,s,e[9],5,568446438),s=ss(s,n,r,i,e[14],9,-1019803690),i=ss(i,s,n,r,e[3],14,-187363961),r=ss(r,i,s,n,e[8],20,1163531501),n=ss(n,r,i,s,e[13],5,-1444681467),s=ss(s,n,r,i,e[2],9,-51403784),i=ss(i,s,n,r,e[7],14,1735328473),n=as(n,r=ss(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=as(s,n,r,i,e[8],11,-2022574463),i=as(i,s,n,r,e[11],16,1839030562),r=as(r,i,s,n,e[14],23,-35309556),n=as(n,r,i,s,e[1],4,-1530992060),s=as(s,n,r,i,e[4],11,1272893353),i=as(i,s,n,r,e[7],16,-155497632),r=as(r,i,s,n,e[10],23,-1094730640),n=as(n,r,i,s,e[13],4,681279174),s=as(s,n,r,i,e[0],11,-358537222),i=as(i,s,n,r,e[3],16,-722521979),r=as(r,i,s,n,e[6],23,76029189),n=as(n,r,i,s,e[9],4,-640364487),s=as(s,n,r,i,e[12],11,-421815835),i=as(i,s,n,r,e[15],16,530742520),n=os(n,r=as(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=os(s,n,r,i,e[7],10,1126891415),i=os(i,s,n,r,e[14],15,-1416354905),r=os(r,i,s,n,e[5],21,-57434055),n=os(n,r,i,s,e[12],6,1700485571),s=os(s,n,r,i,e[3],10,-1894986606),i=os(i,s,n,r,e[10],15,-1051523),r=os(r,i,s,n,e[1],21,-2054922799),n=os(n,r,i,s,e[8],6,1873313359),s=os(s,n,r,i,e[15],10,-30611744),i=os(i,s,n,r,e[6],15,-1560198380),r=os(r,i,s,n,e[13],21,1309151649),n=os(n,r,i,s,e[4],6,-145523070),s=os(s,n,r,i,e[11],10,-1120210379),i=os(i,s,n,r,e[2],15,718787259),r=os(r,i,s,n,e[9],21,-343485551),t[0]=Mf(n,t[0]),t[1]=Mf(r,t[1]),t[2]=Mf(i,t[2]),t[3]=Mf(s,t[3])}function lk(t,e,n,r,i,s){return e=Mf(Mf(e,t),Mf(r,s)),Mf(e<<i|e>>>32-i,n)}function is(t,e,n,r,i,s,a){return lk(e&n|~e&r,t,e,i,s,a)}function ss(t,e,n,r,i,s,a){return lk(e&r|n&~r,t,e,i,s,a)}function as(t,e,n,r,i,s,a){return lk(e^n^r,t,e,i,s,a)}function os(t,e,n,r,i,s,a){return lk(n^(e|~r),t,e,i,s,a)}function yG(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ET(r,Bke(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ET(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,ET(r,i),r}function Bke(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var z$="0123456789abcdef".split("");function Uke(t){for(var e="",n=0;n<4;n++)e+=z$[t>>8*n+4&15]+z$[t>>8*n&15];return e}function zke(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function q4(t){return yG(t).map(zke).join("")}var qke=function(t){for(var e=0;e<t.length;e++)t[e]=Uke(t[e]);return t.join("")}(yG("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mf(t,e){if(qke){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function H4(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var f=e.length,d=0,p=0,v="";for(l=0;l<f;l++)p=(p+(u=o[d=(d+1)%256]))%256,o[d]=o[p],o[p]=u,a=o[(o[d]+o[p])%256],v+=String.fromCharCode(e.charCodeAt(l)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var q$={print:4,modify:8,copy:16,"annot-forms":32};function Cm(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(q$.perm!==void 0)throw new Error("Invalid permission: "+o);i+=q$[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=q4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=H4(this.encryptionKey,this.padding)}function Tm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function H$(t){if(wn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){wt.console&&Rn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function SE(t){if(!(this instanceof SE))return new SE(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function bG(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function $d(t,e,n,r,i){if(!(this instanceof $d))return new $d(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,bG.call(this,r,i)}function Km(t,e,n,r,i){if(!(this instanceof Km))return new Km(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,bG.call(this,r,i)}function lt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;wn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},p={internal:{},__private__:{}};p.__private__.PubSub=H$;var v="1.3",m=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(P){v=P};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var g=p.__private__.getPageFormat=function(P){return b[P]};i=i||"a4";var w="compat",x="advanced",S=w;function A(){this.saveGraphicsState(),Z(new gt(Lt,0,0,-Lt,0,pd()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),c="n",S=x}function E(){this.restoreGraphicsState(),c="S",S=w}var C=p.__private__.combineFontStyleAndFontWeight=function(P,B){if(P=="bold"&&B=="normal"||P=="bold"&&B==400||P=="normal"&&B=="italic"||P=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(P=B==400||B==="normal"?P==="italic"?"italic":"normal":B!=700&&B!=="bold"||P!=="normal"?(B==700?"bold":B)+""+P:"bold"),P};p.advancedAPI=function(P){var B=S===w;return B&&A.call(this),typeof P!="function"||(P(this),B&&E.call(this)),this},p.compatAPI=function(P){var B=S===x;return B&&E.call(this),typeof P!="function"||(P(this),B&&A.call(this)),this},p.isAdvancedAPI=function(){return S===x};var L,I=function(P){if(S!==x)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=p.roundToPrecision=p.__private__.roundToPrecision=function(P,B){var ie=e||B;if(isNaN(P)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ie).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return q(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return q(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return q(P,16)};var O=p.f2=p.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return q(P,2)},M=p.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return q(P,3)},z=p.scale=p.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return S===w?P*Lt:S===x?P:void 0},$=function(P){return z(function(B){return S===w?pd()-B:S===x?B:void 0}(P))};p.__private__.setPrecision=p.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var V,X="00000000000000000000000000000000",Q=p.__private__.getFileId=function(){return X},W=p.__private__.setFileId=function(P){return X=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Qr=new Cm(u.userPermissions,u.userPassword,u.ownerPassword,X)),X};p.setFileId=function(P){return W(P),this},p.getFileId=function(){return Q()};var re=p.__private__.convertDateToPDFDate=function(P){var B=P.getTimezoneOffset(),ie=B<0?"+":"-",le=Math.floor(Math.abs(B/60)),ge=Math.abs(B%60),Ce=[ie,ee(le),"'",ee(ge),"'"].join("");return["D:",P.getFullYear(),ee(P.getMonth()+1),ee(P.getDate()),ee(P.getHours()),ee(P.getMinutes()),ee(P.getSeconds()),Ce].join("")},ce=p.__private__.convertPDFDateToDate=function(P){var B=parseInt(P.substr(2,4),10),ie=parseInt(P.substr(6,2),10)-1,le=parseInt(P.substr(8,2),10),ge=parseInt(P.substr(10,2),10),Ce=parseInt(P.substr(12,2),10),Ne=parseInt(P.substr(14,2),10);return new Date(B,ie,le,ge,Ce,Ne,0)},ae=p.__private__.setCreationDate=function(P){var B;if(P===void 0&&(P=new Date),P instanceof Date)B=re(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=P}return V=B},D=p.__private__.getCreationDate=function(P){var B=V;return P==="jsDate"&&(B=ce(V)),B};p.setCreationDate=function(P){return ae(P),this},p.getCreationDate=function(P){return D(P)};var K,ee=p.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},se=p.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},oe=0,fe=[],xe=[],ue=0,ye=[],_e=[],me=!1,Ie=xe;p.__private__.setCustomOutputDestination=function(P){me=!0,Ie=P};var De=function(P){me||(Ie=P)};p.__private__.resetCustomOutputDestination=function(){me=!1,Ie=xe};var Z=p.__private__.out=function(P){return P=P.toString(),ue+=P.length+1,Ie.push(P),Ie},Me=p.__private__.write=function(P){return Z(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},ht=p.__private__.getArrayBuffer=function(P){for(var B=P.length,ie=new ArrayBuffer(B),le=new Uint8Array(ie);B--;)le[B]=P.charCodeAt(B);return ie},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return et};var Oe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(P){return Oe=S===x?P/Lt:P,this};var ut,Ue=p.__private__.getFontSize=p.getFontSize=function(){return S===w?Oe:Oe*Lt},tt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(P){return tt=P,this},p.__private__.getR2L=p.getR2L=function(){return tt};var st,tn=p.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ut=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ut=P}else ut=parseInt(P,10)};p.__private__.getZoomMode=function(){return ut};var $t,kt=p.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');st=P};p.__private__.getPageMode=function(){return st};var Xt=p.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');$t=P};p.__private__.getLayoutMode=function(){return $t},p.__private__.setDisplayMode=p.setDisplayMode=function(P,B,ie){return tn(P),Xt(B),kt(ie),this};var Vt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(P){if(Object.keys(Vt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vt[P]},p.__private__.getDocumentProperties=function(){return Vt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(P){for(var B in Vt)Vt.hasOwnProperty(B)&&P[B]&&(Vt[B]=P[B]);return this},p.__private__.setDocumentProperty=function(P,B){if(Object.keys(Vt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vt[P]=B};var rt,Lt,ct,Nr,nn,Bt={},Ut={},tr=[],ft={},Fn={},bt={},Ct={},nr=null,zt=0,pt=[],fn=new H$(p),ad=t.hotfixes||[],es={},Pc={},Cl=[],gt=function P(B,ie,le,ge,Ce,Ne){if(!(this instanceof P))return new P(B,ie,le,ge,Ce,Ne);isNaN(B)&&(B=1),isNaN(ie)&&(ie=0),isNaN(le)&&(le=0),isNaN(ge)&&(ge=1),isNaN(Ce)&&(Ce=0),isNaN(Ne)&&(Ne=0),this._matrix=[B,ie,le,ge,Ce,Ne]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(P)},gt.prototype.multiply=function(P){var B=P.sx*this.sx+P.shy*this.shx,ie=P.sx*this.shy+P.shy*this.sy,le=P.shx*this.sx+P.sy*this.shx,ge=P.shx*this.shy+P.sy*this.sy,Ce=P.tx*this.sx+P.ty*this.shx+this.tx,Ne=P.tx*this.shy+P.ty*this.sy+this.ty;return new gt(B,ie,le,ge,Ce,Ne)},gt.prototype.decompose=function(){var P=this.sx,B=this.shy,ie=this.shx,le=this.sy,ge=this.tx,Ce=this.ty,Ne=Math.sqrt(P*P+B*B),Xe=(P/=Ne)*ie+(B/=Ne)*le;ie-=P*Xe,le-=B*Xe;var it=Math.sqrt(ie*ie+le*le);return Xe/=it,P*(le/=it)<B*(ie/=it)&&(P=-P,B=-B,Xe=-Xe,Ne=-Ne),{scale:new gt(Ne,0,0,it,0,0),translate:new gt(1,0,0,1,ge,Ce),rotate:new gt(P,B,-B,P,0,0),skew:new gt(1,0,Xe,1,0,0)}},gt.prototype.toString=function(P){return this.join(" ")},gt.prototype.inversed=function(){var P=this.sx,B=this.shy,ie=this.shx,le=this.sy,ge=this.tx,Ce=this.ty,Ne=1/(P*le-B*ie),Xe=le*Ne,it=-B*Ne,xt=-ie*Ne,It=P*Ne;return new gt(Xe,it,xt,It,-Xe*ge-xt*Ce,-it*ge-It*Ce)},gt.prototype.applyToPoint=function(P){var B=P.x*this.sx+P.y*this.shx+this.tx,ie=P.x*this.shy+P.y*this.sy+this.ty;return new Ic(B,ie)},gt.prototype.applyToRectangle=function(P){var B=this.applyToPoint(P),ie=this.applyToPoint(new Ic(P.x+P.w,P.y+P.h));return new zy(B.x,B.y,ie.x-B.x,ie.y-B.y)},gt.prototype.clone=function(){var P=this.sx,B=this.shy,ie=this.shx,le=this.sy,ge=this.tx,Ce=this.ty;return new gt(P,B,ie,le,ge,Ce)},p.Matrix=gt;var kc=p.matrixMult=function(P,B){return B.multiply(P)},Cc=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Cc;var Ya=function(P,B){if(!Fn[P]){var ie=(B instanceof $d?"Sh":"P")+(Object.keys(ft).length+1).toString(10);B.id=ie,Fn[P]=ie,ft[ie]=B,fn.publish("addPattern",B)}};p.ShadingPattern=$d,p.TilingPattern=Km,p.addShadingPattern=function(P,B){return I("addShadingPattern()"),Ya(P,B),this},p.beginTilingPattern=function(P){I("beginTilingPattern()"),qy(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},p.endTilingPattern=function(P,B){I("endTilingPattern()"),B.stream=_e[K].join(`
`),Ya(P,B),fn.publish("endTilingPattern",B),Cl.pop().restore()};var Xa,yr=p.__private__.newObject=function(){var P=bi();return Li(P,!0),P},bi=p.__private__.newObjectDeferred=function(){return oe++,fe[oe]=function(){return ue},oe},Li=function(P,B){return B=typeof B=="boolean"&&B,fe[P]=ue,B&&Z(P+" 0 obj"),P},od=p.__private__.newAdditionalObject=function(){var P={objId:bi(),content:""};return ye.push(P),P},uh=bi(),Fo=bi(),Tl=p.__private__.decodeColorString=function(P){var B=P.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ie=parseFloat(B[0]);B=[ie,ie,ie,"r"]}for(var le="#",ge=0;ge<3;ge++)le+=("0"+Math.floor(255*parseFloat(B[ge])).toString(16)).slice(-2);return le},$o=p.__private__.encodeColorString=function(P){var B;typeof P=="string"&&(P={ch1:P});var ie=P.ch1,le=P.ch2,ge=P.ch3,Ce=P.ch4,Ne=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Xe=new vG(ie);if(Xe.ok)ie=Xe.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var it=parseInt(ie.substr(1),16);ie=it>>16&255,le=it>>8&255,ge=255&it}if(le===void 0||Ce===void 0&&ie===le&&le===ge)B=typeof ie=="string"?ie+" "+Ne[0]:P.precision===2?O(ie/255)+" "+Ne[0]:M(ie/255)+" "+Ne[0];else if(Ce===void 0||wn(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",Ne[1]].join(" ");B=typeof ie=="string"?[ie,le,ge,Ne[1]].join(" "):P.precision===2?[O(ie/255),O(le/255),O(ge/255),Ne[1]].join(" "):[M(ie/255),M(le/255),M(ge/255),Ne[1]].join(" ")}else B=typeof ie=="string"?[ie,le,ge,Ce,Ne[2]].join(" "):P.precision===2?[O(ie),O(le),O(ge),O(Ce),Ne[2]].join(" "):[M(ie),M(le),M(ge),M(Ce),Ne[2]].join(" ");return B},Bo=p.__private__.getFilters=function(){return a},Ja=p.__private__.putStream=function(P){var B=(P=P||{}).data||"",ie=P.filters||Bo(),le=P.alreadyAppliedFilters||[],ge=P.addLength1||!1,Ce=B.length,Ne=P.objectId,Xe=function(ei){return ei};if(u!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Xe=Qr.encryptor(Ne,0));var it={};ie===!0&&(ie=["FlateEncode"]);var xt=P.additionalKeyValues||[],It=(it=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(B,ie):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(it.data.length!==0&&(xt.push({key:"Length",value:it.data.length}),ge===!0&&xt.push({key:"Length1",value:Ce})),It.length!=0)if(It.split("/").length-1==1)xt.push({key:"Filter",value:It});else{xt.push({key:"Filter",value:"["+It+"]"});for(var rn=0;rn<xt.length;rn+=1)if(xt[rn].key==="DecodeParms"){for(var cr=[],qr=0;qr<it.reverseChain.split("/").length-1;qr+=1)cr.push("null");cr.push(xt[rn].value),xt[rn].value="["+cr.join(" ")+"]"}}Z("<<");for(var $n=0;$n<xt.length;$n++)Z("/"+xt[$n].key+" "+xt[$n].value);Z(">>"),it.data.length!==0&&(Z("stream"),Z(Xe(it.data)),Z("endstream"))},ld=p.__private__.putPage=function(P){var B=P.number,ie=P.data,le=P.objId,ge=P.contentsObjId;Li(le,!0),Z("<</Type /Page"),Z("/Parent "+P.rootDictionaryObjId+" 0 R"),Z("/Resources "+P.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(L(P.mediaBox.bottomLeftX))+" "+parseFloat(L(P.mediaBox.bottomLeftY))+" "+L(P.mediaBox.topRightX)+" "+L(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&Z("/CropBox ["+L(P.cropBox.bottomLeftX)+" "+L(P.cropBox.bottomLeftY)+" "+L(P.cropBox.topRightX)+" "+L(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&Z("/BleedBox ["+L(P.bleedBox.bottomLeftX)+" "+L(P.bleedBox.bottomLeftY)+" "+L(P.bleedBox.topRightX)+" "+L(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&Z("/TrimBox ["+L(P.trimBox.bottomLeftX)+" "+L(P.trimBox.bottomLeftY)+" "+L(P.trimBox.topRightX)+" "+L(P.trimBox.topRightY)+"]"),P.artBox!==null&&Z("/ArtBox ["+L(P.artBox.bottomLeftX)+" "+L(P.artBox.bottomLeftY)+" "+L(P.artBox.topRightX)+" "+L(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&Z("/UserUnit "+P.userUnit),fn.publish("putPage",{objId:le,pageContext:pt[B],pageNumber:B,page:ie}),Z("/Contents "+ge+" 0 R"),Z(">>"),Z("endobj");var Ce=ie.join(`
`);return S===x&&(Ce+=`
Q`),Li(ge,!0),Ja({data:Ce,filters:Bo(),objectId:ge}),Z("endobj"),le},Ol=p.__private__.putPages=function(){var P,B,ie=[];for(P=1;P<=zt;P++)pt[P].objId=bi(),pt[P].contentsObjId=bi();for(P=1;P<=zt;P++)ie.push(ld({number:P,data:_e[P],objId:pt[P].objId,contentsObjId:pt[P].contentsObjId,mediaBox:pt[P].mediaBox,cropBox:pt[P].cropBox,bleedBox:pt[P].bleedBox,trimBox:pt[P].trimBox,artBox:pt[P].artBox,userUnit:pt[P].userUnit,rootDictionaryObjId:uh,resourceDictionaryObjId:Fo}));Li(uh,!0),Z("<</Type /Pages");var le="/Kids [";for(B=0;B<zt;B++)le+=ie[B]+" 0 R ";Z(le+"]"),Z("/Count "+zt),Z(">>"),Z("endobj"),fn.publish("postPutPages")},cd=function(P){fn.publish("putFont",{font:P,out:Z,newObject:yr,putStream:Ja}),P.isAlreadyPutted!==!0&&(P.objectNumber=yr(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Tm(P.postScriptName)),Z("/Subtype /Type1"),typeof P.encoding=="string"&&Z("/Encoding /"+P.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Hg=function(P){P.objectNumber=yr();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[L(P.x),L(P.y),L(P.x+P.width),L(P.y+P.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ie=P.pages[1].join(`
`);Ja({data:ie,additionalKeyValues:B,objectId:P.objectNumber}),Z("endobj")},Wg=function(P,B){B||(B=21);var ie=yr(),le=function(Ne,Xe){var it,xt=[],It=1/(Xe-1);for(it=0;it<1;it+=It)xt.push(it);if(xt.push(1),Ne[0].offset!=0){var rn={offset:0,color:Ne[0].color};Ne.unshift(rn)}if(Ne[Ne.length-1].offset!=1){var cr={offset:1,color:Ne[Ne.length-1].color};Ne.push(cr)}for(var qr="",$n=0,ei=0;ei<xt.length;ei++){for(it=xt[ei];it>Ne[$n+1].offset;)$n++;var Hr=Ne[$n].offset,Ii=(it-Hr)/(Ne[$n+1].offset-Hr),jc=Ne[$n].color,zo=Ne[$n+1].color;qr+=se(Math.round((1-Ii)*jc[0]+Ii*zo[0]).toString(16))+se(Math.round((1-Ii)*jc[1]+Ii*zo[1]).toString(16))+se(Math.round((1-Ii)*jc[2]+Ii*zo[2]).toString(16))}return qr.trim()}(P.colors,B),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+B+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ja({data:le,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),Z("endobj"),P.objectNumber=yr(),Z("<< /ShadingType "+P.type),Z("/ColorSpace /DeviceRGB");var Ce="/Coords ["+L(parseFloat(P.coords[0]))+" "+L(parseFloat(P.coords[1]))+" ";P.type===2?Ce+=L(parseFloat(P.coords[2]))+" "+L(parseFloat(P.coords[3])):Ce+=L(parseFloat(P.coords[2]))+" "+L(parseFloat(P.coords[3]))+" "+L(parseFloat(P.coords[4]))+" "+L(parseFloat(P.coords[5])),Z(Ce+="]"),P.matrix&&Z("/Matrix ["+P.matrix.toString()+"]"),Z("/Function "+ie+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Vg=function(P,B){var ie=bi(),le=yr();B.push({resourcesOid:ie,objectOid:le}),P.objectNumber=le;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+P.boundingBox.map(L).join(" ")+"]"}),ge.push({key:"XStep",value:L(P.xStep)}),ge.push({key:"YStep",value:L(P.yStep)}),ge.push({key:"Resources",value:ie+" 0 R"}),P.matrix&&ge.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Ja({data:P.stream,additionalKeyValues:ge,objectId:P.objectNumber}),Z("endobj")},ck=function(P){for(var B in P.objectNumber=yr(),Z("<<"),P)switch(B){case"opacity":Z("/ca "+O(P[B]));break;case"stroke-opacity":Z("/CA "+O(P[B]))}Z(">>"),Z("endobj")},Ry=function(P){Li(P.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var B in Z("/Font <<"),Bt)Bt.hasOwnProperty(B)&&(f===!1||f===!0&&d.hasOwnProperty(B))&&Z("/"+B+" "+Bt[B].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(ft).length>0){for(var B in Z("/Shading <<"),ft)ft.hasOwnProperty(B)&&ft[B]instanceof $d&&ft[B].objectNumber>=0&&Z("/"+B+" "+ft[B].objectNumber+" 0 R");fn.publish("putShadingPatternDict"),Z(">>")}}(),function(B){if(Object.keys(ft).length>0){for(var ie in Z("/Pattern <<"),ft)ft.hasOwnProperty(ie)&&ft[ie]instanceof p.TilingPattern&&ft[ie].objectNumber>=0&&ft[ie].objectNumber<B&&Z("/"+ie+" "+ft[ie].objectNumber+" 0 R");fn.publish("putTilingPatternDict"),Z(">>")}}(P.objectOid),function(){if(Object.keys(bt).length>0){var B;for(B in Z("/ExtGState <<"),bt)bt.hasOwnProperty(B)&&bt[B].objectNumber>=0&&Z("/"+B+" "+bt[B].objectNumber+" 0 R");fn.publish("putGStateDict"),Z(">>")}}(),function(){for(var B in Z("/XObject <<"),es)es.hasOwnProperty(B)&&es[B].objectNumber>=0&&Z("/"+B+" "+es[B].objectNumber+" 0 R");fn.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},Zx=function(P){Ut[P.fontName]=Ut[P.fontName]||{},Ut[P.fontName][P.fontStyle]=P.id},Qx=function(P,B,ie,le,ge){var Ce={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:P,fontName:B,fontStyle:ie,encoding:le,isStandardFont:ge||!1,metadata:{}};return fn.publish("addFont",{font:Ce,instance:this}),Bt[Ce.id]=Ce,Zx(Ce),Ce.id},Za=p.__private__.pdfEscape=p.pdfEscape=function(P,B){return function(ie,le){var ge,Ce,Ne,Xe,it,xt,It,rn,cr;if(Ne=(le=le||{}).sourceEncoding||"Unicode",it=le.outputEncoding,(le.autoencode||it)&&Bt[rt].metadata&&Bt[rt].metadata[Ne]&&Bt[rt].metadata[Ne].encoding&&(Xe=Bt[rt].metadata[Ne].encoding,!it&&Bt[rt].encoding&&(it=Bt[rt].encoding),!it&&Xe.codePages&&(it=Xe.codePages[0]),typeof it=="string"&&(it=Xe[it]),it)){for(It=!1,xt=[],ge=0,Ce=ie.length;ge<Ce;ge++)(rn=it[ie.charCodeAt(ge)])?xt.push(String.fromCharCode(rn)):xt.push(ie[ge]),xt[ge].charCodeAt(0)>>8&&(It=!0);ie=xt.join("")}for(ge=ie.length;It===void 0&&ge!==0;)ie.charCodeAt(ge-1)>>8&&(It=!0),ge--;if(!It)return ie;for(xt=le.noBOM?[]:[254,255],ge=0,Ce=ie.length;ge<Ce;ge++){if((cr=(rn=ie.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(cr),xt.push(rn-(cr<<8))}return String.fromCharCode.apply(void 0,xt)}(P,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},My=p.__private__.beginPage=function(P){_e[++zt]=[],pt[zt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},t_(zt),De(_e[K])},e_=function(P,B){var ie,le,ge;switch(n=B||n,typeof P=="string"&&(ie=g(P.toLowerCase()),Array.isArray(ie)&&(le=ie[0],ge=ie[1])),Array.isArray(P)&&(le=P[0]*Lt,ge=P[1]*Lt),isNaN(le)&&(le=i[0],ge=i[1]),(le>14400||ge>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ge=Math.min(14400,ge)),i=[le,ge],n.substr(0,1)){case"l":ge>le&&(i=[ge,le]);break;case"p":le>ge&&(i=[ge,le])}My(i),_t(Fy),Z(Xg),By!==0&&Z(By+" J"),Uy!==0&&Z(Uy+" j"),fn.publish("addPage",{pageNumber:zt})},jy=function(P){P>0&&P<=zt&&(_e.splice(P,1),pt.splice(P,1),zt--,K>zt&&(K=zt),this.setPage(K))},t_=function(P){P>0&&P<=zt&&(K=P)},n_=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return _e.length-1},r_=function(P,B,ie){var le,ge=void 0;return ie=ie||{},P=P!==void 0?P:Bt[rt].fontName,B=B!==void 0?B:Bt[rt].fontStyle,le=P.toLowerCase(),Ut[le]!==void 0&&Ut[le][B]!==void 0?ge=Ut[le][B]:Ut[P]!==void 0&&Ut[P][B]!==void 0?ge=Ut[P][B]:ie.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+P+"', '"+B+"'. Refer to getFontList() for available fonts."),ge||ie.noFallback||(ge=Ut.times[B])==null&&(ge=Ut.times.normal),ge},Nl=p.__private__.putInfo=function(){var P=yr(),B=function(le){return le};for(var ie in u!==null&&(B=Qr.encryptor(P,0)),Z("<<"),Z("/Producer ("+Za(B("jsPDF "+lt.version))+")"),Vt)Vt.hasOwnProperty(ie)&&Vt[ie]&&Z("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Za(B(Vt[ie]))+")");Z("/CreationDate ("+Za(B(V))+")"),Z(">>"),Z("endobj")},Gg=p.__private__.putCatalog=function(P){var B=(P=P||{}).rootDictionaryObjId||uh;switch(yr(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+B+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+ut;ie.substr(ie.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+O(ut)+"]")}switch($t||($t="continuous"),$t){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}st&&Z("/PageMode /"+st),fn.publish("putCatalog"),Z(">>"),Z("endobj")},uk=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(oe+1)),Z("/Root "+oe+" 0 R"),Z("/Info "+(oe-1)+" 0 R"),u!==null&&Z("/Encrypt "+Qr.oid+" 0 R"),Z("/ID [ <"+X+"> <"+X+"> ]"),Z(">>")},zr=p.__private__.putHeader=function(){Z("%PDF-"+v),Z("%")},i_=p.__private__.putXRef=function(){var P="0000000000";Z("xref"),Z("0 "+(oe+1)),Z("0000000000 65535 f ");for(var B=1;B<=oe;B++)typeof fe[B]=="function"?Z((P+fe[B]()).slice(-10)+" 00000 n "):fe[B]!==void 0?Z((P+fe[B]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Ll=p.__private__.buildDocument=function(){var P;oe=0,ue=0,xe=[],fe=[],ye=[],uh=bi(),Fo=bi(),De(xe),fn.publish("buildDocument"),zr(),Ol(),function(){fn.publish("putAdditionalObjects");for(var ie=0;ie<ye.length;ie++){var le=ye[ie];Li(le.objId,!0),Z(le.content),Z("endobj")}fn.publish("postPutAdditionalObjects")}(),P=[],function(){for(var ie in Bt)Bt.hasOwnProperty(ie)&&(f===!1||f===!0&&d.hasOwnProperty(ie))&&cd(Bt[ie])}(),function(){var ie;for(ie in bt)bt.hasOwnProperty(ie)&&ck(bt[ie])}(),function(){for(var ie in es)es.hasOwnProperty(ie)&&Hg(es[ie])}(),function(ie){var le;for(le in ft)ft.hasOwnProperty(le)&&(ft[le]instanceof $d?Wg(ft[le]):ft[le]instanceof Km&&Vg(ft[le],ie))}(P),fn.publish("putResources"),P.forEach(Ry),Ry({resourcesOid:Fo,objectOid:Number.MAX_SAFE_INTEGER}),fn.publish("postPutResources"),u!==null&&(Qr.oid=yr(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Qr.v),Z("/R "+Qr.r),Z("/U <"+Qr.toHexString(Qr.U)+">"),Z("/O <"+Qr.toHexString(Qr.O)+">"),Z("/P "+Qr.P),Z(">>"),Z("endobj")),Nl(),Gg();var B=ue;return i_(),uk(),Z("startxref"),Z(""+B),Z("%%EOF"),De(_e[K]),xe.join(`
`)},Kg=p.__private__.getBlob=function(P){return new Blob([ht(P)],{type:"application/pdf"})},s_=p.output=p.__private__.output=(Xa=function(P,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",P){case void 0:return Ll();case"save":p.save(B.filename);break;case"arraybuffer":return ht(Ll());case"blob":return Kg(Ll());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(Kg(Ll()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",le=Ll();try{ie=U$(le)}catch{ie=U$(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+B.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(ge=B.pdfObjectUrl,Ce="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Xe=wt.open();return Xe!==null&&Xe.document.write(Ne),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',xt=wt.open();if(xt!==null){xt.document.write(it);var It=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=B.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',cr=wt.open();if(cr!==null&&(cr.document.write(rn),cr.document.title=B.filename),cr||typeof safari>"u")return cr;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",B);default:return null}},Xa.foo=function(){try{return Xa.apply(this,arguments)}catch(ie){var P=ie.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var B="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ie.message;if(!wt.console)throw new Error(B);wt.console.error(B,ie),wt.alert&&alert(B)}},Xa.foo.bar=Xa,Xa.foo),Qa=function(P){return Array.isArray(ad)===!0&&ad.indexOf(P)>-1};switch(r){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=Qa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Lt=r}var Qr=null;ae(),W();var Tc=p.__private__.getPageInfo=p.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[P].objId,pageNumber:P,pageContext:pt[P]}},a_=p.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in pt)if(pt[B].objId===P)break;return Tc(B)},hk=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:pt[K].objId,pageNumber:K,pageContext:pt[K]}};p.addPage=function(){return e_.apply(this,arguments),this},p.setPage=function(){return t_.apply(this,arguments),De.call(this,_e[K]),this},p.insertPage=function(P){return this.addPage(),this.movePage(K,P),this},p.movePage=function(P,B){var ie,le;if(P>B){ie=_e[P],le=pt[P];for(var ge=P;ge>B;ge--)_e[ge]=_e[ge-1],pt[ge]=pt[ge-1];_e[B]=ie,pt[B]=le,this.setPage(B)}else if(P<B){ie=_e[P],le=pt[P];for(var Ce=P;Ce<B;Ce++)_e[Ce]=_e[Ce+1],pt[Ce]=pt[Ce+1];_e[B]=ie,pt[B]=le,this.setPage(B)}return this},p.deletePage=function(){return jy.apply(this,arguments),this},p.__private__.text=p.text=function(P,B,ie,le,ge){var Ce,Ne,Xe,it,xt,It,rn,cr,qr,$n=(le=le||{}).scope||this;if(typeof P=="number"&&typeof B=="number"&&(typeof ie=="string"||Array.isArray(ie))){var ei=ie;ie=B,B=P,P=ei}if(arguments[3]instanceof gt==0?(Xe=arguments[4],it=arguments[5],wn(rn=arguments[3])==="object"&&rn!==null||(typeof Xe=="string"&&(it=Xe,Xe=null),typeof rn=="string"&&(it=rn,rn=null),typeof rn=="number"&&(Xe=rn,rn=null),le={flags:rn,angle:Xe,align:it})):(I("The transform parameter of text() with a Matrix value"),qr=ge),isNaN(B)||isNaN(ie)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return $n;var Hr,Ii="",jc=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:hd,zo=$n.internal.scaleFactor;function Dc(dn){return dn=dn.split("	").join(Array(le.TabLen||9).join(" ")),Za(dn,rn)}function Wy(dn){for(var On,Ir=dn.concat(),ti=[],Bc=Ir.length;Bc--;)typeof(On=Ir.shift())=="string"?ti.push(On):Array.isArray(dn)&&(On.length===1||On[1]===void 0&&On[2]===void 0)?ti.push(On[0]):ti.push([On[0],On[1],On[2]]);return ti}function Zg(dn,On){var Ir;if(typeof dn=="string")Ir=On(dn)[0];else if(Array.isArray(dn)){for(var ti,Bc,t1=dn.concat(),tm=[],v_=t1.length;v_--;)typeof(ti=t1.shift())=="string"?tm.push(On(ti)[0]):Array.isArray(ti)&&typeof ti[0]=="string"&&(Bc=On(ti[0],ti[1],ti[2]),tm.push([Bc[0],Bc[1],Bc[2]]));Ir=tm}return Ir}var hh=!1,gd=!0;if(typeof P=="string")hh=!0;else if(Array.isArray(P)){var md=P.concat();Ne=[];for(var fh,Ri=md.length;Ri--;)(typeof(fh=md.shift())!="string"||Array.isArray(fh)&&typeof fh[0]!="string")&&(gd=!1);hh=gd}if(hh===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var vd=Oe/$n.internal.scaleFactor,yd=vd*(jc-1);switch(le.baseline){case"bottom":ie-=yd;break;case"top":ie+=vd-yd;break;case"hanging":ie+=vd-2*yd;break;case"middle":ie+=vd/2-yd}if((It=le.maxWidth||0)>0&&(typeof P=="string"?P=$n.splitTextToSize(P,It):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(dn,On){return dn.concat($n.splitTextToSize(On,It))},[]))),Ce={text:P,x:B,y:ie,options:le,mutex:{pdfEscape:Za,activeFontKey:rt,fonts:Bt,activeFontSize:Oe}},fn.publish("preProcessText",Ce),P=Ce.text,Xe=(le=Ce.options).angle,qr instanceof gt==0&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,le.rotationDirection===0&&(Xe=-Xe),S===x&&(Xe=-Xe);var Vy=Math.cos(Xe),Gy=Math.sin(Xe);qr=new gt(Vy,Gy,-Gy,Vy,0,0)}else Xe&&Xe instanceof gt&&(qr=Xe);S!==x||qr||(qr=Cc),(xt=le.charSpace||Lc)!==void 0&&(Ii+=L(z(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cr=le.horizontalScale)!==void 0&&(Ii+=L(100*cr)+` Tz
`),le.lang;var bs=-1,Fc=le.renderingMode!==void 0?le.renderingMode:le.stroke,Qg=$n.internal.getCurrentPageInfo().pageContext;switch(Fc){case 0:case!1:case"fill":bs=0;break;case 1:case!0:case"stroke":bs=1;break;case 2:case"fillThenStroke":bs=2;break;case 3:case"invisible":bs=3;break;case 4:case"fillAndAddForClipping":bs=4;break;case 5:case"strokeAndAddPathForClipping":bs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":bs=6;break;case 7:case"addToPathForClipping":bs=7}var g_=Qg.usedRenderingMode!==void 0?Qg.usedRenderingMode:-1;bs!==-1?Ii+=bs+` Tr
`:g_!==-1&&(Ii+=`0 Tr
`),bs!==-1&&(Qg.usedRenderingMode=bs),it=le.align||"left";var eo,bd=Oe*jc,Ky=$n.internal.pageSize.getWidth(),Yy=Bt[rt];xt=le.charSpace||Lc,It=le.maxWidth||0,rn=Object.assign({autoencode:!0,noBOM:!0},le.flags);var dh=[],wd=function(dn){return $n.getStringUnitWidth(dn,{font:Yy,charSpace:xt,fontSize:Oe,doKerning:!1})*Oe/zo};if(Object.prototype.toString.call(P)==="[object Array]"){var na;Ne=Wy(P),it!=="left"&&(eo=Ne.map(wd));var ra,ph=0;if(it==="right"){B-=eo[0],P=[],Ri=Ne.length;for(var $c=0;$c<Ri;$c++)$c===0?(ra=Oc(B),na=Nc(ie)):(ra=z(ph-eo[$c]),na=-bd),P.push([Ne[$c],ra,na]),ph=eo[$c]}else if(it==="center"){B-=eo[0]/2,P=[],Ri=Ne.length;for(var gh=0;gh<Ri;gh++)gh===0?(ra=Oc(B),na=Nc(ie)):(ra=z((ph-eo[gh])/2),na=-bd),P.push([Ne[gh],ra,na]),ph=eo[gh]}else if(it==="left"){P=[],Ri=Ne.length;for(var Xy=0;Xy<Ri;Xy++)P.push(Ne[Xy])}else if(it==="justify"&&Yy.encoding==="Identity-H"){P=[],Ri=Ne.length,It=It!==0?It:Ky;for(var em=0,Lr=0;Lr<Ri;Lr++)if(na=Lr===0?Nc(ie):-bd,ra=Lr===0?Oc(B):em,Lr<Ri-1){var m_=z((It-eo[Lr])/(Ne[Lr].split(" ").length-1)),Rl=Ne[Lr].split(" ");P.push([Rl[0]+" ",ra,na]),em=0;for(var Ml=1;Ml<Rl.length;Ml++){var Jy=(wd(Rl[Ml-1]+" "+Rl[Ml])-wd(Rl[Ml]))*zo+m_;Ml==Rl.length-1?P.push([Rl[Ml],Jy,0]):P.push([Rl[Ml]+" ",Jy,0]),em-=Jy}}else P.push([Ne[Lr],ra,na]);P.push(["",em,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Ri=Ne.length,It=It!==0?It:Ky,Lr=0;Lr<Ri;Lr++){na=Lr===0?Nc(ie):-bd,ra=Lr===0?Oc(B):0;var Zy=Ne[Lr].split(" ").length-1,Qy=Zy>0?(It-eo[Lr])/Zy:0;Lr<Ri-1?dh.push(L(z(Qy))):dh.push(0),P.push([Ne[Lr],ra,na])}}}(typeof le.R2L=="boolean"?le.R2L:tt)===!0&&(P=Zg(P,function(dn,On,Ir){return[dn.split("").reverse().join(""),On,Ir]})),Ce={text:P,x:B,y:ie,options:le,mutex:{pdfEscape:Za,activeFontKey:rt,fonts:Bt,activeFontSize:Oe}},fn.publish("postProcessText",Ce),P=Ce.text,Hr=Ce.mutex.isHex||!1;var e1=Bt[rt].encoding;e1!=="WinAnsiEncoding"&&e1!=="StandardEncoding"||(P=Zg(P,function(dn,On,Ir){return[Dc(dn),On,Ir]})),Ne=Wy(P),P=[];for(var mh,vh,yh,xd=Array.isArray(Ne[0])?1:0,bh="",_d=function(dn,On,Ir){var ti="";return Ir instanceof gt?(Ir=typeof le.angle=="number"?kc(Ir,new gt(1,0,0,1,dn,On)):kc(new gt(1,0,0,1,dn,On),Ir),S===x&&(Ir=kc(new gt(1,0,0,-1,0,0),Ir)),ti=Ir.join(" ")+` Tm
`):ti=L(dn)+" "+L(On)+` Td
`,ti},to=0;to<Ne.length;to++){switch(bh="",xd){case 1:yh=(Hr?"<":"(")+Ne[to][0]+(Hr?">":")"),mh=parseFloat(Ne[to][1]),vh=parseFloat(Ne[to][2]);break;case 0:yh=(Hr?"<":"(")+Ne[to]+(Hr?">":")"),mh=Oc(B),vh=Nc(ie)}dh!==void 0&&dh[to]!==void 0&&(bh=dh[to]+` Tw
`),to===0?P.push(bh+_d(mh,vh,qr)+yh):xd===0?P.push(bh+yh):xd===1&&P.push(bh+_d(mh,vh,qr)+yh)}P=xd===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var jl=`BT
/`;return jl+=rt+" "+Oe+` Tf
`,jl+=L(Oe*jc)+` TL
`,jl+=fd+`
`,jl+=Ii,jl+=P,Z(jl+="ET"),d[rt]=!0,$n};var fk=p.__private__.clip=p.clip=function(P){return Z(P==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return fk("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var Il=p.__private__.isValidStyle=function(P){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(B=!0),B};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(P){return Il(P)&&(c=P),this};var o_=p.__private__.getStyle=p.getStyle=function(P){var B=c;switch(P){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=P}return B},l_=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(P){return Yg("f",P),this},p.fillEvenOdd=function(P){return Yg("f*",P),this},p.fillStroke=function(P){return Yg("B",P),this},p.fillStrokeEvenOdd=function(P){return Yg("B*",P),this};var Yg=function(P,B){wn(B)==="object"?pk(B,P):Z(P)},ud=function(P){P===null||S===x&&P===void 0||(P=o_(P),Z(P))};function dk(P,B,ie,le,ge){var Ce=new Km(B||this.boundingBox,ie||this.xStep,le||this.yStep,this.gState,ge||this.matrix);Ce.stream=this.stream;var Ne=P+"$$"+this.cloneIndex+++"$$";return Ya(Ne,Ce),Ce}var pk=function(P,B){var ie=Fn[P.key],le=ft[ie];if(le instanceof $d)Z("q"),Z(gk(B)),le.gState&&p.setGState(le.gState),Z(P.matrix.toString()+" cm"),Z("/"+ie+" sh"),Z("Q");else if(le instanceof Km){var ge=new gt(1,0,0,-1,0,pd());P.matrix&&(ge=ge.multiply(P.matrix||Cc),ie=dk.call(le,P.key,P.boundingBox,P.xStep,P.yStep,ge).id),Z("q"),Z("/Pattern cs"),Z("/"+ie+" scn"),le.gState&&p.setGState(le.gState),Z(B),Z("Q")}},gk=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Dy=p.moveTo=function(P,B){return Z(L(z(P))+" "+L($(B))+" m"),this},c_=p.lineTo=function(P,B){return Z(L(z(P))+" "+L($(B))+" l"),this},Uo=p.curveTo=function(P,B,ie,le,ge,Ce){return Z([L(z(P)),L($(B)),L(z(ie)),L($(le)),L(z(ge)),L($(Ce)),"c"].join(" ")),this};p.__private__.line=p.line=function(P,B,ie,le,ge){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||!Il(ge))throw new Error("Invalid arguments passed to jsPDF.line");return S===w?this.lines([[ie-P,le-B]],P,B,[1,1],ge||"S"):this.lines([[ie-P,le-B]],P,B,[1,1]).stroke()},p.__private__.lines=p.lines=function(P,B,ie,le,ge,Ce){var Ne,Xe,it,xt,It,rn,cr,qr,$n,ei,Hr,Ii;if(typeof P=="number"&&(Ii=ie,ie=B,B=P,P=Ii),le=le||[1,1],Ce=Ce||!1,isNaN(B)||isNaN(ie)||!Array.isArray(P)||!Array.isArray(le)||!Il(ge)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Dy(B,ie),Ne=le[0],Xe=le[1],xt=P.length,ei=B,Hr=ie,it=0;it<xt;it++)(It=P[it]).length===2?(ei=It[0]*Ne+ei,Hr=It[1]*Xe+Hr,c_(ei,Hr)):(rn=It[0]*Ne+ei,cr=It[1]*Xe+Hr,qr=It[2]*Ne+ei,$n=It[3]*Xe+Hr,ei=It[4]*Ne+ei,Hr=It[5]*Xe+Hr,Uo(rn,cr,qr,$n,ei,Hr));return Ce&&l_(),ud(ge),this},p.path=function(P){for(var B=0;B<P.length;B++){var ie=P[B],le=ie.c;switch(ie.op){case"m":Dy(le[0],le[1]);break;case"l":c_(le[0],le[1]);break;case"c":Uo.apply(this,le);break;case"h":l_()}}return this},p.__private__.rect=p.rect=function(P,B,ie,le,ge){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||!Il(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w&&(le=-le),Z([L(z(P)),L($(B)),L(z(ie)),L(z(le)),"re"].join(" ")),ud(ge),this},p.__private__.triangle=p.triangle=function(P,B,ie,le,ge,Ce,Ne){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||isNaN(ge)||isNaN(Ce)||!Il(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-P,le-B],[ge-ie,Ce-le],[P-ge,B-Ce]],P,B,[1,1],Ne,!0),this},p.__private__.roundedRect=p.roundedRect=function(P,B,ie,le,ge,Ce,Ne){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||isNaN(ge)||isNaN(Ce)||!Il(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*ie),Ce=Math.min(Ce,.5*le),this.lines([[ie-2*ge,0],[ge*Xe,0,ge,Ce-Ce*Xe,ge,Ce],[0,le-2*Ce],[0,Ce*Xe,-ge*Xe,Ce,-ge,Ce],[2*ge-ie,0],[-ge*Xe,0,-ge,-Ce*Xe,-ge,-Ce],[0,2*Ce-le],[0,-Ce*Xe,ge*Xe,-Ce,ge,-Ce]],P+ge,B,[1,1],Ne,!0),this},p.__private__.ellipse=p.ellipse=function(P,B,ie,le,ge){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||!Il(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*ie,Ne=4/3*(Math.SQRT2-1)*le;return Dy(P+ie,B),Uo(P+ie,B-Ne,P+Ce,B-le,P,B-le),Uo(P-Ce,B-le,P-ie,B-Ne,P-ie,B),Uo(P-ie,B+Ne,P-Ce,B+le,P,B+le),Uo(P+Ce,B+le,P+ie,B+Ne,P+ie,B),ud(ge),this},p.__private__.circle=p.circle=function(P,B,ie,le){if(isNaN(P)||isNaN(B)||isNaN(ie)||!Il(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,B,ie,ie,le)},p.setFont=function(P,B,ie){return ie&&(B=C(B,ie)),rt=r_(P,B,{disableWarning:!1}),this};var mk=p.__private__.getFont=p.getFont=function(){return Bt[r_.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var P,B,ie={};for(P in Ut)if(Ut.hasOwnProperty(P))for(B in ie[P]=[],Ut[P])Ut[P].hasOwnProperty(B)&&ie[P].push(B);return ie},p.addFont=function(P,B,ie,le,ge){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(ie=C(ie,le)),Qx.call(this,P,B,ie,ge=ge||"Identity-H")};var hd,Fy=t.lineWidth||.200025,vk=p.__private__.getLineWidth=p.getLineWidth=function(){return Fy},_t=p.__private__.setLineWidth=p.setLineWidth=function(P){return Fy=P,Z(L(z(P))+" w"),this};p.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(P,B){if(P=P||[],B=B||0,isNaN(B)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ie){return L(z(ie))}).join(" "),B=L(z(B)),Z("["+P+"] "+B+" d"),this};var yk=p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*hd};p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*hd};var bk=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(hd=P),this},wk=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return hd};bk(t.lineHeight);var Oc=p.__private__.getHorizontalCoordinate=function(P){return z(P)},Nc=p.__private__.getVerticalCoordinate=function(P){return S===x?P:pt[K].mediaBox.topRightY-pt[K].mediaBox.bottomLeftY-z(P)},xk=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(P){return L(Oc(P))},_k=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(P){return L(Nc(P))},Xg=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Tl(Xg)},p.__private__.setStrokeColor=p.setDrawColor=function(P,B,ie,le){return Xg=$o({ch1:P,ch2:B,ch3:ie,ch4:le,pdfColorType:"draw",precision:2}),Z(Xg),this};var $y=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Tl($y)},p.__private__.setFillColor=p.setFillColor=function(P,B,ie,le){return $y=$o({ch1:P,ch2:B,ch3:ie,ch4:le,pdfColorType:"fill",precision:2}),Z($y),this};var fd=t.textColor||"0 g",Ak=p.__private__.getTextColor=p.getTextColor=function(){return Tl(fd)};p.__private__.setTextColor=p.setTextColor=function(P,B,ie,le){return fd=$o({ch1:P,ch2:B,ch3:ie,ch4:le,pdfColorType:"text",precision:3}),this};var Lc=t.charSpace,Sk=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Lc||0)};p.__private__.setCharSpace=p.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Lc=P,this};var By=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(P){var B=p.CapJoinStyles[P];if(B===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return By=B,Z(B+" J"),this};var Uy=0;p.__private__.setLineJoin=p.setLineJoin=function(P){var B=p.CapJoinStyles[P];if(B===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uy=B,Z(B+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(L(z(P))+" M"),this},p.GState=SE,p.setGState=function(P){(P=typeof P=="string"?bt[Ct[P]]:u_(null,P)).equals(nr)||(Z("/"+P.id+" gs"),nr=P)};var u_=function(P,B){if(!P||!Ct[P]){var ie=!1;for(var le in bt)if(bt.hasOwnProperty(le)&&bt[le].equals(B)){ie=!0;break}if(ie)B=bt[le];else{var ge="GS"+(Object.keys(bt).length+1).toString(10);bt[ge]=B,B.id=ge}return P&&(Ct[P]=B.id),fn.publish("addGState",B),B}};p.addGState=function(P,B){return u_(P,B),this},p.saveGraphicsState=function(){return Z("q"),tr.push({key:rt,size:Oe,color:fd}),this},p.restoreGraphicsState=function(){Z("Q");var P=tr.pop();return rt=P.key,Oe=P.size,fd=P.color,nr=null,this},p.setCurrentTransformationMatrix=function(P){return Z(P.toString()+" cm"),this},p.comment=function(P){return Z("#"+P),this};var Ic=function(P,B){var ie=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ce){isNaN(Ce)||(ie=parseFloat(Ce))}});var le=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Ce){isNaN(Ce)||(le=parseFloat(Ce))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ce){ge=Ce.toString()}}),this},zy=function(P,B,ie,le){Ic.call(this,P,B),this.type="rect";var ge=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Ne){isNaN(Ne)||(ge=parseFloat(Ne))}});var Ce=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(Ne){isNaN(Ne)||(Ce=parseFloat(Ne))}}),this},Jg=function(){this.page=zt,this.currentPage=K,this.pages=_e.slice(0),this.pagesContext=pt.slice(0),this.x=ct,this.y=Nr,this.matrix=nn,this.width=Hy(K),this.height=f_(K),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Jg.prototype.restore=function(){zt=this.page,K=this.currentPage,pt=this.pagesContext,_e=this.pages,ct=this.x,Nr=this.y,nn=this.matrix,h_(K,this.width),Rc(K,this.height),Ie=this.outputDestination};var qy=function(P,B,ie,le,ge){Cl.push(new Jg),zt=K=0,_e=[],ct=P,Nr=B,nn=ge,My([ie,le])};for(var dd in p.beginFormObject=function(P,B,ie,le,ge){return qy(P,B,ie,le,ge),this},p.endFormObject=function(P){return function(B){if(Pc[B])Cl.pop().restore();else{var ie=new Jg,le="Xo"+(Object.keys(es).length+1).toString(10);ie.id=le,Pc[B]=le,es[le]=ie,fn.publish("addFormObject",ie),Cl.pop().restore()}}(P),this},p.doFormObject=function(P,B){var ie=es[Pc[P]];return Z("q"),Z(B.toString()+" cm"),Z("/"+ie.id+" Do"),Z("Q"),this},p.getFormObject=function(P){var B=es[Pc[P]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},p.save=function(P,B){return P=P||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(jd(Kg(Ll()),P),typeof jd.unload=="function"&&wt.setTimeout&&setTimeout(jd.unload,911),this):new Promise(function(ie,le){try{var ge=jd(Kg(Ll()),P);typeof jd.unload=="function"&&wt.setTimeout&&setTimeout(jd.unload,911),ie(ge)}catch(Ce){le(Ce.message)}})},lt.API)lt.API.hasOwnProperty(dd)&&(dd==="events"&&lt.API.events.length?function(P,B){var ie,le,ge;for(ge=B.length-1;ge!==-1;ge--)ie=B[ge][0],le=B[ge][1],P.subscribe.apply(P,[ie].concat(typeof le=="function"?[le]:le))}(fn,lt.API.events):p[dd]=lt.API[dd]);function Hy(P){return pt[P].mediaBox.topRightX-pt[P].mediaBox.bottomLeftX}function h_(P,B){pt[P].mediaBox.topRightX=B+pt[P].mediaBox.bottomLeftX}function f_(P){return pt[P].mediaBox.topRightY-pt[P].mediaBox.bottomLeftY}function Rc(P,B){pt[P].mediaBox.topRightY=B+pt[P].mediaBox.bottomLeftY}var Mc=p.getPageWidth=function(P){return Hy(P=P||K)/Lt},d_=p.setPageWidth=function(P,B){h_(P,B*Lt)},pd=p.getPageHeight=function(P){return f_(P=P||K)/Lt},p_=p.setPageHeight=function(P,B){Rc(P,B*Lt)};return p.internal={pdfEscape:Za,getStyle:o_,getFont:mk,getFontSize:Ue,getCharSpace:Sk,getTextColor:Ak,getLineHeight:yk,getLineHeightFactor:wk,getLineWidth:vk,write:Me,getHorizontalCoordinate:Oc,getVerticalCoordinate:Nc,getCoordinateString:xk,getVerticalCoordinateString:_k,collections:{},newObject:yr,newAdditionalObject:od,newObjectDeferred:bi,newObjectDeferredBegin:Li,getFilters:Bo,putStream:Ja,events:fn,scaleFactor:Lt,pageSize:{getWidth:function(){return Mc(K)},setWidth:function(P){d_(K,P)},getHeight:function(){return pd(K)},setHeight:function(P){p_(K,P)}},encryptionOptions:u,encryption:Qr,getEncryptor:function(P){return u!==null?Qr.encryptor(P,0):function(B){return B}},output:s_,getNumberOfPages:n_,get pages(){return _e},out:Z,f2:O,f3:M,getPageInfo:Tc,getPageInfoByObjId:a_,getCurrentPageInfo:hk,getPDFVersion:m,Point:Ic,Rectangle:zy,Matrix:gt,hasHotfix:Qa},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Mc(K)},set:function(P){d_(K,P)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return pd(K)},set:function(P){p_(K,P)},enumerable:!0,configurable:!0}),(function(P){for(var B=0,ie=et.length;B<ie;B++){var le=Qx.call(this,P[B][0],P[B][1],P[B][2],et[B][3],!0);f===!1&&(d[le]=!0);var ge=P[B][0].split("-");Zx({id:le,fontName:ge[0],fontStyle:ge[1]||""})}fn.publish("addFonts",{fonts:Bt,dictionary:Ut})}).call(p,et),rt="F1",e_(i,n),fn.publish("initialized"),p}Cm.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Cm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cm.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Cm.prototype.processOwnerPassword=function(t,e){return H4(q4(e).substr(0,5),t)},Cm.prototype.encryptor=function(t,e){var n=q4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return H4(n,r)}},SE.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||wn(t)!==wn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},lt.API={events:[]},lt.version="3.0.4";var Er=lt.API,hR=1,qg=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},Ch=function(t){return t.toFixed(5)};Er.__acroform__={};var ta=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},W$=function(t){return t*hR},zl=function(t){var e=new xG,n=Ye.internal.getHeight(t)||0,r=Ye.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(r)),Number(At(n))],e},Hke=Er.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Wke=Er.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Vke=Er.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},$r=Er.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vke(t,e-1)},Br=Er.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Hke(t,e-1)},Ur=Er.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wke(t,e-1)},Gke=Er.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},Kke=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=W4(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+At(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=zl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},W4=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=n,a=Ye.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ye.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(O,M,z){if(O+1<i.length){var $=M+" "+i[O+1][0];return N5($,t,z).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,f=N5("3",t,s).height,d=t.multiline?a-s:(a-f)/2,p=d+=2,v=0,m=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+N5(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var g="",w=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var S=!1;if(i[x].length!==1&&b!==i[x].length-1){if((f+2)*(w+2)+2>a)continue e;g+=i[x][b],S=!0,m=x,x--}else{g=(g+=i[x][b]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var A=parseInt(x),E=l(A,g,s),C=x>=i.length-1;if(E&&!C){g+=" ",b=0;continue}if(E||C){if(C)m=A;else if(t.multiline&&(f+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>a)continue e;m=A}}for(var L="",I=v;I<=m;I++){var q=i[I];if(t.multiline){if(I===m){L+=q[b]+" ",b=(b+1)%q.length;continue}if(I===v){L+=q[q.length-1]+" ";continue}}L+=q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=N5(L,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=At(c)+" "+At(p)+` Td
`,e+="("+qg(L)+`) Tj
`,e+=-At(c)+` 0 Td
`,p=-(s+2),u=0,v=S?m:m+1,w++,g=""}break}return r.text=e,r.fontSize=s,r},N5=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Yke={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xke=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Jke=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Pl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Yke)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hR=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _G,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Xke(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Gke(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ye.createDefaultAppearanceStream(o),wn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=Kke(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var p=o.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var v=p[a];typeof v=="function"&&(v=v.call(i,o)),f+="/"+a+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(i,o)),f+="/"+a+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(m,b){for(var g in m)if(m.hasOwnProperty(g)){var w=g,x=m[g];b.internal.newObjectDeferredBegin(x.objId,!0),wn(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete m[w]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},wG=Er.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),wn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+qg(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},PT=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+qg(r(t))+")"},mc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mc.prototype.toString=function(){return this.objId+" 0 R"},mc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},mc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:wG(i,this.objId,this.scope)}):i instanceof mc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var xG=function(){mc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ta(xG,mc);var _G=function(){mc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+qg(n(t))+")"}},set:function(n){t=n}})};ta(_G,mc);var Pl=function t(){mc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$r(e,3)},set:function(g){g?this.F=Br(e,3):this.F=Ur(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof EE)return;s="FieldObject"+t.FieldNum++}var g=function(w){return w};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+qg(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/hR:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof EE||this instanceof bg))return PT(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ti==0?PT(d,this.objId,this.scope):d},set:function(g){g=g.toString(),d=this instanceof Ti==0?g.substr(0,1)==="("?pm(g.substr(1,g.length-2)):pm(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?pm(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof Ti==1?"/"+g:g}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ti==0?PT(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Ti==0?g.substr(0,1)==="("?pm(g.substr(1,g.length-2)):pm(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?pm(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Ti==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,1)},set:function(g){g?this.Ff=Br(this.Ff,1):this.Ff=Ur(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,2)},set:function(g){g?this.Ff=Br(this.Ff,2):this.Ff=Ur(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,3)},set:function(g){g?this.Ff=Br(this.Ff,3):this.Ff=Ur(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');b=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(b){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};ta(Pl,mc);var h0=function(){Pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wG(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,18)},set:function(n){n?this.Ff=Br(this.Ff,18):this.Ff=Ur(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Br(this.Ff,19):this.Ff=Ur(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,20)},set:function(n){n?(this.Ff=Br(this.Ff,20),e.sort()):this.Ff=Ur(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,22)},set:function(n){n?this.Ff=Br(this.Ff,22):this.Ff=Ur(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,23)},set:function(n){n?this.Ff=Br(this.Ff,23):this.Ff=Ur(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,27)},set:function(n){n?this.Ff=Br(this.Ff,27):this.Ff=Ur(this.Ff,27)}}),this.hasAppearanceStream=!1};ta(h0,Pl);var f0=function(){h0.call(this),this.fontName="helvetica",this.combo=!1};ta(f0,h0);var d0=function(){f0.call(this),this.combo=!0};ta(d0,f0);var NA=function(){d0.call(this),this.edit=!0};ta(NA,d0);var Ti=function(){Pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,15)},set:function(n){n?this.Ff=Br(this.Ff,15):this.Ff=Ur(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,16)},set:function(n){n?this.Ff=Br(this.Ff,16):this.Ff=Ur(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,17)},set:function(n){n?this.Ff=Br(this.Ff,17):this.Ff=Ur(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,26)},set:function(n){n?this.Ff=Br(this.Ff,26):this.Ff=Ur(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+qg(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){wn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ta(Ti,Pl);var LA=function(){Ti.call(this),this.pushButton=!0};ta(LA,Ti);var p0=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ta(p0,Ti);var EE=function(){var t,e;Pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+qg(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){wn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ye.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ta(EE,Pl),p0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},p0.prototype.createOption=function(t){var e=new EE;return e.Parent=this,e.optionName=t,this.Kids.push(e),Zke.call(this.scope,e),e};var IA=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ye.CheckBox.createAppearanceStream()};ta(IA,Ti);var bg=function(){Pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,13)},set:function(e){e?this.Ff=Br(this.Ff,13):this.Ff=Ur(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,21)},set:function(e){e?this.Ff=Br(this.Ff,21):this.Ff=Ur(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,23)},set:function(e){e?this.Ff=Br(this.Ff,23):this.Ff=Ur(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,24)},set:function(e){e?this.Ff=Br(this.Ff,24):this.Ff=Ur(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,25)},set:function(e){e?this.Ff=Br(this.Ff,25):this.Ff=Ur(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,26)},set:function(e){e?this.Ff=Br(this.Ff,26):this.Ff=Ur(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ta(bg,Pl);var RA=function(){bg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,14)},set:function(t){t?this.Ff=Br(this.Ff,14):this.Ff=Ur(this.Ff,14)}}),this.password=!0};ta(RA,bg);var Ye={CheckBox:{createAppearanceStream:function(){return{N:{On:Ye.CheckBox.YesNormal},D:{On:Ye.CheckBox.YesPushDown,Off:Ye.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=zl(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=W4(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+At(Ye.internal.getWidth(t))+" "+At(Ye.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+At(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=zl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ye.internal.getHeight(t),a=Ye.internal.getWidth(t),o=W4(t,t.caption);return i.push("1 g"),i.push("0 0 "+At(a)+" "+At(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+At(a-1)+" "+At(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+At(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=zl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ye.internal.getWidth(t))+" "+At(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Circle.YesNormal,e.D[t]=Ye.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=zl(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ye.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ch(Ye.internal.getWidth(t)/2)+" "+Ch(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=zl(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ye.internal.Bezier_C).toFixed(5)),a=Number((r*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ch(Ye.internal.getWidth(t)/2)+" "+Ch(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ch(Ye.internal.getWidth(t)/2)+" "+Ch(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=zl(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ch(Ye.internal.getWidth(t)/2)+" "+Ch(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Cross.YesNormal,e.D[t]=Ye.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=zl(t);e.scope=t.scope;var n=[],r=Ye.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+At(Ye.internal.getWidth(t)-2)+" "+At(Ye.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=zl(t);e.scope=t.scope;var n=Ye.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ye.internal.getWidth(t))+" "+At(Ye.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+At(Ye.internal.getWidth(t)-2)+" "+At(Ye.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=zl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ye.internal.getWidth(t))+" "+At(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ye.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ye.internal.getWidth(t),n=Ye.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ye.internal.getWidth=function(t){var e=0;return wn(t)==="object"&&(e=W$(t.Rect[2])),e},Ye.internal.getHeight=function(t){var e=0;return wn(t)==="object"&&(e=W$(t.Rect[3])),e};var Zke=Er.addField=function(t){if(Jke(this,t),!(t instanceof Pl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Er.AcroFormChoiceField=h0,Er.AcroFormListBox=f0,Er.AcroFormComboBox=d0,Er.AcroFormEditBox=NA,Er.AcroFormButton=Ti,Er.AcroFormPushButton=LA,Er.AcroFormRadioButton=p0,Er.AcroFormCheckBox=IA,Er.AcroFormTextField=bg,Er.AcroFormPasswordField=RA,Er.AcroFormAppearance=Ye,Er.AcroForm={ChoiceField:h0,ListBox:f0,ComboBox:d0,EditBox:NA,Button:Ti,PushButton:LA,RadioButton:p0,CheckBox:IA,TextField:bg,PasswordField:RA,Appearance:Ye},lt.AcroForm={ChoiceField:h0,ListBox:f0,ComboBox:d0,EditBox:NA,Button:Ti,PushButton:LA,RadioButton:p0,CheckBox:IA,TextField:bg,PasswordField:RA,Appearance:Ye};lt.AcroForm;function AG(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(O,M){var z,$,V,X,Q,W=n;if((M=M||n)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(E(O))for(Q in r)for(V=r[Q],z=0;z<V.length;z+=1){for(X=!0,$=0;$<V[z].length;$+=1)if(V[z][$]!==void 0&&V[z][$]!==O[$]){X=!1;break}if(X===!0){W=Q;break}}else for(Q in r)for(V=r[Q],z=0;z<V.length;z+=1){for(X=!0,$=0;$<V[z].length;$+=1)if(V[z][$]!==void 0&&V[z][$]!==O.charCodeAt($)){X=!1;break}if(X===!0){W=Q;break}}return W===n&&M!==n&&(W=M),W},s=function O(M){for(var z=this.internal.write,$=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:M.width}),X.push({key:"Height",value:M.height}),M.colorSpace===g.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===g.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var Q="",W=0,re=M.transparency.length;W<re;W++)Q+=M.transparency[W]+" "+M.transparency[W]+" ";X.push({key:"Mask",value:"["+Q+"]"})}M.sMask!==void 0&&X.push({key:"SMask",value:M.objectId+1+" 0 R"});var ce=M.filter!==void 0?["/"+M.filter]:void 0;if($({data:M.data,additionalKeyValues:X,alreadyAppliedFilters:ce,objectId:M.objectId}),z("endobj"),"sMask"in M&&M.sMask!==void 0){var ae,D=(ae=M.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:M.bitsPerComponent,K={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:M.sMask};"filter"in M&&(K.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(M.width),K.filter=M.filter),O.call(this,K)}if(M.colorSpace===g.INDEXED){var ee=this.internal.newObject();$({data:L(new Uint8Array(M.palette)),objectId:ee}),z("endobj")}},a=function(){var O=this.internal.collections[e+"images"];for(var M in O)s.call(this,O[M])},o=function(){var O,M=this.internal.collections[e+"images"],z=this.internal.write;for(var $ in M)z("/I"+(O=M[$]).index,O.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var O=this.internal.collections[e+"images"];return l.call(this),O},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(O){return typeof t["process"+O.toUpperCase()]=="function"},d=function(O){return wn(O)==="object"&&O.nodeType===1},p=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var z=""+O.getAttribute("src");if(z.indexOf("data:image/")===0)return OA(unescape(z).split("base64,").pop());var $=t.loadFile(z,!0);if($!==void 0)return $}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var V;switch(M){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;default:V="image/jpeg"}return OA(O.toDataURL(V,1).split("base64,").pop())}},v=function(O){var M=this.internal.collections[e+"images"];if(M){for(var z in M)if(O===M[z].alias)return M[z]}},m=function(O,M,z){return O||M||(O=-96,M=-96),O<0&&(O=-1*z.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*z.height*72/M/this.internal.scaleFactor),O===0&&(O=M*z.width/z.height),M===0&&(M=O*z.height/z.width),[O,M]},b=function(O,M,z,$,V,X){var Q=m.call(this,z,$,V),W=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,ce=c.call(this);if(z=Q[0],$=Q[1],ce[V.index]=V,X){X*=Math.PI/180;var ae=Math.cos(X),D=Math.sin(X),K=function(se){return se.toFixed(4)},ee=[K(ae),K(D),K(-1*D),K(ae),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,W(O),re(M+$),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([W(z),"0","0",W($),"0","0","cm"].join(" "))):this.internal.write([W(z),"0","0",W($),W(O),re(M+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(O){var M,z,$=0;if(typeof O=="string")for(z=O.length,M=0;M<z;M++)$=($<<5)-$+O.charCodeAt(M),$|=0;else if(E(O))for(z=O.byteLength/2,M=0;M<z;M++)$=($<<5)-$+O[M],$|=0;return $},S=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},A=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var M=O.indexOf(",");return M<0?null:O.substring(0,M).trim().endsWith("base64")?O.substring(M+1):null};t.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var E=t.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},C=t.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,z=new Uint8Array(M),$=0;$<M;$++)z[$]=O.charCodeAt($);return z},L=t.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",z=E(O)?O:new Uint8Array(O),$=0;$<z.length;$+=8192)M+=String.fromCharCode.apply(null,z.subarray($,$+8192));return M};t.addImage=function(){var O,M,z,$,V,X,Q,W,re;if(typeof arguments[1]=="number"?(M=n,z=arguments[1],$=arguments[2],V=arguments[3],X=arguments[4],Q=arguments[5],W=arguments[6],re=arguments[7]):(M=arguments[1],z=arguments[2],$=arguments[3],V=arguments[4],X=arguments[5],Q=arguments[6],W=arguments[7],re=arguments[8]),wn(O=arguments[0])==="object"&&!d(O)&&"imageData"in O){var ce=O;O=ce.imageData,M=ce.format||M||n,z=ce.x||z||0,$=ce.y||$||0,V=ce.w||ce.width||V,X=ce.h||ce.height||X,Q=ce.alias||Q,W=ce.compression||W,re=ce.rotation||ce.angle||re}var ae=this.internal.getFilters();if(W===void 0&&ae.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(z)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=I.call(this,O,M,Q,W);return b.call(this,z,$,V,X,D,re),this};var I=function(O,M,z,$){var V,X,Q;if(typeof O=="string"&&i(O)===n){O=unescape(O);var W=q(O,!1);(W!==""||(W=t.loadFile(O,!0))!==void 0)&&(O=W)}if(d(O)&&(O=p(O,M)),M=i(O,M),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((Q=z)==null||Q.length===0)&&(z=function(re){return typeof re=="string"||E(re)?x(re):E(re.data)?x(re.data):null}(O)),(V=v.call(this,z))||(O instanceof Uint8Array||M==="RGBA"||(X=O,O=C(O)),V=this["process"+M.toUpperCase()](O,u.call(this),z,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:w.NONE}($),X)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},q=t.__addimage__.convertBase64ToBinaryString=function(O,M){M=typeof M!="boolean"||M;var z,$="";if(typeof O=="string"){var V;z=(V=A(O))!==null&&V!==void 0?V:O;try{$=OA(z)}catch(X){if(M)throw S(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(O){var M,z,$="";if(d(O)&&(O=p(O)),typeof O=="string"&&i(O)===n&&(($=q(O,!1))===""&&($=t.loadFile(O)||""),O=$),z=i(O),!f(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(O instanceof Uint8Array||(O=C(O)),!(M=this["process"+z.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=z,M}})(lt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};lt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(g(r.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(g(w))+") >>",m.content=s;var x=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(m.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var S=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(v(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var E=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+E+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(n,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(lt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var b=0,g=n,w="",x=0;for(b=0;b<m.length;b+=1)g[m.charCodeAt(b)]!==void 0?(x++,typeof(g=g[m.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(g),g=n,x=0),b===m.length-1&&(g=n,w+=m.charAt(b-(x-1)),b-=x-1,x=0)):(g=n,w+=m.charAt(b-x),b-=x,x=0);return w};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(m,b,g){return a(m)?s(m)===!1?-1:!c(m)||!a(b)&&!a(g)||!a(g)&&o(b)||o(m)&&!a(b)||o(m)&&l(b)||o(m)&&o(b)?0:u(m)&&a(b)&&!o(b)&&a(g)&&c(g)?3:o(m)||!a(g)?1:2:-1},p=function(m){var b=0,g=0,w=0,x="",S="",A="",E=(m=m||"").split("\\s+"),C=[];for(b=0;b<E.length;b+=1){for(C.push(""),g=0;g<E[b].length;g+=1)x=E[b][g],S=E[b][g-1],A=E[b][g+1],a(x)?(w=d(x,S,A),C[b]+=w!==-1?String.fromCharCode(e[x.charCodeAt(0)][w]):x):C[b]+=x;C[b]=f(C[b])}return C.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var m,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(b)){var w=0;for(g=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?g.push([p(b[w][0]),b[w][1],b[w][2]]):g.push([p(b[w])]);m=g}else m=p(b);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",v])}(lt.API),lt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(lt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,p=0,v=0,m=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,S){return x.concat(b.splitTextToSize(S,g))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(m=this.getStringUnitWidth(l[w],{font:f})*u)&&(p=m);return p!==0&&(v=l.length),{w:p/=d,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,v,m,b,g=[],w=[],x=[],S={},A={},E=[],C=[],L=(d=d||{}).autoSize||!1,I=d.printHeaders!==!1,q=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,O=d.margins||Object.assign({width:this.getPageWidth()},e),M=typeof d.padding=="number"?d.padding:3,z=d.headerBackgroundColor||"#c8c8c8",$=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=$,this.setFontSize(q),f==null)w=g=Object.keys(u[0]),x=g.map(function(){return"left"});else if(Array.isArray(f)&&wn(f[0])==="object")for(g=f.map(function(ce){return ce.name}),w=f.map(function(ce){return ce.prompt||ce.name||""}),x=f.map(function(ce){return ce.align||"left"}),p=0;p<f.length;p+=1)A[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=g=f,x=g.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<g.length;p+=1){for(S[b=g[p]]=u.map(function(ce){return ce[b]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=S[b],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)E.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[b]=Math.max.apply(null,E)+M+M,E=[]}if(I){var V={};for(p=0;p<g.length;p+=1)V[g[p]]={},V[g[p]].text=w[p],V[g[p]].align=x[p];var X=o.call(this,V,A);C=g.map(function(ce){return new s(l,c,A[ce],X,V[ce].text,void 0,V[ce].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var Q=f.reduce(function(ce,ae){return ce[ae.name]=ae.align,ce},{});for(p=0;p<u.length;p+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:p,data:u[p]},this);var W=o.call(this,u[p],A);for(m=0;m<g.length;m+=1){var re=u[p][g[m]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:p,col:m,data:re},this),a.call(this,new s(l,c,A[g[m]],W,re,p+2,Q[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/d+u+u},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(v)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(lt.API);var SG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],V4=AG(EG),PG=[100,200,300,400,500,600,700,800,900],Qke=AG(PG);function kT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return SG[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof V4[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function V$(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var eCe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},G$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function K$(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Y$(t){return t.trimLeft()}function tCe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function nCe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var L5,X$,J$,gm,I5,Z$,Q$,eB,CT=["times"];function tB(t,e,n,r,i){var s=4,a=rB;switch(i){case lt.API.image_compression.FAST:s=1,a=nB;break;case lt.API.image_compression.MEDIUM:s=6,a=iB;break;case lt.API.image_compression.SLOW:s=9,a=sB}t=function(l,c,u,f){for(var d,p=l.length/c,v=new Uint8Array(l.length+p),m=[rCe,nB,rB,iB,sB],b=0;b<p;b+=1){var g=b*c,w=l.subarray(g,g+c);if(f)v.set(f(w,u,d),g+b);else{for(var x=m.length,S=[],A=0;A<x;A+=1)S[A]=m[A](w,u,d);var E=sCe(S.concat());v.set(S[E],g+b)}d=w}return v}(t,e,Math.ceil(n*r/8),a);var o=$4(t,{level:s});return lt.API.__addimage__.arrayBufferToBinaryString(o)}function rCe(t){var e=Array.apply([],t);return e.unshift(0),e}function nB(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function rB(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function iB(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function sB(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=iCe(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function iCe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function sCe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function TT(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return kG(t,i)>>s&a}function aB(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var d=f>>8&255;c.setUint8(u,d)}})(t,s,kG(t,s)&~(o<<a)&65535|l)}function kG(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function aCe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],f=0,d=null,p=0,v=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],1&m||(d=null),p=m>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++],A=S>>6&1,E=1<<1+(7&S),C=o,L=l,I=!1;S>>7&&(I=!0,C=e,L=E,e+=3*E);var q=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}u.push({x:b,y:g,width:w,height:x,has_local_palette:I,palette_offset:C,palette_size:L,data_offset:q,data_length:e-q,transparent_index:d,interlaced:!!A,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,z){var $=this.frameInfo(M),V=$.width*$.height,X=new Uint8Array(V);oB(t,$.data_offset,X,V);var Q=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var re=$.width,ce=n-re,ae=re,D=4*($.y*n+$.x),K=4*(($.y+$.height)*n+$.x),ee=D,se=4*ce;$.interlaced===!0&&(se+=4*n*7);for(var oe=8,fe=0,xe=X.length;fe<xe;++fe){var ue=X[fe];if(ae===0&&(ae=re,(ee+=se)>=K&&(se=4*ce+4*n*(oe-1),ee=D+(re+ce)*(oe<<1),oe>>=1)),ue===W)ee+=4;else{var ye=t[Q+3*ue],_e=t[Q+3*ue+1],me=t[Q+3*ue+2];z[ee++]=me,z[ee++]=_e,z[ee++]=ye,z[ee++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(M,z){var $=this.frameInfo(M),V=$.width*$.height,X=new Uint8Array(V);oB(t,$.data_offset,X,V);var Q=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var re=$.width,ce=n-re,ae=re,D=4*($.y*n+$.x),K=4*(($.y+$.height)*n+$.x),ee=D,se=4*ce;$.interlaced===!0&&(se+=4*n*7);for(var oe=8,fe=0,xe=X.length;fe<xe;++fe){var ue=X[fe];if(ae===0&&(ae=re,(ee+=se)>=K&&(se=4*ce+4*n*(oe-1),ee=D+(re+ce)*(oe<<1),oe>>=1)),ue===W)ee+=4;else{var ye=t[Q+3*ue],_e=t[Q+3*ue+1],me=t[Q+3*ue+2];z[ee++]=ye,z[ee++]=_e,z[ee++]=me,z[ee++]=255}--ae}}}function oB(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,f=0,d=0,p=t[e++],v=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)f|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var b=f&c;if(f>>=l,u-=l,b!==s){if(b===a)break;for(var g=b<o?b:m,w=0,x=g;x>s;)x=v[x]>>8,++w;var S=x;if(d+w+(g!==b?1:0)>r)return void Rn.log("Warning, gif stream longer than expected.");n[d++]=S;var A=d+=w;for(g!==b&&(n[d++]=S),x=g;w--;)x=v[x],n[--A]=255&x,x>>=8;m!==null&&o<4096&&(v[o++]=m<<8|S,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=b}else o=a+1,c=(1<<(l=i+1))-1,m=null}return d!==r&&Rn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function OT(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),d=new Array(65535),p=new Array(64),v=new Array(64),m=[],b=0,g=7,w=new Array(64),x=new Array(64),S=new Array(64),A=new Array(256),E=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(D,K){for(var ee=0,se=0,oe=new Array,fe=1;fe<=16;fe++){for(var xe=1;xe<=D[fe];xe++)oe[K[se]]=[],oe[K[se]][0]=ee,oe[K[se]][1]=fe,se++,ee++;ee*=2}return oe}function Q(D){for(var K=D[0],ee=D[1]-1;ee>=0;)K&1<<ee&&(b|=1<<g),ee--,--g<0&&(b==255?(W(255),W(0)):W(b),g=7,b=0)}function W(D){m.push(D)}function re(D){W(D>>8&255),W(255&D)}function ce(D,K,ee,se,oe){for(var fe,xe=oe[0],ue=oe[240],ye=function(Oe,ut){var Ue,tt,st,tn,$t,kt,Xt,Vt,rt,Lt,ct=0;for(rt=0;rt<8;++rt){Ue=Oe[ct],tt=Oe[ct+1],st=Oe[ct+2],tn=Oe[ct+3],$t=Oe[ct+4],kt=Oe[ct+5],Xt=Oe[ct+6];var Nr=Ue+(Vt=Oe[ct+7]),nn=Ue-Vt,Bt=tt+Xt,Ut=tt-Xt,tr=st+kt,ft=st-kt,Fn=tn+$t,bt=tn-$t,Ct=Nr+Fn,nr=Nr-Fn,zt=Bt+tr,pt=Bt-tr;Oe[ct]=Ct+zt,Oe[ct+4]=Ct-zt;var fn=.707106781*(pt+nr);Oe[ct+2]=nr+fn,Oe[ct+6]=nr-fn;var ad=.382683433*((Ct=bt+ft)-(pt=Ut+nn)),es=.5411961*Ct+ad,Pc=1.306562965*pt+ad,Cl=.707106781*(zt=ft+Ut),gt=nn+Cl,kc=nn-Cl;Oe[ct+5]=kc+es,Oe[ct+3]=kc-es,Oe[ct+1]=gt+Pc,Oe[ct+7]=gt-Pc,ct+=8}for(ct=0,rt=0;rt<8;++rt){Ue=Oe[ct],tt=Oe[ct+8],st=Oe[ct+16],tn=Oe[ct+24],$t=Oe[ct+32],kt=Oe[ct+40],Xt=Oe[ct+48];var Cc=Ue+(Vt=Oe[ct+56]),Ya=Ue-Vt,Xa=tt+Xt,yr=tt-Xt,bi=st+kt,Li=st-kt,od=tn+$t,uh=tn-$t,Fo=Cc+od,Tl=Cc-od,$o=Xa+bi,Bo=Xa-bi;Oe[ct]=Fo+$o,Oe[ct+32]=Fo-$o;var Ja=.707106781*(Bo+Tl);Oe[ct+16]=Tl+Ja,Oe[ct+48]=Tl-Ja;var ld=.382683433*((Fo=uh+Li)-(Bo=yr+Ya)),Ol=.5411961*Fo+ld,cd=1.306562965*Bo+ld,Hg=.707106781*($o=Li+yr),Wg=Ya+Hg,Vg=Ya-Hg;Oe[ct+40]=Vg+Ol,Oe[ct+24]=Vg-Ol,Oe[ct+8]=Wg+cd,Oe[ct+56]=Wg-cd,ct++}for(rt=0;rt<64;++rt)Lt=Oe[rt]*ut[rt],p[rt]=Lt>0?Lt+.5|0:Lt-.5|0;return p}(D,K),_e=0;_e<64;++_e)v[C[_e]]=ye[_e];var me=v[0]-ee;ee=v[0],me==0?Q(se[0]):(Q(se[d[fe=32767+me]]),Q(f[fe]));for(var Ie=63;Ie>0&&v[Ie]==0;)Ie--;if(Ie==0)return Q(xe),ee;for(var De,Z=1;Z<=Ie;){for(var Me=Z;v[Z]==0&&Z<=Ie;)++Z;var ht=Z-Me;if(ht>=16){De=ht>>4;for(var et=1;et<=De;++et)Q(ue);ht&=15}fe=32767+v[Z],Q(oe[(ht<<4)+d[fe]]),Q(f[fe]),Z++}return Ie!=63&&Q(xe),ee}function ae(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(K){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var oe=a((ee[se]*K+50)/100);oe=Math.min(Math.max(oe,1),255),o[C[se]]=oe}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ue=a((fe[xe]*K+50)/100);ue=Math.min(Math.max(ue,1),255),l[C[xe]]=ue}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,me=0;me<8;me++)for(var Ie=0;Ie<8;Ie++)c[_e]=1/(o[C[_e]]*ye[me]*ye[Ie]*8),u[_e]=1/(l[C[_e]]*ye[me]*ye[Ie]*8),_e++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,K){K&&ae(K),m=new Array,b=0,g=7,re(65496),re(65504),re(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),re(1),re(1),W(0),W(0),function(){re(65499),re(132),W(0);for(var tt=0;tt<64;tt++)W(o[tt]);W(1);for(var st=0;st<64;st++)W(l[st])}(),function(tt,st){re(65472),re(17),W(8),re(st),re(tt),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(D.width,D.height),function(){re(65476),re(418),W(0);for(var tt=0;tt<16;tt++)W(L[tt+1]);for(var st=0;st<=11;st++)W(I[st]);W(16);for(var tn=0;tn<16;tn++)W(q[tn+1]);for(var $t=0;$t<=161;$t++)W(O[$t]);W(1);for(var kt=0;kt<16;kt++)W(M[kt+1]);for(var Xt=0;Xt<=11;Xt++)W(z[Xt]);W(17);for(var Vt=0;Vt<16;Vt++)W($[Vt+1]);for(var rt=0;rt<=161;rt++)W(V[rt])}(),re(65498),re(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var ee=0,se=0,oe=0;b=0,g=7,this.encode.displayName="_encode_";for(var fe,xe,ue,ye,_e,me,Ie,De,Z,Me=D.data,ht=D.width,et=D.height,Oe=4*ht,ut=0;ut<et;){for(fe=0;fe<Oe;){for(_e=Oe*ut+fe,Ie=-1,De=0,Z=0;Z<64;Z++)me=_e+(De=Z>>3)*Oe+(Ie=4*(7&Z)),ut+De>=et&&(me-=Oe*(ut+1+De-et)),fe+Ie>=Oe&&(me-=fe+Ie-Oe+4),xe=Me[me++],ue=Me[me++],ye=Me[me++],w[Z]=(E[xe]+E[ue+256|0]+E[ye+512|0]>>16)-128,x[Z]=(E[xe+768|0]+E[ue+1024|0]+E[ye+1280|0]>>16)-128,S[Z]=(E[xe+1280|0]+E[ue+1536|0]+E[ye+1792|0]>>16)-128;ee=ce(w,c,ee,e,r),se=ce(x,u,se,n,i),oe=ce(S,u,oe,n,i),fe+=32}ut+=8}if(g>=0){var Ue=[];Ue[1]=g+1,Ue[0]=(1<<g+1)-1,Q(Ue)}return re(65497),new Uint8Array(m)},t=t||50,function(){for(var D=String.fromCharCode,K=0;K<256;K++)A[K]=D(K)}(),e=X(L,I),n=X(M,z),r=X(q,O),i=X($,V),function(){for(var D=1,K=2,ee=1;ee<=15;ee++){for(var se=D;se<K;se++)d[32767+se]=ee,f[32767+se]=[],f[32767+se][1]=ee,f[32767+se][0]=se;for(var oe=-(K-1);oe<=-D;oe++)d[32767+oe]=ee,f[32767+oe]=[],f[32767+oe][1]=ee,f[32767+oe][0]=K-1+oe;D<<=1,K<<=1}}(),function(){for(var D=0;D<256;D++)E[D]=19595*D,E[D+256|0]=38470*D,E[D+512|0]=7471*D+32768,E[D+768|0]=-11059*D,E[D+1024|0]=-21709*D,E[D+1280|0]=32768*D+8421375,E[D+1536|0]=-27439*D,E[D+1792|0]=-5329*D}(),ae(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ko(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lB(t){function e(I){if(!I)throw Error("assert :P")}function n(I,q,O){for(var M=0;4>M;M++)if(I[q+M]!=O.charCodeAt(M))return!0;return!1}function r(I,q,O,M,z){for(var $=0;$<z;$++)I[q+$]=O[M+$]}function i(I,q,O,M){for(var z=0;z<M;z++)I[q+z]=O}function s(I){return new Int32Array(I)}function a(I,q){for(var O=[],M=0;M<I;M++)O.push(new q);return O}function o(I,q){var O=[];return function M(z,$,V){for(var X=V[$],Q=0;Q<X&&(z.push(V.length>$+1?[]:new q),!(V.length<$+1));Q++)M(z[Q],$+1,V)}(O,0,I),O}var l=function(){var I=this;function q(y,_){for(var k=1<<_-1>>>0;y&k;)k>>>=1;return k?(y&k-1)+k:y}function O(y,_,k,R,U){e(!(R%k));do y[_+(R-=k)]=U;while(0<R)}function M(y,_,k,R,U){if(e(2328>=U),512>=U)var H=s(512);else if((H=s(U))==null)return 0;return function(G,Y,J,te,he,we){var ne,de,ve=Y,Ee=1<<J,be=s(16),ke=s(16);for(e(he!=0),e(te!=null),e(G!=null),e(0<J),de=0;de<he;++de){if(15<te[de])return 0;++be[te[de]]}if(be[0]==he)return 0;for(ke[1]=0,ne=1;15>ne;++ne){if(be[ne]>1<<ne)return 0;ke[ne+1]=ke[ne]+be[ne]}for(de=0;de<he;++de)ne=te[de],0<te[de]&&(we[ke[ne]++]=de);if(ke[15]==1)return(te=new z).g=0,te.value=we[0],O(G,ve,1,Ee,te),Ee;var Te,Re=-1,Le=Ee-1,at=0,Ke=1,Mt=1,Je=1<<J;for(de=0,ne=1,he=2;ne<=J;++ne,he<<=1){if(Ke+=Mt<<=1,0>(Mt-=be[ne]))return 0;for(;0<be[ne];--be[ne])(te=new z).g=ne,te.value=we[de++],O(G,ve+at,he,Je,te),at=q(at,ne)}for(ne=J+1,he=2;15>=ne;++ne,he<<=1){if(Ke+=Mt<<=1,0>(Mt-=be[ne]))return 0;for(;0<be[ne];--be[ne]){if(te=new z,(at&Le)!=Re){for(ve+=Je,Te=1<<(Re=ne)-J;15>Re&&!(0>=(Te-=be[Re]));)++Re,Te<<=1;Ee+=Je=1<<(Te=Re-J),G[Y+(Re=at&Le)].g=Te+J,G[Y+Re].value=ve-Y-Re}te.g=ne-J,te.value=we[de++],O(G,ve+(at>>J),he,Je,te),at=q(at,ne)}}return Ke!=2*ke[15]-1?0:Ee}(y,_,k,R,U,H)}function z(){this.value=this.g=0}function $(){this.value=this.g=0}function V(){this.G=a(5,z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(wd,$)}function X(y,_,k,R){e(y!=null),e(_!=null),e(2147483648>R),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=k,y.Jd=_,y.Yc=k+R,y.Zc=4<=R?k+R-4+1:k,xe(y)}function Q(y,_){for(var k=0;0<_--;)k|=ye(y,128)<<_;return k}function W(y,_){var k=Q(y,_);return ue(y)?-k:k}function re(y,_,k,R){var U,H=0;for(e(y!=null),e(_!=null),e(4294967288>R),y.Sb=R,y.Ra=0,y.u=0,y.h=0,4<R&&(R=4),U=0;U<R;++U)H+=_[k+U]<<8*U;y.Ra=H,y.bb=R,y.oa=_,y.pa=k}function ce(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<ph-8>>>0,++y.bb,y.u-=8;se(y)&&(y.h=1,y.u=0)}function ae(y,_){if(e(0<=_),!y.h&&_<=ra){var k=ee(y)&na[_];return y.u+=_,ce(y),k}return y.h=1,y.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(y){return y.Ra>>>(y.u&ph-1)>>>0}function se(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>ph}function oe(y,_){y.u=_,y.h=se(y)}function fe(y){y.u>=$c&&(e(y.u>=$c),ce(y))}function xe(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ue(y){return Q(y,1)}function ye(y,_){var k=y.Ca;0>y.b&&xe(y);var R=y.b,U=k*_>>>8,H=(y.I>>>R>U)+0;for(H?(k-=U,y.I-=U+1<<R>>>0):k=U+1,R=k,U=0;256<=R;)U+=8,R>>=8;return R=7^U+gh[R],y.b-=R,y.Ca=(k<<R)-1,H}function _e(y,_,k){y[_+0]=k>>24&255,y[_+1]=k>>16&255,y[_+2]=k>>8&255,y[_+3]=255&k}function me(y,_){return y[_+0]|y[_+1]<<8}function Ie(y,_){return me(y,_)|y[_+2]<<16}function De(y,_){return me(y,_)|me(y,_+2)<<16}function Z(y,_){var k=1<<_;return e(y!=null),e(0<_),y.X=s(k),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function Me(y,_){e(y!=null),e(_!=null),e(y.Xa==_.Xa),r(_.X,0,y.X,0,1<<_.Xa)}function ht(){this.X=[],this.Xa=this.Mb=0}function et(y,_,k,R){e(k!=null),e(R!=null);var U=k[0],H=R[0];return U==0&&(U=(y*H+_/2)/_),H==0&&(H=(_*U+y/2)/y),0>=U||0>=H?0:(k[0]=U,R[0]=H,1)}function Oe(y,_){return y+(1<<_)-1>>>_}function ut(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function Ue(y,_){I[_]=function(k,R,U,H,G,Y,J){var te;for(te=0;te<G;++te){var he=I[y](Y[J+te-1],U,H+te);Y[J+te]=ut(k[R+te],he)}}}function tt(){this.ud=this.hd=this.jd=0}function st(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function tn(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function $t(y,_){return tn(y+(y-_+.5>>1))}function kt(y,_,k){return Math.abs(_-k)-Math.abs(y-k)}function Xt(y,_,k,R,U,H,G){for(R=H[G-1],k=0;k<U;++k)H[G+k]=R=ut(y[_+k],R)}function Vt(y,_,k,R,U){var H;for(H=0;H<k;++H){var G=y[_+H],Y=G>>8&255,J=16711935&(J=(J=16711935&G)+((Y<<16)+Y));R[U+H]=(4278255360&G)+J>>>0}}function rt(y,_){_.jd=255&y,_.hd=y>>8&255,_.ud=y>>16&255}function Lt(y,_,k,R,U,H){var G;for(G=0;G<R;++G){var Y=_[k+G],J=Y>>>8,te=Y,he=255&(he=(he=Y>>>16)+((y.jd<<24>>24)*(J<<24>>24)>>>5));te=255&(te=(te+=(y.hd<<24>>24)*(J<<24>>24)>>>5)+((y.ud<<24>>24)*(he<<24>>24)>>>5)),U[H+G]=(4278255360&Y)+(he<<16)+te}}function ct(y,_,k,R,U){I[_]=function(H,G,Y,J,te,he,we,ne,de){for(J=we;J<ne;++J)for(we=0;we<de;++we)te[he++]=U(Y[R(H[G++])])},I[y]=function(H,G,Y,J,te,he,we){var ne=8>>H.b,de=H.Ea,ve=H.K[0],Ee=H.w;if(8>ne)for(H=(1<<H.b)-1,Ee=(1<<ne)-1;G<Y;++G){var be,ke=0;for(be=0;be<de;++be)be&H||(ke=R(J[te++])),he[we++]=U(ve[ke&Ee]),ke>>=ne}else I["VP8LMapColor"+k](J,te,ve,Ee,he,we,G,Y,de)}}function Nr(y,_,k,R,U){for(k=_+k;_<k;){var H=y[_++];R[U++]=H>>16&255,R[U++]=H>>8&255,R[U++]=255&H}}function nn(y,_,k,R,U){for(k=_+k;_<k;){var H=y[_++];R[U++]=H>>16&255,R[U++]=H>>8&255,R[U++]=255&H,R[U++]=H>>24&255}}function Bt(y,_,k,R,U){for(k=_+k;_<k;){var H=(G=y[_++])>>16&240|G>>12&15,G=240&G|G>>28&15;R[U++]=H,R[U++]=G}}function Ut(y,_,k,R,U){for(k=_+k;_<k;){var H=(G=y[_++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;R[U++]=H,R[U++]=G}}function tr(y,_,k,R,U){for(k=_+k;_<k;){var H=y[_++];R[U++]=255&H,R[U++]=H>>8&255,R[U++]=H>>16&255}}function ft(y,_,k,R,U,H){if(H==0)for(k=_+k;_<k;)_e(R,((H=y[_++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),U+=32;else r(R,U,y,_,k)}function Fn(y,_){I[_][0]=I[y+"0"],I[_][1]=I[y+"1"],I[_][2]=I[y+"2"],I[_][3]=I[y+"3"],I[_][4]=I[y+"4"],I[_][5]=I[y+"5"],I[_][6]=I[y+"6"],I[_][7]=I[y+"7"],I[_][8]=I[y+"8"],I[_][9]=I[y+"9"],I[_][10]=I[y+"10"],I[_][11]=I[y+"11"],I[_][12]=I[y+"12"],I[_][13]=I[y+"13"],I[_][14]=I[y+"0"],I[_][15]=I[y+"0"]}function bt(y){return y==kk||y==Ck||y==A_||y==Tk}function Ct(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ct,this.f.kb=new nr,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ad(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function es(y,_){var k=y.T,R=_.ba.f.RGBA,U=R.eb,H=R.fb+y.ka*R.A,G=ro[_.ba.S],Y=y.y,J=y.O,te=y.f,he=y.N,we=y.ea,ne=y.W,de=_.cc,ve=_.dc,Ee=_.Mc,be=_.Nc,ke=y.ka,Te=y.ka+y.T,Re=y.U,Le=Re+1>>1;for(ke==0?G(Y,J,null,null,te,he,we,ne,te,he,we,ne,U,H,null,null,Re):(G(_.ec,_.fc,Y,J,de,ve,Ee,be,te,he,we,ne,U,H-R.A,U,H,Re),++k);ke+2<Te;ke+=2)de=te,ve=he,Ee=we,be=ne,he+=y.Rc,ne+=y.Rc,H+=2*R.A,G(Y,(J+=2*y.fa)-y.fa,Y,J,de,ve,Ee,be,te,he,we,ne,U,H-R.A,U,H,Re);return J+=y.fa,y.j+Te<y.o?(r(_.ec,_.fc,Y,J,Re),r(_.cc,_.dc,te,he,Le),r(_.Mc,_.Nc,we,ne,Le),k--):1&Te||G(Y,J,null,null,te,he,we,ne,te,he,we,ne,U,H+R.A,null,null,Re),k}function Pc(y,_,k){var R=y.F,U=[y.J];if(R!=null){var H=y.U,G=_.ba.S,Y=G==__||G==A_;_=_.ba.f.RGBA;var J=[0],te=y.ka;J[0]=y.T,y.Kb&&(te==0?--J[0]:(--te,U[0]-=y.width),y.j+y.ka+y.T==y.o&&(J[0]=y.o-y.j-te));var he=_.eb;te=_.fb+te*_.A,y=kR(R,U[0],y.width,H,J,he,te+(Y?0:3),_.A),e(k==J),y&&bt(G)&&n1(he,te,Y,H,J,_.A)}return 0}function Cl(y){var _=y.ma,k=_.ba.S,R=11>k,U=k==w_||k==x_||k==__||k==Pk||k==12||bt(k);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Ky(_.Oa,y,U?11:12))return 0;if(U&&bt(k)&&Wy(),y.da)alert("todo:use_scaling");else{if(R){if(_.Ib=ad,y.Kb){if(k=y.U+1>>1,_.memory=s(y.U+2*k),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+k,_.Ib=es,Wy()}}else alert("todo:EmitYUV");U&&(_.Jb=Pc,R&&zo())}if(R&&!qR){for(y=0;256>y;++y)KG[y]=89858*(y-128)+E_>>S_,JG[y]=-22014*(y-128)+E_,XG[y]=-45773*(y-128),YG[y]=113618*(y-128)+E_>>S_;for(y=i1;y<Lk;++y)_=76283*(y-16)+E_>>S_,ZG[y-i1]=Nl(_,255),QG[y-i1]=Nl(_+8>>4,15);qR=1}return 1}function gt(y){var _=y.ma,k=y.U,R=y.T;return e(!(1&y.ka)),0>=k||0>=R?0:(k=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,k),_.Dc+=k,1)}function kc(y){y.ma.memory=null}function Cc(y,_,k,R){return ae(y,8)!=47?0:(_[0]=ae(y,14)+1,k[0]=ae(y,14)+1,R[0]=ae(y,1),ae(y,3)!=0?0:!y.h)}function Ya(y,_){if(4>y)return y+1;var k=y-2>>1;return(2+(1&y)<<k)+ae(_,k)+1}function Xa(y,_){return 120<_?_-120:1<=(k=((k=RG[_-1])>>4)*y+(8-(15&k)))?k:1;var k}function yr(y,_,k){var R=ee(k),U=y[_+=255&R].g-8;return 0<U&&(oe(k,k.u+8),R=ee(k),_+=y[_].value,_+=R&(1<<U)-1),oe(k,k.u+y[_].g),y[_].value}function bi(y,_,k){return k.g+=y.g,k.value+=y.value<<_>>>0,e(8>=k.g),y.g}function Li(y,_,k){var R=y.xc;return e((_=R==0?0:y.vc[y.md*(k>>R)+(_>>R)])<y.Wb),y.Ya[_]}function od(y,_,k,R){var U=y.ab,H=y.c*_,G=y.C;_=G+_;var Y=k,J=R;for(R=y.Ta,k=y.Ua;0<U--;){var te=y.gc[U],he=G,we=_,ne=Y,de=J,ve=(J=R,Y=k,te.Ea);switch(e(he<we),e(we<=te.nc),te.hc){case 2:Lr(ne,de,(we-he)*ve,J,Y);break;case 0:var Ee=he,be=we,ke=J,Te=Y,Re=(Je=te).Ea;Ee==0&&(Xy(ne,de,null,null,1,ke,Te),Xt(ne,de+1,0,0,Re-1,ke,Te+1),de+=Re,Te+=Re,++Ee);for(var Le=1<<Je.b,at=Le-1,Ke=Oe(Re,Je.b),Mt=Je.K,Je=Je.w+(Ee>>Je.b)*Ke;Ee<be;){var Jt=Mt,ni=Je,jt=1;for(em(ne,de,ke,Te-Re,1,ke,Te);jt<Re;){var Ze=(jt&~at)+Le;Ze>Re&&(Ze=Re),(0,Zy[Jt[ni++]>>8&15])(ne,de+ +jt,ke,Te+jt-Re,Ze-jt,ke,Te+jt),jt=Ze}de+=Re,Te+=Re,++Ee&at||(Je+=Ke)}we!=te.nc&&r(J,Y-ve,J,Y+(we-he-1)*ve,ve);break;case 1:for(ve=ne,be=de,Re=(ne=te.Ea)-(Te=ne&~(ke=(de=1<<te.b)-1)),Ee=Oe(ne,te.b),Le=te.K,te=te.w+(he>>te.b)*Ee;he<we;){for(at=Le,Ke=te,Mt=new tt,Je=be+Te,Jt=be+ne;be<Je;)rt(at[Ke++],Mt),Qy(Mt,ve,be,de,J,Y),be+=de,Y+=de;be<Jt&&(rt(at[Ke++],Mt),Qy(Mt,ve,be,Re,J,Y),be+=Re,Y+=Re),++he&ke||(te+=Ee)}break;case 3:if(ne==J&&de==Y&&0<te.b){for(be=J,ne=ve=Y+(we-he)*ve-(Te=(we-he)*Oe(te.Ea,te.b)),de=J,ke=Y,Ee=[],Te=(Re=Te)-1;0<=Te;--Te)Ee[Te]=de[ke+Te];for(Te=Re-1;0<=Te;--Te)be[ne+Te]=Ee[Te];m_(te,he,we,J,ve,J,Y)}else m_(te,he,we,ne,de,J,Y)}Y=R,J=k}J!=k&&r(R,k,Y,J,H)}function uh(y,_){var k=y.V,R=y.Ba+y.c*y.C,U=_-y.C;if(e(_<=y.l.o),e(16>=U),0<U){var H=y.l,G=y.Ta,Y=y.Ua,J=H.width;if(od(y,U,k,R),U=Y=[Y],e((k=y.C)<(R=_)),e(H.v<H.va),R>H.o&&(R=H.o),k<H.j){var te=H.j-k;k=H.j,U[0]+=te*J}if(k>=R?k=0:(U[0]+=4*H.v,H.ka=k-H.j,H.U=H.va-H.v,H.T=R-k,k=1),k){if(Y=Y[0],11>(k=y.ca).S){var he=k.f.RGBA,we=(R=k.S,U=H.U,H=H.T,te=he.eb,he.A),ne=H;for(he=he.fb+y.Ma*he.A;0<ne--;){var de=G,ve=Y,Ee=U,be=te,ke=he;switch(R){case b_:e1(de,ve,Ee,be,ke);break;case w_:mh(de,ve,Ee,be,ke);break;case kk:mh(de,ve,Ee,be,ke),n1(be,ke,0,Ee,1,0);break;case RR:xd(de,ve,Ee,be,ke);break;case x_:ft(de,ve,Ee,be,ke,1);break;case Ck:ft(de,ve,Ee,be,ke,1),n1(be,ke,0,Ee,1,0);break;case __:ft(de,ve,Ee,be,ke,0);break;case A_:ft(de,ve,Ee,be,ke,0),n1(be,ke,1,Ee,1,0);break;case Pk:vh(de,ve,Ee,be,ke);break;case Tk:vh(de,ve,Ee,be,ke),PR(be,ke,Ee,1,0);break;case MR:yh(de,ve,Ee,be,ke);break;default:e(0)}Y+=J,he+=we}y.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=k.height)}}y.C=_,e(y.C<=y.i)}function Fo(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var k=y.Ya[_].G,R=y.Ya[_].H;if(0<k[1][R[1]+0].g||0<k[2][R[2]+0].g||0<k[3][R[3]+0].g)return 0}return 1}function Tl(y,_,k,R,U,H){if(y.Z!=0){var G=y.qd,Y=y.rd;for(e(xh[y.Z]!=null);_<k;++_)xh[y.Z](G,Y,R,U,R,U,H),G=R,Y=U,U+=H;y.qd=G,y.rd=Y}}function $o(y,_){var k=y.l.ma,R=k.Z==0||k.Z==1?y.l.j:y.C;if(R=y.C<R?R:y.C,e(_<=y.l.o),_>R){var U=y.l.width,H=k.ca,G=k.tb+U*R,Y=y.V,J=y.Ba+y.c*R,te=y.gc;e(y.ab==1),e(te[0].hc==3),Ml(te[0],R,_,Y,J,H,G),Tl(k,R,_,H,G,U)}y.C=y.Ma=_}function Bo(y,_,k,R,U,H,G){var Y=y.$/R,J=y.$%R,te=y.m,he=y.s,we=k+y.$,ne=we;U=k+R*U;var de=k+R*H,ve=280+he.ua,Ee=y.Pb?Y:16777216,be=0<he.ua?he.Wa:null,ke=he.wc,Te=we<de?Li(he,J,Y):null;e(y.C<H),e(de<=U);var Re=!1;e:for(;;){for(;Re||we<de;){var Le=0;if(Y>=Ee){var at=we-k;e((Ee=y).Pb),Ee.wd=Ee.m,Ee.xd=at,0<Ee.s.ua&&Me(Ee.s.Wa,Ee.s.vb),Ee=Y+jG}if(J&ke||(Te=Li(he,J,Y)),e(Te!=null),Te.Qb&&(_[we]=Te.qb,Re=!0),!Re)if(fe(te),Te.jc){Le=te,at=_;var Ke=we,Mt=Te.pd[ee(Le)&wd-1];e(Te.jc),256>Mt.g?(oe(Le,Le.u+Mt.g),at[Ke]=Mt.value,Le=0):(oe(Le,Le.u+Mt.g-256),e(256<=Mt.value),Le=Mt.value),Le==0&&(Re=!0)}else Le=yr(Te.G[0],Te.H[0],te);if(te.h)break;if(Re||256>Le){if(!Re)if(Te.nd)_[we]=(Te.qb|Le<<8)>>>0;else{if(fe(te),Re=yr(Te.G[1],Te.H[1],te),fe(te),at=yr(Te.G[2],Te.H[2],te),Ke=yr(Te.G[3],Te.H[3],te),te.h)break;_[we]=(Ke<<24|Re<<16|Le<<8|at)>>>0}if(Re=!1,++we,++J>=R&&(J=0,++Y,G!=null&&Y<=H&&!(Y%16)&&G(y,Y),be!=null))for(;ne<we;)Le=_[ne++],be.X[(506832829*Le&4294967295)>>>be.Mb]=Le}else if(280>Le){if(Le=Ya(Le-256,te),at=yr(Te.G[4],Te.H[4],te),fe(te),at=Xa(R,at=Ya(at,te)),te.h)break;if(we-k<at||U-we<Le)break e;for(Ke=0;Ke<Le;++Ke)_[we+Ke]=_[we+Ke-at];for(we+=Le,J+=Le;J>=R;)J-=R,++Y,G!=null&&Y<=H&&!(Y%16)&&G(y,Y);if(e(we<=U),J&ke&&(Te=Li(he,J,Y)),be!=null)for(;ne<we;)Le=_[ne++],be.X[(506832829*Le&4294967295)>>>be.Mb]=Le}else{if(!(Le<ve))break e;for(Re=Le-280,e(be!=null);ne<we;)Le=_[ne++],be.X[(506832829*Le&4294967295)>>>be.Mb]=Le;Le=we,e(!(Re>>>(at=be).Xa)),_[Le]=at.X[Re],Re=!0}Re||e(te.h==se(te))}if(y.Pb&&te.h&&we<U)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Me(y.s.vb,y.s.Wa);else{if(te.h)break e;G!=null&&G(y,Y>H?H:Y),y.a=0,y.$=we-k}return 1}return y.a=3,0}function Ja(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,e(y!=null)}function ld(){var y=new xt;return y==null?null:(y.a=0,y.xb=FR,Fn("Predictor","VP8LPredictors"),Fn("Predictor","VP8LPredictors_C"),Fn("PredictorAdd","VP8LPredictorsAdd"),Fn("PredictorAdd","VP8LPredictorsAdd_C"),Lr=Vt,Qy=Lt,e1=Nr,mh=nn,vh=Bt,yh=Ut,xd=tr,I.VP8LMapColor32b=Rl,I.VP8LMapColor8b=Jy,y)}function Ol(y,_,k,R,U){var H=1,G=[y],Y=[_],J=R.m,te=R.s,he=null,we=0;e:for(;;){if(k)for(;H&&ae(J,1);){var ne=G,de=Y,ve=R,Ee=1,be=ve.m,ke=ve.gc[ve.ab],Te=ae(be,2);if(ve.Oc&1<<Te)H=0;else{switch(ve.Oc|=1<<Te,ke.hc=Te,ke.Ea=ne[0],ke.nc=de[0],ke.K=[null],++ve.ab,e(4>=ve.ab),Te){case 0:case 1:ke.b=ae(be,3)+2,Ee=Ol(Oe(ke.Ea,ke.b),Oe(ke.nc,ke.b),0,ve,ke.K),ke.K=ke.K[0];break;case 3:var Re,Le=ae(be,8)+1,at=16<Le?0:4<Le?1:2<Le?2:3;if(ne[0]=Oe(ke.Ea,at),ke.b=at,Re=Ee=Ol(Le,1,0,ve,ke.K)){var Ke,Mt=Le,Je=ke,Jt=1<<(8>>Je.b),ni=s(Jt);if(ni==null)Re=0;else{var jt=Je.K[0],Ze=Je.w;for(ni[0]=Je.K[0][0],Ke=1;Ke<1*Mt;++Ke)ni[Ke]=ut(jt[Ze+Ke],ni[Ke-1]);for(;Ke<4*Jt;++Ke)ni[Ke]=0;Je.K[0]=null,Je.K[0]=ni,Re=1}}Ee=Re;break;case 2:break;default:e(0)}H=Ee}}if(G=G[0],Y=Y[0],H&&ae(J,1)&&!(H=1<=(we=ae(J,4))&&11>=we)){R.a=3;break e}var Fe;if(Fe=H)t:{var Rr,Tt,en,Kn=R,Mi=G,ws=Y,br=we,ts=k,xs=Kn.m,ri=Kn.s,sn=[null],mn=1,wr=0,vn=MG[br];n:for(;;){if(ts&&ae(xs,1)){var ji=ae(xs,3)+2,Ho=Oe(Mi,ji),Mr=Oe(ws,ji),Ds=Ho*Mr;if(!Ol(Ho,Mr,0,Kn,sn))break n;for(sn=sn[0],ri.xc=ji,Rr=0;Rr<Ds;++Rr){var Nn=sn[Rr]>>8&65535;sn[Rr]=Nn,Nn>=mn&&(mn=Nn+1)}}if(xs.h)break n;for(Tt=0;5>Tt;++Tt){var ii=jR[Tt];!Tt&&0<br&&(ii+=1<<br),wr<ii&&(wr=ii)}var sa=a(mn*vn,z),_s=mn,aa=a(_s,V);if(aa==null)var oa=null;else e(65536>=_s),oa=aa;var Fs=s(wr);if(oa==null||Fs==null||sa==null){Kn.a=1;break n}var la=sa;for(Rr=en=0;Rr<mn;++Rr){var Bn=oa[Rr],ca=Bn.G,Wo=Bn.H,Ad=0,zc=1,Di=0;for(Tt=0;5>Tt;++Tt){ii=jR[Tt],ca[Tt]=la,Wo[Tt]=en,!Tt&&0<br&&(ii+=1<<br);i:{var k_,Ik=ii,C_=Kn,s1=Fs,nK=la,rK=en,Rk=0,_h=C_.m,iK=ae(_h,1);if(i(s1,0,0,Ik),iK){var sK=ae(_h,1)+1,aK=ae(_h,1),VR=ae(_h,aK==0?1:8);s1[VR]=1,sK==2&&(s1[VR=ae(_h,8)]=1);var T_=1}else{var GR=s(19),KR=ae(_h,4)+4;if(19<KR){C_.a=3;var O_=0;break i}for(k_=0;k_<KR;++k_)GR[IG[k_]]=ae(_h,3);var Mk=void 0,a1=void 0,YR=C_,oK=GR,N_=Ik,XR=s1,jk=0,Ah=YR.m,JR=8,ZR=a(128,z);r:for(;M(ZR,0,7,oK,19);){if(ae(Ah,1)){var lK=2+2*ae(Ah,3);if((Mk=2+ae(Ah,lK))>N_)break r}else Mk=N_;for(a1=0;a1<N_&&Mk--;){fe(Ah);var QR=ZR[0+(127&ee(Ah))];oe(Ah,Ah.u+QR.g);var nm=QR.value;if(16>nm)XR[a1++]=nm,nm!=0&&(JR=nm);else{var cK=nm==16,eM=nm-16,uK=NG[eM],tM=ae(Ah,OG[eM])+uK;if(a1+tM>N_)break r;for(var hK=cK?JR:0;0<tM--;)XR[a1++]=hK}}jk=1;break r}jk||(YR.a=3),T_=jk}(T_=T_&&!_h.h)&&(Rk=M(nK,rK,8,s1,Ik)),T_&&Rk!=0?O_=Rk:(C_.a=3,O_=0)}if(O_==0)break n;if(zc&&LG[Tt]==1&&(zc=la[en].g==0),Ad+=la[en].g,en+=O_,3>=Tt){var o1,Dk=Fs[0];for(o1=1;o1<ii;++o1)Fs[o1]>Dk&&(Dk=Fs[o1]);Di+=Dk}}if(Bn.nd=zc,Bn.Qb=0,zc&&(Bn.qb=(ca[3][Wo[3]+0].value<<24|ca[1][Wo[1]+0].value<<16|ca[2][Wo[2]+0].value)>>>0,Ad==0&&256>ca[0][Wo[0]+0].value&&(Bn.Qb=1,Bn.qb+=ca[0][Wo[0]+0].value<<8)),Bn.jc=!Bn.Qb&&6>Di,Bn.jc){var L_,qc=Bn;for(L_=0;L_<wd;++L_){var Sh=L_,Eh=qc.pd[Sh],I_=qc.G[0][qc.H[0]+Sh];256<=I_.value?(Eh.g=I_.g+256,Eh.value=I_.value):(Eh.g=0,Eh.value=0,Sh>>=bi(I_,8,Eh),Sh>>=bi(qc.G[1][qc.H[1]+Sh],16,Eh),Sh>>=bi(qc.G[2][qc.H[2]+Sh],0,Eh),bi(qc.G[3][qc.H[3]+Sh],24,Eh))}}}ri.vc=sn,ri.Wb=mn,ri.Ya=oa,ri.yc=sa,Fe=1;break t}Fe=0}if(!(H=Fe)){R.a=3;break e}if(0<we){if(te.ua=1<<we,!Z(te.Wa,we)){R.a=1,H=0;break e}}else te.ua=0;var Fk=R,nM=G,fK=Y,$k=Fk.s,Bk=$k.xc;if(Fk.c=nM,Fk.i=fK,$k.md=Oe(nM,Bk),$k.wc=Bk==0?-1:(1<<Bk)-1,k){R.xb=qG;break e}if((he=s(G*Y))==null){R.a=1,H=0;break e}H=(H=Bo(R,he,0,G,Y,Y,null))&&!J.h;break e}return H?(U!=null?U[0]=he:(e(he==null),e(k)),R.$=0,k||Ja(te)):Ja(te),H}function cd(y,_){var k=y.c*y.i,R=k+_+16*_;return e(y.c<=_),y.V=s(R),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+k+_,1)}function Hg(y,_){var k=y.C,R=_-k,U=y.V,H=y.Ba+y.c*k;for(e(_<=y.l.o);0<R;){var G=16<R?16:R,Y=y.l.ma,J=y.l.width,te=J*G,he=Y.ca,we=Y.tb+J*k,ne=y.Ta,de=y.Ua;od(y,G,U,H),CR(ne,de,he,we,te),Tl(Y,k,k+G,he,we,J),R-=G,U+=G*y.c,k+=G}e(k==_),y.C=y.Ma=_}function Wg(){this.ub=this.yd=this.td=this.Rb=0}function Vg(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ck(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ry(){this.Yb=function(){var y=[];return function _(k,R,U){for(var H=U[R],G=0;G<H&&(k.push(U.length>R+1?[]:0),!(U.length<R+1));G++)_(k[G],R+1,U)}(y,0,[3,11]),y}()}function Zx(){this.jb=s(3),this.Wc=o([4,8],Ry),this.Xc=o([4,17],Ry)}function Qx(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Za(){this.ld=this.La=this.dd=this.tc=0}function My(){this.Na=this.la=0}function e_(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jy(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function t_(){this.uc=this.M=this.Nb=0,this.wa=Array(new Za),this.Y=0,this.ya=Array(new jy),this.aa=0,this.l=new Gg}function n_(){this.y=s(16),this.f=s(8),this.ea=s(8)}function r_(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Wg,this.Kc=new Vg,this.ed=new Qx,this.Qa=new ck,this.Ic=this.$c=this.Aa=0,this.D=new t_,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,D),this.ia=0,this.pb=a(4,e_),this.Pa=new Zx,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new n_),this.Hd=0,this.rb=Array(new My),this.sb=0,this.wa=Array(new Za),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jy),this.L=this.aa=0,this.gd=o([4,2],Za),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Nl(y,_){return 0>y?0:y>_?_:y}function Gg(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function uk(){var y=new r_;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,r1||(r1=Kg)),y}function zr(y,_,k){return y.a==0&&(y.a=_,y.sc=k,y.cb=0),0}function i_(y,_,k){return 3<=k&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function Ll(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return zr(y,2,"null VP8Io passed to VP8GetHeaders()");var k=_.data,R=_.w,U=_.ha;if(4>U)return zr(y,7,"Truncated header.");var H=k[R+0]|k[R+1]<<8|k[R+2]<<16,G=y.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return zr(y,3,"Incorrect keyframe parameters.");if(!G.yd)return zr(y,4,"Frame not displayable.");R+=3,U-=3;var Y=y.Kc;if(G.Rb){if(7>U)return zr(y,7,"cannot parse picture header");if(!i_(k,R,U))return zr(y,3,"Bad code word");Y.c=16383&(k[R+4]<<8|k[R+3]),Y.Td=k[R+4]>>6,Y.i=16383&(k[R+6]<<8|k[R+5]),Y.Ud=k[R+6]>>6,R+=7,U-=7,y.za=Y.c+15>>4,y.Ub=Y.i+15>>4,_.width=Y.c,_.height=Y.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((H=y.Pa).jb,0,255,H.jb.length),e((H=y.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(G.ub>U)return zr(y,7,"bad partition length");X(H=y.m,k,R,G.ub),R+=G.ub,U-=G.ub,G.Rb&&(Y.Ld=ue(H),Y.Kd=ue(H)),Y=y.Qa;var J,te=y.Pa;if(e(H!=null),e(Y!=null),Y.Cb=ue(H),Y.Cb){if(Y.Bb=ue(H),ue(H)){for(Y.Fb=ue(H),J=0;4>J;++J)Y.Zb[J]=ue(H)?W(H,7):0;for(J=0;4>J;++J)Y.Lb[J]=ue(H)?W(H,6):0}if(Y.Bb)for(J=0;3>J;++J)te.jb[J]=ue(H)?Q(H,8):255}else Y.Bb=0;if(H.Ka)return zr(y,3,"cannot parse segment header");if((Y=y.ed).zd=ue(H),Y.Tb=Q(H,6),Y.wb=Q(H,3),Y.Pc=ue(H),Y.Pc&&ue(H)){for(te=0;4>te;++te)ue(H)&&(Y.vd[te]=W(H,6));for(te=0;4>te;++te)ue(H)&&(Y.od[te]=W(H,6))}if(y.L=Y.Tb==0?0:Y.zd?1:2,H.Ka)return zr(y,3,"cannot parse filter header");var he=U;if(U=J=R,R=J+he,Y=he,y.Xb=(1<<Q(y.m,2))-1,he<3*(te=y.Xb))k=7;else{for(J+=3*te,Y-=3*te,he=0;he<te;++he){var we=k[U+0]|k[U+1]<<8|k[U+2]<<16;we>Y&&(we=Y),X(y.Jc[+he],k,J,we),J+=we,Y-=we,U+=3}X(y.Jc[+te],k,J,Y),k=J<R?0:5}if(k!=0)return zr(y,k,"cannot parse partitions");for(k=Q(J=y.m,7),U=ue(J)?W(J,4):0,R=ue(J)?W(J,4):0,Y=ue(J)?W(J,4):0,te=ue(J)?W(J,4):0,J=ue(J)?W(J,4):0,he=y.Qa,we=0;4>we;++we){if(he.Cb){var ne=he.Zb[we];he.Fb||(ne+=k)}else{if(0<we){y.pb[we]=y.pb[0];continue}ne=k}var de=y.pb[we];de.Sc[0]=Ok[Nl(ne+U,127)],de.Sc[1]=Nk[Nl(ne+0,127)],de.Eb[0]=2*Ok[Nl(ne+R,127)],de.Eb[1]=101581*Nk[Nl(ne+Y,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=Ok[Nl(ne+te,117)],de.Qc[1]=Nk[Nl(ne+J,127)],de.lc=ne+J}if(!G.Rb)return zr(y,4,"Not a key frame.");for(ue(H),G=y.Pa,k=0;4>k;++k){for(U=0;8>U;++U)for(R=0;3>R;++R)for(Y=0;11>Y;++Y)te=ye(H,UG[k][U][R][Y])?Q(H,8):$G[k][U][R][Y],G.Wc[k][U].Yb[R][Y]=te;for(U=0;17>U;++U)G.Xc[k][U]=G.Wc[k][zG[U]]}return y.kc=ue(H),y.kc&&(y.Bd=Q(H,8)),y.cb=1}function Kg(y,_,k,R,U,H,G){var Y=_[U].Yb[k];for(k=0;16>U;++U){if(!ye(y,Y[k+0]))return U;for(;!ye(y,Y[k+1]);)if(Y=_[++U].Yb[0],k=0,U==16)return 16;var J=_[U+1].Yb;if(ye(y,Y[k+2])){var te=y,he=0;if(ye(te,(ne=Y)[(we=k)+3]))if(ye(te,ne[we+6])){for(Y=0,we=2*(he=ye(te,ne[we+8]))+(ne=ye(te,ne[we+9+he])),he=0,ne=DG[we];ne[Y];++Y)he+=he+ye(te,ne[Y]);he+=3+(8<<we)}else ye(te,ne[we+7])?(he=7+2*ye(te,165),he+=ye(te,145)):he=5+ye(te,159);else he=ye(te,ne[we+4])?3+ye(te,ne[we+5]):2;Y=J[2]}else he=1,Y=J[1];J=G+FG[U],0>(te=y).b&&xe(te);var we,ne=te.b,de=(we=te.Ca>>1)-(te.I>>ne)>>31;--te.b,te.Ca+=de,te.Ca|=1,te.I-=(we+1&de)<<ne,H[J]=((he^de)-de)*R[(0<U)+0]}return 16}function s_(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function Qa(y,_,k,R,U){U=y[_+k+32*R]+(U>>3),y[_+k+32*R]=-256&U?0>U?0:255:U}function Qr(y,_,k,R,U,H){Qa(y,_,0,k,R+U),Qa(y,_,1,k,R+H),Qa(y,_,2,k,R-H),Qa(y,_,3,k,R-U)}function Tc(y){return(20091*y>>16)+y}function a_(y,_,k,R){var U,H=0,G=s(16);for(U=0;4>U;++U){var Y=y[_+0]+y[_+8],J=y[_+0]-y[_+8],te=(35468*y[_+4]>>16)-Tc(y[_+12]),he=Tc(y[_+4])+(35468*y[_+12]>>16);G[H+0]=Y+he,G[H+1]=J+te,G[H+2]=J-te,G[H+3]=Y-he,H+=4,_++}for(U=H=0;4>U;++U)Y=(y=G[H+0]+4)+G[H+8],J=y-G[H+8],te=(35468*G[H+4]>>16)-Tc(G[H+12]),Qa(k,R,0,0,Y+(he=Tc(G[H+4])+(35468*G[H+12]>>16))),Qa(k,R,1,0,J+te),Qa(k,R,2,0,J-te),Qa(k,R,3,0,Y-he),H++,R+=32}function hk(y,_,k,R){var U=y[_+0]+4,H=35468*y[_+4]>>16,G=Tc(y[_+4]),Y=35468*y[_+1]>>16;Qr(k,R,0,U+G,y=Tc(y[_+1]),Y),Qr(k,R,1,U+H,y,Y),Qr(k,R,2,U-H,y,Y),Qr(k,R,3,U-G,y,Y)}function fk(y,_,k,R,U){a_(y,_,k,R),U&&a_(y,_+16,k,R+4)}function Il(y,_,k,R){_d(y,_+0,k,R,1),_d(y,_+32,k,R+128,1)}function o_(y,_,k,R){var U;for(y=y[_+0]+4,U=0;4>U;++U)for(_=0;4>_;++_)Qa(k,R,_,U,y)}function l_(y,_,k,R){y[_+0]&&dn(y,_+0,k,R),y[_+16]&&dn(y,_+16,k,R+4),y[_+32]&&dn(y,_+32,k,R+128),y[_+48]&&dn(y,_+48,k,R+128+4)}function Yg(y,_,k,R){var U,H=s(16);for(U=0;4>U;++U){var G=y[_+0+U]+y[_+12+U],Y=y[_+4+U]+y[_+8+U],J=y[_+4+U]-y[_+8+U],te=y[_+0+U]-y[_+12+U];H[0+U]=G+Y,H[8+U]=G-Y,H[4+U]=te+J,H[12+U]=te-J}for(U=0;4>U;++U)G=(y=H[0+4*U]+3)+H[3+4*U],Y=H[1+4*U]+H[2+4*U],J=H[1+4*U]-H[2+4*U],te=y-H[3+4*U],k[R+0]=G+Y>>3,k[R+16]=te+J>>3,k[R+32]=G-Y>>3,k[R+48]=te-J>>3,R+=64}function ud(y,_,k){var R,U=_-32,H=ia,G=255-y[U-1];for(R=0;R<k;++R){var Y,J=H,te=G+y[_-1];for(Y=0;Y<k;++Y)y[_+Y]=J[te+y[U+Y]];_+=32}}function dk(y,_){ud(y,_,4)}function pk(y,_){ud(y,_,8)}function gk(y,_){ud(y,_,16)}function Dy(y,_){var k;for(k=0;16>k;++k)r(y,_+32*k,y,_-32,16)}function c_(y,_){var k;for(k=16;0<k;--k)i(y,_,y[_-1],16),_+=32}function Uo(y,_,k){var R;for(R=0;16>R;++R)i(_,k+32*R,y,16)}function mk(y,_){var k,R=16;for(k=0;16>k;++k)R+=y[_-1+32*k]+y[_+k-32];Uo(R>>5,y,_)}function hd(y,_){var k,R=8;for(k=0;16>k;++k)R+=y[_-1+32*k];Uo(R>>4,y,_)}function Fy(y,_){var k,R=8;for(k=0;16>k;++k)R+=y[_+k-32];Uo(R>>4,y,_)}function vk(y,_){Uo(128,y,_)}function _t(y,_,k){return y+2*_+k+2>>2}function yk(y,_){var k,R=_-32;for(R=new Uint8Array([_t(y[R-1],y[R+0],y[R+1]),_t(y[R+0],y[R+1],y[R+2]),_t(y[R+1],y[R+2],y[R+3]),_t(y[R+2],y[R+3],y[R+4])]),k=0;4>k;++k)r(y,_+32*k,R,0,R.length)}function bk(y,_){var k=y[_-1],R=y[_-1+32],U=y[_-1+64],H=y[_-1+96];_e(y,_+0,16843009*_t(y[_-1-32],k,R)),_e(y,_+32,16843009*_t(k,R,U)),_e(y,_+64,16843009*_t(R,U,H)),_e(y,_+96,16843009*_t(U,H,H))}function wk(y,_){var k,R=4;for(k=0;4>k;++k)R+=y[_+k-32]+y[_-1+32*k];for(R>>=3,k=0;4>k;++k)i(y,_+32*k,R,4)}function Oc(y,_){var k=y[_-1+0],R=y[_-1+32],U=y[_-1+64],H=y[_-1-32],G=y[_+0-32],Y=y[_+1-32],J=y[_+2-32],te=y[_+3-32];y[_+0+96]=_t(R,U,y[_-1+96]),y[_+1+96]=y[_+0+64]=_t(k,R,U),y[_+2+96]=y[_+1+64]=y[_+0+32]=_t(H,k,R),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=_t(G,H,k),y[_+3+64]=y[_+2+32]=y[_+1+0]=_t(Y,G,H),y[_+3+32]=y[_+2+0]=_t(J,Y,G),y[_+3+0]=_t(te,J,Y)}function Nc(y,_){var k=y[_+1-32],R=y[_+2-32],U=y[_+3-32],H=y[_+4-32],G=y[_+5-32],Y=y[_+6-32],J=y[_+7-32];y[_+0+0]=_t(y[_+0-32],k,R),y[_+1+0]=y[_+0+32]=_t(k,R,U),y[_+2+0]=y[_+1+32]=y[_+0+64]=_t(R,U,H),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=_t(U,H,G),y[_+3+32]=y[_+2+64]=y[_+1+96]=_t(H,G,Y),y[_+3+64]=y[_+2+96]=_t(G,Y,J),y[_+3+96]=_t(Y,J,J)}function xk(y,_){var k=y[_-1+0],R=y[_-1+32],U=y[_-1+64],H=y[_-1-32],G=y[_+0-32],Y=y[_+1-32],J=y[_+2-32],te=y[_+3-32];y[_+0+0]=y[_+1+64]=H+G+1>>1,y[_+1+0]=y[_+2+64]=G+Y+1>>1,y[_+2+0]=y[_+3+64]=Y+J+1>>1,y[_+3+0]=J+te+1>>1,y[_+0+96]=_t(U,R,k),y[_+0+64]=_t(R,k,H),y[_+0+32]=y[_+1+96]=_t(k,H,G),y[_+1+32]=y[_+2+96]=_t(H,G,Y),y[_+2+32]=y[_+3+96]=_t(G,Y,J),y[_+3+32]=_t(Y,J,te)}function _k(y,_){var k=y[_+0-32],R=y[_+1-32],U=y[_+2-32],H=y[_+3-32],G=y[_+4-32],Y=y[_+5-32],J=y[_+6-32],te=y[_+7-32];y[_+0+0]=k+R+1>>1,y[_+1+0]=y[_+0+64]=R+U+1>>1,y[_+2+0]=y[_+1+64]=U+H+1>>1,y[_+3+0]=y[_+2+64]=H+G+1>>1,y[_+0+32]=_t(k,R,U),y[_+1+32]=y[_+0+96]=_t(R,U,H),y[_+2+32]=y[_+1+96]=_t(U,H,G),y[_+3+32]=y[_+2+96]=_t(H,G,Y),y[_+3+64]=_t(G,Y,J),y[_+3+96]=_t(Y,J,te)}function Xg(y,_){var k=y[_-1+0],R=y[_-1+32],U=y[_-1+64],H=y[_-1+96];y[_+0+0]=k+R+1>>1,y[_+2+0]=y[_+0+32]=R+U+1>>1,y[_+2+32]=y[_+0+64]=U+H+1>>1,y[_+1+0]=_t(k,R,U),y[_+3+0]=y[_+1+32]=_t(R,U,H),y[_+3+32]=y[_+1+64]=_t(U,H,H),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=H}function $y(y,_){var k=y[_-1+0],R=y[_-1+32],U=y[_-1+64],H=y[_-1+96],G=y[_-1-32],Y=y[_+0-32],J=y[_+1-32],te=y[_+2-32];y[_+0+0]=y[_+2+32]=k+G+1>>1,y[_+0+32]=y[_+2+64]=R+k+1>>1,y[_+0+64]=y[_+2+96]=U+R+1>>1,y[_+0+96]=H+U+1>>1,y[_+3+0]=_t(Y,J,te),y[_+2+0]=_t(G,Y,J),y[_+1+0]=y[_+3+32]=_t(k,G,Y),y[_+1+32]=y[_+3+64]=_t(R,k,G),y[_+1+64]=y[_+3+96]=_t(U,R,k),y[_+1+96]=_t(H,U,R)}function fd(y,_){var k;for(k=0;8>k;++k)r(y,_+32*k,y,_-32,8)}function Ak(y,_){var k;for(k=0;8>k;++k)i(y,_,y[_-1],8),_+=32}function Lc(y,_,k){var R;for(R=0;8>R;++R)i(_,k+32*R,y,8)}function Sk(y,_){var k,R=8;for(k=0;8>k;++k)R+=y[_+k-32]+y[_-1+32*k];Lc(R>>4,y,_)}function By(y,_){var k,R=4;for(k=0;8>k;++k)R+=y[_+k-32];Lc(R>>3,y,_)}function Uy(y,_){var k,R=4;for(k=0;8>k;++k)R+=y[_-1+32*k];Lc(R>>3,y,_)}function u_(y,_){Lc(128,y,_)}function Ic(y,_,k){var R=y[_-k],U=y[_+0],H=3*(U-R)+Ek[1020+y[_-2*k]-y[_+k]],G=y_[112+(H+4>>3)];y[_-k]=ia[255+R+y_[112+(H+3>>3)]],y[_+0]=ia[255+U-G]}function zy(y,_,k,R){var U=y[_+0],H=y[_+k];return no[255+y[_-2*k]-y[_-k]]>R||no[255+H-U]>R}function Jg(y,_,k,R){return 4*no[255+y[_-k]-y[_+0]]+no[255+y[_-2*k]-y[_+k]]<=R}function qy(y,_,k,R,U){var H=y[_-3*k],G=y[_-2*k],Y=y[_-k],J=y[_+0],te=y[_+k],he=y[_+2*k],we=y[_+3*k];return 4*no[255+Y-J]+no[255+G-te]>R?0:no[255+y[_-4*k]-H]<=U&&no[255+H-G]<=U&&no[255+G-Y]<=U&&no[255+we-he]<=U&&no[255+he-te]<=U&&no[255+te-J]<=U}function dd(y,_,k,R){var U=2*R+1;for(R=0;16>R;++R)Jg(y,_+R,k,U)&&Ic(y,_+R,k)}function Hy(y,_,k,R){var U=2*R+1;for(R=0;16>R;++R)Jg(y,_+R*k,1,U)&&Ic(y,_+R*k,1)}function h_(y,_,k,R){var U;for(U=3;0<U;--U)dd(y,_+=4*k,k,R)}function f_(y,_,k,R){var U;for(U=3;0<U;--U)Hy(y,_+=4,k,R)}function Rc(y,_,k,R,U,H,G,Y){for(H=2*H+1;0<U--;){if(qy(y,_,k,H,G))if(zy(y,_,k,Y))Ic(y,_,k);else{var J=y,te=_,he=k,we=J[te-2*he],ne=J[te-he],de=J[te+0],ve=J[te+he],Ee=J[te+2*he],be=27*(Te=Ek[1020+3*(de-ne)+Ek[1020+we-ve]])+63>>7,ke=18*Te+63>>7,Te=9*Te+63>>7;J[te-3*he]=ia[255+J[te-3*he]+Te],J[te-2*he]=ia[255+we+ke],J[te-he]=ia[255+ne+be],J[te+0]=ia[255+de-be],J[te+he]=ia[255+ve-ke],J[te+2*he]=ia[255+Ee-Te]}_+=R}}function Mc(y,_,k,R,U,H,G,Y){for(H=2*H+1;0<U--;){if(qy(y,_,k,H,G))if(zy(y,_,k,Y))Ic(y,_,k);else{var J=y,te=_,he=k,we=J[te-he],ne=J[te+0],de=J[te+he],ve=y_[112+(4+(Ee=3*(ne-we))>>3)],Ee=y_[112+(Ee+3>>3)],be=ve+1>>1;J[te-2*he]=ia[255+J[te-2*he]+be],J[te-he]=ia[255+we+Ee],J[te+0]=ia[255+ne-ve],J[te+he]=ia[255+de-be]}_+=R}}function d_(y,_,k,R,U,H){Rc(y,_,k,1,16,R,U,H)}function pd(y,_,k,R,U,H){Rc(y,_,1,k,16,R,U,H)}function p_(y,_,k,R,U,H){var G;for(G=3;0<G;--G)Mc(y,_+=4*k,k,1,16,R,U,H)}function P(y,_,k,R,U,H){var G;for(G=3;0<G;--G)Mc(y,_+=4,1,k,16,R,U,H)}function B(y,_,k,R,U,H,G,Y){Rc(y,_,U,1,8,H,G,Y),Rc(k,R,U,1,8,H,G,Y)}function ie(y,_,k,R,U,H,G,Y){Rc(y,_,1,U,8,H,G,Y),Rc(k,R,1,U,8,H,G,Y)}function le(y,_,k,R,U,H,G,Y){Mc(y,_+4*U,U,1,8,H,G,Y),Mc(k,R+4*U,U,1,8,H,G,Y)}function ge(y,_,k,R,U,H,G,Y){Mc(y,_+4,1,U,8,H,G,Y),Mc(k,R+4,1,U,8,H,G,Y)}function Ce(){this.ba=new zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new ht,this.vb=new ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new z}function xt(){this.xb=this.a=0,this.l=new Gg,this.ca=new zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=a(4,Xe),this.Oc=0}function It(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gg,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rn(y,_,k,R,U,H,G){for(y=y==null?0:y[_+0],_=0;_<G;++_)U[H+_]=y+k[R+_]&255,y=U[H+_]}function cr(y,_,k,R,U,H,G){var Y;if(y==null)rn(null,null,k,R,U,H,G);else for(Y=0;Y<G;++Y)U[H+Y]=y[_+Y]+k[R+Y]&255}function qr(y,_,k,R,U,H,G){if(y==null)rn(null,null,k,R,U,H,G);else{var Y,J=y[_+0],te=J,he=J;for(Y=0;Y<G;++Y)te=he+(J=y[_+Y])-te,he=k[R+Y]+(-256&te?0>te?0:255:te)&255,te=J,U[H+Y]=he}}function $n(y,_,k,R){var U=_.width,H=_.o;if(e(y!=null&&_!=null),0>k||0>=R||k+R>H)return null;if(!y.Cc){if(y.ga==null){var G;if(y.ga=new It,(G=y.ga==null)||(G=_.width*_.o,e(y.Gb.length==0),y.Gb=s(G),y.Uc=0,y.Gb==null?G=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,G=1),G=!G),!G){G=y.ga;var Y=y.Fa,J=y.P,te=y.qc,he=y.mb,we=y.nb,ne=J+1,de=te-1,ve=G.l;if(e(Y!=null&&he!=null&&_!=null),xh[0]=null,xh[1]=rn,xh[2]=cr,xh[3]=qr,G.ca=he,G.tb=we,G.c=_.width,G.i=_.height,e(0<G.c&&0<G.i),1>=te)_=0;else if(G.$a=3&Y[J+0],G.Z=Y[J+0]>>2&3,G.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)_=0;else if(ve.put=gt,ve.ac=Cl,ve.bc=kc,ve.ma=G,ve.width=_.width,ve.height=_.height,ve.Da=_.Da,ve.v=_.v,ve.va=_.va,ve.j=_.j,ve.o=_.o,G.$a)e:{e(G.$a==1),_=ld();t:for(;;){if(_==null){_=0;break e}if(e(G!=null),G.mc=_,_.c=G.c,_.i=G.i,_.l=G.l,_.l.ma=G,_.l.width=G.c,_.l.height=G.i,_.a=0,re(_.m,Y,ne,de),!Ol(G.c,G.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Fo(_.s)?(G.ic=1,Y=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(Y),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(G.ic=0,_=cd(_,G.c)),!_))break t;_=1;break e}G.mc=null,_=0}else _=de>=G.c*G.i;G=!_}if(G)return null;y.ga.Lc!=1?y.Ga=0:R=H-k}e(y.ga!=null),e(k+R<=H);e:{if(_=(Y=y.ga).c,H=Y.l.o,Y.$a==0){if(ne=y.rc,de=y.Vc,ve=y.Fa,J=y.P+1+k*_,te=y.mb,he=y.nb+k*_,e(J<=y.P+y.qc),Y.Z!=0)for(e(xh[Y.Z]!=null),G=0;G<R;++G)xh[Y.Z](ne,de,ve,J,te,he,_),ne=te,de=he,he+=_,J+=_;else for(G=0;G<R;++G)r(te,he,ve,J,_),ne=te,de=he,he+=_,J+=_;y.rc=ne,y.Vc=de}else{if(e(Y.mc!=null),_=k+R,e((G=Y.mc)!=null),e(_<=G.i),G.C>=_)_=1;else if(Y.ic||zo(),Y.ic){Y=G.V,ne=G.Ba,de=G.c;var Ee=G.i,be=(ve=1,J=G.$/de,te=G.$%de,he=G.m,we=G.s,G.$),ke=de*Ee,Te=de*_,Re=we.wc,Le=be<Te?Li(we,te,J):null;e(be<=ke),e(_<=Ee),e(Fo(we));t:for(;;){for(;!he.h&&be<Te;){if(te&Re||(Le=Li(we,te,J)),e(Le!=null),fe(he),256>(Ee=yr(Le.G[0],Le.H[0],he)))Y[ne+be]=Ee,++be,++te>=de&&(te=0,++J<=_&&!(J%16)&&$o(G,J));else{if(!(280>Ee)){ve=0;break t}Ee=Ya(Ee-256,he);var at,Ke=yr(Le.G[4],Le.H[4],he);if(fe(he),!(be>=(Ke=Xa(de,Ke=Ya(Ke,he)))&&ke-be>=Ee)){ve=0;break t}for(at=0;at<Ee;++at)Y[ne+be+at]=Y[ne+be+at-Ke];for(be+=Ee,te+=Ee;te>=de;)te-=de,++J<=_&&!(J%16)&&$o(G,J);be<Te&&te&Re&&(Le=Li(we,te,J))}e(he.h==se(he))}$o(G,J>_?_:J);break t}!ve||he.h&&be<ke?(ve=0,G.a=he.h?5:3):G.$=be,_=ve}else _=Bo(G,G.V,G.Ba,G.c,G.i,_,Hg);if(!_){R=0;break e}}k+R>=H&&(y.Cc=1),R=1}if(!R)return null;if(y.Cc&&((R=y.ga)!=null&&(R.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+k*U}function ei(y,_,k,R,U,H){for(;0<U--;){var G,Y=y,J=_+(k?1:0),te=y,he=_+(k?0:3);for(G=0;G<R;++G){var we=te[he+4*G];we!=255&&(we*=32897,Y[J+4*G+0]=Y[J+4*G+0]*we>>23,Y[J+4*G+1]=Y[J+4*G+1]*we>>23,Y[J+4*G+2]=Y[J+4*G+2]*we>>23)}_+=H}}function Hr(y,_,k,R,U){for(;0<R--;){var H;for(H=0;H<k;++H){var G=y[_+2*H+0],Y=15&(te=y[_+2*H+1]),J=4369*Y,te=(240&te|te>>4)*J>>16;y[_+2*H+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,y[_+2*H+1]=240&te|Y}_+=U}}function Ii(y,_,k,R,U,H,G,Y){var J,te,he=255;for(te=0;te<U;++te){for(J=0;J<R;++J){var we=y[_+J];H[G+4*J]=we,he&=we}_+=k,G+=Y}return he!=255}function jc(y,_,k,R,U){var H;for(H=0;H<U;++H)k[R+H]=y[_+H]>>8}function zo(){n1=ei,PR=Hr,kR=Ii,CR=jc}function Dc(y,_,k){I[y]=function(R,U,H,G,Y,J,te,he,we,ne,de,ve,Ee,be,ke,Te,Re){var Le,at=Re-1>>1,Ke=Y[J+0]|te[he+0]<<16,Mt=we[ne+0]|de[ve+0]<<16;e(R!=null);var Je=3*Ke+Mt+131074>>2;for(_(R[U+0],255&Je,Je>>16,Ee,be),H!=null&&(Je=3*Mt+Ke+131074>>2,_(H[G+0],255&Je,Je>>16,ke,Te)),Le=1;Le<=at;++Le){var Jt=Y[J+Le]|te[he+Le]<<16,ni=we[ne+Le]|de[ve+Le]<<16,jt=Ke+Jt+Mt+ni+524296,Ze=jt+2*(Jt+Mt)>>3;Je=Ze+Ke>>1,Ke=(jt=jt+2*(Ke+ni)>>3)+Jt>>1,_(R[U+2*Le-1],255&Je,Je>>16,Ee,be+(2*Le-1)*k),_(R[U+2*Le-0],255&Ke,Ke>>16,Ee,be+(2*Le-0)*k),H!=null&&(Je=jt+Mt>>1,Ke=Ze+ni>>1,_(H[G+2*Le-1],255&Je,Je>>16,ke,Te+(2*Le-1)*k),_(H[G+2*Le+0],255&Ke,Ke>>16,ke,Te+(2*Le+0)*k)),Ke=Jt,Mt=ni}1&Re||(Je=3*Ke+Mt+131074>>2,_(R[U+Re-1],255&Je,Je>>16,Ee,be+(Re-1)*k),H!=null&&(Je=3*Mt+Ke+131074>>2,_(H[G+Re-1],255&Je,Je>>16,ke,Te+(Re-1)*k)))}}function Wy(){ro[b_]=HG,ro[w_]=$R,ro[RR]=WG,ro[x_]=BR,ro[__]=UR,ro[Pk]=zR,ro[MR]=VG,ro[kk]=$R,ro[Ck]=BR,ro[A_]=UR,ro[Tk]=zR}function Zg(y){return y&-16384?0>y?0:255:y>>GG}function hh(y,_){return Zg((19077*y>>8)+(26149*_>>8)-14234)}function gd(y,_,k){return Zg((19077*y>>8)-(6419*_>>8)-(13320*k>>8)+8708)}function md(y,_){return Zg((19077*y>>8)+(33050*_>>8)-17685)}function fh(y,_,k,R,U){R[U+0]=hh(y,k),R[U+1]=gd(y,_,k),R[U+2]=md(y,_)}function Ri(y,_,k,R,U){R[U+0]=md(y,_),R[U+1]=gd(y,_,k),R[U+2]=hh(y,k)}function vd(y,_,k,R,U){var H=gd(y,_,k);_=H<<3&224|md(y,_)>>3,R[U+0]=248&hh(y,k)|H>>5,R[U+1]=_}function yd(y,_,k,R,U){var H=240&md(y,_)|15;R[U+0]=240&hh(y,k)|gd(y,_,k)>>4,R[U+1]=H}function Vy(y,_,k,R,U){R[U+0]=255,fh(y,_,k,R,U+1)}function Gy(y,_,k,R,U){Ri(y,_,k,R,U),R[U+3]=255}function bs(y,_,k,R,U){fh(y,_,k,R,U),R[U+3]=255}function Fc(y,_,k){I[y]=function(R,U,H,G,Y,J,te,he,we){for(var ne=he+(-2&we)*k;he!=ne;)_(R[U+0],H[G+0],Y[J+0],te,he),_(R[U+1],H[G+0],Y[J+0],te,he+k),U+=2,++G,++J,he+=2*k;1&we&&_(R[U+0],H[G+0],Y[J+0],te,he)}}function Qg(y,_,k){return k==0?y==0?_==0?6:5:_==0?4:0:k}function g_(y,_,k,R,U){switch(y>>>30){case 3:_d(_,k,R,U,0);break;case 2:to(_,k,R,U);break;case 1:dn(_,k,R,U)}}function eo(y,_){var k,R,U=_.M,H=_.Nb,G=y.oc,Y=y.pc+40,J=y.oc,te=y.pc+584,he=y.oc,we=y.pc+600;for(k=0;16>k;++k)G[Y+32*k-1]=129;for(k=0;8>k;++k)J[te+32*k-1]=129,he[we+32*k-1]=129;for(0<U?G[Y-1-32]=J[te-1-32]=he[we-1-32]=129:(i(G,Y-32-1,127,21),i(J,te-32-1,127,9),i(he,we-32-1,127,9)),R=0;R<y.za;++R){var ne=_.ya[_.aa+R];if(0<R){for(k=-1;16>k;++k)r(G,Y+32*k-4,G,Y+32*k+12,4);for(k=-1;8>k;++k)r(J,te+32*k-4,J,te+32*k+4,4),r(he,we+32*k-4,he,we+32*k+4,4)}var de=y.Gd,ve=y.Hd+R,Ee=ne.ad,be=ne.Hc;if(0<U&&(r(G,Y-32,de[ve].y,0,16),r(J,te-32,de[ve].f,0,8),r(he,we-32,de[ve].ea,0,8)),ne.Za){var ke=G,Te=Y-32+16;for(0<U&&(R>=y.za-1?i(ke,Te,de[ve].y[15],4):r(ke,Te,de[ve+1].y,0,4)),k=0;4>k;k++)ke[Te+128+k]=ke[Te+256+k]=ke[Te+384+k]=ke[Te+0+k];for(k=0;16>k;++k,be<<=2)ke=G,Te=Y+HR[k],qo[ne.Ob[k]](ke,Te),g_(be,Ee,16*+k,ke,Te)}else if(ke=Qg(R,U,ne.Ob[0]),wh[ke](G,Y),be!=0)for(k=0;16>k;++k,be<<=2)g_(be,Ee,16*+k,G,Y+HR[k]);for(k=ne.Gc,ke=Qg(R,U,ne.Dd),Uc[ke](J,te),Uc[ke](he,we),be=Ee,ke=J,Te=te,255&(ne=0|k)&&(170&ne?jl(be,256,ke,Te):On(be,256,ke,Te)),ne=he,be=we,255&(k>>=8)&&(170&k?jl(Ee,320,ne,be):On(Ee,320,ne,be)),U<y.Ub-1&&(r(de[ve].y,0,G,Y+480,16),r(de[ve].f,0,J,te+224,8),r(de[ve].ea,0,he,we+224,8)),k=8*H*y.B,de=y.sa,ve=y.ta+16*R+16*H*y.R,Ee=y.qa,ne=y.ra+8*R+k,be=y.Ha,ke=y.Ia+8*R+k,k=0;16>k;++k)r(de,ve+k*y.R,G,Y+32*k,16);for(k=0;8>k;++k)r(Ee,ne+k*y.B,J,te+32*k,8),r(be,ke+k*y.B,he,we+32*k,8)}}function bd(y,_,k,R,U,H,G,Y,J){var te=[0],he=[0],we=0,ne=J!=null?J.kd:0,de=J??new Ne;if(y==null||12>k)return 7;de.data=y,de.w=_,de.ha=k,_=[_],k=[k],de.gb=[de.gb];e:{var ve=_,Ee=k,be=de.gb;if(e(y!=null),e(Ee!=null),e(be!=null),be[0]=0,12<=Ee[0]&&!n(y,ve[0],"RIFF")){if(n(y,ve[0]+8,"WEBP")){be=3;break e}var ke=De(y,ve[0]+4);if(12>ke||4294967286<ke){be=3;break e}if(ne&&ke>Ee[0]-8){be=7;break e}be[0]=ke,ve[0]+=12,Ee[0]-=12}be=0}if(be!=0)return be;for(ke=0<de.gb[0],k=k[0];;){e:{var Te=y;Ee=_,be=k;var Re=te,Le=he,at=ve=[0];if((Je=we=[we])[0]=0,8>be[0])be=7;else{if(!n(Te,Ee[0],"VP8X")){if(De(Te,Ee[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var Ke=De(Te,Ee[0]+8),Mt=1+Ie(Te,Ee[0]+12);if(2147483648<=Mt*(Te=1+Ie(Te,Ee[0]+15))){be=3;break e}at!=null&&(at[0]=Ke),Re!=null&&(Re[0]=Mt),Le!=null&&(Le[0]=Te),Ee[0]+=18,be[0]-=18,Je[0]=1}be=0}}if(we=we[0],ve=ve[0],be!=0)return be;if(Ee=!!(2&ve),!ke&&we)return 3;if(H!=null&&(H[0]=!!(16&ve)),G!=null&&(G[0]=Ee),Y!=null&&(Y[0]=0),G=te[0],ve=he[0],we&&Ee&&J==null){be=0;break}if(4>k){be=7;break}if(ke&&we||!ke&&!we&&!n(y,_[0],"ALPH")){k=[k],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{Ke=y,be=_,ke=k;var Je=de.gb;Re=de.na,Le=de.P,at=de.Sa,Mt=22,e(Ke!=null),e(ke!=null),Te=be[0];var Jt=ke[0];for(e(Re!=null),e(at!=null),Re[0]=null,Le[0]=null,at[0]=0;;){if(be[0]=Te,ke[0]=Jt,8>Jt){be=7;break e}var ni=De(Ke,Te+4);if(4294967286<ni){be=3;break e}var jt=8+ni+1&-2;if(Mt+=jt,0<Je&&Mt>Je){be=3;break e}if(!n(Ke,Te,"VP8 ")||!n(Ke,Te,"VP8L")){be=0;break e}if(Jt[0]<jt){be=7;break e}n(Ke,Te,"ALPH")||(Re[0]=Ke,Le[0]=Te+8,at[0]=ni),Te+=jt,Jt-=jt}}if(k=k[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],be!=0)break}k=[k],de.Ja=[de.Ja],de.xa=[de.xa];e:if(Je=y,be=_,ke=k,Re=de.gb[0],Le=de.Ja,at=de.xa,Ke=be[0],Te=!n(Je,Ke,"VP8 "),Mt=!n(Je,Ke,"VP8L"),e(Je!=null),e(ke!=null),e(Le!=null),e(at!=null),8>ke[0])be=7;else{if(Te||Mt){if(Je=De(Je,Ke+4),12<=Re&&Je>Re-12){be=3;break e}if(ne&&Je>ke[0]-8){be=7;break e}Le[0]=Je,be[0]+=8,ke[0]-=8,at[0]=Mt}else at[0]=5<=ke[0]&&Je[Ke+0]==47&&!(Je[Ke+4]>>5),Le[0]=ke[0];be=0}if(k=k[0],de.Ja=de.Ja[0],de.xa=de.xa[0],_=_[0],be!=0)break;if(4294967286<de.Ja)return 3;if(Y==null||Ee||(Y[0]=de.xa?2:1),G=[G],ve=[ve],de.xa){if(5>k){be=7;break}Y=G,ne=ve,Ee=H,y==null||5>k?y=0:5<=k&&y[_+0]==47&&!(y[_+4]>>5)?(ke=[0],Je=[0],Re=[0],re(Le=new K,y,_,k),Cc(Le,ke,Je,Re)?(Y!=null&&(Y[0]=ke[0]),ne!=null&&(ne[0]=Je[0]),Ee!=null&&(Ee[0]=Re[0]),y=1):y=0):y=0}else{if(10>k){be=7;break}Y=ve,y==null||10>k||!i_(y,_+3,k-3)?y=0:(ne=y[_+0]|y[_+1]<<8|y[_+2]<<16,Ee=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=de.Ja||!Ee||!y?y=0:(G&&(G[0]=Ee),Y&&(Y[0]=y),y=1))}if(!y||(G=G[0],ve=ve[0],we&&(te[0]!=G||he[0]!=ve)))return 3;J!=null&&(J[0]=de,J.offset=_-J.w,e(4294967286>_-J.w),e(J.offset==J.ha-k));break}return be==0||be==7&&we&&J==null?(H!=null&&(H[0]|=de.na!=null&&0<de.na.length),R!=null&&(R[0]=G),U!=null&&(U[0]=ve),0):be}function Ky(y,_,k){var R=_.width,U=_.height,H=0,G=0,Y=R,J=U;if(_.Da=y!=null&&0<y.Da,_.Da&&(Y=y.cd,J=y.bd,H=y.v,G=y.j,11>k||(H&=-2,G&=-2),0>H||0>G||0>=Y||0>=J||H+Y>R||G+J>U))return 0;if(_.v=H,_.j=G,_.va=H+Y,_.o=G+J,_.U=Y,_.T=J,_.da=y!=null&&0<y.da,_.da){if(!et(Y,J,k=[y.ib],H=[y.hb]))return 0;_.ib=k[0],_.hb=H[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*R/4&&_.hb<3*U/4,_.Kb=0),1}function Yy(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function dh(y,_,k,R){if(R==null||0>=y||0>=_)return 2;if(k!=null){if(k.Da){var U=k.cd,H=k.bd,G=-2&k.v,Y=-2&k.j;if(0>G||0>Y||0>=U||0>=H||G+U>y||Y+H>_)return 2;y=U,_=H}if(k.da){if(!et(y,_,U=[k.ib],H=[k.hb]))return 2;y=U[0],_=H[0]}}R.width=y,R.height=_;e:{var J=R.width,te=R.height;if(y=R.S,0>=J||0>=te||!(y>=b_&&13>y))y=2;else{if(0>=R.Rd&&R.sd==null){G=H=U=_=0;var he=(Y=J*WR[y])*te;if(11>y||(H=(te+1)/2*(_=(J+1)/2),y==12&&(G=(U=J)*te)),(te=s(he+2*H+G))==null){y=1;break e}R.sd=te,11>y?((J=R.f.RGBA).eb=te,J.fb=0,J.A=Y,J.size=he):((J=R.f.kb).y=te,J.O=0,J.fa=Y,J.Fd=he,J.f=te,J.N=0+he,J.Ab=_,J.Cd=H,J.ea=te,J.W=0+he+H,J.Db=_,J.Ed=H,y==12&&(J.F=te,J.J=0+he+2*H),J.Tc=G,J.lb=U)}if(_=1,U=R.S,H=R.width,G=R.height,U>=b_&&13>U)if(11>U)y=R.f.RGBA,_&=(Y=Math.abs(y.A))*(G-1)+H<=y.size,_&=Y>=H*WR[U],_&=y.eb!=null;else{y=R.f.kb,Y=(H+1)/2,he=(G+1)/2,J=Math.abs(y.fa),te=Math.abs(y.Ab);var we=Math.abs(y.Db),ne=Math.abs(y.lb),de=ne*(G-1)+H;_&=J*(G-1)+H<=y.Fd,_&=te*(he-1)+Y<=y.Cd,_=(_&=we*(he-1)+Y<=y.Ed)&J>=H&te>=Y&we>=Y,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,U==12&&(_&=ne>=H,_&=de<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||k!=null&&k.fd&&(y=Yy(R)),y}var wd=64,na=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ra=24,ph=32,$c=8,gh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(y){return y},I.Predictor2=function(y,_,k){return _[k+0]},I.Predictor3=function(y,_,k){return _[k+1]},I.Predictor4=function(y,_,k){return _[k-1]},I.Predictor5=function(y,_,k){return st(st(y,_[k+1]),_[k+0])},I.Predictor6=function(y,_,k){return st(y,_[k-1])},I.Predictor7=function(y,_,k){return st(y,_[k+0])},I.Predictor8=function(y,_,k){return st(_[k-1],_[k+0])},I.Predictor9=function(y,_,k){return st(_[k+0],_[k+1])},I.Predictor10=function(y,_,k){return st(st(y,_[k-1]),st(_[k+0],_[k+1]))},I.Predictor11=function(y,_,k){var R=_[k+0];return 0>=kt(R>>24&255,y>>24&255,(_=_[k-1])>>24&255)+kt(R>>16&255,y>>16&255,_>>16&255)+kt(R>>8&255,y>>8&255,_>>8&255)+kt(255&R,255&y,255&_)?R:y},I.Predictor12=function(y,_,k){var R=_[k+0];return(tn((y>>24&255)+(R>>24&255)-((_=_[k-1])>>24&255))<<24|tn((y>>16&255)+(R>>16&255)-(_>>16&255))<<16|tn((y>>8&255)+(R>>8&255)-(_>>8&255))<<8|tn((255&y)+(255&R)-(255&_)))>>>0},I.Predictor13=function(y,_,k){var R=_[k-1];return($t((y=st(y,_[k+0]))>>24&255,R>>24&255)<<24|$t(y>>16&255,R>>16&255)<<16|$t(y>>8&255,R>>8&255)<<8|$t(255&y,255&R))>>>0};var Xy=I.PredictorAdd0;I.PredictorAdd1=Xt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var em=I.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Lr,m_=I.ColorIndexInverseTransform,Rl=I.MapARGB,Ml=I.VP8LColorIndexInverseTransformAlpha,Jy=I.MapAlpha,Zy=I.VP8LPredictorsAdd=[];Zy.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Qy,e1,mh,vh,yh,xd,bh,_d,to,jl,dn,On,Ir,ti,Bc,t1,tm,v_,wR,xR,_R,AR,SR,ER,n1,PR,kR,CR,TR=s(511),OR=s(2041),NR=s(225),LR=s(767),IR=0,Ek=OR,y_=NR,ia=LR,no=TR,b_=0,w_=1,RR=2,x_=3,__=4,Pk=5,MR=6,kk=7,Ck=8,A_=9,Tk=10,OG=[2,3,7],NG=[3,3,11],jR=[280,256,256,256,40],LG=[0,1,1,1,0],IG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],MG=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jG=8,Ok=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nk=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],r1=null,DG=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],FG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],DR=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$G=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],BG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],UG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wh=[],qo=[],Uc=[],qG=1,FR=2,xh=[],ro=[];Dc("UpsampleRgbLinePair",fh,3),Dc("UpsampleBgrLinePair",Ri,3),Dc("UpsampleRgbaLinePair",bs,4),Dc("UpsampleBgraLinePair",Gy,4),Dc("UpsampleArgbLinePair",Vy,4),Dc("UpsampleRgba4444LinePair",yd,2),Dc("UpsampleRgb565LinePair",vd,2);var HG=I.UpsampleRgbLinePair,WG=I.UpsampleBgrLinePair,$R=I.UpsampleRgbaLinePair,BR=I.UpsampleBgraLinePair,UR=I.UpsampleArgbLinePair,zR=I.UpsampleRgba4444LinePair,VG=I.UpsampleRgb565LinePair,S_=16,E_=1<<S_-1,i1=-227,Lk=482,GG=6,qR=0,KG=s(256),YG=s(256),XG=s(256),JG=s(256),ZG=s(Lk-i1),QG=s(Lk-i1);Fc("YuvToRgbRow",fh,3),Fc("YuvToBgrRow",Ri,3),Fc("YuvToRgbaRow",bs,4),Fc("YuvToBgraRow",Gy,4),Fc("YuvToArgbRow",Vy,4),Fc("YuvToRgba4444Row",yd,2),Fc("YuvToRgb565Row",vd,2);var HR=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],P_=[0,2,8],eK=[8,7,6,4,4,2,2,2,1,1,1,1],tK=1;this.WebPDecodeRGBA=function(y,_,k,R,U){var H=w_,G=new Ce,Y=new zt;G.ba=Y,Y.S=H,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,te=Y.height,he=new pt;if(he==null||y==null)var we=2;else e(he!=null),we=bd(y,_,k,he.width,he.height,he.Pd,he.Qd,he.format,null);if(we!=0?J=0:(J!=null&&(J[0]=he.width[0]),te!=null&&(te[0]=he.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],R!=null&&(R[0]=Y.width),U!=null&&(U[0]=Y.height);e:{if(R=new Gg,(U=new Ne).data=y,U.w=_,U.ha=k,U.kd=1,_=[0],e(U!=null),((y=bd(U.data,U.w,U.ha,null,null,null,_,null,U))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(e(G!=null),R.data=U.data,R.w=U.w+U.offset,R.ha=U.ha-U.offset,R.put=gt,R.ac=Cl,R.bc=kc,R.ma=G,U.xa){if((y=ld())==null){G=1;break e}if(function(ne,de){var ve=[0],Ee=[0],be=[0];t:for(;;){if(ne==null)return 0;if(de==null)return ne.a=2,0;if(ne.l=de,ne.a=0,re(ne.m,de.data,de.w,de.ha),!Cc(ne.m,ve,Ee,be)){ne.a=3;break t}if(ne.xb=FR,de.width=ve[0],de.height=Ee[0],!Ol(ve[0],Ee[0],1,ne,null))break t;return 1}return e(ne.a!=0),0}(y,R)){if(R=(_=dh(R.width,R.height,G.Oa,G.ba))==0){t:{R=y;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((k=R.l)!=null),e((U=k.ma)!=null),R.xb!=0){if(R.ca=U.ba,R.tb=U.tb,e(R.ca!=null),!Ky(U.Oa,k,x_)){R.a=2;break n}if(!cd(R,k.width)||k.da)break n;if((k.da||bt(R.ca.S))&&zo(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&zo()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Z(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Bo(R,R.V,R.Ba,R.c,R.i,k.o,uh))break n;U.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(_=y.a)}else _=y.a}else{if((y=new uk)==null){G=1;break e}if(y.Fa=U.na,y.P=U.P,y.qc=U.Sa,Ll(y,R)){if((_=dh(R.width,R.height,G.Oa,G.ba))==0){if(y.Aa=0,k=G.Oa,e((U=y)!=null),k!=null){if(0<(J=0>(J=k.Md)?0:100<J?255:255*J/100)){for(te=he=0;4>te;++te)12>(we=U.pb[te]).lc&&(we.ia=J*eK[0>we.lc?0:we.lc]>>3),he|=we.ia;he&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=k.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ne,de){if(ne==null)return 0;if(de==null)return zr(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!Ll(ne,de))return 0;if(e(ne.cb),de.ac==null||de.ac(de)){de.ob&&(ne.L=0);var ve=P_[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=de.v-ve>>4,ne.zb=de.j-ve>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=de.o+15+ve>>4,ne.Hb=de.va+15+ve>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Ee=ne.ed;for(ve=0;4>ve;++ve){var be;if(ne.Qa.Cb){var ke=ne.Qa.Lb[ve];ne.Qa.Fb||(ke+=Ee.Tb)}else ke=Ee.Tb;for(be=0;1>=be;++be){var Te=ne.gd[ve][be],Re=ke;if(Ee.Pc&&(Re+=Ee.vd[0],be&&(Re+=Ee.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var Le=Re;0<Ee.wb&&(Le=4<Ee.wb?Le>>2:Le>>1)>9-Ee.wb&&(Le=9-Ee.wb),1>Le&&(Le=1),Te.dd=Le,Te.tc=2*Re+Le,Te.ld=40<=Re?2:15<=Re?1:0}else Te.tc=0;Te.La=be}}}ve=0}else zr(ne,6,"Frame setup failed"),ve=ne.a;if(ve=ve==0){if(ve){ne.$c=0,0<ne.Aa||(ne.Ic=tK);t:{ve=ne.Ic,Ee=4*(Le=ne.za);var at=32*Le,Ke=Le+1,Mt=0<ne.L?Le*(0<ne.Aa?2:1):0,Je=(ne.Aa==2?2:1)*Le;if((Te=Ee+832+(be=3*(16*ve+P_[ne.L])/2*at)+(ke=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Te)ve=0;else{if(Te>ne.Vb){if(ne.Vb=0,ne.Ec=s(Te),ne.Fc=0,ne.Ec==null){ve=zr(ne,1,"no memory during frame initialization.");break t}ne.Vb=Te}Te=ne.Ec,Re=ne.Fc,ne.Ac=Te,ne.Bc=Re,Re+=Ee,ne.Gd=a(at,n_),ne.Hd=0,ne.rb=a(Ke+1,My),ne.sb=1,ne.wa=Mt?a(Mt,Za):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Le),e(!0),ne.oc=Te,ne.pc=Re,Re+=832,ne.ya=a(Je,jy),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Le),ne.R=16*Le,ne.B=8*Le,Le=(at=P_[ne.L])*ne.R,at=at/2*ne.B,ne.sa=Te,ne.ta=Re+Le,ne.qa=ne.sa,ne.ra=ne.ta+16*ve*ne.R+at,ne.Ha=ne.qa,ne.Ia=ne.ra+8*ve*ne.B+at,ne.$c=0,Re+=be,ne.mb=ke?Te:null,ne.nb=ke?Re:null,e(Re+ke<=ne.Fc+ne.Vb),s_(ne),i(ne.Ac,ne.Bc,0,Ee),ve=1}}if(ve){if(de.ka=0,de.y=ne.sa,de.O=ne.ta,de.f=ne.qa,de.N=ne.ra,de.ea=ne.Ha,de.Vd=ne.Ia,de.fa=ne.R,de.Rc=ne.B,de.F=null,de.J=0,!IR){for(ve=-255;255>=ve;++ve)TR[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)OR[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)NR[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)LR[255+ve]=0>ve?0:255<ve?255:ve;IR=1}bh=Yg,_d=fk,jl=Il,dn=o_,On=l_,to=hk,Ir=d_,ti=pd,Bc=B,t1=ie,tm=p_,v_=P,wR=le,xR=ge,_R=dd,AR=Hy,SR=h_,ER=f_,qo[0]=wk,qo[1]=dk,qo[2]=yk,qo[3]=bk,qo[4]=Oc,qo[5]=xk,qo[6]=Nc,qo[7]=_k,qo[8]=$y,qo[9]=Xg,wh[0]=mk,wh[1]=gk,wh[2]=Dy,wh[3]=c_,wh[4]=hd,wh[5]=Fy,wh[6]=vk,Uc[0]=Sk,Uc[1]=pk,Uc[2]=fd,Uc[3]=Ak,Uc[4]=Uy,Uc[5]=By,Uc[6]=u_,ve=1}else ve=0}ve&&(ve=function(Jt,ni){for(Jt.M=0;Jt.M<Jt.Va;++Jt.M){var jt,Ze=Jt.Jc[Jt.M&Jt.Xb],Fe=Jt.m,Rr=Jt;for(jt=0;jt<Rr.za;++jt){var Tt=Fe,en=Rr,Kn=en.Ac,Mi=en.Bc+4*jt,ws=en.zc,br=en.ya[en.aa+jt];if(en.Qa.Bb?br.$b=ye(Tt,en.Pa.jb[0])?2+ye(Tt,en.Pa.jb[2]):ye(Tt,en.Pa.jb[1]):br.$b=0,en.kc&&(br.Ad=ye(Tt,en.Bd)),br.Za=!ye(Tt,145)+0,br.Za){var ts=br.Ob,xs=0;for(en=0;4>en;++en){var ri,sn=ws[0+en];for(ri=0;4>ri;++ri){sn=BG[Kn[Mi+ri]][sn];for(var mn=DR[ye(Tt,sn[0])];0<mn;)mn=DR[2*mn+ye(Tt,sn[mn])];sn=-mn,Kn[Mi+ri]=sn}r(ts,xs,Kn,Mi,4),xs+=4,ws[0+en]=sn}}else sn=ye(Tt,156)?ye(Tt,128)?1:3:ye(Tt,163)?2:0,br.Ob[0]=sn,i(Kn,Mi,sn,4),i(ws,0,sn,4);br.Dd=ye(Tt,142)?ye(Tt,114)?ye(Tt,183)?1:3:2:0}if(Rr.m.Ka)return zr(Jt,7,"Premature end-of-partition0 encountered.");for(;Jt.ja<Jt.za;++Jt.ja){if(Rr=Ze,Tt=(Fe=Jt).rb[Fe.sb-1],Kn=Fe.rb[Fe.sb+Fe.ja],jt=Fe.ya[Fe.aa+Fe.ja],Mi=Fe.kc?jt.Ad:0)Tt.la=Kn.la=0,jt.Za||(Tt.Na=Kn.Na=0),jt.Hc=0,jt.Gc=0,jt.ia=0;else{var wr,vn;if(Tt=Kn,Kn=Rr,Mi=Fe.Pa.Xc,ws=Fe.ya[Fe.aa+Fe.ja],br=Fe.pb[ws.$b],en=ws.ad,ts=0,xs=Fe.rb[Fe.sb-1],sn=ri=0,i(en,ts,0,384),ws.Za)var ji=0,Ho=Mi[3];else{mn=s(16);var Mr=Tt.Na+xs.Na;if(Mr=r1(Kn,Mi[1],Mr,br.Eb,0,mn,0),Tt.Na=xs.Na=(0<Mr)+0,1<Mr)bh(mn,0,en,ts);else{var Ds=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)en[ts+mn]=Ds}ji=1,Ho=Mi[0]}var Nn=15&Tt.la,ii=15&xs.la;for(mn=0;4>mn;++mn){var sa=1&ii;for(Ds=vn=0;4>Ds;++Ds)Nn=Nn>>1|(sa=(Mr=r1(Kn,Ho,Mr=sa+(1&Nn),br.Sc,ji,en,ts))>ji)<<7,vn=vn<<2|(3<Mr?3:1<Mr?2:en[ts+0]!=0),ts+=16;Nn>>=4,ii=ii>>1|sa<<7,ri=(ri<<8|vn)>>>0}for(Ho=Nn,ji=ii>>4,wr=0;4>wr;wr+=2){for(vn=0,Nn=Tt.la>>4+wr,ii=xs.la>>4+wr,mn=0;2>mn;++mn){for(sa=1&ii,Ds=0;2>Ds;++Ds)Mr=sa+(1&Nn),Nn=Nn>>1|(sa=0<(Mr=r1(Kn,Mi[2],Mr,br.Qc,0,en,ts)))<<3,vn=vn<<2|(3<Mr?3:1<Mr?2:en[ts+0]!=0),ts+=16;Nn>>=2,ii=ii>>1|sa<<5}sn|=vn<<4*wr,Ho|=Nn<<4<<wr,ji|=(240&ii)<<wr}Tt.la=Ho,xs.la=ji,ws.Hc=ri,ws.Gc=sn,ws.ia=43690&sn?0:br.ia,Mi=!(ri|sn)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[jt.$b][jt.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Mi),Rr.Ka)return zr(Jt,7,"Premature end-of-file encountered.")}if(s_(Jt),Fe=ni,Rr=1,jt=(Ze=Jt).D,Tt=0<Ze.L&&Ze.M>=Ze.zb&&Ze.M<=Ze.Va,Ze.Aa==0)t:{if(jt.M=Ze.M,jt.uc=Tt,eo(Ze,jt),Rr=1,jt=(vn=Ze.D).Nb,Tt=(sn=P_[Ze.L])*Ze.R,Kn=sn/2*Ze.B,mn=16*jt*Ze.R,Ds=8*jt*Ze.B,Mi=Ze.sa,ws=Ze.ta-Tt+mn,br=Ze.qa,en=Ze.ra-Kn+Ds,ts=Ze.Ha,xs=Ze.Ia-Kn+Ds,ii=(Nn=vn.M)==0,ri=Nn>=Ze.Va-1,Ze.Aa==2&&eo(Ze,vn),vn.uc)for(sa=(Mr=Ze).D.M,e(Mr.D.uc),vn=Mr.yb;vn<Mr.Hb;++vn){ji=vn,Ho=sa;var _s=(aa=(Di=Mr).D).Nb;wr=Di.R;var aa=aa.wa[aa.Y+ji],oa=Di.sa,Fs=Di.ta+16*_s*wr+16*ji,la=aa.dd,Bn=aa.tc;if(Bn!=0)if(e(3<=Bn),Di.L==1)0<ji&&AR(oa,Fs,wr,Bn+4),aa.La&&ER(oa,Fs,wr,Bn),0<Ho&&_R(oa,Fs,wr,Bn+4),aa.La&&SR(oa,Fs,wr,Bn);else{var ca=Di.B,Wo=Di.qa,Ad=Di.ra+8*_s*ca+8*ji,zc=Di.Ha,Di=Di.Ia+8*_s*ca+8*ji;_s=aa.ld,0<ji&&(ti(oa,Fs,wr,Bn+4,la,_s),t1(Wo,Ad,zc,Di,ca,Bn+4,la,_s)),aa.La&&(v_(oa,Fs,wr,Bn,la,_s),xR(Wo,Ad,zc,Di,ca,Bn,la,_s)),0<Ho&&(Ir(oa,Fs,wr,Bn+4,la,_s),Bc(Wo,Ad,zc,Di,ca,Bn+4,la,_s)),aa.La&&(tm(oa,Fs,wr,Bn,la,_s),wR(Wo,Ad,zc,Di,ca,Bn,la,_s))}}if(Ze.ia&&alert("todo:DitherRow"),Fe.put!=null){if(vn=16*Nn,Nn=16*(Nn+1),ii?(Fe.y=Ze.sa,Fe.O=Ze.ta+mn,Fe.f=Ze.qa,Fe.N=Ze.ra+Ds,Fe.ea=Ze.Ha,Fe.W=Ze.Ia+Ds):(vn-=sn,Fe.y=Mi,Fe.O=ws,Fe.f=br,Fe.N=en,Fe.ea=ts,Fe.W=xs),ri||(Nn-=sn),Nn>Fe.o&&(Nn=Fe.o),Fe.F=null,Fe.J=null,Ze.Fa!=null&&0<Ze.Fa.length&&vn<Nn&&(Fe.J=$n(Ze,Fe,vn,Nn-vn),Fe.F=Ze.mb,Fe.F==null&&Fe.F.length==0)){Rr=zr(Ze,3,"Could not decode alpha data.");break t}vn<Fe.j&&(sn=Fe.j-vn,vn=Fe.j,e(!(1&sn)),Fe.O+=Ze.R*sn,Fe.N+=Ze.B*(sn>>1),Fe.W+=Ze.B*(sn>>1),Fe.F!=null&&(Fe.J+=Fe.width*sn)),vn<Nn&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=vn-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=Nn-vn,Rr=Fe.put(Fe))}jt+1!=Ze.Ic||ri||(r(Ze.sa,Ze.ta-Tt,Mi,ws+16*Ze.R,Tt),r(Ze.qa,Ze.ra-Kn,br,en+8*Ze.B,Kn),r(Ze.Ha,Ze.Ia-Kn,ts,xs+8*Ze.B,Kn))}if(!Rr)return zr(Jt,6,"Output aborted.")}return 1}(ne,de)),de.bc!=null&&de.bc(de),ve&=1}return ve?(ne.cb=0,ve):0})(y,R)||(_=y.a)}}else _=y.a}_==0&&G.Oa!=null&&G.Oa.fd&&(_=Yy(G.ba))}G=_}H=G!=0?null:11>H?Y.f.RGBA.eb:Y.f.kb.y}else H=null;return H};var WR=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,q){for(var O="",M=0;M<4;M++)O+=String.fromCharCode(I[q++]);return O}function u(I,q){return I[q+0]|I[q+1]<<8}function f(I,q){return(I[q+0]|I[q+1]<<8|I[q+2]<<16)>>>0}function d(I,q){return(I[q+0]|I[q+1]<<8|I[q+2]<<16|I[q+3]<<24)>>>0}new l;var p=[0],v=[0],m=[],b=new l,g=t,w=function(I,q){var O={},M=0,z=!1,$=0,V=0;if(O.frames=[],!function(D,K){for(var ee=0;ee<4;ee++)if(D[K+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(I,q)){for(d(I,q+=4),q+=8;q<I.length;){var X=c(I,q),Q=d(I,q+=4);q+=4;var W=Q+(1&Q);switch(X){case"VP8 ":case"VP8L":O.frames[M]===void 0&&(O.frames[M]={}),(ae=O.frames[M]).src_off=z?V:q-8,ae.src_size=$+Q+8,M++,z&&(z=!1,$=0,V=0);break;case"VP8X":(ae=O.header={}).feature_flags=I[q];var re=q+4;ae.canvas_width=1+f(I,re),re+=3,ae.canvas_height=1+f(I,re),re+=3;break;case"ALPH":z=!0,$=W+8,V=q-8;break;case"ANIM":(ae=O.header).bgcolor=d(I,q),re=q+4,ae.loop_count=u(I,re),re+=2;break;case"ANMF":var ce,ae;(ae=O.frames[M]={}).offset_x=2*f(I,q),q+=3,ae.offset_y=2*f(I,q),q+=3,ae.width=1+f(I,q),q+=3,ae.height=1+f(I,q),q+=3,ae.duration=f(I,q),q+=3,ce=I[q++],ae.dispose=1&ce,ae.blend=ce>>1&1}X!="ANMF"&&(q+=W)}return O}}(g,0);w.response=g,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,S=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,p=[x.canvas_height],v=[x.canvas_width];for(var A=0;A<S.length&&S[A].blend!=0;A++);}var E=S[0],C=b.WebPDecodeRGBA(g,E.src_off,E.src_size,v,p);E.rgba=C,E.imgwidth=v[0],E.imgheight=p[0];for(var L=0;L<v[0]*p[0]*4;L++)m[L]=C[L];return this.width=v,this.height=p,this.data=m,this}(function(t){var e,n,r,i,s,a,o,l,c,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new a,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new a,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Z){ee=!!Z}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Z){se=!!Z}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Z){isNaN(Z)||(oe=Z)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Z){isNaN(Z)||(fe=Z)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Z){var Me;typeof Z=="number"?Me=[Z,Z,Z,Z]:((Me=new Array(4))[0]=Z[0],Me[1]=Z.length>=2?Z[1]:Me[0],Me[2]=Z.length>=3?Z[2]:Me[0],Me[3]=Z.length>=4?Z[3]:Me[1]),c.margin=Me}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Z){xe=Z}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Z){ue=Z}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(Z){ye=Z}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Z){Z instanceof u&&(c=Z)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Z){c.path=Z}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(Z){_e=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var Me;Me=d(Z),this.ctx.fillStyle=Me.style,this.ctx.isFillTransparent=Me.a===0,this.ctx.fillOpacity=Me.a,this.pdf.setFillColor(Me.r,Me.g,Me.b,{a:Me.a}),this.pdf.setTextColor(Me.r,Me.g,Me.b,{a:Me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var Me=d(Z);this.ctx.strokeStyle=Me.style,this.ctx.isStrokeTransparent=Me.a===0,this.ctx.strokeOpacity=Me.a,Me.a===0?this.pdf.setDrawColor(255,255,255):(Me.a,this.pdf.setDrawColor(Me.r,Me.g,Me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var me=null,Ie=null,De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Z){me=null,Ie=null,De=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var Me;if(this.ctx.font=Z,(Me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var ht=Me[1];Me[2];var et=Me[3],Oe=Me[4];Me[5];var ut=Me[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(Ue==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var tt=function(ct){var Nr,nn,Bt=[],Ut=ct.trim();if(Ut==="")return CT;if(Ut in G$)return[G$[Ut]];for(;Ut!=="";){switch(nn=null,Nr=(Ut=Y$(Ut)).charAt(0)){case'"':case"'":nn=tCe(Ut.substring(1),Nr);break;default:nn=nCe(Ut)}if(nn===null||(Bt.push(nn[0]),(Ut=Y$(nn[1]))!==""&&Ut.charAt(0)!==","))return CT;Ut=Ut.replace(/^,/,"")}return Bt}(ut);if(this.fontFaces){var st=function(ct,Nr){var nn=ct.getFontList(),Bt=JSON.stringify(nn);if(me===null||Ie!==Bt){var Ut=function(tr){var ft=[];return Object.keys(tr).forEach(function(Fn){tr[Fn].forEach(function(bt){var Ct=null;switch(bt){case"bold":Ct={family:Fn,weight:"bold"};break;case"italic":Ct={family:Fn,style:"italic"};break;case"bolditalic":Ct={family:Fn,weight:"bold",style:"italic"};break;case"":case"normal":Ct={family:Fn}}Ct!==null&&(Ct.ref={name:Fn,style:bt},ft.push(Ct))})}),ft}(nn);me=function(tr){for(var ft={},Fn=0;Fn<tr.length;++Fn){var bt=kT(tr[Fn]),Ct=bt.family,nr=bt.stretch,zt=bt.style,pt=bt.weight;ft[Ct]=ft[Ct]||{},ft[Ct][nr]=ft[Ct][nr]||{},ft[Ct][nr][zt]=ft[Ct][nr][zt]||{},ft[Ct][nr][zt][pt]=bt}return ft}(Ut.concat(Nr)),Ie=Bt}return me}(this.pdf,this.fontFaces),tn=tt.map(function(ct){return{family:ct,stretch:"normal",weight:et,style:ht}}),$t=function(ct,Nr,nn){for(var Bt=(nn=nn||{}).defaultFontFamily||"times",Ut=Object.assign({},eCe,nn.genericFontFamilies||{}),tr=null,ft=null,Fn=0;Fn<Nr.length;++Fn)if(Ut[(tr=kT(Nr[Fn])).family]&&(tr.family=Ut[tr.family]),ct.hasOwnProperty(tr.family)){ft=ct[tr.family];break}if(!(ft=ft||ct[Bt]))throw new Error("Could not find a font-family for the rule '"+K$(tr)+"' and default family '"+Bt+"'.");if(ft=function(bt,Ct){if(Ct[bt])return Ct[bt];var nr=V4[bt],zt=nr<=V4.normal?-1:1,pt=V$(Ct,EG,nr,zt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+bt);return pt}(tr.stretch,ft),ft=function(bt,Ct){if(Ct[bt])return Ct[bt];for(var nr=SG[bt],zt=0;zt<nr.length;++zt)if(Ct[nr[zt]])return Ct[nr[zt]];throw new Error("Could not find a matching font-style for "+bt)}(tr.style,ft),!(ft=function(bt,Ct){if(Ct[bt])return Ct[bt];if(bt===400&&Ct[500])return Ct[500];if(bt===500&&Ct[400])return Ct[400];var nr=Qke[bt],zt=V$(Ct,PG,nr,bt<400?-1:1);if(!zt)throw new Error("Could not find a matching font-weight for value "+bt);return zt}(tr.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+K$(tr)+"'.");return ft}(st,tn);this.pdf.setFont($t.ref.name,$t.ref.style)}else{var kt="";(et==="bold"||parseInt(et,10)>=700||ht==="bold")&&(kt="bold"),ht==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var Xt="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<tt.length;rt++){if(this.pdf.internal.getFont(tt[rt],kt,{noFallback:!0,disableWarning:!0})!==void 0){Xt=tt[rt];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(tt[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xt=tt[rt],kt="bold";else if(this.pdf.internal.getFont(tt[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xt=tt[rt],kt="normal";break}}if(Xt===""){for(var Lt=0;Lt<tt.length;Lt++)if(Vt[tt[Lt]]){Xt=Vt[tt[Lt]];break}}Xt=Xt===""?"Times":Xt,this.pdf.setFont(Xt,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){S.call(this,"fill",!1)},f.prototype.stroke=function(){S.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(D,K)},f.prototype.closePath=function(){var D=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&wn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(D.x,D.y)},f.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,K,ee,se){if(isNaN(ee)||isNaN(se)||isNaN(D)||isNaN(K))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new a(ee,se)),fe=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},f.prototype.bezierCurveTo=function(D,K,ee,se,oe,fe){if(isNaN(oe)||isNaN(fe)||isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new a(oe,fe)),ue=this.ctx.transform.applyToPoint(new a(D,K)),ye=this.ctx.transform.applyToPoint(new a(ee,se));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:ye.x,y2:ye.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new a(xe.x,xe.y)},f.prototype.arc=function(D,K,ee,se,oe,fe){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se)||isNaN(oe))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new a(D,K));D=xe.x,K=xe.y;var ue=this.ctx.transform.applyToPoint(new a(0,ee)),ye=this.ctx.transform.applyToPoint(new a(0,0));ee=Math.sqrt(Math.pow(ue.x-ye.x,2)+Math.pow(ue.y-ye.y,2))}Math.abs(oe-se)>=2*Math.PI&&(se=0,oe=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:ee,startAngle:se,endAngle:oe,counterclockwise:fe})},f.prototype.arcTo=function(D,K,ee,se,oe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,K,ee,se){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+ee,K),this.lineTo(D+ee,K+se),this.lineTo(D,K+se),this.lineTo(D,K),this.lineTo(D+ee,K),this.lineTo(D,K)},f.prototype.fillRect=function(D,K,ee,se){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,ee,se),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},f.prototype.strokeRect=function(D,K,ee,se){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,K,ee,se),this.stroke())},f.prototype.clearRect=function(D,K,ee,se){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,ee,se))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(D){var K,ee,se,oe;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,ee=0,se=0,oe=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(fe!==null)K=parseInt(fe[1]),ee=parseInt(fe[2]),se=parseInt(fe[3]),oe=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(fe[1]),ee=parseInt(fe[2]),se=parseInt(fe[3]),oe=parseFloat(fe[4]);else{if(oe=1,typeof D=="string"&&D.charAt(0)!=="#"){var xe=new vG(D);D=xe.ok?xe.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,ee=D.substring(2,3),ee+=ee,se=D.substring(3,4),se+=se):(K=D.substring(1,3),ee=D.substring(3,5),se=D.substring(5,7)),K=parseInt(K,16),ee=parseInt(ee,16),se=parseInt(se,16)}}return{r:K,g:ee,b:se,a:oe,style:D}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,K,ee,se){if(isNaN(K)||isNaN(ee)||typeof D!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var oe=W(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;M.call(this,{text:D,x:K,y:ee,scale:fe,angle:oe,align:this.textAlign,maxWidth:se})}},f.prototype.strokeText=function(D,K,ee,se){if(isNaN(K)||isNaN(ee)||typeof D!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){se=isNaN(se)?void 0:se;var oe=W(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;M.call(this,{text:D,x:K,y:ee,scale:fe,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:se})}},f.prototype.measureText=function(D){if(typeof D!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ee=this.pdf.internal.scaleFactor,se=K.internal.getFontSize(),oe=K.getStringUnitWidth(D)*se/K.internal.scaleFactor;return new function(fe){var xe=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:oe*=Math.round(96*ee/72*1e4)/1e4})},f.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.rotate=function(D){if(isNaN(D))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.transform=function(D,K,ee,se,oe,fe){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se)||isNaN(oe)||isNaN(fe))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(D,K,ee,se,oe,fe);this.ctx.transform=this.ctx.transform.multiply(xe)},f.prototype.setTransform=function(D,K,ee,se,oe,fe){D=isNaN(D)?1:D,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,se=isNaN(se)?1:se,oe=isNaN(oe)?0:oe,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(D,K,ee,se,oe,fe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,K,ee,se,oe,fe,xe,ue,ye){var _e=this.pdf.getImageProperties(D),me=1,Ie=1,De=1,Z=1;se!==void 0&&ue!==void 0&&(De=ue/se,Z=ye/oe,me=_e.width/se*ue/se,Ie=_e.height/oe*ye/oe),fe===void 0&&(fe=K,xe=ee,K=0,ee=0),se!==void 0&&ue===void 0&&(ue=se,ye=oe),se===void 0&&ue===void 0&&(ue=_e.width,ye=_e.height);var Me=this.ctx.transform.decompose(),ht=W(Me.rotate.shx),et=new l,Oe=(et=(et=(et=et.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(fe-K*De,xe-ee*Z,se*me,oe*Ie));if(this.autoPaging){for(var ut,Ue=b.call(this,Oe),tt=[],st=0;st<Ue.length;st+=1)tt.indexOf(Ue[st])===-1&&tt.push(Ue[st]);x(tt);for(var tn=tt[0],$t=tt[tt.length-1],kt=tn;kt<$t+1;kt++){this.pdf.setPage(kt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=kt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=kt===1?0:rt+(kt-2)*Lt;if(this.ctx.clip_path.length!==0){var Nr=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ut,this.posX+this.margin[3],-ct+Vt+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Nr}var nn=JSON.parse(JSON.stringify(Oe));nn=w([nn],this.posX+this.margin[3],-ct+Vt+this.ctx.prevPageLastElemOffset)[0];var Bt=(kt>tn||kt<$t)&&m.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Lt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,ht),Bt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,ht)};var b=function(D,K,ee){var se=[];K=K||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":se.push(Math.floor((D.y+oe)/ee)+1);break;case"arc":se.push(Math.floor((D.y+oe-D.radius)/ee)+1),se.push(Math.floor((D.y+oe+D.radius)/ee)+1);break;case"qct":var fe=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);se.push(Math.floor((fe.y+oe)/ee)+1),se.push(Math.floor((fe.y+fe.h+oe)/ee)+1);break;case"bct":var xe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);se.push(Math.floor((xe.y+oe)/ee)+1),se.push(Math.floor((xe.y+xe.h+oe)/ee)+1);break;case"rect":se.push(Math.floor((D.y+oe)/ee)+1),se.push(Math.floor((D.y+D.h+oe)/ee)+1)}for(var ue=0;ue<se.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<se[ue];)g.call(this);return se},g=function(){var D=this.fillStyle,K=this.strokeStyle,ee=this.font,se=this.lineCap,oe=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=ee,this.lineCap=se,this.lineWidth=oe,this.lineJoin=fe},w=function(D,K,ee){for(var se=0;se<D.length;se++)switch(D[se].type){case"bct":D[se].x2+=K,D[se].y2+=ee;case"qct":D[se].x1+=K,D[se].y1+=ee;default:D[se].x+=K,D[se].y+=ee}return D},x=function(D){return D.sort(function(K,ee){return K-ee})},S=function(D,K){var ee=this.fillStyle,se=this.strokeStyle,oe=this.lineCap,fe=this.lineWidth,xe=Math.abs(fe*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var ye,_e,me=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),De=[],Z=0;Z<Ie.length;Z++)if(Ie[Z].x!==void 0)for(var Me=b.call(this,Ie[Z]),ht=0;ht<Me.length;ht+=1)De.indexOf(Me[ht])===-1&&De.push(Me[ht]);for(var et=0;et<De.length;et++)for(;this.pdf.internal.getNumberOfPages()<De[et];)g.call(this);x(De);for(var Oe=De[0],ut=De[De.length-1],Ue=Oe;Ue<ut+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ee,this.strokeStyle=se,this.lineCap=oe,this.lineWidth=xe,this.lineJoin=ue;var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Ue===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=Ue===1?0:tn+(Ue-2)*$t;if(this.ctx.clip_path.length!==0){var Xt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ye,this.posX+this.margin[3],-kt+st+this.ctx.prevPageLastElemOffset),A.call(this,D,!0),this.path=Xt}if(_e=JSON.parse(JSON.stringify(me)),this.path=w(_e,this.posX+this.margin[3],-kt+st+this.ctx.prevPageLastElemOffset),K===!1||Ue===0){var Vt=(Ue>Oe||Ue<ut)&&m.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,$t,null).clip().discardPath()),A.call(this,D,K),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=me}else this.lineWidth=xe,A.call(this,D,K),this.lineWidth=fe},A=function(D,K){if((D!=="stroke"||K||!v.call(this))&&(D==="stroke"||K||!p.call(this))){for(var ee,se,oe=[],fe=this.path,xe=0;xe<fe.length;xe++){var ue=fe[xe];switch(ue.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ue,deltas:[],abs:[]});break;case"lt":var ye=oe.length;if(fe[xe-1]&&!isNaN(fe[xe-1].x)&&(ee=[ue.x-fe[xe-1].x,ue.y-fe[xe-1].y],ye>0)){for(;ye>=0;ye--)if(oe[ye-1].close!==!0&&oe[ye-1].begin!==!0){oe[ye-1].deltas.push(ee),oe[ye-1].abs.push(ue);break}}break;case"bct":ee=[ue.x1-fe[xe-1].x,ue.y1-fe[xe-1].y,ue.x2-fe[xe-1].x,ue.y2-fe[xe-1].y,ue.x-fe[xe-1].x,ue.y-fe[xe-1].y],oe[oe.length-1].deltas.push(ee);break;case"qct":var _e=fe[xe-1].x+2/3*(ue.x1-fe[xe-1].x),me=fe[xe-1].y+2/3*(ue.y1-fe[xe-1].y),Ie=ue.x+2/3*(ue.x1-ue.x),De=ue.y+2/3*(ue.y1-ue.y),Z=ue.x,Me=ue.y;ee=[_e-fe[xe-1].x,me-fe[xe-1].y,Ie-fe[xe-1].x,De-fe[xe-1].y,Z-fe[xe-1].x,Me-fe[xe-1].y],oe[oe.length-1].deltas.push(ee);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ue)}}se=K?null:D==="stroke"?"stroke":"fill";for(var ht=!1,et=0;et<oe.length;et++)if(oe[et].arc)for(var Oe=oe[et].abs,ut=0;ut<Oe.length;ut++){var Ue=Oe[ut];Ue.type==="arc"?L.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,K,!ht):z.call(this,Ue.x,Ue.y),ht=!0}else if(oe[et].close===!0)this.pdf.internal.out("h"),ht=!1;else if(oe[et].begin!==!0){var tt=oe[et].start.x,st=oe[et].start.y;$.call(this,oe[et].deltas,tt,st),ht=!0}se&&I.call(this,se),K&&q.call(this)}},E=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-ee;case"top":return D+K-ee;case"hanging":return D+K-2*ee;case"middle":return D+K/2-ee;default:return D}},C=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,ee){this.colorStops.push([K,ee])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(D,K,ee,se,oe,fe,xe,ue,ye){for(var _e=X.call(this,ee,se,oe,fe),me=0;me<_e.length;me++){var Ie=_e[me];me===0&&(ye?O.call(this,Ie.x1+D,Ie.y1+K):z.call(this,Ie.x1+D,Ie.y1+K)),V.call(this,D,K,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}ue?q.call(this):I.call(this,xe)},I=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(D,K){this.pdf.internal.out(n(D)+" "+r(K)+" m")},M=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var ee,se,oe,fe=this.pdf.getTextDimensions(D.text),xe=E.call(this,D.y),ue=C.call(this,xe)-fe.h,ye=this.ctx.transform.applyToPoint(new a(D.x,xe));if(this.autoPaging){var _e=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ie=this.ctx.transform.applyToRectangle(new o(D.x,xe,fe.w,fe.h)),De=me.applyToRectangle(new o(D.x,ue,fe.w,fe.h)),Z=b.call(this,De),Me=[],ht=0;ht<Z.length;ht+=1)Me.indexOf(Z[ht])===-1&&Me.push(Z[ht]);x(Me);for(var et=Me[0],Oe=Me[Me.length-1],ut=et;ut<Oe+1;ut++){this.pdf.setPage(ut);var Ue=ut===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],tn=st-this.margin[0],$t=this.pdf.internal.pageSize.width-this.margin[1],kt=$t-this.margin[3],Xt=ut===1?0:tt+(ut-2)*tn;if(this.ctx.clip_path.length!==0){var Vt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ee,this.posX+this.margin[3],-1*Xt+Ue),A.call(this,"fill",!0),this.path=Vt}var rt=w([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Xt+Ue+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*D.scale),oe=this.lineWidth,this.lineWidth=oe*D.scale);var Lt=this.autoPaging!=="text";if(Lt||rt.y+rt.h<=st){if(Lt||rt.y>=Ue&&rt.x<=$t){var ct=Lt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||$t-rt.x)[0],Nr=w([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Xt+Ue+this.ctx.prevPageLastElemOffset)[0],nn=Lt&&(ut>et||ut<Oe)&&m.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,tn,null).clip().discardPath()),this.pdf.text(ct,Nr.x,Nr.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else rt.y<st&&(this.ctx.prevPageLastElemOffset+=st-rt.y);D.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=oe)}}else D.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*D.scale),oe=this.lineWidth,this.lineWidth=oe*D.scale),this.pdf.text(D.text,ye.x+this.posX,ye.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=oe)},z=function(D,K,ee,se){ee=ee||0,se=se||0,this.pdf.internal.out(n(D+ee)+" "+r(K+se)+" l")},$=function(D,K,ee){return this.pdf.lines(D,K,ee,null,null)},V=function(D,K,ee,se,oe,fe,xe,ue){this.pdf.internal.out([e(i(ee+D)),e(s(se+K)),e(i(oe+D)),e(s(fe+K)),e(i(xe+D)),e(s(ue+K)),"c"].join(" "))},X=function(D,K,ee,se){for(var oe=2*Math.PI,fe=Math.PI/2;K>ee;)K-=oe;var xe=Math.abs(ee-K);xe<oe&&se&&(xe=oe-xe);for(var ue=[],ye=se?-1:1,_e=K;xe>1e-5;){var me=_e+ye*Math.min(xe,fe);ue.push(Q.call(this,D,_e,me)),xe-=Math.abs(me-_e),_e=me}return ue},Q=function(D,K,ee){var se=(ee-K)/2,oe=D*Math.cos(se),fe=D*Math.sin(se),xe=oe,ue=-fe,ye=xe*xe+ue*ue,_e=ye+xe*oe+ue*fe,me=4/3*(Math.sqrt(2*ye*_e)-_e)/(xe*fe-ue*oe),Ie=xe-me*ue,De=ue+me*xe,Z=Ie,Me=-De,ht=se+K,et=Math.cos(ht),Oe=Math.sin(ht);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:Ie*et-De*Oe,y2:Ie*Oe+De*et,x3:Z*et-Me*Oe,y3:Z*Oe+Me*et,x4:D*Math.cos(ee),y4:D*Math.sin(ee)}},W=function(D){return 180*D/Math.PI},re=function(D,K,ee,se,oe,fe){var xe=D+.5*(ee-D),ue=K+.5*(se-K),ye=oe+.5*(ee-oe),_e=fe+.5*(se-fe),me=Math.min(D,oe,xe,ye),Ie=Math.max(D,oe,xe,ye),De=Math.min(K,fe,ue,_e),Z=Math.max(K,fe,ue,_e);return new o(me,De,Ie-me,Z-De)},ce=function(D,K,ee,se,oe,fe,xe,ue){var ye,_e,me,Ie,De,Z,Me,ht,et,Oe,ut,Ue,tt,st,tn=ee-D,$t=se-K,kt=oe-ee,Xt=fe-se,Vt=xe-oe,rt=ue-fe;for(_e=0;_e<41;_e++)et=(Me=(me=D+(ye=_e/40)*tn)+ye*((De=ee+ye*kt)-me))+ye*(De+ye*(oe+ye*Vt-De)-Me),Oe=(ht=(Ie=K+ye*$t)+ye*((Z=se+ye*Xt)-Ie))+ye*(Z+ye*(fe+ye*rt-Z)-ht),_e==0?(ut=et,Ue=Oe,tt=et,st=Oe):(ut=Math.min(ut,et),Ue=Math.min(Ue,Oe),tt=Math.max(tt,et),st=Math.max(st,Oe));return new o(Math.round(ut),Math.round(Ue),Math.round(tt-ut),Math.round(st-Ue))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,ee=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(lt.API),function(t){var e=function(a){var o,l,c,u,f,d,p,v,m,b;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(d=(f=((f=((f=((f=(f-(b=f%85))/85)-(m=f%85))/85)-(v=f%85))/85)-(p=f%85))/85)%85,l.push(d+33,p+33,v+33,m+33,b+33)):l.push(122);return function(g,w){for(var x=w;x>0;x--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,u,f,d=String,p="length",v=255,m="charCodeAt",b="slice",g="replace";for(a[b](-2),a=a[b](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,f=(a+=o="uuuuu"[b](a[p]%5||5))[p];f>u;u+=5)l=52200625*(a[m](u)-33)+614125*(a[m](u+1)-33)+7225*(a[m](u+2)-33)+85*(a[m](u+3)-33)+(a[m](u+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(w,x){for(var S=x;S>0;S--)w.pop()}(c,o[p]),d.fromCharCode.apply(d,c)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=$4(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(lt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,d=0,p=function(v){var m=v.length,b=[],g=String.fromCharCode;for(d=0;d<m;d+=1)b.push(g(255&v.charCodeAt(d)));return b.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(lt.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):cT(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):cT(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=wn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var v=u[p],m=v.src.find(function(b){return b.format==="truetype"});m&&c.addFont(m.url,v.ref.name,v.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,f).then(function(d){return c.updateProgress(1),d})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),d=c.call(f,o,l);return a.convert(d,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,lt.getPageSize=function(o,l,c){if(wn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,d=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,m=0,b=0;if(p.hasOwnProperty(d))m=p[d][1]/f,b=p[d][0]/f;else try{m=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>m&&(v=b,b=m,m=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>b&&(v=b,b=m,m=v)}return{width:b,height:m,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(kT):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(lt.API),lt.API.addJS=function(t){return J$=t,this.internal.events.subscribe("postPutResources",function(){L5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(L5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),X$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+J$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){L5!==void 0&&X$!==void 0&&this.internal.out("/Names <</JavaScript "+L5+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var f=n.internal.newObject();u.push(f);var d=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(lt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var d,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,m={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,e.indexOf(f.charCodeAt(b+1))!==-1){d=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),m={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:d,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return m}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(lt.API),lt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=$ke(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(L){for(var I=L.width,q=L.height,O=L.data,M=L.palette,z=L.depth,$=!1,V=[],X=[],Q=void 0,W=!1,re=0,ce=0;ce<M.length;ce++){var ae=t$(M[ce],4),D=ae[0],K=ae[1],ee=ae[2],se=ae[3];V.push(D,K,ee),se!=null&&(se===0?(re++,X.length<1&&X.push(ce)):se<255&&(W=!0))}if(W||re>1){$=!0,X=void 0;var oe=I*q;Q=new Uint8Array(oe);for(var fe=new DataView(O.buffer),xe=0;xe<oe;xe++){var ue=TT(fe,xe,z),ye=t$(M[ue],4)[3];Q[xe]=ye}}else re===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:O,alphaBytes:Q,needSMask:$,palette:V,mask:X}}(s):l===2||l===4?function(L){for(var I=L.data,q=L.width,O=L.height,M=L.channels,z=L.depth,$=M===2?"DeviceGray":"DeviceRGB",V=M-1,X=q*O,Q=V,W=X*Q,re=1*X,ce=Math.ceil(W*z/8),ae=Math.ceil(re*z/8),D=new Uint8Array(ce),K=new Uint8Array(ae),ee=new DataView(I.buffer),se=new DataView(D.buffer),oe=new DataView(K.buffer),fe=!1,xe=0;xe<X;xe++){for(var ue=xe*M,ye=0;ye<Q;ye++)aB(se,TT(ee,ue+ye,z),xe*Q+ye,z);var _e=TT(ee,ue+Q,z);_e<(1<<z)-1&&(fe=!0),aB(oe,_e,1*xe,z)}return{colorSpace:$,colorsPerPixel:V,sMaskBitsPerComponent:fe?z:void 0,colorBytes:D,alphaBytes:K,needSMask:fe}}(s):function(L){var I=L.data,q=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(O){for(var M=O.length,z=new Uint8Array(2*M),$=new DataView(z.buffer,z.byteOffset,z.byteLength),V=0;V<M;V++)$.setUint16(2*V,O[V],!1);return z}(I):I,needSMask:!1}}(s);var f,d,p,v=i,m=v.colorSpace,b=v.colorsPerPixel,g=v.sMaskBitsPerComponent,w=v.colorBytes,x=v.alphaBytes,S=v.needSMask,A=v.palette,E=v.mask,C=null;return r!==lt.API.image_compression.NONE&&typeof $4=="function"?(C=function(L){var I;switch(L){case lt.API.image_compression.FAST:I=11;break;case lt.API.image_compression.MEDIUM:I=13;break;case lt.API.image_compression.SLOW:I=14;break;default:I=12}return I}(r),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(C," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(a),t=tB(w,Math.ceil(a*b*u/8),b,u,r),S&&(p=tB(x,Math.ceil(a*g/8),1,g,r))):(f=void 0,d=void 0,t=w,S&&(p=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:f,decodeParameters:d,transparency:E,palette:A,sMask:p,predictor:C,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new aCe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new OT(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(lt.API),Ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ko.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Rn.log("bit decode error:"+n)}},Ko.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Ko.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ko.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ko.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Ko.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Ko.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ko.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Ko.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Ko(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new OT(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(lt.API),lB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new lB(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new OT(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(lt.API),lt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],d=r[c+2],p=r[c+3];s[o++]=u,s[o++]=f,s[o++]=d,a[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gm=lt.API,I5=gm.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,d=0,p=t.length,v=0,m=o[0]||l,b=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(d=f&&wn(c[r])==="object"&&!isNaN(parseInt(c[r][v],10))?c[r][v]/u:0,b.push((o[r]||m)/l+d)),v=r;return b},Z$=gm.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return gm.processArabic&&(t=gm.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:I5.apply(this,arguments).reduce(function(s,a){return s+a},0)},Q$=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},eB=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,u=[],f=[u],d=n.textIndent||0,p=0,v=0,m=t.split(" "),b=I5.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),w=[];m.map(function(S){(S=S.split(/\s*\n/)).length>1?w=w.concat(S.map(function(A,E){return(E&&A.length?`
`:"")+A})):w.push(S[0])}),m=w,l=Z$.apply(this,[g,n])}for(s=0,a=m.length;s<a;s++){var x=0;if(r=m[s],l&&r[0]==`
`&&(r=r.substr(1),x=1),d+p+(v=(i=I5.apply(this,[r,n])).reduce(function(S,A){return S+A},0))>e||x){if(v>e){for(o=Q$.apply(this,[r,i,e-(d+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(S,A){return S+A},0)}else u=[r];f.push(u),d=v+l,p=b}else u.push(r),d+=p+v,p=b}return c=l?function(S,A){return(A?g:"")+S.join(" ")}:function(S){return S.join(" ")},f.map(c)},gm.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(eB.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var p,v,m,b,g=["{"];for(var w in d){if(p=d[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=a(w).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof p=="number")p<0?(m=a(p).slice(3),b="-"):(m=a(p).slice(2),b=""),m=b+m.slice(0,-1)+i[m.slice(-1)];else{if(wn(p)!=="object")throw new Error("Don't know what to do with value type "+wn(p)+".");m=o(p)}g.push(v+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,m,b,g={},w=1,x=g,S=[],A="",E="",C=d.length-1,L=1;L<C;L+=1)(b=d[L])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(S.push([x,m]),x={},m=void 0):b=="}"?((v=S.pop())[0][v[1]]=x,m=void 0,x=v[0]):b=="-"?w=-1:m===void 0?r.hasOwnProperty(b)?(A+=r[b],m=parseInt(A,16)*w,w=1,A=""):A+=b:r.hasOwnProperty(b)?(E+=r[b],x[m]=parseInt(E,16)*w,w=1,m=void 0,E=""):E+=b;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var p=d.font,v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var m=u.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(lt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(OA(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(lt),lt.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(wt.canvg?Promise.resolve(wt.canvg):cT(()=>import("./index.es-ChmLlM18.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},lt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,f=0;function d(v,m){var b,g=!1;for(b=0;b<v.length;b+=1)v[b]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(wn(t)==="object"){for(i in t)if(s=t[i],d(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&d(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?m.push("/"+v+" /"+n[v].value):m.push("/"+v+" "+n[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(lt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,d=s.length;f<d;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(s){var a,o,l,c,u,f,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(o=Object.keys(s).sort(function(p,v){return p-v})).length;f<d;f++)a=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",v=0;v<d.length;v++)p+=String.fromCharCode(d[v]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var b=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Tm(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Tm(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Tm(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,d="",p=0;p<f.length;p++)d+=String.fromCharCode(f[p]);var v=c();u({data:d,addLength1:!0,objectId:v}),l("endobj");var m=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Tm(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Tm(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},f=s.mutex||{},d=f.pdfEscape,p=f.activeFontKey,v=f.fonts,m=p,b="",g=0,w="",x=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,m=p,Array.isArray(o)&&(w=o[0]),g=0;g<w.length;g+=1)v[m].metadata.hasOwnProperty("cmap")&&(a=v[m].metadata.cmap.unicode.codeMap[w[g].charCodeAt(0)]),a||w[g].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?b+=w[g]:b+="";var S="";return parseInt(m.slice(1))<14||x==="WinAnsiEncoding"?S=d(b,m).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(S=n(b,v[m])),f.isHex=!0,{text:S,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(lt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(lt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,u,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,x=0;this.__bidiEngine__={};var S=function(O){var M=O.charCodeAt(),z=M>>8,$=m[z];return $!==void 0?f[256*$+(255&M)]:z===252||z===253?"AL":g.test(z)?"L":z===8?"R":"N"},A=function(O){for(var M,z=0;z<O.length;z++){if((M=S(O.charAt(z)))==="L")return!1;if(M==="R")return!0}return!1},E=function(O,M,z,$){var V,X,Q,W,re=M[$];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(re="AN");break;case"AL":w=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":$<1||$+1>=M.length||(V=z[$-1])!=="EN"&&V!=="AN"||(X=M[$+1])!=="EN"&&X!=="AN"?re="N":w&&(X="AN"),re=X===V?X:"N";break;case"ES":re=(V=$>0?z[$-1]:"B")==="EN"&&$+1<M.length&&M[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&z[$-1]==="EN"){re="EN";break}if(w){re="N";break}for(Q=$+1,W=M.length;Q<W&&M[Q]==="ET";)Q++;re=Q<W&&M[Q]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(W=M.length,Q=$+1;Q<W&&M[Q]==="NSM";)Q++;if(Q<W){var ce=O[$],ae=ce>=1425&&ce<=2303||ce===64286;if(V=M[Q],ae&&(V==="R"||V==="AL")){re="R";break}}}re=$<1||(V=M[$-1])==="B"?"N":z[$-1];break;case"B":w=!1,i=!0,re=x;break;case"S":s=!0,re="N"}return re},C=function(O,M,z){var $=O.split("");return z&&L($,z,{hiLevel:x}),$.reverse(),M&&M.reverse(),$.join("")},L=function(O,M,z){var $,V,X,Q,W,re=-1,ce=O.length,ae=0,D=[],K=x?p:d,ee=[];for(w=!1,i=!1,s=!1,V=0;V<ce;V++)ee[V]=S(O[V]);for(X=0;X<ce;X++){if(W=ae,D[X]=E(O,ee,D,X),$=240&(ae=K[W][v[D[X]]]),ae&=15,M[X]=Q=K[ae][5],$>0)if($===16){for(V=re;V<X;V++)M[V]=1;re=-1}else re=-1;if(K[ae][6])re===-1&&(re=X);else if(re>-1){for(V=re;V<X;V++)M[V]=Q;re=-1}ee[X]==="B"&&(M[X]=0),z.hiLevel|=Q}s&&function(se,oe,fe){for(var xe=0;xe<fe;xe++)if(se[xe]==="S"){oe[xe]=x;for(var ue=xe-1;ue>=0&&se[ue]==="WS";ue--)oe[ue]=x}}(ee,M,ce)},I=function(O,M,z,$,V){if(!(V.hiLevel<O)){if(O===1&&x===1&&!i)return M.reverse(),void(z&&z.reverse());for(var X,Q,W,re,ce=M.length,ae=0;ae<ce;){if($[ae]>=O){for(W=ae+1;W<ce&&$[W]>=O;)W++;for(re=ae,Q=W-1;re<Q;re++,Q--)X=M[re],M[re]=M[Q],M[Q]=X,z&&(X=z[re],z[re]=z[Q],z[Q]=X);ae=W}ae++}}},q=function(O,M,z){var $=O.split(""),V={hiLevel:x};return z||(z=[]),L($,z,V),function(X,Q,W){if(W.hiLevel!==0&&u)for(var re,ce=0;ce<X.length;ce++)Q[ce]===1&&(re=b.indexOf(X[ce]))>=0&&(X[ce]=b[re+1])}($,z,V),I(2,$,M,z,V),I(1,$,M,z,V),$.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,z){if(function(V,X){if(X)for(var Q=0;Q<V.length;Q++)X[Q]=Q;o===void 0&&(o=A(V)),c===void 0&&(c=A(V))}(O,M),a||!l||c)if(a&&l&&o^c)x=o?1:0,O=C(O,M,z);else if(!a&&l&&c)x=o?1:0,O=q(O,M,z),O=C(O,M);else if(!a||o||l||c){if(a&&!l&&o^c)O=C(O,M),o?(x=0,O=q(O,M,z)):(x=1,O=q(O,M,z),O=C(O,M));else if(a&&o&&!l&&c)x=1,O=q(O,M,z),O=C(O,M);else if(!a&&!l&&o^c){var $=u;o?(x=1,O=q(O,M,z),x=0,u=!1,O=q(O,M,z),u=$):(x=0,O=q(O,M,z),O=C(O,M),x=1,u=!1,O=q(O,M,z),u=$,O=C(O,M))}}else x=0,O=q(O,M,z);else x=o?1:0,O=q(O,M,z);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,c=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Xf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new xCe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new oCe(this.contents),this.head=new cCe(this),this.name=new pCe(this),this.cmap=new CG(this),this.toUnicode={},this.hhea=new uCe(this),this.maxp=new gCe(this),this.hmtx=new mCe(this),this.post=new fCe(this),this.os2=new hCe(this),this.loca=new wCe(this),this.glyf=new vCe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var kl,Xf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),oCe=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,u,f,d,p,v,m;for(m in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),a=Math.floor(f/l),u=16*p-f,(i=new Xf).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(a),i.writeShort(u),s=16*p,c=i.pos+s,o=null,v=[],n)for(d=n[m],i.writeString(m),i.writeInt(t(d)),i.writeInt(c),i.writeInt(d.length),v=v.concat(d),m==="head"&&(o=c),c+=d.length;c%4;)v.push(0),c++;return i.write(v),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=TG.call(n);n.length%4;)n.push(0);for(s=new Xf(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),lCe={}.hasOwnProperty,Ec=function(t,e){for(var n in e)lCe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};kl=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var cCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Xf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),cB=function(){function t(e,n){var r,i,s,a,o,l,c,u,f,d,p,v,m,b,g,w,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),d=p/2,e.pos+=6,s=function(){var S,A;for(A=[],l=S=0;0<=d?S<d:S>d;l=0<=d?++S:--S)A.push(e.readUInt16());return A}(),e.pos+=2,m=function(){var S,A;for(A=[],l=S=0;0<=d?S<d:S>d;l=0<=d?++S:--S)A.push(e.readUInt16());return A}(),c=function(){var S,A;for(A=[],l=S=0;0<=d?S<d:S>d;l=0<=d?++S:--S)A.push(e.readUInt16());return A}(),u=function(){var S,A;for(A=[],l=S=0;0<=d?S<d:S>d;l=0<=d?++S:--S)A.push(e.readUInt16());return A}(),i=(this.length-e.pos+this.offset)/2,o=function(){var S,A;for(A=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)A.push(e.readUInt16());return A}(),l=g=0,x=s.length;g<x;l=++g)for(b=s[l],r=w=v=m[l];v<=b?w<=b:w>=b;r=v<=b?++w:--w)u[l]===0?a=r+c[l]:(a=o[u[l]/2+(r-v)-(d-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=f}return t.encode=function(e,n){var r,i,s,a,o,l,c,u,f,d,p,v,m,b,g,w,x,S,A,E,C,L,I,q,O,M,z,$,V,X,Q,W,re,ce,ae,D,K,ee,se,oe,fe,xe,ue,ye,_e,me;switch($=new Xf,a=Object.keys(e).sort(function(Ie,De){return Ie-De}),n){case"macroman":for(m=0,b=function(){var Ie=[];for(v=0;v<256;++v)Ie.push(0);return Ie}(),w={0:0},s={},V=0,re=a.length;V<re;V++)w[ue=e[i=a[V]]]==null&&(w[ue]=++m),s[i]={old:e[i],new:w[e[i]]},b[i]=w[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(b),{charMap:s,subtable:$.data,maxGlyphID:m+1};case"unicode":for(M=[],f=[],x=0,w={},r={},g=c=null,X=0,ce=a.length;X<ce;X++)w[A=e[i=a[X]]]==null&&(w[A]=++x),r[i]={old:A,new:w[A]},o=w[A]-i,g!=null&&o===c||(g&&f.push(g),M.push(i),c=o),g=i;for(g&&f.push(g),f.push(65535),M.push(65535),q=2*(I=M.length),L=2*Math.pow(Math.log(I)/Math.LN2,2),d=Math.log(L/2)/Math.LN2,C=2*I-L,l=[],E=[],p=[],v=Q=0,ae=M.length;Q<ae;v=++Q){if(O=M[v],u=f[v],O===65535){l.push(0),E.push(0);break}if(O-(z=r[O].new)>=32768)for(l.push(0),E.push(2*(p.length+I-v)),i=W=O;O<=u?W<=u:W>=u;i=O<=u?++W:--W)p.push(r[i].new);else l.push(z-O),E.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*I+2*p.length),$.writeUInt16(0),$.writeUInt16(q),$.writeUInt16(L),$.writeUInt16(d),$.writeUInt16(C),fe=0,D=f.length;fe<D;fe++)i=f[fe],$.writeUInt16(i);for($.writeUInt16(0),xe=0,K=M.length;xe<K;xe++)i=M[xe],$.writeUInt16(i);for(ye=0,ee=l.length;ye<ee;ye++)o=l[ye],$.writeUInt16(o);for(_e=0,se=E.length;_e<se;_e++)S=E[_e],$.writeUInt16(S);for(me=0,oe=p.length;me<oe;me++)m=p[me],$.writeUInt16(m);return{charMap:r,subtable:$.data,maxGlyphID:x+1}}},t}(),CG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new cB(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=cB.encode(e,n),(i=new Xf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),uCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),hCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),fCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),dCe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,l,c,u,f,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=u=0,f=r.length;u<f;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),a=new dCe(c,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),gCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),mCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,d;for(d=[],c=0,u=(f=this.metrics).length;c<u;c++)s=f[c],d.push(s.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),TG=[].slice,vCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,l,c,u,f;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new Xf(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=a===-1?new bCe(o,c,f,l,u):new yCe(o,a,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t}(),yCe=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),bCe=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Xf(TG.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),wCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,kl),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),xCe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,u,f,d,p,v,m,b,g;for(i in r=CG.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},g=r.charMap)p[(l=g[i]).old]=l.new;for(v in d=r.maxGlyphID,a)v in p||(p[v]=d++);return u=function(w){var x,S;for(x in S={},w)S[w[x]]=x;return S}(p),f=Object.keys(u).sort(function(w,x){return w-x}),m=function(){var w,x,S;for(S=[],w=0,x=f.length;w<x;w++)o=f[w],S.push(u[o]);return S}(),s=this.font.glyf.encode(a,m,p),c=this.font.loca.encode(s.offsets,m),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();lt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const qe={width:210,height:297,marginLeft:25,marginRight:25,marginTop:20},fR=qe.width-qe.marginLeft-qe.marginRight,nt={navy:[15,30,60],blue:[37,99,235],darkGray:[50,50,50],mediumGray:[120,120,120],lightGray:[200,200,200],bgGray:[245,247,250],white:[255,255,255],green:[16,150,80],red:[200,50,50],amber:[200,130,20]};function G4(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function dR(t=new Date){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function _Ce(){const t=new Date().getFullYear(),e=Math.random().toString(36).substring(2,8).toUpperCase();return`GF-${t}-${e}`}function ACe(t){return t<=25?{label:"Low",color:nt.green}:t<=50?{label:"Moderate",color:nt.amber}:t<=75?{label:"Elevated",color:nt.amber}:{label:"High",color:nt.red}}function SCe(t,e){let n=qe.marginTop;t.setFillColor(...nt.navy),t.rect(0,0,qe.width,8,"F"),t.setFont("helvetica","bold"),t.setFontSize(22),t.setTextColor(...nt.navy),t.text("GRANTFLOW",qe.marginLeft,n+14),t.setFont("helvetica","normal"),t.setFontSize(10),t.setTextColor(...nt.mediumGray),t.text("Tax Credit Advisory Services",qe.marginLeft,n+21);const r=55,i=22,s=qe.width-qe.marginRight-r,a=n+4;return t.setFillColor(nt.bgGray[0],nt.bgGray[1],nt.bgGray[2]),t.setDrawColor(nt.lightGray[0],nt.lightGray[1],nt.lightGray[2]),t.setLineWidth(.3),t.roundedRect(s,a,r,i,2,2,"FD"),t.setFont("helvetica","normal"),t.setFontSize(8),t.setTextColor(...nt.mediumGray),t.text("Case ID:",s+4,a+7),t.text("Date:",s+4,a+15),t.setFont("helvetica","bold"),t.setFontSize(8),t.setTextColor(...nt.darkGray),t.text(e,s+22,a+7),t.text(dR(),s+22,a+15),n=n+32,t.setDrawColor(...nt.navy),t.setLineWidth(.8),t.line(qe.marginLeft,n,qe.width-qe.marginRight,n),n+8}function ECe(t,e,n){return t.setFont("helvetica","bold"),t.setFontSize(16),t.setTextColor(...nt.navy),t.text(n,qe.marginLeft,e),t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor(...nt.mediumGray),t.text("Preliminary Eligibility Assessment",qe.marginLeft,e+6),e+16}function PCe(t,e,n){var s;t.setFont("helvetica","bold"),t.setFontSize(10),t.setTextColor(...nt.navy),t.text("CLIENT INFORMATION",qe.marginLeft,e),e+=3,t.setDrawColor(...nt.lightGray),t.setLineWidth(.3),t.line(qe.marginLeft,e,qe.marginLeft+45,e),e+=8;const r=qe.marginLeft,i=qe.marginLeft+85;return t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor(...nt.mediumGray),t.text("Company Name",r,e),t.text("EIN",r,e+12),t.text("Industry",i,e),t.text("Fiscal Year",i,e+12),t.setFont("helvetica","bold"),t.setFontSize(9),t.setTextColor(...nt.darkGray),t.text(n.company||"",r,e+5),t.text(n.ein||"Not Provided",r,e+17),t.text(n.industry||"Technology",i,e+5),t.text(((s=n.fiscal_year)==null?void 0:s.toString())||new Date().getFullYear().toString(),i,e+17),e+28}function kCe(t,e,n){t.setFillColor(...nt.bgGray),t.setDrawColor(...nt.lightGray),t.setLineWidth(.3),t.roundedRect(qe.marginLeft,e,fR,50,3,3,"FD"),t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor(...nt.mediumGray),t.text("TOTAL ESTIMATED TAX CREDIT",qe.marginLeft+10,e+14),t.setFont("helvetica","bold"),t.setFontSize(32),t.setTextColor(...nt.navy),t.text(G4(n.value),qe.marginLeft+10,e+36);const i=qe.width-qe.marginRight-50,s=e+8,a=40,o=34,{label:l,color:c}=ACe(n.risk_score);return t.setFillColor(...nt.white),t.setDrawColor(...nt.lightGray),t.roundedRect(i,s,a,o,2,2,"FD"),t.setFont("helvetica","normal"),t.setFontSize(7),t.setTextColor(...nt.mediumGray),t.text("RISK SCORE",i+a/2,s+8,{align:"center"}),t.setFont("helvetica","bold"),t.setFontSize(18),t.setTextColor(c[0],c[1],c[2]),t.text(n.risk_score.toString(),i+a/2,s+21,{align:"center"}),t.setFontSize(8),t.text(l,i+a/2,s+29,{align:"center"}),e+50+12}function NT(t,e){return t.setDrawColor(...nt.lightGray),t.setLineWidth(.3),t.line(qe.marginLeft,e,qe.width-qe.marginRight,e),e+8}function CCe(t,e,n){t.setFont("helvetica","bold"),t.setFontSize(10),t.setTextColor(...nt.navy),t.text("CREDIT BREAKDOWN",qe.marginLeft,e),e+=3,t.setDrawColor(...nt.lightGray),t.setLineWidth(.3),t.line(qe.marginLeft,e,qe.marginLeft+42,e),e+=10;const r=[{name:"Research & Development Credit (IRC 41)",eligible:n.is_rd_eligible??!1,value:n.rd_credit_value??0,code:"Form 6765"},{name:"Training & Education Assistance (IRC 127)",eligible:n.is_training_eligible??!1,value:n.training_credit_value??0,code:"Form W-2"},{name:"Energy Efficient Commercial Property (179D)",eligible:n.is_green_eligible??!1,value:n.green_energy_value??0,code:"Form 7205"},{name:"Employee Retention Credit (IRC 3134)",eligible:n.is_erc_eligible??!1,value:n.erc_value??0,code:"Form 941-X"}],i=14;return t.setFontSize(9),r.forEach((s,a)=>{const o=e+a*i,l=s.eligible&&s.value>0;a%2===0&&(t.setFillColor(250,250,252),t.rect(qe.marginLeft,o-4,fR,i-1,"F")),l?(t.setFillColor(...nt.green),t.circle(qe.marginLeft+4,o+1,2,"F")):(t.setDrawColor(...nt.lightGray),t.setLineWidth(.5),t.circle(qe.marginLeft+4,o+1,2,"S")),t.setFont("helvetica","normal");const c=l?nt.darkGray:nt.lightGray;t.setTextColor(c[0],c[1],c[2]),t.text(s.name,qe.marginLeft+10,o+1);const u=l?G4(s.value):"";t.setFont("helvetica","bold");const f=l?nt.navy:nt.lightGray;if(t.setTextColor(f[0],f[1],f[2]),t.text(u,qe.width-qe.marginRight,o+1,{align:"right"}),l){t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor(...nt.lightGray);const d=t.getTextWidth(s.name),p=t.getTextWidth(u),v=qe.marginLeft+10+d+2,m=qe.width-qe.marginRight-p-2,b=2;for(let g=v;g<m;g+=b)t.text(".",g,o+1)}t.setFont("helvetica","normal"),t.setFontSize(7),t.setTextColor(...nt.mediumGray),t.text(s.code,qe.marginLeft+10,o+6)}),e+=r.length*i+4,t.setDrawColor(...nt.navy),t.setLineWidth(.5),t.line(qe.marginLeft,e,qe.width-qe.marginRight,e),e+=8,t.setFont("helvetica","bold"),t.setFontSize(11),t.setTextColor(...nt.navy),t.text("TOTAL ESTIMATED CREDITS",qe.marginLeft,e),t.text(G4(n.value),qe.width-qe.marginRight,e,{align:"right"}),e+12}function TCe(t,e,n){t.setFont("helvetica","bold"),t.setFontSize(10),t.setTextColor(...nt.navy),t.text("ELIGIBILITY SUMMARY",qe.marginLeft,e),e+=3,t.setDrawColor(...nt.lightGray),t.setLineWidth(.3),t.line(qe.marginLeft,e,qe.marginLeft+48,e),e+=10;const r=[{code:"IRC 41",name:"R&D Credit",eligible:n.is_rd_eligible},{code:"IRC 127",name:"Training",eligible:n.is_training_eligible},{code:"179D",name:"Energy",eligible:n.is_green_eligible},{code:"ERC",name:"Retention",eligible:n.is_erc_eligible}],i=(fR-15)/4,s=28;return r.forEach((a,o)=>{const l=qe.marginLeft+o*(i+5),c=a.eligible??!1;t.setFillColor(c?235:250,c?245:250,c?255:252);const u=c?nt.blue:nt.lightGray;t.setDrawColor(u[0],u[1],u[2]),t.setLineWidth(c?.5:.3),t.roundedRect(l,e,i,s,2,2,"FD"),t.setFont("helvetica","bold"),t.setFontSize(8);const f=c?nt.blue:nt.mediumGray;t.setTextColor(f[0],f[1],f[2]),t.text(a.code,l+i/2,e+9,{align:"center"}),t.setFont("helvetica","normal"),t.setFontSize(7),t.setTextColor(...nt.darkGray),t.text(a.name,l+i/2,e+16,{align:"center"}),t.setFont("helvetica","bold"),t.setFontSize(7);const d=c?nt.green:nt.lightGray;t.setTextColor(d[0],d[1],d[2]),t.text(c?" Eligible":" N/A",l+i/2,e+23,{align:"center"})}),e+s+12}function OCe(t,e,n){var o;t.setFont("helvetica","bold"),t.setFontSize(10),t.setTextColor(...nt.navy),t.text("ANALYSIS DETAILS",qe.marginLeft,e),e+=3,t.setDrawColor(...nt.lightGray),t.setLineWidth(.3),t.line(qe.marginLeft,e,qe.marginLeft+42,e),e+=10;const r=qe.marginLeft,i=qe.marginLeft+55,s=qe.marginLeft+110,a=[{label:"Confidence Score",value:`${n.confidence_score??85}%`,x:r},{label:"Employee Count",value:((o=n.employee_count)==null?void 0:o.toString())??"",x:i},{label:"Analysis Date",value:dR(n.analyzed_at),x:s}];return t.setFontSize(8),a.forEach(l=>{t.setFont("helvetica","normal"),t.setTextColor(...nt.mediumGray),t.text(l.label,l.x,e),t.setFont("helvetica","bold"),t.setTextColor(...nt.darkGray),t.text(l.value,l.x,e+5)}),e+16}function NCe(t,e,n){const s=qe.width-qe.marginRight-55;return t.setDrawColor(...nt.blue),t.setLineWidth(1.5),t.roundedRect(s,e,55,32,2,2,"S"),t.setLineWidth(.3),t.roundedRect(s+2,e+2,51,28,1,1,"S"),t.setFont("helvetica","bold"),t.setFontSize(9),t.setTextColor(...nt.blue),t.text("VERIFIED",s+55/2,e+12,{align:"center"}),t.setFont("helvetica","normal"),t.setFontSize(6),t.setTextColor(...nt.mediumGray),t.text("GrantFlow Engine v4.2",s+55/2,e+18,{align:"center"}),t.text(dR(),s+55/2,e+23,{align:"center"}),n&&(t.setFontSize(5),t.text(`By: ${n}`,s+55/2,e+28,{align:"center"})),e+32+8}function LCe(t,e){t.saveGraphicsState(),t.setTextColor(230,230,230),t.setFontSize(50),t.setFont("helvetica","bold"),t.GState&&t.setGState(new t.GState({opacity:.12})),t.text(e,qe.width/2,qe.height/2,{angle:-45,align:"center"}),t.restoreGraphicsState()}function ICe(t){t.setDrawColor(...nt.lightGray),t.setLineWidth(.3),t.line(qe.marginLeft,275,qe.width-qe.marginRight,275),t.setFont("helvetica","normal"),t.setFontSize(6.5),t.setTextColor(...nt.mediumGray),["DISCLAIMER: This report is for informational purposes only and does not constitute tax, legal, or financial advice. Credit estimates are preliminary","and based on IRC Section 41 (R&D), Section 179D (Energy Efficiency), Section 127 (Education), and Section 3134 (ERC). Actual credit amounts","are subject to IRS review and may vary. Consult a qualified tax professional before claiming any credits.  "+new Date().getFullYear()+" GrantFlow Systems, Inc."].forEach((r,i)=>{t.text(r,qe.width/2,280+i*3.5,{align:"center"})}),t.setFontSize(7),t.text("Page 1 of 1",qe.width-qe.marginRight,qe.height-10,{align:"right"}),t.text(`Generated: ${new Date().toLocaleString()}`,qe.marginLeft,qe.height-10)}function RCe(t,e={}){const{preparedBy:n,reportTitle:r="ELIGIBILITY CERTIFICATE",caseId:i=_Ce(),showWatermark:s=!0,watermarkText:a="CONFIDENTIAL"}=e,o=new lt({orientation:"portrait",unit:"mm",format:"a4"});s&&LCe(o,a);let l=SCe(o,i);return l=ECe(o,l,r),l=PCe(o,l,t),l=NT(o,l),l=kCe(o,l,t),l=CCe(o,l,t),l=NT(o,l),l=TCe(o,l,t),l=NT(o,l),l=OCe(o,l,t),NCe(o,l-20,n),ICe(o),o}function MCe(t,e="grantflow-audit-report.pdf",n={}){RCe(t,n).save(e)}const jCe=()=>{const[t,e]=Ae.useState(!1);return N.jsx("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-40",children:N.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"flex items-center justify-between h-16",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-sm",children:N.jsx(zx,{className:"w-6 h-6 text-white"})}),N.jsxs("div",{children:[N.jsx("span",{className:"text-xl font-bold text-gray-900",children:"GrantFlow"}),N.jsx("span",{className:"text-xs text-gray-500 block -mt-1",children:"Tax Credit Solutions"})]})]}),N.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[N.jsx("a",{href:"#how-it-works",className:"text-gray-600 hover:text-blue-600 text-sm font-medium transition-colors",children:"How It Works"}),N.jsx("a",{href:"#programs",className:"text-gray-600 hover:text-blue-600 text-sm font-medium transition-colors",children:"Programs"}),N.jsx("a",{href:"#faq",className:"text-gray-600 hover:text-blue-600 text-sm font-medium transition-colors",children:"FAQ"})]}),N.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[N.jsx("button",{className:"text-gray-600 hover:text-gray-900 text-sm font-medium px-4 py-2 transition-colors",children:"Sign In"}),N.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-5 py-2.5 rounded-lg transition-colors shadow-sm",children:"Get Started"})]}),N.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>e(!t),children:N.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})})},LT=({icon:t,text:e})=>N.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[N.jsx("span",{className:"text-blue-600",children:t}),N.jsx("span",{className:"text-sm font-medium",children:e})]}),IT=({value:t,label:e,icon:n})=>N.jsxs("div",{className:"text-center px-6 py-4",children:[N.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[N.jsx("span",{className:"text-blue-600",children:n}),N.jsx("span",{className:"text-3xl font-bold text-gray-900",children:t})]}),N.jsx("span",{className:"text-sm text-gray-500",children:e})]}),RT=({step:t,label:e,active:n,complete:r})=>N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${r?"bg-green-500 text-white":n?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:r?N.jsx(G5,{className:"w-4 h-4"}):t}),N.jsx("span",{className:`text-sm font-medium ${n||r?"text-gray-900":"text-gray-400"}`,children:e})]}),DCe=({onFileSelect:t,uploadState:e,scanProgress:n,dragActive:r,setDragActive:i})=>{const s=Ae.useRef(null),a=Ae.useCallback(c=>{c.preventDefault(),c.stopPropagation(),c.type==="dragenter"||c.type==="dragover"?i(!0):c.type==="dragleave"&&i(!1)},[i]),o=Ae.useCallback(c=>{var u;c.preventDefault(),c.stopPropagation(),i(!1),(u=c.dataTransfer.files)!=null&&u[0]&&t(c.dataTransfer.files[0])},[t,i]),l=c=>{var u;(u=c.target.files)!=null&&u[0]&&t(c.target.files[0])};return e==="scanning"?N.jsxs("div",{className:"bg-white rounded-2xl border-2 border-blue-200 p-8 md:p-12 text-center",children:[N.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-blue-50 flex items-center justify-center",children:N.jsx(F1,{className:"w-10 h-10 text-blue-600 animate-spin"})}),N.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analyzing Your Documents..."}),N.jsx("p",{className:"text-gray-500 mb-6",children:"Our AI is scanning for qualifying expenses"}),N.jsxs("div",{className:"max-w-md mx-auto",children:[N.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[N.jsx("span",{children:"Scanning"}),N.jsxs("span",{children:[Math.round(n),"%"]})]}),N.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:N.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-300",style:{width:`${n}%`}})}),N.jsxs("div",{className:"mt-6 space-y-3",children:[N.jsxs("div",{className:`flex items-center gap-3 ${n>=30?"text-green-600":"text-gray-400"}`,children:[n>=30?N.jsx(G5,{className:"w-4 h-4"}):N.jsx(F1,{className:"w-4 h-4 animate-spin"}),N.jsx("span",{className:"text-sm",children:"Document parsing complete"})]}),N.jsxs("div",{className:`flex items-center gap-3 ${n>=60?"text-green-600":n>=30?"text-blue-600":"text-gray-400"}`,children:[n>=60?N.jsx(G5,{className:"w-4 h-4"}):n>=30?N.jsx(F1,{className:"w-4 h-4 animate-spin"}):N.jsx("div",{className:"w-4 h-4"}),N.jsx("span",{className:"text-sm",children:"Identifying qualifying activities"})]}),N.jsxs("div",{className:`flex items-center gap-3 ${n>=100?"text-green-600":n>=60?"text-blue-600":"text-gray-400"}`,children:[n>=100?N.jsx(G5,{className:"w-4 h-4"}):n>=60?N.jsx(F1,{className:"w-4 h-4 animate-spin"}):N.jsx("div",{className:"w-4 h-4"}),N.jsx("span",{className:"text-sm",children:"Calculating potential credits"})]})]})]})]}):N.jsxs("div",{className:`bg-white rounded-2xl border-2 border-dashed p-8 md:p-12 text-center cursor-pointer transition-all duration-200 ${r?"border-blue-500 bg-blue-50 scale-[1.02]":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,onDragEnter:a,onDragLeave:a,onDragOver:a,onDrop:o,onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},children:[N.jsx("input",{ref:s,type:"file",className:"hidden",accept:".txt,.csv,.pdf,.doc,.docx,.xls,.xlsx",onChange:l}),N.jsx("div",{className:`w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center transition-colors ${r?"bg-blue-100":"bg-gray-100"}`,children:N.jsx(_b,{className:`w-10 h-10 ${r?"text-blue-600":"text-gray-400"}`})}),N.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r?"Drop your file here":"Drop your file here or click to browse"}),N.jsx("p",{className:"text-gray-500 mb-4",children:"Upload financial documents, payroll records, or expense reports"}),N.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-sm text-gray-400",children:[N.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:".txt"}),N.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:".csv"}),N.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:".pdf"})]}),N.jsxs("p",{className:"text-xs text-gray-400 mt-4",children:[N.jsx(nH,{className:"w-3 h-3 inline mr-1"}),"256-bit SSL encrypted  Your data is secure"]})]})},FCe=({result:t,fileName:e,onReset:n,onConnect:r})=>N.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden",children:[N.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-8 text-center text-white",children:[N.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/20 flex items-center justify-center",children:N.jsx(Qq,{className:"w-10 h-10"})}),N.jsx("h3",{className:"text-2xl font-bold mb-1",children:"Potential Credit Identified!"}),N.jsx("p",{className:"text-green-100",children:"Based on our preliminary analysis"})]}),N.jsxs("div",{className:"px-6 py-8 text-center border-b border-gray-100",children:[N.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wide mb-2",children:"Estimated Total Value"}),N.jsx("p",{className:"text-5xl font-bold text-gray-900 mb-2",children:zu(t.totalEstimatedValue)}),N.jsxs("p",{className:"text-sm text-gray-500",children:["Confidence: ",Math.round(t.confidence*100),"%"]})]}),N.jsxs("div",{className:"px-6 py-6 space-y-4",children:[N.jsx("h4",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Credit Breakdown"}),t.isRdEligible&&N.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:N.jsx(VI,{className:"w-5 h-5 text-blue-600"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-gray-900",children:"R&D Tax Credit"}),N.jsx("p",{className:"text-sm text-gray-500",children:"IRC Section 41"})]})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("p",{className:"font-semibold text-gray-900",children:zu(t.rdCreditValue)}),N.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full",children:"Eligible"})]})]}),t.isTrainingEligible&&N.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center",children:N.jsx(WI,{className:"w-5 h-5 text-purple-600"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-gray-900",children:"Training Credit"}),N.jsx("p",{className:"text-sm text-gray-500",children:"Education Assistance"})]})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("p",{className:"font-semibold text-gray-900",children:zu(t.trainingCreditValue)}),N.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full",children:"Eligible"})]})]}),t.isGreenEligible&&N.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:N.jsx(JP,{className:"w-5 h-5 text-green-600"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-gray-900",children:"Energy Efficiency"}),N.jsx("p",{className:"text-sm text-gray-500",children:"Section 179D"})]})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("p",{className:"font-semibold text-gray-900",children:zu(t.greenEnergyValue)}),N.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full",children:"Eligible"})]})]})]}),N.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[N.jsx(dxe,{className:"w-4 h-4"}),N.jsx("span",{className:"truncate max-w-[200px]",children:e})]}),N.jsx("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Scan Another File"})]}),N.jsxs("div",{className:"px-6 py-6 bg-gray-50 border-t border-gray-100",children:[N.jsxs("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-xl transition-colors shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2",children:[N.jsx(rH,{className:"w-5 h-5"}),"Connect with a Tax Expert",N.jsx(Xq,{className:"w-5 h-5"})]}),N.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"Free consultation  No obligation"})]})]}),$Ce=({onReset:t})=>N.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg p-8 text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:N.jsx(oxe,{className:"w-8 h-8 text-gray-400"})}),N.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Credits Detected"}),N.jsx("p",{className:"text-gray-500 mb-6",children:"Try uploading different financial records."}),N.jsx("button",{onClick:t,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg",children:"Try Another Document"})]}),BCe=({error:t,onReset:e})=>N.jsxs("div",{className:"bg-white rounded-2xl border border-red-200 shadow-lg p-8 text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 flex items-center justify-center",children:N.jsx(axe,{className:"w-8 h-8 text-red-500"})}),N.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something Went Wrong"}),N.jsx("p",{className:"text-gray-500 mb-6",children:t}),N.jsx("button",{onClick:e,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg",children:"Try Again"})]}),UCe=()=>{const t=[{step:1,title:"Upload Documents",description:"Securely upload your financial records.",icon:N.jsx(_b,{className:"w-6 h-6"})},{step:2,title:"AI Analysis",description:"Our AI scans for qualifying activities.",icon:N.jsx(VI,{className:"w-6 h-6"})},{step:3,title:"Expert Review",description:"A certified professional reviews your case.",icon:N.jsx(aH,{className:"w-6 h-6"})},{step:4,title:"Claim Credits",description:"File with confidence and receive credits.",icon:N.jsx(zx,{className:"w-6 h-6"})}];return N.jsx("section",{id:"how-it-works",className:"py-20 bg-gray-50",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"text-center mb-12",children:[N.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),N.jsx("p",{className:"text-lg text-gray-600",children:"Simple and streamlined process"})]}),N.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:t.map(e=>N.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[N.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 text-white flex items-center justify-center mb-4",children:e.icon}),N.jsxs("span",{className:"text-xs font-semibold text-blue-600 uppercase",children:["Step ",e.step]}),N.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1 mb-2",children:e.title}),N.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]},e.step))})]})})},zCe=()=>{const t=[{title:"R&D Tax Credit",code:"IRC 41",value:"Up to $250,000/year",icon:N.jsx(VI,{className:"w-6 h-6"}),color:"blue"},{title:"Employee Retention",code:"ERC",value:"Up to $26,000/employee",icon:N.jsx(aH,{className:"w-6 h-6"}),color:"purple"},{title:"Energy Efficiency",code:"179D",value:"Up to $5/sq ft",icon:N.jsx(JP,{className:"w-6 h-6"}),color:"green"},{title:"Work Opportunity",code:"WOTC",value:"Up to $9,600/employee",icon:N.jsx(WI,{className:"w-6 h-6"}),color:"amber"}],e={blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",green:"bg-green-100 text-green-600",amber:"bg-amber-100 text-amber-600"};return N.jsx("section",{id:"programs",className:"py-20 bg-white",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"text-center mb-12",children:[N.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Tax Credit Programs"}),N.jsx("p",{className:"text-lg text-gray-600",children:"Multiple federal and state programs"})]}),N.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.map(n=>N.jsx("div",{className:"rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:`w-12 h-12 rounded-lg ${e[n.color]} flex items-center justify-center`,children:n.icon}),N.jsxs("div",{children:[N.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[n.title," ",N.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 rounded-full",children:n.code})]}),N.jsx("p",{className:`text-sm font-semibold mt-2 ${e[n.color].split(" ")[1]}`,children:n.value})]})]})},n.code))})]})})},qCe=()=>{const t=[{quote:"GrantFlow helped us identify $127,000 in R&D credits we didn't know we qualified for.",author:"Sarah Chen",title:"CFO, TechStart Inc.",avatar:"SC"},{quote:"Their team found legitimate credits that our accountant had missed for years.",author:"Michael Rodriguez",title:"Owner, Rodriguez Mfg",avatar:"MR"},{quote:"Professional, thorough, and they deliver on their promises.",author:"Jennifer Walsh",title:"CEO, GreenBuild",avatar:"JW"}];return N.jsx("section",{className:"py-20 bg-blue-600",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsx("div",{className:"text-center mb-12",children:N.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Trusted by Growing Businesses"})}),N.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((e,n)=>N.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[N.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((r,i)=>N.jsx(iH,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"},i))}),N.jsxs("p",{className:"text-gray-600 mb-6 italic",children:['"',e.quote,'"']}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-semibold",children:e.avatar}),N.jsxs("div",{children:[N.jsx("p",{className:"font-semibold text-gray-900",children:e.author}),N.jsx("p",{className:"text-sm text-gray-500",children:e.title})]})]})]},n))})]})})},HCe=()=>{const[t,e]=Ae.useState(0),n=[{question:"What documents do I need?",answer:"Financial statements, payroll records, or expense reports."},{question:"Is my data secure?",answer:"We use 256-bit SSL encryption and SOC 2 compliance."},{question:"How accurate is the estimate?",answer:"Our AI provides preliminary estimates; a tax professional will give final assessment."},{question:"What if I've already filed?",answer:"Many credits can be claimed retroactively via amended returns."},{question:"How much does it cost?",answer:"The scan is free. Full-service fees are only a percentage of credits we find."}];return N.jsx("section",{id:"faq",className:"py-20 bg-gray-50",children:N.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[N.jsx("div",{className:"text-center mb-12",children:N.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"})}),N.jsx("div",{className:"space-y-4",children:n.map((r,i)=>N.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[N.jsxs("button",{className:"w-full px-6 py-4 flex items-center justify-between text-left",onClick:()=>e(t===i?null:i),children:[N.jsx("span",{className:"font-semibold text-gray-900",children:r.question}),N.jsx(Zq,{className:`w-5 h-5 text-gray-400 transition-transform ${t===i?"rotate-90":""}`})]}),t===i&&N.jsx("div",{className:"px-6 pb-4",children:N.jsx("p",{className:"text-gray-600",children:r.answer})})]},i))})]})})},WCe=()=>N.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:N.jsx(zx,{className:"w-6 h-6 text-white"})}),N.jsx("span",{className:"text-xl font-bold text-white",children:"GrantFlow"})]}),N.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(rH,{className:"w-4 h-4"}),"1-800-GRANTS"]}),N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(mxe,{className:"w-4 h-4"}),"hello@grantflow.com"]}),N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(Jq,{className:"w-4 h-4"}),"San Francisco, CA"]})]})]}),N.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm",children:" 2024 GrantFlow. All rights reserved."})]})}),VCe=()=>{const[t,e]=Ae.useState("idle"),[n,r]=Ae.useState(0),[i,s]=Ae.useState(null),[a,o]=Ae.useState(""),[l,c]=Ae.useState(!1),[u,f]=Ae.useState(""),d=Ae.useCallback(async m=>{o(m.name),e("scanning"),r(0),f("");try{let b;m.type==="application/pdf"||m.name.toLowerCase().endsWith(".pdf")?b=await DV(m):b=await m.text();const g=setInterval(()=>{r(S=>S>=100?100:S+Math.random()*15+5)},300);await new Promise(S=>setTimeout(S,3e3)),clearInterval(g),r(100);const w=oH(b),x={isRdEligible:w.isRdEligible,isTrainingEligible:w.isTrainingEligible,isGreenEligible:w.isGreenEligible,totalEstimatedValue:w.financialSummary.totalEstimatedValue,rdCreditValue:w.financialSummary.rdCreditValue,trainingCreditValue:w.financialSummary.trainingCreditValue,greenEnergyValue:w.financialSummary.greenEnergyValue,matchCount:w.processingDetails.totalMatchesFound,confidence:w.processingDetails.confidenceScore};await B1.from("deals").insert([{company:`LEAD-${m.name.slice(0,20)}`,value:x.totalEstimatedValue,status:"NEW_LEAD",packet_id:w.analysisId,risk_score:x.confidence*100,anomaly_count:w.riskIndicators.length}]),await new Promise(S=>setTimeout(S,500)),s(x),e(x.totalEstimatedValue>0?"success":"no_results")}catch(b){console.error("Scan error:",b),f("Unable to process file."),e("error")}},[]),p=Ae.useCallback(()=>{e("idle"),r(0),s(null),o(""),f("")},[]),v=Ae.useCallback(()=>{alert("Connecting with a tax expert... (This would open a booking modal)")},[]);return N.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[N.jsx(jCe,{}),N.jsx("section",{className:"bg-gradient-to-b from-white to-gray-50 pt-12 pb-20",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-12",children:[N.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mb-8",children:[N.jsx(LT,{icon:N.jsx(Pw,{className:"w-4 h-4"}),text:"IRS Compliant"}),N.jsx(LT,{icon:N.jsx(nH,{className:"w-4 h-4"}),text:"256-bit Encrypted"}),N.jsx(LT,{icon:N.jsx(WI,{className:"w-4 h-4"}),text:"CPA Certified"})]}),N.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Check Your Grant Eligibility",N.jsx("br",{}),N.jsx("span",{className:"text-blue-600",children:"in 30 Seconds"})]}),N.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Upload your financial documents and our AI will instantly identify tax credits you may be missing."}),N.jsxs("div",{className:"flex flex-wrap justify-center divide-x divide-gray-200 mb-12",children:[N.jsx(IT,{value:"$847M+",label:"Credits Identified",icon:N.jsx(zx,{className:"w-5 h-5"})}),N.jsx(IT,{value:"12,000+",label:"Businesses Helped",icon:N.jsx(Jq,{className:"w-5 h-5"})}),N.jsx(IT,{value:"99.8%",label:"Satisfaction",icon:N.jsx(iH,{className:"w-5 h-5"})})]})]}),N.jsxs("div",{className:"max-w-2xl mx-auto",children:[(t==="idle"||t==="scanning")&&N.jsx(DCe,{onFileSelect:d,uploadState:t,scanProgress:n,dragActive:l,setDragActive:c}),t==="success"&&i&&N.jsx(FCe,{result:i,fileName:a,onReset:p,onConnect:v}),t==="no_results"&&N.jsx($Ce,{onReset:p}),t==="error"&&N.jsx(BCe,{error:u,onReset:p})]}),t==="idle"&&N.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8",children:[N.jsx(RT,{step:1,label:"Upload",active:!0,complete:!1}),N.jsx("div",{className:"w-8 h-0.5 bg-gray-200"}),N.jsx(RT,{step:2,label:"Scan",active:!1,complete:!1}),N.jsx("div",{className:"w-8 h-0.5 bg-gray-200"}),N.jsx(RT,{step:3,label:"Results",active:!1,complete:!1})]})]})}),N.jsx(UCe,{}),N.jsx(zCe,{}),N.jsx(qCe,{}),N.jsx(HCe,{}),N.jsx("section",{className:"py-20 bg-white",children:N.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[N.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Claim Your Credits?"}),N.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Join thousands of businesses who discovered money they didn't know they had."}),N.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-8 rounded-xl inline-flex items-center gap-2",children:["Start Your Free Scan",N.jsx(Xq,{className:"w-5 h-5"})]})]})}),N.jsx(WCe,{})]})},Bd=t=>t>=1e6?`$${(t/1e6).toFixed(2)}M`:t>=1e3?`$${(t/1e3).toFixed(1)}K`:`$${t.toFixed(0)}`;function PE(t,e){const n=pe.useRef(t);pe.useEffect(()=>{n.current=t},[t]),pe.useEffect(()=>{if(e===null)return;const r=setInterval(()=>n.current(),e);return()=>clearInterval(r)},[e])}const GCe=()=>{const[t,e]=Ae.useState(new Date),[n,r]=Ae.useState(67),[i,s]=Ae.useState(840),[a,o]=Ae.useState(-2.1);return PE(()=>{e(new Date),r(65+Math.random()*15)},1e3),PE(()=>{const l=(Math.random()-.5)*10;s(c=>Math.max(835,Math.min(850,c+l))),o((Math.random()-.5)*5)},2500),N.jsx("header",{className:"bg-slate-900 border-b border-slate-700 px-2 py-1",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-cyan-500 rounded flex items-center justify-center",children:N.jsx(Z8,{className:"w-5 h-5 text-slate-900"})}),N.jsxs("div",{children:[N.jsx("div",{className:"text-xs font-bold text-white tracking-wider",children:"GRANTFLOW"}),N.jsx("div",{className:"text-[10px] text-slate-500 tracking-widest",children:"TERMINAL v4.2.1"})]})]}),N.jsx("div",{className:"h-6 w-px bg-slate-700"}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(eH,{className:"w-2 h-2 fill-emerald-500 text-emerald-500 animate-pulse"}),N.jsx("span",{className:"text-[10px] text-emerald-400 font-mono",children:"LIVE"})]}),N.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-slate-800 rounded border border-slate-700",children:[N.jsx(Sxe,{className:"w-3 h-3 text-cyan-400"}),N.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:"LATENCY: 12ms"})]}),N.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-slate-800 rounded border border-slate-700",children:[N.jsx(bxe,{className:"w-3 h-3 text-amber-400"}),N.jsxs("span",{className:"text-[10px] text-slate-400 font-mono",children:["LOAD: ",n.toFixed(0),"%"]})]})]})]}),N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(R5,{label:"PIPELINE VAL",value:"$4.2M",change:12.4,icon:zx,color:"emerald"}),N.jsx(R5,{label:"ACCURACY",value:"99.8%",change:.2,icon:xxe,color:"cyan"}),N.jsx(R5,{label:"SPREAD",value:`${i.toFixed(0)}%`,change:a,icon:JP,color:"amber"}),N.jsx(R5,{label:"DEALS/HR",value:"127",change:8.3,icon:Z8,color:"emerald"})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("button",{className:"p-1.5 bg-slate-800 rounded border border-slate-700 hover:border-slate-600",children:N.jsx(ixe,{className:"w-4 h-4 text-slate-400"})}),N.jsx("button",{className:"p-1.5 bg-slate-800 rounded border border-slate-700 hover:border-slate-600",children:N.jsx(wxe,{className:"w-4 h-4 text-slate-400"})})]}),N.jsx("div",{className:"h-6 w-px bg-slate-700"}),N.jsxs("div",{className:"text-right",children:[N.jsx("div",{className:"text-xs font-mono text-white",children:t.toLocaleTimeString("en-US",{hour12:!1})}),N.jsx("div",{className:"text-[10px] text-slate-500 font-mono",children:t.toLocaleDateString("en-US",{month:"short",day:"2-digit"}).toUpperCase()})]}),N.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-900/30 border border-emerald-700/50 rounded",children:[N.jsx(Axe,{className:"w-3 h-3 text-emerald-400"}),N.jsx("span",{className:"text-[10px] text-emerald-400 font-mono",children:"JDK-7291"})]})]})]})})},R5=({label:t,value:e,change:n,icon:r,color:i})=>{const s={emerald:"text-emerald-400 border-emerald-800/50 bg-emerald-900/20",cyan:"text-cyan-400 border-cyan-800/50 bg-cyan-900/20",amber:"text-amber-400 border-amber-800/50 bg-amber-900/20"};return N.jsxs("div",{className:`px-3 py-1 rounded border ${s[i]} min-w-[100px]`,children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-[9px] text-slate-500 font-mono",children:t}),N.jsx(r,{className:"w-3 h-3 text-slate-500"})]}),N.jsxs("div",{className:"flex items-baseline gap-2",children:[N.jsx("span",{className:"text-lg font-bold text-white font-mono",children:e}),N.jsxs("span",{className:`text-[10px] font-mono flex items-center ${n>=0?"text-emerald-400":"text-red-400"}`,children:[n>=0?N.jsx(nxe,{className:"w-2 h-2"}):N.jsx(txe,{className:"w-2 h-2"}),Math.abs(n),"%"]})]})]})},KCe=({result:t})=>{var c;const e=t?[{id:"1",metric:"R&D Credit",q1:Math.round(t.financialSummary.rdCreditValue*.22),q2:Math.round(t.financialSummary.rdCreditValue*.26),q3:Math.round(t.financialSummary.rdCreditValue*.28),q4:Math.round(t.financialSummary.rdCreditValue*.24),ytd:t.financialSummary.rdCreditValue,confidence:Math.round(t.processingDetails.confidenceScore*100),source:"SCAN",trend:[],verified:t.isRdEligible},{id:"2",metric:"Training",q1:Math.round(t.financialSummary.trainingCreditValue*.25),q2:Math.round(t.financialSummary.trainingCreditValue*.25),q3:Math.round(t.financialSummary.trainingCreditValue*.25),q4:Math.round(t.financialSummary.trainingCreditValue*.25),ytd:t.financialSummary.trainingCreditValue,confidence:95,source:"SCAN",trend:[],verified:t.isTrainingEligible},{id:"3",metric:"Green Energy",q1:Math.round(t.financialSummary.greenEnergyValue*.25),q2:Math.round(t.financialSummary.greenEnergyValue*.25),q3:Math.round(t.financialSummary.greenEnergyValue*.25),q4:Math.round(t.financialSummary.greenEnergyValue*.25),ytd:t.financialSummary.greenEnergyValue,confidence:90,source:"SCAN",trend:[],verified:t.isGreenEligible}]:[{id:"1",metric:"Gross Payroll",q1:847e3,q2:892e3,q3:923e3,q4:978e3,ytd:364e4,confidence:98,source:"BANK",trend:[],verified:!0},{id:"2",metric:"R&D Spend",q1:156e3,q2:189e3,q3:201e3,q4:234e3,ytd:78e4,confidence:99,source:"VERIF",trend:[],verified:!0},{id:"3",metric:"Cloud/SaaS",q1:34e3,q2:38e3,q3:42e3,q4:47e3,ytd:161e3,confidence:96,source:"BANK",trend:[],verified:!0}],n=t?`SCAN ${t.analysisId.slice(-6)}`:"NEXGEN TECHNOLOGIES INC",r=t?zu(t.financialSummary.totalEstimatedValue):"$234,500",i=t!=null&&t.isRdEligible?"HIGH":"PENDING",s=t!=null&&t.isRdEligible?"text-emerald-400":"text-cyan-400",a=((c=t==null?void 0:t.overallRiskLevel)==null?void 0:c.toUpperCase())||"LOW",o=t?t.overallRiskLevel==="low"?"text-emerald-400":t.overallRiskLevel==="medium"?"text-amber-400":"text-red-400":"text-amber-400",l=u=>u>=95?"bg-emerald-500/20 text-emerald-400":u>=85?"bg-cyan-500/20 text-cyan-400":"bg-amber-500/20 text-amber-400";return N.jsxs("div",{className:`flex flex-col h-full bg-slate-900 border-r border-slate-700 ${t?"ring-2 ring-emerald-500/50 ring-inset":""}`,children:[N.jsxs("div",{className:"px-2 py-1 bg-slate-800 border-b border-slate-700 flex items-center gap-2",children:[N.jsx(tH,{className:"w-4 h-4 text-cyan-400"}),N.jsx("span",{className:"text-xs font-bold text-white tracking-wider",children:"UNDERWRITING MATRIX"}),t&&N.jsx("span",{className:"text-[8px] px-1 py-0.5 bg-emerald-900/50 text-emerald-400 rounded ml-auto animate-pulse",children:"SCANNED"})]}),N.jsxs("div",{className:"px-2 py-1 bg-slate-800/50 border-b border-slate-700",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(sxe,{className:"w-3 h-3 text-slate-500"}),N.jsx("span",{className:"text-xs text-white font-mono",children:n}),(t==null?void 0:t.isRdEligible)&&N.jsx("span",{className:"text-[8px] px-1 py-0.5 bg-cyan-900/50 text-cyan-400 rounded",children:"R&D"}),(t==null?void 0:t.isTrainingEligible)&&N.jsx("span",{className:"text-[8px] px-1 py-0.5 bg-purple-900/50 text-purple-400 rounded",children:"TRAINING"}),(t==null?void 0:t.isGreenEligible)&&N.jsxs("span",{className:"text-[8px] px-1 py-0.5 bg-emerald-900/50 text-emerald-400 rounded flex items-center gap-0.5",children:[N.jsx(gxe,{className:"w-2 h-2"}),"GREEN"]})]}),t&&N.jsxs("div",{className:"text-[8px] text-slate-500 font-mono mt-0.5",children:[t.processingDetails.totalMatchesFound," MATCHES | ",t.processingDetails.uniqueKeywordsFound," KEYWORDS"]})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-px bg-slate-700 border-b border-slate-700",children:[N.jsxs("div",{className:"bg-slate-800 p-2",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"EST CREDIT"}),N.jsx("div",{className:"text-sm font-bold text-emerald-400 font-mono",children:r})]}),N.jsxs("div",{className:"bg-slate-800 p-2",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"R&D INTENS"}),N.jsx("div",{className:`text-sm font-bold font-mono ${s}`,children:i})]}),N.jsxs("div",{className:"bg-slate-800 p-2",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"RISK"}),N.jsx("div",{className:`text-sm font-bold font-mono ${o}`,children:a})]})]}),N.jsx("div",{className:"flex-1 overflow-auto",children:N.jsxs("table",{className:"w-full text-[10px]",children:[N.jsx("thead",{className:"sticky top-0 bg-slate-800",children:N.jsxs("tr",{className:"border-b border-slate-700",children:[N.jsx("th",{className:"px-2 py-1 text-left text-slate-400 font-mono",children:"METRIC"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"Q1"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"Q2"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"Q3"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"Q4"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"YTD"}),N.jsx("th",{className:"px-1 py-1 text-center text-slate-400 font-mono",children:"CONF"})]})}),N.jsx("tbody",{children:e.map(u=>N.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/50",children:[N.jsx("td",{className:"px-2 py-1",children:N.jsxs("div",{className:"flex items-center gap-1",children:[u.verified?N.jsx(Qq,{className:"w-3 h-3 text-emerald-500"}):N.jsx(lxe,{className:"w-3 h-3 text-amber-500"}),N.jsx("span",{className:"text-white",children:u.metric})]})}),N.jsx("td",{className:"px-1 py-1 text-right text-slate-300 font-mono",children:Bd(u.q1)}),N.jsx("td",{className:"px-1 py-1 text-right text-slate-300 font-mono",children:Bd(u.q2)}),N.jsx("td",{className:"px-1 py-1 text-right text-slate-300 font-mono",children:Bd(u.q3)}),N.jsx("td",{className:"px-1 py-1 text-right text-slate-300 font-mono",children:Bd(u.q4)}),N.jsx("td",{className:"px-1 py-1 text-right text-white font-mono font-bold",children:Bd(u.ytd)}),N.jsx("td",{className:"px-1 py-1 text-center",children:N.jsxs("span",{className:`text-[9px] px-1 py-0.5 rounded ${l(u.confidence)}`,children:[u.confidence,"%"]})})]},u.id))})]})}),t&&N.jsx("div",{className:"bg-emerald-900/20 border-t border-emerald-700/50 px-2 py-1",children:N.jsxs("div",{className:"text-[9px] text-emerald-400 font-mono",children:[" ",t.processingDetails.rulesTriggered," RULES TRIGGERED | ",t.riskIndicators.length," RISK FLAGS"]})})]})},YCe=({onAnalysisComplete:t,selectedDeal:e})=>{const[n,r]=Ae.useState([]),[i,s]=Ae.useState(0),[a,o]=Ae.useState([847,0,0,0,0]),[l,c]=Ae.useState(!1),[u,f]=Ae.useState(!1),[d,p]=Ae.useState(!1),v=pe.useRef(null),m=pe.useRef(null),[b,g]=Ae.useState(null),[w,x]=Ae.useState(!1),S=async $=>{c(!1),x(!0),s(0);const V=($.size/(1024*1024)).toFixed(1),X=[{id:`ingest-${Date.now()}-1`,timestamp:new Date,level:"system",message:">> [SYS] INCOMING DATA STREAM DETECTED...",module:"SYS"},{id:`ingest-${Date.now()}-2`,timestamp:new Date,level:"success",message:`>> [INGEST] CAPTURED PAYLOAD: ${$.name} (${V} MB)`,module:"INGEST"},{id:`ingest-${Date.now()}-3`,timestamp:new Date,level:"info",message:">> [SEC] READING FILE CONTENT...",module:"SEC"}];r(ae=>[...ae,...X]),f(!0),setTimeout(()=>f(!1),2e3),o(ae=>[ae[0]+1,...ae.slice(1)]);let Q;$.type==="application/pdf"||$.name.toLowerCase().endsWith(".pdf")?(r(ae=>[...ae,{id:`pdf-${Date.now()}`,timestamp:new Date,level:"info",message:`>> [PDF] EXTRACTING TEXT FROM ${$.name.toUpperCase()}...`,module:"OCR"}]),Q=await DV($)):Q=await $.text();const W=oH(Q);g(W),r(ae=>[...ae,{id:`scan-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [SCAN] ANALYZED ${W.statistics.totalWords} WORDS, ${W.processingDetails.totalMatchesFound} MATCHES FOUND`,module:"SCAN"}]);let re=0;const ce=setInterval(()=>{re++,s(re),o(D=>{const K=[...D];return K[re]=Math.round(D[0]*(.95-re*.1)),K});const ae={1:{id:`stage-1-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [SCAN] PROCESSED ${W.source.contentLength} CHARS (${W.processingTimeMs}ms)`,module:"SCAN"},2:{id:`stage-2-${Date.now()}`,timestamp:new Date,level:W.riskIndicators.length>3?"warning":"success",message:`>> [FRAUD] ${W.riskIndicators.length} RISK FLAGS - LEVEL: ${W.overallRiskLevel.toUpperCase()}`,module:"FRAUD"},3:{id:`stage-3-${Date.now()}`,timestamp:new Date,level:"system",message:`>> [RULES] ${W.processingDetails.rulesTriggered}/${W.processingDetails.rulesApplied} RULES TRIGGERED`,module:"RULES"},4:{id:`stage-4-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [READY] ESTIMATED VALUE: ${zu(W.financialSummary.totalEstimatedValue)}`,module:"READY"}};ae[re]&&r(D=>[...D,ae[re]]),re>=4&&(clearInterval(ce),W.isRdEligible&&r(D=>[...D,{id:`elig-rd-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [ELIGIBLE] R&D TAX CREDIT: ${zu(W.financialSummary.rdCreditValue)}`,module:"GRANT"}]),W.isTrainingEligible&&r(D=>[...D,{id:`elig-trn-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [ELIGIBLE] TRAINING GRANT: ${zu(W.financialSummary.trainingCreditValue)}`,module:"GRANT"}]),W.isGreenEligible&&r(D=>[...D,{id:`elig-grn-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [ELIGIBLE] GREEN ENERGY: ${zu(W.financialSummary.greenEnergyValue)}`,module:"GRANT"}]),W.allMatches.slice(0,5).forEach((D,K)=>{setTimeout(()=>{r(ee=>[...ee,{id:`match-${Date.now()}-${K}`,timestamp:new Date,level:"info",message:`>> [MATCH] "${D.keyword}" @ line ${D.lineNumber}`,module:"SCAN"}])},K*200)}),t&&t(W),s(5),x(!1))},800)},A=$=>{$.preventDefault(),p(!1);const V=$.dataTransfer.files[0];V&&S(V)},E=$=>{var X;const V=(X=$.target.files)==null?void 0:X[0];V&&S(V)},C={0:[{level:"info",message:"> CONNECTING TO IRS DATABASE API_V4..."},{level:"success",message:"> [INGEST] BATCH UPLOAD COMPLETE: 847 DOCS"},{level:"info",message:"> VALIDATING DOCUMENT CHECKSUMS..."}],1:[{level:"info",message:'> [OCR] PARSING "PAYROLL_Q3.PDF"... CONFIDENCE: 99.4%'},{level:"success",message:"> [OCR] W-2 EXTRACTION: 47 RECORDS MATCHED"},{level:"info",message:"> [OCR] 1099-NEC BATCH PROCESSING..."},{level:"success",message:"> [OCR] BANK STATEMENT RECOGNIZED: CHASE_2024"}],2:[{level:"info",message:"> [FRAUD_CHECK] RUNNING ANOMALY DETECTION..."},{level:"warning",message:"> [FRAUD_CHECK] FLAG: CONTRACTOR SPIKE Q3 (+34%)"},{level:"success",message:"> [FRAUD_CHECK] CROSS-REF COMPLETE: NO RED FLAGS"},{level:"info",message:"> [FRAUD_CHECK] PAYROLL VELOCITY: NORMAL"}],3:[{level:"system",message:"[AI] GPT-4o VOICE AGENT INITIALIZED"},{level:"info",message:"> [VOICE_AI] DIALING CFO: +1 (555) 847-2910..."},{level:"success",message:"> [VOICE_AI] CONNECTED. VERIFYING R&D ACTIVITIES..."},{level:"success",message:'> [VOICE_AI] CFO CONFIRMED: "Yes, software development"'}],4:[{level:"success",message:">> [READY] DEAL PACKET ASSEMBLED: LEAD-48291"},{level:"system",message:"[SYS] ESTIMATED CREDIT: $234,500 $12K"},{level:"success",message:">> PUSHING TO ARBITRAGE FLOOR..."}]},L=["INGEST","OCR","FRAUD","VOICE","READY"],I=[_b,yxe,Pw,vxe,fxe];PE(()=>{const $=C[i],V=$[Math.floor(Math.random()*$.length)];r(X=>[...X.slice(-12),{id:Date.now().toString(),timestamp:new Date,level:V.level,message:V.message,module:L[i]}]),o(X=>{const Q=[...X];return i<4&&Q[i+1]<800&&(Q[i+1]=Math.min(Q[i+1]+Math.floor(Math.random()*50+30),Q[i])),Q})},800),PE(()=>{},null),pe.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[n]);const q=$=>$<i?"complete":$===i?"active":"pending",O=($,V)=>V===0&&u?"border-emerald-400 bg-emerald-500/40 shadow-lg shadow-emerald-500/30":$==="complete"?"border-emerald-500 bg-emerald-900/30":$==="active"?"border-cyan-400 bg-cyan-900/40 animate-pulse shadow-lg shadow-cyan-500/20":"border-slate-600 bg-slate-800",M=$=>$==="success"?"text-emerald-400":$==="warning"?"text-amber-400":$==="system"?"text-cyan-400":"text-slate-400",z=()=>{if(!b&&!e){r(V=>[...V,{id:`dl-err-${Date.now()}`,timestamp:new Date,level:"warning",message:">> [EXPORT] ERROR: NO DEAL SELECTED",module:"SYSTEM"}]);return}r(V=>[...V,{id:`dl-${Date.now()}`,timestamp:new Date,level:"system",message:`>> [EXPORT] GENERATING FORENSIC PACKET FOR ${e?e.company:b==null?void 0:b.analysisId}...`,module:"SYSTEM"}]);let $;if(e)$={id:e.id,company:e.company,value:e.estValue,risk_score:e.eligibility>90?12:e.eligibility>70?35:65,status:"VERIFIED",analyzed_at:new Date().toISOString(),is_rd_eligible:!0,is_training_eligible:!0,is_green_eligible:!1,is_erc_eligible:!1,rd_credit_value:Math.round(e.estValue*.72),training_credit_value:Math.round(e.estValue*.28),green_energy_value:0,erc_value:0,confidence_score:e.eligibility,anomalies:[]};else if(b)$={id:b.analysisId||"UNKNOWN",company:`SCAN-${b.analysisId.slice(-6)}`,value:b.financialSummary.totalEstimatedValue,risk_score:b.overallRiskLevel==="low"?25:b.overallRiskLevel==="medium"?50:75,status:"VERIFIED",analyzed_at:b.timestamp,is_rd_eligible:b.isRdEligible,is_training_eligible:b.isTrainingEligible,is_green_eligible:b.isGreenEligible,is_erc_eligible:b.isErcEligible,rd_credit_value:b.financialSummary.rdCreditValue,training_credit_value:b.financialSummary.trainingCreditValue,green_energy_value:b.financialSummary.greenEnergyValue,erc_value:b.financialSummary.otherCreditsValue,confidence_score:Math.round(b.processingDetails.confidenceScore*100),anomalies:b.riskIndicators.map(V=>({description:V.description,severity:V.type==="warning"?"high":"medium",category:V.category}))};else return;MCe($,`GrantFlow_Audit_${$.company.replace(/\s+/g,"_")}.pdf`),setTimeout(()=>{r(V=>[...V,{id:`dl-ok-${Date.now()}`,timestamp:new Date,level:"success",message:">> [EXPORT] PDF DOWNLOAD COMPLETE",module:"SYSTEM"}])},1e3)};return N.jsxs("div",{className:"flex flex-col h-full bg-slate-900",children:[N.jsxs("div",{className:"px-3 py-1 bg-slate-800 border-b border-slate-700 flex items-center gap-2",children:[N.jsx(cxe,{className:"w-4 h-4 text-cyan-400"}),N.jsx("span",{className:"text-xs font-bold text-white tracking-wider",children:"VERIFICATION GAUNTLET"}),N.jsx("span",{className:"text-[9px] px-2 py-0.5 bg-cyan-900/50 text-cyan-400 rounded font-mono ml-2",children:"LEAD-48291"})]}),N.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[N.jsx("div",{className:"flex-1 p-3 border-r border-slate-700 flex items-center justify-between",children:L.map(($,V)=>{const X=q(V),Q=V===4&&i>=5||V===4&&e,W=Q?uxe:I[V],re=V===0||Q,ce=Q?"DOWNLOAD PACKET":$,ae=Q&&(e||i>=5);return N.jsxs(pe.Fragment,{children:[N.jsxs("div",{onClick:V===0?()=>!w&&c(!0):Q?z:void 0,className:`flex flex-col items-center p-2 rounded border-2 transition-all duration-300 ${O(X,V)} min-w-[90px] ${ae?"ring-2 ring-emerald-400 ring-offset-2 ring-offset-slate-900 border-emerald-400 bg-emerald-900/40":""} ${re&&!w?"cursor-pointer hover:border-emerald-400 hover:bg-emerald-900/20":""} ${w&&V===0?"opacity-50 cursor-wait":""}`,children:[N.jsx(W,{className:`w-5 h-5 mb-1 ${X==="active"||ae?"text-emerald-400 animate-pulse":"text-slate-500"}`}),N.jsx("span",{className:`text-[9px] font-bold mt-1 ${ae?"text-emerald-400":"text-slate-400"}`,children:ce}),N.jsx("div",{className:"text-[8px] text-slate-400 font-mono",children:a[V]>0?a[V]:"--"}),X==="active"&&N.jsx("div",{className:"mt-1 flex items-center gap-1",children:N.jsx("div",{className:"w-1 h-1 rounded-full bg-cyan-400 animate-ping"})}),u&&V===0&&N.jsx("div",{className:"mt-1 text-[7px] text-emerald-400 font-mono animate-pulse",children:"RECEIVED"})]}),V<4&&N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:`h-0.5 w-6 transition-colors ${V<i?"bg-emerald-500":"bg-slate-700"}`}),N.jsx(Zq,{className:`w-3 h-3 transition-colors ${V<i?"text-emerald-500":"text-slate-600"}`})]})]},V)})}),N.jsxs("div",{className:"w-[350px] bg-slate-950 flex flex-col",children:[N.jsxs("div",{className:"px-2 py-1 bg-slate-800 border-b border-slate-700 flex items-center gap-2",children:[N.jsx(sH,{className:"w-3 h-3 text-emerald-400"}),N.jsx("span",{className:"text-[10px] font-bold text-white font-mono",children:"LOG"})]}),N.jsxs("div",{ref:v,className:"flex-1 overflow-auto p-2 font-mono text-[10px] scroll-smooth",children:[n.map(($,V)=>N.jsxs("div",{className:`flex items-start gap-2 mb-1 ${V===n.length-1?"animate-pulse":""}`,children:[N.jsxs("span",{className:"text-slate-600 flex-shrink-0",children:[$.timestamp.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),".",String($.timestamp.getMilliseconds()).padStart(3,"0").slice(0,2)]}),N.jsx("span",{className:M($.level),children:$.message})]},$.id)),N.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[N.jsx("span",{className:"text-emerald-400",children:"$"}),N.jsx("span",{className:"text-slate-500 animate-pulse",children:""})]})]})]})]}),l&&N.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:()=>c(!1),children:[N.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm"}),N.jsxs("div",{className:"relative bg-slate-900 border-2 border-emerald-500/50 rounded-lg p-6 w-[480px] shadow-2xl shadow-emerald-500/10",onClick:$=>$.stopPropagation(),children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(_b,{className:"w-5 h-5 text-emerald-400"}),N.jsx("span",{className:"text-sm font-bold text-white tracking-wider",children:"SECURE FILE INGEST"})]}),N.jsx("button",{onClick:()=>c(!1),className:"text-slate-500 hover:text-white",children:N.jsx("span",{className:"text-xl",children:""})})]}),N.jsxs("div",{onDragOver:$=>{$.preventDefault(),p(!0)},onDragLeave:()=>p(!1),onDrop:A,onClick:()=>{var $;return($=m.current)==null?void 0:$.click()},className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all ${d?"border-emerald-400 bg-emerald-900/20":"border-slate-600 hover:border-emerald-500/50 hover:bg-slate-800/50"}`,children:[N.jsx(_b,{className:`w-12 h-12 mx-auto mb-4 ${d?"text-emerald-400":"text-slate-500"}`}),N.jsx("div",{className:"text-sm font-bold text-white mb-1",children:"SECURE DROP // FINANCIAL PAYLOADS ONLY"}),N.jsx("div",{className:"text-xs text-slate-500 mb-3",children:"Drag files here or click to browse"}),N.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] text-slate-600",children:[N.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded",children:".PDF"}),N.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded",children:".CSV"}),N.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded",children:".JSON"})]})]}),N.jsx("input",{ref:m,type:"file",accept:".pdf,.csv,.json",onChange:E,className:"hidden"}),N.jsxs("div",{className:"mt-4 flex items-center justify-between text-[9px] text-slate-600 font-mono",children:[N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(Pw,{className:"w-3 h-3"}),N.jsx("span",{children:"AES-256 ENCRYPTED CHANNEL"})]}),N.jsx("span",{children:"MAX SIZE: 50MB"})]})]})]})]})},XCe=({bids:t,selectedDeal:e,onSell:n,totalVolume:r})=>{var o,l;const[i,s]=Ae.useState(null),a=async c=>{s(c.id),await new Promise(u=>setTimeout(u,800)),n(c),s(null)};return N.jsxs("div",{className:"flex flex-col h-full bg-slate-900 border-l border-slate-700",children:[N.jsxs("div",{className:"px-2 py-1 bg-slate-800 border-b border-slate-700 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(rxe,{className:"w-4 h-4 text-emerald-400"}),N.jsx("span",{className:"text-xs font-bold text-white tracking-wider",children:"ARBITRAGE FLOOR"})]}),N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(eH,{className:"w-2 h-2 fill-emerald-500 text-emerald-500 animate-pulse"}),N.jsx("span",{className:"text-[9px] text-emerald-400 font-mono",children:"LIVE"})]})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-px bg-slate-700 border-b border-slate-700",children:[N.jsxs("div",{className:"bg-slate-800 p-2 text-center",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"VOLUME"}),N.jsx("div",{className:"text-sm font-bold text-emerald-400 font-mono",children:xE(r)})]}),N.jsxs("div",{className:"bg-slate-800 p-2 text-center",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"BIDS"}),N.jsx("div",{className:"text-sm font-bold text-white font-mono",children:t.length})]}),N.jsxs("div",{className:"bg-slate-800 p-2 text-center",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"SPREAD"}),N.jsx("div",{className:"text-sm font-bold text-cyan-400 font-mono",children:t.length>0?`${Math.round(((l=(o=t[0])==null?void 0:o.metadata)==null?void 0:l.spreadPercentage)||0)}%`:"--"})]})]}),N.jsx("div",{className:"flex-1 overflow-auto",children:e?t.length===0?N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-4",children:[N.jsx(F1,{className:"w-6 h-6 text-cyan-400 animate-spin mb-2"}),N.jsx("div",{className:"text-[10px] text-slate-400 font-mono",children:"GENERATING BIDS..."})]}):N.jsx("div",{className:"p-2 space-y-1",children:t.map((c,u)=>N.jsxs("div",{className:`p-2 rounded border ${u===0?"bg-emerald-900/20 border-emerald-700/50":"bg-slate-800/50 border-slate-700/50"} hover:bg-slate-800`,children:[N.jsxs("div",{className:"flex items-center justify-between mb-1",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded ${OEe(c.firmTier)} bg-slate-800`,children:NEe(c.firmTier)}),N.jsx("span",{className:"text-white text-[11px] font-medium",children:c.firmName})]}),u===0&&N.jsx("span",{className:"text-[7px] px-1 py-0.5 bg-emerald-500 text-white rounded font-bold",children:"TOP BID"})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("div",{className:"text-emerald-400 font-mono font-bold text-sm",children:xE(c.bidAmount)}),N.jsxs("div",{className:"text-[8px] text-slate-500",children:[c.bidPercentage,"%  ",c.metadata.estimatedCloseTime,"d close"]})]}),N.jsx("button",{onClick:()=>a(c),disabled:i!==null,className:`px-3 py-1.5 text-[10px] font-bold rounded transition-all ${i===c.id?"bg-amber-600 text-white cursor-wait":"bg-red-600 hover:bg-red-500 text-white hover:scale-105"}`,children:i===c.id?"SELLING...":"SELL"})]})]},c.id))}):N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-4",children:[N.jsx(tH,{className:"w-8 h-8 text-slate-600 mb-2"}),N.jsx("div",{className:"text-[10px] text-slate-500 font-mono",children:"MARKET STANDBY"}),N.jsx("div",{className:"text-[9px] text-slate-600 font-mono mt-1",children:"SELECT INVENTORY TO GENERATE BIDS"})]})}),e&&t.length>0&&N.jsxs("div",{className:"bg-slate-800 border-t border-slate-700 px-2 py-1.5 text-center",children:[N.jsxs("div",{className:"text-[9px] text-slate-400 font-mono",children:["SELLING: ",N.jsx("span",{className:"text-white",children:e.company})]}),N.jsxs("div",{className:"text-[8px] text-slate-500 font-mono",children:["VALUE: ",Bd(e.estValue)]})]})]})},JCe=({vaultDeals:t,selectedId:e,hiddenLeadIds:n,onSelectLead:r})=>{const i=[{id:"L-48291",company:"NexGen Tech",ein:"82-4729103",sector:"SaaS",eligibility:94,estValue:234500,stage:4,priority:"critical",timestamp:new Date},{id:"L-48290",company:"Quantum Labs",ein:"91-2847291",sector:"Biotech",eligibility:87,estValue:189e3,stage:3,priority:"high",timestamp:new Date}],a=[...t.map((l,c)=>({id:`V-${l.id||c}`,company:l.company,ein:"-- VAULT --",sector:"DB",eligibility:95,estValue:l.value,stage:l.status==="VERIFIED"?5:4,priority:l.value>2e5?"critical":l.value>1e5?"high":"medium",timestamp:new Date(l.created_at||Date.now()),dbId:l.id})),...i].filter(l=>!n.includes(l.id)),o=l=>l==="critical"?"bg-red-500/20 text-red-400":l==="high"?"bg-amber-500/20 text-amber-400":"bg-cyan-500/20 text-cyan-400";return N.jsxs("div",{className:"bg-slate-900 border-t border-slate-700",children:[N.jsxs("div",{className:"px-3 py-1 bg-slate-800 border-b border-slate-700 flex items-center gap-2",children:[N.jsx(pxe,{className:"w-4 h-4 text-amber-400"}),N.jsx("span",{className:"text-xs font-bold text-white tracking-wider",children:"ACTIVE PIPELINE"}),N.jsx("span",{className:"text-[9px] px-2 py-0.5 bg-amber-900/50 text-amber-400 rounded font-mono",children:a.length}),t.length>0&&N.jsxs("span",{className:"text-[8px] px-1 py-0.5 bg-emerald-900/50 text-emerald-400 rounded font-mono ml-1",children:["VAULT: ",t.length]}),N.jsx("span",{className:"text-[8px] text-slate-500 ml-auto",children:"CLICK TO SELECT"})]}),N.jsx("div",{className:"overflow-x-auto max-h-[140px]",children:N.jsxs("table",{className:"w-full text-[10px]",children:[N.jsx("thead",{className:"bg-slate-800 sticky top-0",children:N.jsxs("tr",{className:"border-b border-slate-700",children:[N.jsx("th",{className:"px-3 py-1.5 text-left text-slate-400 font-mono",children:"ID"}),N.jsx("th",{className:"px-3 py-1.5 text-left text-slate-400 font-mono",children:"COMPANY"}),N.jsx("th",{className:"px-3 py-1.5 text-center text-slate-400 font-mono",children:"ELIG"}),N.jsx("th",{className:"px-3 py-1.5 text-right text-slate-400 font-mono",children:"VALUE"}),N.jsx("th",{className:"px-3 py-1.5 text-center text-slate-400 font-mono",children:"STAGE"}),N.jsx("th",{className:"px-3 py-1.5 text-center text-slate-400 font-mono",children:"PRIO"})]})}),N.jsx("tbody",{children:a.map(l=>N.jsxs("tr",{onClick:()=>r(l),className:`border-b border-slate-800 cursor-pointer transition-colors ${e===l.id?"bg-cyan-900/30 ring-1 ring-cyan-500/50 ring-inset":"hover:bg-slate-800/50"}`,children:[N.jsx("td",{className:"px-3 py-1.5 text-cyan-400 font-mono font-bold",children:l.id}),N.jsx("td",{className:"px-3 py-1.5 text-white",children:l.company}),N.jsx("td",{className:"px-3 py-1.5 text-center",children:N.jsxs("div",{className:"flex items-center justify-center gap-1",children:[N.jsx("div",{className:"w-10 h-1.5 bg-slate-700 rounded-full overflow-hidden",children:N.jsx("div",{className:`h-full rounded-full ${l.eligibility>=90?"bg-emerald-500":"bg-cyan-500"}`,style:{width:`${l.eligibility}%`}})}),N.jsxs("span",{className:"text-white font-mono",children:[l.eligibility,"%"]})]})}),N.jsx("td",{className:"px-3 py-1.5 text-right text-emerald-400 font-mono font-bold",children:Bd(l.estValue)}),N.jsx("td",{className:"px-3 py-1.5 text-center",children:N.jsx("div",{className:"flex items-center justify-center gap-0.5",children:[1,2,3,4,5].map(c=>N.jsx("div",{className:`w-2.5 h-2.5 rounded-sm ${c<=l.stage?"bg-emerald-500":"bg-slate-700"}`},c))})}),N.jsx("td",{className:"px-3 py-1.5 text-center",children:N.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded ${o(l.priority)}`,children:l.priority.toUpperCase()})})]},l.id))})]})})]})};function ZCe(){const[t,e]=Ae.useState(null),[n,r]=Ae.useState(!1),[i,s]=Ae.useState([]),[a,o]=Ae.useState(null),[l,c]=Ae.useState(null),[u,f]=Ae.useState([]),[d,p]=Ae.useState(847e3),[v,m]=Ae.useState(null),[b,g]=Ae.useState([]);Ae.useEffect(()=>{(async()=>{const{data:E,error:C}=await B1.from("deals").select("*").neq("status","SOLD").order("created_at",{ascending:!1});C?(console.error("[VAULT] Supabase error:",C.message),o(`VAULT ERROR: ${C.message}`)):E&&(s(E),console.log(`[VAULT] Loaded ${E.length} deals from Supabase`))})()},[]);const w=A=>{console.log(`[MARKET] Selected lead: ${A.company} (${A.id})`),c(A),f([]),setTimeout(()=>{const E=TEe(A.estValue,{dealId:A.id,costBasis:A.estValue*.008});f(E),console.log(`[MARKET] Generated ${E.length} bids for ${A.company}`)},600)},x=async A=>{if(!l)return;console.log("Attempting to sell Deal ID:",l.id),g(C=>[...C,l.id]),c(null),f([]);const E=l.dbId;if(E){const{error:C}=await B1.from("deals").update({status:"SOLD",sold_to:A.firmName,sale_price:A.bidAmount,sold_at:new Date().toISOString()}).eq("id",E);C?(console.error("CRITICAL SALE ERROR:",C),m(`SALE FAILED: ${C.message}`)):(console.log("Database update successful"),s(L=>L.filter(I=>I.id!==E)))}p(C=>C+A.bidAmount),m(`SOLD TO ${A.firmName.toUpperCase()} FOR ${xE(A.bidAmount)}`),setTimeout(()=>m(null),4e3),r(!0),setTimeout(()=>r(!1),1500)},S=async A=>{e(A),r(!0),setTimeout(()=>r(!1),1500);const{error:E}=await B1.from("deals").insert([{company:`SCAN-${A.analysisId.slice(-6)}`,value:A.financialSummary.totalEstimatedValue,status:A.isRdEligible?"RD_ELIGIBLE":"VERIFIED",packet_id:A.analysisId,risk_score:A.overallRiskLevel==="low"?25:A.overallRiskLevel==="medium"?50:75,anomaly_count:A.riskIndicators.length}]);if(E)console.error("[VAULT] INSERT failed:",E.message),o(`INSERT FAILED: ${E.message}`);else{console.log("[VAULT] Deal saved to Supabase");const{data:C}=await B1.from("deals").select("*").order("created_at",{ascending:!1});C&&s(C)}};return N.jsxs("div",{className:`h-screen w-screen bg-slate-950 flex flex-col overflow-hidden transition-all duration-300 ${n?"ring-4 ring-emerald-500/30 ring-inset":""}`,children:[N.jsx(GCe,{}),v&&N.jsxs("div",{className:"fixed top-16 left-1/2 -translate-x-1/2 z-50 px-6 py-3 bg-emerald-600 text-white text-sm font-bold rounded-lg shadow-2xl shadow-emerald-500/30 animate-pulse",children:[" ",v]}),N.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[N.jsx("div",{className:"w-[340px] flex-shrink-0",children:N.jsx(KCe,{result:t})}),N.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[N.jsx("div",{className:"flex-shrink-0",children:N.jsx(JCe,{vaultDeals:i,selectedId:(l==null?void 0:l.id)||null,hiddenLeadIds:b,onSelectLead:w})}),N.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-px bg-slate-700 overflow-hidden",children:[N.jsxs("div",{className:"bg-slate-900 p-2",children:[N.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[N.jsx(JP,{className:"w-3 h-3 text-emerald-400"}),N.jsx("span",{className:"text-[10px] font-bold text-white",children:"VELOCITY"})]}),N.jsx("div",{className:"h-32",children:N.jsx(Que,{width:"100%",height:"100%",children:N.jsxs(Z2e,{data:Array.from({length:24},(A,E)=>({h:E,v:80+Math.random()*60})),children:[N.jsx("defs",{children:N.jsxs("linearGradient",{id:"vg",x1:"0",y1:"0",x2:"0",y2:"1",children:[N.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),N.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),N.jsx(KP,{dataKey:"h",tick:{fontSize:8},stroke:"#475569"}),N.jsx(YP,{tick:{fontSize:8},stroke:"#475569"}),N.jsx(sd,{type:"monotone",dataKey:"v",stroke:"#10b981",fill:"url(#vg)",strokeWidth:2})]})})})]}),N.jsxs("div",{className:"bg-slate-900 p-2",children:[N.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[N.jsx(_xe,{className:"w-3 h-3 text-amber-400"}),N.jsx("span",{className:"text-[10px] font-bold text-white",children:"CONVERSION"})]}),N.jsx("div",{className:"h-32 flex flex-col justify-center gap-1",children:[{s:"INGEST",v:1247,p:100},{s:"QUALIFY",v:892,p:71},{s:"VERIFY",v:634,p:51},{s:"SOLD",v:342,p:27}].map(A=>N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-[8px] text-slate-500 w-10 font-mono",children:A.s}),N.jsx("div",{className:"flex-1 h-2.5 bg-slate-800 rounded overflow-hidden",children:N.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 to-emerald-500 rounded",style:{width:`${A.p}%`}})}),N.jsx("span",{className:"text-[9px] text-white font-mono w-8 text-right",children:A.v})]},A.s))})]})]}),N.jsx("div",{className:"h-[180px] flex-shrink-0 border-t border-slate-700",children:N.jsx(YCe,{onAnalysisComplete:S,selectedDeal:l})})]}),N.jsx("div",{className:"w-[280px] flex-shrink-0",children:N.jsx(XCe,{bids:u,selectedDeal:l,onSell:x,totalVolume:d})})]}),N.jsxs("footer",{className:"bg-slate-900 border-t border-slate-700 px-3 py-1 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-4 text-[9px] font-mono",children:[N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-emerald-400":"bg-emerald-500"} animate-pulse`}),N.jsx("span",{className:"text-slate-400",children:t?"SCAN ACTIVE":"SYSTEMS NOMINAL"})]}),t&&N.jsxs("span",{className:"text-emerald-400",children:["ID: ",t.analysisId]}),(t==null?void 0:t.isRdEligible)&&N.jsx("span",{className:"text-cyan-400",children:"R&D: ELIGIBLE"}),a&&N.jsx("span",{className:"text-red-400",children:a}),N.jsxs("span",{className:"text-cyan-400",children:["VAULT: ",i.length," DEALS"]}),N.jsxs("span",{className:"text-emerald-400",children:["VOLUME: ",xE(d)]}),N.jsxs("span",{className:"text-slate-500",children:["UPTIME: ",N.jsx("span",{className:"text-white",children:"99.97%"})]})]}),N.jsx("div",{className:"text-[9px] font-mono text-slate-500",children:" 2026 GRANTFLOW"})]})]})}const QCe=({onAuthenticate:t,onCancel:e})=>{const[n,r]=Ae.useState(""),[i,s]=Ae.useState(!1),[a,o]=Ae.useState(!1),l=pe.useRef(null);pe.useEffect(()=>{var u;(u=l.current)==null||u.focus()},[]);const c=u=>{u.preventDefault(),n==="PROFIT_2026"?t():(s(!0),o(!0),r(""),setTimeout(()=>o(!1),500),setTimeout(()=>s(!1),3e3))};return N.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[N.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),N.jsxs("div",{className:`relative w-[420px] bg-gradient-to-b from-slate-900 to-slate-950 border border-red-900/50 rounded-lg shadow-2xl shadow-red-900/20 overflow-hidden ${a?"animate-pulse":""}`,children:[N.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-red-600 via-red-500 to-red-600"}),N.jsx("div",{className:"bg-red-950/30 border-b border-red-900/30 px-6 py-4",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-900/50 border border-red-700/50 flex items-center justify-center",children:N.jsx(Pw,{className:"w-5 h-5 text-red-400"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-red-400 font-mono text-sm tracking-widest uppercase",children:"Classified Access"}),N.jsx("p",{className:"text-slate-500 text-xs font-mono",children:"TERMINAL SECURITY PROTOCOL"})]})]})}),N.jsxs("div",{className:"p-6",children:[N.jsxs("div",{className:"mb-6 text-center",children:[N.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[N.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),N.jsx("span",{className:"text-red-400 font-mono text-xs tracking-wider",children:"RESTRICTED ZONE"}),N.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"})]}),N.jsx("p",{className:"text-slate-400 text-sm",children:"Enter authorization code to access Terminal"})]}),N.jsxs("form",{onSubmit:c,children:[N.jsxs("div",{className:"relative mb-4",children:[N.jsx("input",{ref:l,type:"password",value:n,onChange:u=>r(u.target.value.toUpperCase()),placeholder:"",className:`w-full bg-slate-800/50 border ${i?"border-red-500 ring-2 ring-red-500/30":"border-slate-700"} rounded-lg px-4 py-3 text-white font-mono text-center tracking-[0.5em] text-lg placeholder:text-slate-600 placeholder:tracking-[0.3em] focus:outline-none focus:border-red-500/50 focus:ring-2 focus:ring-red-500/20 transition-all ${a?"animate-[shake_0.5s_ease-in-out]":""}`,autoComplete:"off"}),i&&N.jsx("div",{className:"absolute -bottom-5 left-0 right-0 text-center",children:N.jsx("span",{className:"text-red-500 text-xs font-mono animate-pulse",children:" ACCESS DENIED"})})]}),N.jsxs("div",{className:"flex gap-3 mt-8",children:[N.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-400 font-mono text-sm rounded-lg transition-colors",children:"CANCEL"}),N.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 text-white font-mono text-sm font-bold rounded-lg shadow-lg shadow-red-900/30 transition-all flex items-center justify-center gap-2",children:[N.jsx(sH,{className:"w-4 h-4"}),"AUTHENTICATE"]})]})]})]}),N.jsxs("div",{className:"bg-slate-900/50 border-t border-slate-800 px-6 py-3 flex items-center justify-between",children:[N.jsx("span",{className:"text-slate-600 text-[10px] font-mono",children:"GRANTFLOW SECURITY v2.0"}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),N.jsx("span",{className:"text-slate-600 text-[10px] font-mono",children:"ARMED"})]})]})]})]})};function eTe(){const[t,e]=Ae.useState("PUBLIC"),[n,r]=Ae.useState(!1),[i,s]=Ae.useState(!1),a=()=>{t==="TERMINAL"?e("PUBLIC"):n?e("TERMINAL"):s(!0)},o=()=>{r(!0),s(!1),e("TERMINAL")},l=()=>{s(!1)};return N.jsxs(N.Fragment,{children:[t==="TERMINAL"?N.jsx(ZCe,{},"terminal"):N.jsx(VCe,{},"public"),i&&N.jsx(QCe,{onAuthenticate:o,onCancel:l}),N.jsx("button",{onClick:a,className:`fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-2 text-white text-sm font-bold rounded-lg shadow-lg transition-all hover:scale-105 ${t==="TERMINAL"?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-purple-500/30":"bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 shadow-red-500/30"}`,children:t==="TERMINAL"?N.jsxs(N.Fragment,{children:[N.jsx(hxe,{className:"w-4 h-4"}),"VIEW PUBLIC"]}):N.jsxs(N.Fragment,{children:[N.jsx(Pw,{className:"w-4 h-4"}),"ACCESS TERMINAL"]})})]})}MT.createRoot(document.getElementById("root")).render(N.jsx(pe.StrictMode,{children:N.jsx(eTe,{})}));export{wn as _,R_ as c,Gn as g};
