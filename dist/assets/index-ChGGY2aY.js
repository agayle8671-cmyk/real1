var vK=Object.defineProperty;var oM=t=>{throw TypeError(t)};var yK=(t,e,n)=>e in t?vK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>yK(t,typeof e!="symbol"?e+"":e,n),Gk=(t,e,n)=>e.has(t)||oM("Cannot "+n);var h=(t,e,n)=>(Gk(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?oM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),C=(t,e,n,r)=>(Gk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),F=(t,e,n)=>(Gk(t,e,"access private method"),n);var ai=(t,e,n,r)=>({set _(i){C(t,e,i,n)},get _(){return h(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gB={exports:{}},ZE={},mB={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=Symbol.for("react.element"),bK=Symbol.for("react.portal"),wK=Symbol.for("react.fragment"),xK=Symbol.for("react.strict_mode"),_K=Symbol.for("react.profiler"),AK=Symbol.for("react.provider"),SK=Symbol.for("react.context"),EK=Symbol.for("react.forward_ref"),PK=Symbol.for("react.suspense"),kK=Symbol.for("react.memo"),TK=Symbol.for("react.lazy"),lM=Symbol.iterator;function CK(t){return t===null||typeof t!="object"?null:(t=lM&&t[lM]||t["@@iterator"],typeof t=="function"?t:null)}var vB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yB=Object.assign,bB={};function wy(t,e,n){this.props=t,this.context=e,this.refs=bB,this.updater=n||vB}wy.prototype.isReactComponent={};wy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wB(){}wB.prototype=wy.prototype;function Q4(t,e,n){this.props=t,this.context=e,this.refs=bB,this.updater=n||vB}var eL=Q4.prototype=new wB;eL.constructor=Q4;yB(eL,wy.prototype);eL.isPureReactComponent=!0;var cM=Array.isArray,xB=Object.prototype.hasOwnProperty,tL={current:null},_B={key:!0,ref:!0,__self:!0,__source:!0};function AB(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)xB.call(e,r)&&!_B.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Rx,type:t,key:s,ref:a,props:i,_owner:tL.current}}function OK(t,e){return{$$typeof:Rx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nL(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rx}function NK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uM=/\/+/g;function Kk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NK(""+t.key):e.toString(36)}function $5(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Rx:case bK:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Kk(a,0):r,cM(i)?(n="",t!=null&&(n=t.replace(uM,"$&/")+"/"),$5(i,e,n,"",function(c){return c})):i!=null&&(nL(i)&&(i=OK(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(uM,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",cM(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Kk(s,o);a+=$5(s,e,n,l,i)}else if(l=CK(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Kk(s,o++),a+=$5(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function $_(t,e,n){if(t==null)return t;var r=[],i=0;return $5(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var js={current:null},B5={transition:null},IK={ReactCurrentDispatcher:js,ReactCurrentBatchConfig:B5,ReactCurrentOwner:tL};function SB(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:$_,forEach:function(t,e,n){$_(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $_(t,function(){e++}),e},toArray:function(t){return $_(t,function(e){return e})||[]},only:function(t){if(!nL(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=wy;Wt.Fragment=wK;Wt.Profiler=_K;Wt.PureComponent=Q4;Wt.StrictMode=xK;Wt.Suspense=PK;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IK;Wt.act=SB;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yB({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=tL.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)xB.call(e,l)&&!_B.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Rx,type:t.type,key:i,ref:s,props:r,_owner:a}};Wt.createContext=function(t){return t={$$typeof:SK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AK,_context:t},t.Consumer=t};Wt.createElement=AB;Wt.createFactory=function(t){var e=AB.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:EK,render:t}};Wt.isValidElement=nL;Wt.lazy=function(t){return{$$typeof:TK,_payload:{_status:-1,_result:t},_init:LK}};Wt.memo=function(t,e){return{$$typeof:kK,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=B5.transition;B5.transition={};try{t()}finally{B5.transition=e}};Wt.unstable_act=SB;Wt.useCallback=function(t,e){return js.current.useCallback(t,e)};Wt.useContext=function(t){return js.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return js.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return js.current.useEffect(t,e)};Wt.useId=function(){return js.current.useId()};Wt.useImperativeHandle=function(t,e,n){return js.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return js.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return js.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return js.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return js.current.useReducer(t,e,n)};Wt.useRef=function(t){return js.current.useRef(t)};Wt.useState=function(t){return js.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return js.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return js.current.useTransition()};Wt.version="18.3.1";mB.exports=Wt;var Ae=mB.exports;const pe=Kn(Ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RK=Ae,MK=Symbol.for("react.element"),jK=Symbol.for("react.fragment"),DK=Object.prototype.hasOwnProperty,FK=RK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$K={key:!0,ref:!0,__self:!0,__source:!0};function EB(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)DK.call(e,r)&&!$K.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MK,type:t,key:s,ref:a,props:i,_owner:FK.current}}ZE.Fragment=jK;ZE.jsx=EB;ZE.jsxs=EB;gB.exports=ZE;var N=gB.exports,BC={},PB={exports:{}},Ka={},kB={exports:{}},TB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,re){var ce=W.length;W.push(re);e:for(;0<ce;){var ae=ce-1>>>1,D=W[ae];if(0<i(D,re))W[ae]=re,W[ce]=D,ce=ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var re=W[0],ce=W.pop();if(ce!==re){W[0]=ce;e:for(var ae=0,D=W.length,K=D>>>1;ae<K;){var ee=2*(ae+1)-1,se=W[ee],oe=ee+1,de=W[oe];if(0>i(se,ce))oe<D&&0>i(de,se)?(W[ae]=de,W[oe]=ce,ae=oe):(W[ae]=se,W[ee]=ce,ae=ee);else if(oe<D&&0>i(de,ce))W[ae]=de,W[oe]=ce,ae=oe;else break e}}return re}function i(W,re){var ce=W.sortIndex-re.sortIndex;return ce!==0?ce:W.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,p=!1,v=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=W)r(c),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(c)}}function S(W){if(m=!1,x(W),!v)if(n(l)!==null)v=!0,Y(A);else{var re=n(c);re!==null&&Q(S,re.startTime-W)}}function A(W,re){v=!1,m&&(m=!1,g(L),L=-1),p=!0;var ce=f;try{for(x(re),d=n(l);d!==null&&(!(d.expirationTime>re)||W&&!O());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,f=d.priorityLevel;var D=ae(d.expirationTime<=re);re=t.unstable_now(),typeof D=="function"?d.callback=D:d===n(l)&&r(l),x(re)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var ee=n(c);ee!==null&&Q(S,ee.startTime-re),K=!1}return K}finally{d=null,f=ce,p=!1}}var E=!1,T=null,L=-1,I=5,q=-1;function O(){return!(t.unstable_now()-q<I)}function M(){if(T!==null){var W=t.unstable_now();q=W;var re=!0;try{re=T(!0,W)}finally{re?z():(E=!1,T=null)}}else E=!1}var z;if(typeof w=="function")z=function(){w(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=M,z=function(){G.postMessage(null)}}else z=function(){b(M,0)};function Y(W){T=W,E||(E=!0,z())}function Q(W,re){L=b(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,Y(A))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var re=3;break;default:re=f}var ce=f;f=re;try{return W()}finally{f=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=f;f=W;try{return re()}finally{f=ce}},t.unstable_scheduleCallback=function(W,re,ce){var ae=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ae+ce:ae):ce=ae,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,W={id:u++,callback:re,priorityLevel:W,startTime:ce,expirationTime:D,sortIndex:-1},ce>ae?(W.sortIndex=ce,e(c,W),n(l)===null&&W===n(c)&&(m?(g(L),L=-1):m=!0,Q(S,ce-ae))):(W.sortIndex=D,e(l,W),v||p||(v=!0,Y(A))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var re=f;return function(){var ce=f;f=re;try{return W.apply(this,arguments)}finally{f=ce}}}})(TB);kB.exports=TB;var BK=kB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UK=Ae,Va=BK;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CB=new Set,Nb={};function Fg(t,e){Wv(t,e),Wv(t+"Capture",e)}function Wv(t,e){for(Nb[t]=e,t=0;t<e.length;t++)CB.add(e[t])}var Zu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),UC=Object.prototype.hasOwnProperty,zK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hM={},dM={};function qK(t){return UC.call(dM,t)?!0:UC.call(hM,t)?!1:zK.test(t)?dM[t]=!0:(hM[t]=!0,!1)}function HK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WK(t,e,n,r){if(e===null||typeof e>"u"||HK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ds(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var es={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){es[t]=new Ds(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];es[e]=new Ds(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){es[t]=new Ds(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){es[t]=new Ds(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){es[t]=new Ds(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){es[t]=new Ds(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){es[t]=new Ds(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){es[t]=new Ds(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){es[t]=new Ds(t,5,!1,t.toLowerCase(),null,!1,!1)});var rL=/[\-:]([a-z])/g;function iL(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rL,iL);es[e]=new Ds(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rL,iL);es[e]=new Ds(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rL,iL);es[e]=new Ds(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){es[t]=new Ds(t,1,!1,t.toLowerCase(),null,!1,!1)});es.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){es[t]=new Ds(t,1,!1,t.toLowerCase(),null,!0,!0)});function sL(t,e,n,r){var i=es.hasOwnProperty(e)?es[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WK(e,n,i,r)&&(n=null),r||i===null?qK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var lh=UK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B_=Symbol.for("react.element"),Rm=Symbol.for("react.portal"),Mm=Symbol.for("react.fragment"),aL=Symbol.for("react.strict_mode"),zC=Symbol.for("react.profiler"),OB=Symbol.for("react.provider"),NB=Symbol.for("react.context"),oL=Symbol.for("react.forward_ref"),qC=Symbol.for("react.suspense"),HC=Symbol.for("react.suspense_list"),lL=Symbol.for("react.memo"),Rh=Symbol.for("react.lazy"),LB=Symbol.for("react.offscreen"),fM=Symbol.iterator;function d1(t){return t===null||typeof t!="object"?null:(t=fM&&t[fM]||t["@@iterator"],typeof t=="function"?t:null)}var yr=Object.assign,Xk;function D1(t){if(Xk===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xk=e&&e[1]||""}return`
`+Xk+t}var Yk=!1;function Jk(t,e){if(!t||Yk)return"";Yk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Yk=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?D1(t):""}function VK(t){switch(t.tag){case 5:return D1(t.type);case 16:return D1("Lazy");case 13:return D1("Suspense");case 19:return D1("SuspenseList");case 0:case 2:case 15:return t=Jk(t.type,!1),t;case 11:return t=Jk(t.type.render,!1),t;case 1:return t=Jk(t.type,!0),t;default:return""}}function WC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mm:return"Fragment";case Rm:return"Portal";case zC:return"Profiler";case aL:return"StrictMode";case qC:return"Suspense";case HC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NB:return(t.displayName||"Context")+".Consumer";case OB:return(t._context.displayName||"Context")+".Provider";case oL:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lL:return e=t.displayName||null,e!==null?e:WC(t.type)||"Memo";case Rh:e=t._payload,t=t._init;try{return WC(t(e))}catch{}}return null}function GK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WC(e);case 8:return e===aL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IB(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KK(t){var e=IB(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function U_(t){t._valueTracker||(t._valueTracker=KK(t))}function RB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IB(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function BA(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function VC(t,e){var n=e.checked;return yr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pM(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MB(t,e){e=e.checked,e!=null&&sL(t,"checked",e,!1)}function GC(t,e){MB(t,e);var n=Kd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?KC(t,e.type,n):e.hasOwnProperty("defaultValue")&&KC(t,e.type,Kd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gM(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function KC(t,e,n){(e!=="number"||BA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var F1=Array.isArray;function r0(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kd(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function XC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return yr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mM(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if(F1(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kd(n)}}function jB(t,e){var n=Kd(e.value),r=Kd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vM(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var z_,FB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(z_=z_||document.createElement("div"),z_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=z_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var db={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XK=["Webkit","ms","Moz","O"];Object.keys(db).forEach(function(t){XK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),db[e]=db[t]})});function $B(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||db.hasOwnProperty(t)&&db[t]?(""+e).trim():e+"px"}function BB(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$B(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YK=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JC(t,e){if(e){if(YK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function ZC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QC=null;function cL(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eO=null,i0=null,s0=null;function yM(t){if(t=Dx(t)){if(typeof eO!="function")throw Error(je(280));var e=t.stateNode;e&&(e=rP(e),eO(t.stateNode,t.type,e))}}function UB(t){i0?s0?s0.push(t):s0=[t]:i0=t}function zB(){if(i0){var t=i0,e=s0;if(s0=i0=null,yM(t),e)for(t=0;t<e.length;t++)yM(e[t])}}function qB(t,e){return t(e)}function HB(){}var Zk=!1;function WB(t,e,n){if(Zk)return t(e,n);Zk=!0;try{return qB(t,e,n)}finally{Zk=!1,(i0!==null||s0!==null)&&(HB(),zB())}}function Ib(t,e){var n=t.stateNode;if(n===null)return null;var r=rP(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var tO=!1;if(Zu)try{var f1={};Object.defineProperty(f1,"passive",{get:function(){tO=!0}}),window.addEventListener("test",f1,f1),window.removeEventListener("test",f1,f1)}catch{tO=!1}function JK(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var fb=!1,UA=null,zA=!1,nO=null,ZK={onError:function(t){fb=!0,UA=t}};function QK(t,e,n,r,i,s,a,o,l){fb=!1,UA=null,JK.apply(ZK,arguments)}function eX(t,e,n,r,i,s,a,o,l){if(QK.apply(this,arguments),fb){if(fb){var c=UA;fb=!1,UA=null}else throw Error(je(198));zA||(zA=!0,nO=c)}}function $g(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bM(t){if($g(t)!==t)throw Error(je(188))}function tX(t){var e=t.alternate;if(!e){if(e=$g(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bM(i),t;if(s===r)return bM(i),e;s=s.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function GB(t){return t=tX(t),t!==null?KB(t):null}function KB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KB(t);if(e!==null)return e;t=t.sibling}return null}var XB=Va.unstable_scheduleCallback,wM=Va.unstable_cancelCallback,nX=Va.unstable_shouldYield,rX=Va.unstable_requestPaint,$r=Va.unstable_now,iX=Va.unstable_getCurrentPriorityLevel,uL=Va.unstable_ImmediatePriority,YB=Va.unstable_UserBlockingPriority,qA=Va.unstable_NormalPriority,sX=Va.unstable_LowPriority,JB=Va.unstable_IdlePriority,QE=null,bc=null;function aX(t){if(bc&&typeof bc.onCommitFiberRoot=="function")try{bc.onCommitFiberRoot(QE,t,void 0,(t.current.flags&128)===128)}catch{}}var xl=Math.clz32?Math.clz32:cX,oX=Math.log,lX=Math.LN2;function cX(t){return t>>>=0,t===0?32:31-(oX(t)/lX|0)|0}var q_=64,H_=4194304;function $1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function HA(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=$1(o):(s&=a,s!==0&&(r=$1(s)))}else a=n&~i,a!==0?r=$1(a):s!==0&&(r=$1(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xl(e),i=1<<n,r|=t[n],e&=~i;return r}function uX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hX(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-xl(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=uX(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function rO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZB(){var t=q_;return q_<<=1,!(q_&4194240)&&(q_=64),t}function Qk(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mx(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xl(e),t[e]=n}function dX(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xl(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hL(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _n=0;function QB(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e7,dL,t7,n7,r7,iO=!1,W_=[],Fd=null,$d=null,Bd=null,Rb=new Map,Mb=new Map,$h=[],fX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xM(t,e){switch(t){case"focusin":case"focusout":Fd=null;break;case"dragenter":case"dragleave":$d=null;break;case"mouseover":case"mouseout":Bd=null;break;case"pointerover":case"pointerout":Rb.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mb.delete(e.pointerId)}}function p1(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dx(e),e!==null&&dL(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pX(t,e,n,r,i){switch(e){case"focusin":return Fd=p1(Fd,t,e,n,r,i),!0;case"dragenter":return $d=p1($d,t,e,n,r,i),!0;case"mouseover":return Bd=p1(Bd,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rb.set(s,p1(Rb.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mb.set(s,p1(Mb.get(s)||null,t,e,n,r,i)),!0}return!1}function i7(t){var e=Kf(t.target);if(e!==null){var n=$g(e);if(n!==null){if(e=n.tag,e===13){if(e=VB(n),e!==null){t.blockedOn=e,r7(t.priority,function(){t7(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function U5(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);QC=r,n.target.dispatchEvent(r),QC=null}else return e=Dx(n),e!==null&&dL(e),t.blockedOn=n,!1;e.shift()}return!0}function _M(t,e,n){U5(t)&&n.delete(e)}function gX(){iO=!1,Fd!==null&&U5(Fd)&&(Fd=null),$d!==null&&U5($d)&&($d=null),Bd!==null&&U5(Bd)&&(Bd=null),Rb.forEach(_M),Mb.forEach(_M)}function g1(t,e){t.blockedOn===e&&(t.blockedOn=null,iO||(iO=!0,Va.unstable_scheduleCallback(Va.unstable_NormalPriority,gX)))}function jb(t){function e(i){return g1(i,t)}if(0<W_.length){g1(W_[0],t);for(var n=1;n<W_.length;n++){var r=W_[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fd!==null&&g1(Fd,t),$d!==null&&g1($d,t),Bd!==null&&g1(Bd,t),Rb.forEach(e),Mb.forEach(e),n=0;n<$h.length;n++)r=$h[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$h.length&&(n=$h[0],n.blockedOn===null);)i7(n),n.blockedOn===null&&$h.shift()}var a0=lh.ReactCurrentBatchConfig,WA=!0;function mX(t,e,n,r){var i=_n,s=a0.transition;a0.transition=null;try{_n=1,fL(t,e,n,r)}finally{_n=i,a0.transition=s}}function vX(t,e,n,r){var i=_n,s=a0.transition;a0.transition=null;try{_n=4,fL(t,e,n,r)}finally{_n=i,a0.transition=s}}function fL(t,e,n,r){if(WA){var i=sO(t,e,n,r);if(i===null)cT(t,e,r,VA,n),xM(t,r);else if(pX(i,t,e,n,r))r.stopPropagation();else if(xM(t,r),e&4&&-1<fX.indexOf(t)){for(;i!==null;){var s=Dx(i);if(s!==null&&e7(s),s=sO(t,e,n,r),s===null&&cT(t,e,r,VA,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cT(t,e,r,null,n)}}var VA=null;function sO(t,e,n,r){if(VA=null,t=cL(r),t=Kf(t),t!==null)if(e=$g(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VB(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return VA=t,null}function s7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iX()){case uL:return 1;case YB:return 4;case qA:case sX:return 16;case JB:return 536870912;default:return 16}default:return 16}}var Id=null,pL=null,z5=null;function a7(){if(z5)return z5;var t,e=pL,n=e.length,r,i="value"in Id?Id.value:Id.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return z5=i.slice(t,1<r?1-r:void 0)}function q5(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function V_(){return!0}function AM(){return!1}function Xa(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?V_:AM,this.isPropagationStopped=AM,this}return yr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=V_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=V_)},persist:function(){},isPersistent:V_}),e}var xy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gL=Xa(xy),jx=yr({},xy,{view:0,detail:0}),yX=Xa(jx),eT,tT,m1,eP=yr({},jx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mL,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==m1&&(m1&&t.type==="mousemove"?(eT=t.screenX-m1.screenX,tT=t.screenY-m1.screenY):tT=eT=0,m1=t),eT)},movementY:function(t){return"movementY"in t?t.movementY:tT}}),SM=Xa(eP),bX=yr({},eP,{dataTransfer:0}),wX=Xa(bX),xX=yr({},jx,{relatedTarget:0}),nT=Xa(xX),_X=yr({},xy,{animationName:0,elapsedTime:0,pseudoElement:0}),AX=Xa(_X),SX=yr({},xy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EX=Xa(SX),PX=yr({},xy,{data:0}),EM=Xa(PX),kX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CX[t])?!!e[t]:!1}function mL(){return OX}var NX=yr({},jx,{key:function(t){if(t.key){var e=kX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=q5(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mL,charCode:function(t){return t.type==="keypress"?q5(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?q5(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LX=Xa(NX),IX=yr({},eP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PM=Xa(IX),RX=yr({},jx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mL}),MX=Xa(RX),jX=yr({},xy,{propertyName:0,elapsedTime:0,pseudoElement:0}),DX=Xa(jX),FX=yr({},eP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$X=Xa(FX),BX=[9,13,27,32],vL=Zu&&"CompositionEvent"in window,pb=null;Zu&&"documentMode"in document&&(pb=document.documentMode);var UX=Zu&&"TextEvent"in window&&!pb,o7=Zu&&(!vL||pb&&8<pb&&11>=pb),kM=" ",TM=!1;function l7(t,e){switch(t){case"keyup":return BX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c7(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jm=!1;function zX(t,e){switch(t){case"compositionend":return c7(e);case"keypress":return e.which!==32?null:(TM=!0,kM);case"textInput":return t=e.data,t===kM&&TM?null:t;default:return null}}function qX(t,e){if(jm)return t==="compositionend"||!vL&&l7(t,e)?(t=a7(),z5=pL=Id=null,jm=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o7&&e.locale!=="ko"?null:e.data;default:return null}}var HX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HX[t.type]:e==="textarea"}function u7(t,e,n,r){UB(r),e=GA(e,"onChange"),0<e.length&&(n=new gL("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gb=null,Db=null;function WX(t){x7(t,0)}function tP(t){var e=$m(t);if(RB(e))return t}function VX(t,e){if(t==="change")return e}var h7=!1;if(Zu){var rT;if(Zu){var iT="oninput"in document;if(!iT){var OM=document.createElement("div");OM.setAttribute("oninput","return;"),iT=typeof OM.oninput=="function"}rT=iT}else rT=!1;h7=rT&&(!document.documentMode||9<document.documentMode)}function NM(){gb&&(gb.detachEvent("onpropertychange",d7),Db=gb=null)}function d7(t){if(t.propertyName==="value"&&tP(Db)){var e=[];u7(e,Db,t,cL(t)),WB(WX,e)}}function GX(t,e,n){t==="focusin"?(NM(),gb=e,Db=n,gb.attachEvent("onpropertychange",d7)):t==="focusout"&&NM()}function KX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tP(Db)}function XX(t,e){if(t==="click")return tP(e)}function YX(t,e){if(t==="input"||t==="change")return tP(e)}function JX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sl=typeof Object.is=="function"?Object.is:JX;function Fb(t,e){if(Sl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!UC.call(e,i)||!Sl(t[i],e[i]))return!1}return!0}function LM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IM(t,e){var n=LM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=LM(n)}}function f7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p7(){for(var t=window,e=BA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=BA(t.document)}return e}function yL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZX(t){var e=p7(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&f7(n.ownerDocument.documentElement,n)){if(r!==null&&yL(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=IM(n,s);var a=IM(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QX=Zu&&"documentMode"in document&&11>=document.documentMode,Dm=null,aO=null,mb=null,oO=!1;function RM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oO||Dm==null||Dm!==BA(r)||(r=Dm,"selectionStart"in r&&yL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mb&&Fb(mb,r)||(mb=r,r=GA(aO,"onSelect"),0<r.length&&(e=new gL("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dm)))}function G_(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fm={animationend:G_("Animation","AnimationEnd"),animationiteration:G_("Animation","AnimationIteration"),animationstart:G_("Animation","AnimationStart"),transitionend:G_("Transition","TransitionEnd")},sT={},g7={};Zu&&(g7=document.createElement("div").style,"AnimationEvent"in window||(delete Fm.animationend.animation,delete Fm.animationiteration.animation,delete Fm.animationstart.animation),"TransitionEvent"in window||delete Fm.transitionend.transition);function nP(t){if(sT[t])return sT[t];if(!Fm[t])return t;var e=Fm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in g7)return sT[t]=e[n];return t}var m7=nP("animationend"),v7=nP("animationiteration"),y7=nP("animationstart"),b7=nP("transitionend"),w7=new Map,MM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tf(t,e){w7.set(t,e),Fg(e,[t])}for(var aT=0;aT<MM.length;aT++){var oT=MM[aT],eY=oT.toLowerCase(),tY=oT[0].toUpperCase()+oT.slice(1);tf(eY,"on"+tY)}tf(m7,"onAnimationEnd");tf(v7,"onAnimationIteration");tf(y7,"onAnimationStart");tf("dblclick","onDoubleClick");tf("focusin","onFocus");tf("focusout","onBlur");tf(b7,"onTransitionEnd");Wv("onMouseEnter",["mouseout","mouseover"]);Wv("onMouseLeave",["mouseout","mouseover"]);Wv("onPointerEnter",["pointerout","pointerover"]);Wv("onPointerLeave",["pointerout","pointerover"]);Fg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var B1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nY=new Set("cancel close invalid load scroll toggle".split(" ").concat(B1));function jM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eX(r,e,void 0,t),t.currentTarget=null}function x7(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;jM(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;jM(i,o,c),s=l}}}if(zA)throw t=nO,zA=!1,nO=null,t}function Yn(t,e){var n=e[dO];n===void 0&&(n=e[dO]=new Set);var r=t+"__bubble";n.has(r)||(_7(e,t,2,!1),n.add(r))}function lT(t,e,n){var r=0;e&&(r|=4),_7(n,t,r,e)}var K_="_reactListening"+Math.random().toString(36).slice(2);function $b(t){if(!t[K_]){t[K_]=!0,CB.forEach(function(n){n!=="selectionchange"&&(nY.has(n)||lT(n,!1,t),lT(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[K_]||(e[K_]=!0,lT("selectionchange",!1,e))}}function _7(t,e,n,r){switch(s7(e)){case 1:var i=mX;break;case 4:i=vX;break;default:i=fL}n=i.bind(null,e,n,t),i=void 0,!tO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cT(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Kf(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}WB(function(){var c=s,u=cL(n),d=[];e:{var f=w7.get(t);if(f!==void 0){var p=gL,v=t;switch(t){case"keypress":if(q5(n)===0)break e;case"keydown":case"keyup":p=LX;break;case"focusin":v="focus",p=nT;break;case"focusout":v="blur",p=nT;break;case"beforeblur":case"afterblur":p=nT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=SM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MX;break;case m7:case v7:case y7:p=AX;break;case b7:p=DX;break;case"scroll":p=yX;break;case"wheel":p=$X;break;case"copy":case"cut":case"paste":p=EX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=PM}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var w=c,x;w!==null;){x=w;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,g!==null&&(S=Ib(w,g),S!=null&&m.push(Bb(w,S,x)))),b)break;w=w.return}0<m.length&&(f=new p(f,v,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==QC&&(v=n.relatedTarget||n.fromElement)&&(Kf(v)||v[Qu]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Kf(v):null,v!==null&&(b=$g(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(m=SM,S="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=PM,S="onPointerLeave",g="onPointerEnter",w="pointer"),b=p==null?f:$m(p),x=v==null?f:$m(v),f=new m(S,w+"leave",p,n,u),f.target=b,f.relatedTarget=x,S=null,Kf(u)===c&&(m=new m(g,w+"enter",v,n,u),m.target=x,m.relatedTarget=b,S=m),b=S,p&&v)t:{for(m=p,g=v,w=0,x=m;x;x=om(x))w++;for(x=0,S=g;S;S=om(S))x++;for(;0<w-x;)m=om(m),w--;for(;0<x-w;)g=om(g),x--;for(;w--;){if(m===g||g!==null&&m===g.alternate)break t;m=om(m),g=om(g)}m=null}else m=null;p!==null&&DM(d,f,p,m,!1),v!==null&&b!==null&&DM(d,b,v,m,!0)}}e:{if(f=c?$m(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var A=VX;else if(CM(f))if(h7)A=YX;else{A=KX;var E=GX}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=XX);if(A&&(A=A(t,c))){u7(d,A,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&KC(f,"number",f.value)}switch(E=c?$m(c):window,t){case"focusin":(CM(E)||E.contentEditable==="true")&&(Dm=E,aO=c,mb=null);break;case"focusout":mb=aO=Dm=null;break;case"mousedown":oO=!0;break;case"contextmenu":case"mouseup":case"dragend":oO=!1,RM(d,n,u);break;case"selectionchange":if(QX)break;case"keydown":case"keyup":RM(d,n,u)}var T;if(vL)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else jm?l7(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(o7&&n.locale!=="ko"&&(jm||L!=="onCompositionStart"?L==="onCompositionEnd"&&jm&&(T=a7()):(Id=u,pL="value"in Id?Id.value:Id.textContent,jm=!0)),E=GA(c,L),0<E.length&&(L=new EM(L,t,null,n,u),d.push({event:L,listeners:E}),T?L.data=T:(T=c7(n),T!==null&&(L.data=T)))),(T=UX?zX(t,n):qX(t,n))&&(c=GA(c,"onBeforeInput"),0<c.length&&(u=new EM("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}x7(d,e)})}function Bb(t,e,n){return{instance:t,listener:e,currentTarget:n}}function GA(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ib(t,n),s!=null&&r.unshift(Bb(t,s,i)),s=Ib(t,e),s!=null&&r.push(Bb(t,s,i))),t=t.return}return r}function om(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DM(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Ib(n,s),l!=null&&a.unshift(Bb(n,l,o))):i||(l=Ib(n,s),l!=null&&a.push(Bb(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var rY=/\r\n?/g,iY=/\u0000|\uFFFD/g;function FM(t){return(typeof t=="string"?t:""+t).replace(rY,`
`).replace(iY,"")}function X_(t,e,n){if(e=FM(e),FM(t)!==e&&n)throw Error(je(425))}function KA(){}var lO=null,cO=null;function uO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hO=typeof setTimeout=="function"?setTimeout:void 0,sY=typeof clearTimeout=="function"?clearTimeout:void 0,$M=typeof Promise=="function"?Promise:void 0,aY=typeof queueMicrotask=="function"?queueMicrotask:typeof $M<"u"?function(t){return $M.resolve(null).then(t).catch(oY)}:hO;function oY(t){setTimeout(function(){throw t})}function uT(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),jb(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);jb(e)}function Ud(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function BM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _y=Math.random().toString(36).slice(2),pc="__reactFiber$"+_y,Ub="__reactProps$"+_y,Qu="__reactContainer$"+_y,dO="__reactEvents$"+_y,lY="__reactListeners$"+_y,cY="__reactHandles$"+_y;function Kf(t){var e=t[pc];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qu]||n[pc]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=BM(t);t!==null;){if(n=t[pc])return n;t=BM(t)}return e}t=n,n=t.parentNode}return null}function Dx(t){return t=t[pc]||t[Qu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $m(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function rP(t){return t[Ub]||null}var fO=[],Bm=-1;function nf(t){return{current:t}}function tr(t){0>Bm||(t.current=fO[Bm],fO[Bm]=null,Bm--)}function Vn(t,e){Bm++,fO[Bm]=t.current,t.current=e}var Xd={},bs=nf(Xd),Zs=nf(!1),Sg=Xd;function Vv(t,e){var n=t.type.contextTypes;if(!n)return Xd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qs(t){return t=t.childContextTypes,t!=null}function XA(){tr(Zs),tr(bs)}function UM(t,e,n){if(bs.current!==Xd)throw Error(je(168));Vn(bs,e),Vn(Zs,n)}function A7(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,GK(t)||"Unknown",i));return yr({},n,r)}function YA(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xd,Sg=bs.current,Vn(bs,t),Vn(Zs,Zs.current),!0}function zM(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=A7(t,e,Sg),r.__reactInternalMemoizedMergedChildContext=t,tr(Zs),tr(bs),Vn(bs,t)):tr(Zs),Vn(Zs,n)}var iu=null,iP=!1,hT=!1;function S7(t){iu===null?iu=[t]:iu.push(t)}function uY(t){iP=!0,S7(t)}function rf(){if(!hT&&iu!==null){hT=!0;var t=0,e=_n;try{var n=iu;for(_n=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}iu=null,iP=!1}catch(i){throw iu!==null&&(iu=iu.slice(t+1)),XB(uL,rf),i}finally{_n=e,hT=!1}}return null}var Um=[],zm=0,JA=null,ZA=0,Ao=[],So=0,Eg=null,Uu=1,zu="";function Nf(t,e){Um[zm++]=ZA,Um[zm++]=JA,JA=t,ZA=e}function E7(t,e,n){Ao[So++]=Uu,Ao[So++]=zu,Ao[So++]=Eg,Eg=t;var r=Uu;t=zu;var i=32-xl(r)-1;r&=~(1<<i),n+=1;var s=32-xl(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Uu=1<<32-xl(e)+i|n<<i|r,zu=s+t}else Uu=1<<s|n<<i|r,zu=t}function bL(t){t.return!==null&&(Nf(t,1),E7(t,1,0))}function wL(t){for(;t===JA;)JA=Um[--zm],Um[zm]=null,ZA=Um[--zm],Um[zm]=null;for(;t===Eg;)Eg=Ao[--So],Ao[So]=null,zu=Ao[--So],Ao[So]=null,Uu=Ao[--So],Ao[So]=null}var Ha=null,za=null,lr=!1,vl=null;function P7(t,e){var n=ko(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ha=t,za=Ud(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ha=t,za=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eg!==null?{id:Uu,overflow:zu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ko(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ha=t,za=null,!0):!1;default:return!1}}function pO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gO(t){if(lr){var e=za;if(e){var n=e;if(!qM(t,e)){if(pO(t))throw Error(je(418));e=Ud(n.nextSibling);var r=Ha;e&&qM(t,e)?P7(r,n):(t.flags=t.flags&-4097|2,lr=!1,Ha=t)}}else{if(pO(t))throw Error(je(418));t.flags=t.flags&-4097|2,lr=!1,Ha=t}}}function HM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ha=t}function Y_(t){if(t!==Ha)return!1;if(!lr)return HM(t),lr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uO(t.type,t.memoizedProps)),e&&(e=za)){if(pO(t))throw k7(),Error(je(418));for(;e;)P7(t,e),e=Ud(e.nextSibling)}if(HM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){za=Ud(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}za=null}}else za=Ha?Ud(t.stateNode.nextSibling):null;return!0}function k7(){for(var t=za;t;)t=Ud(t.nextSibling)}function Gv(){za=Ha=null,lr=!1}function xL(t){vl===null?vl=[t]:vl.push(t)}var hY=lh.ReactCurrentBatchConfig;function v1(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function J_(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WM(t){var e=t._init;return e(t._payload)}function T7(t){function e(g,w){if(t){var x=g.deletions;x===null?(g.deletions=[w],g.flags|=16):x.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=Wd(g,w),g.index=0,g.sibling=null,g}function s(g,w,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<w?(g.flags|=2,w):x):(g.flags|=2,w)):(g.flags|=1048576,w)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,w,x,S){return w===null||w.tag!==6?(w=yT(x,g.mode,S),w.return=g,w):(w=i(w,x),w.return=g,w)}function l(g,w,x,S){var A=x.type;return A===Mm?u(g,w,x.props.children,S,x.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Rh&&WM(A)===w.type)?(S=i(w,x.props),S.ref=v1(g,w,x),S.return=g,S):(S=Y5(x.type,x.key,x.props,null,g.mode,S),S.ref=v1(g,w,x),S.return=g,S)}function c(g,w,x,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=bT(x,g.mode,S),w.return=g,w):(w=i(w,x.children||[]),w.return=g,w)}function u(g,w,x,S,A){return w===null||w.tag!==7?(w=bg(x,g.mode,S,A),w.return=g,w):(w=i(w,x),w.return=g,w)}function d(g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yT(""+w,g.mode,x),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case B_:return x=Y5(w.type,w.key,w.props,null,g.mode,x),x.ref=v1(g,null,w),x.return=g,x;case Rm:return w=bT(w,g.mode,x),w.return=g,w;case Rh:var S=w._init;return d(g,S(w._payload),x)}if(F1(w)||d1(w))return w=bg(w,g.mode,x,null),w.return=g,w;J_(g,w)}return null}function f(g,w,x,S){var A=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return A!==null?null:o(g,w,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case B_:return x.key===A?l(g,w,x,S):null;case Rm:return x.key===A?c(g,w,x,S):null;case Rh:return A=x._init,f(g,w,A(x._payload),S)}if(F1(x)||d1(x))return A!==null?null:u(g,w,x,S,null);J_(g,x)}return null}function p(g,w,x,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(x)||null,o(w,g,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case B_:return g=g.get(S.key===null?x:S.key)||null,l(w,g,S,A);case Rm:return g=g.get(S.key===null?x:S.key)||null,c(w,g,S,A);case Rh:var E=S._init;return p(g,w,x,E(S._payload),A)}if(F1(S)||d1(S))return g=g.get(x)||null,u(w,g,S,A,null);J_(w,S)}return null}function v(g,w,x,S){for(var A=null,E=null,T=w,L=w=0,I=null;T!==null&&L<x.length;L++){T.index>L?(I=T,T=null):I=T.sibling;var q=f(g,T,x[L],S);if(q===null){T===null&&(T=I);break}t&&T&&q.alternate===null&&e(g,T),w=s(q,w,L),E===null?A=q:E.sibling=q,E=q,T=I}if(L===x.length)return n(g,T),lr&&Nf(g,L),A;if(T===null){for(;L<x.length;L++)T=d(g,x[L],S),T!==null&&(w=s(T,w,L),E===null?A=T:E.sibling=T,E=T);return lr&&Nf(g,L),A}for(T=r(g,T);L<x.length;L++)I=p(T,g,L,x[L],S),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?L:I.key),w=s(I,w,L),E===null?A=I:E.sibling=I,E=I);return t&&T.forEach(function(O){return e(g,O)}),lr&&Nf(g,L),A}function m(g,w,x,S){var A=d1(x);if(typeof A!="function")throw Error(je(150));if(x=A.call(x),x==null)throw Error(je(151));for(var E=A=null,T=w,L=w=0,I=null,q=x.next();T!==null&&!q.done;L++,q=x.next()){T.index>L?(I=T,T=null):I=T.sibling;var O=f(g,T,q.value,S);if(O===null){T===null&&(T=I);break}t&&T&&O.alternate===null&&e(g,T),w=s(O,w,L),E===null?A=O:E.sibling=O,E=O,T=I}if(q.done)return n(g,T),lr&&Nf(g,L),A;if(T===null){for(;!q.done;L++,q=x.next())q=d(g,q.value,S),q!==null&&(w=s(q,w,L),E===null?A=q:E.sibling=q,E=q);return lr&&Nf(g,L),A}for(T=r(g,T);!q.done;L++,q=x.next())q=p(T,g,L,q.value,S),q!==null&&(t&&q.alternate!==null&&T.delete(q.key===null?L:q.key),w=s(q,w,L),E===null?A=q:E.sibling=q,E=q);return t&&T.forEach(function(M){return e(g,M)}),lr&&Nf(g,L),A}function b(g,w,x,S){if(typeof x=="object"&&x!==null&&x.type===Mm&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case B_:e:{for(var A=x.key,E=w;E!==null;){if(E.key===A){if(A=x.type,A===Mm){if(E.tag===7){n(g,E.sibling),w=i(E,x.props.children),w.return=g,g=w;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Rh&&WM(A)===E.type){n(g,E.sibling),w=i(E,x.props),w.ref=v1(g,E,x),w.return=g,g=w;break e}n(g,E);break}else e(g,E);E=E.sibling}x.type===Mm?(w=bg(x.props.children,g.mode,S,x.key),w.return=g,g=w):(S=Y5(x.type,x.key,x.props,null,g.mode,S),S.ref=v1(g,w,x),S.return=g,g=S)}return a(g);case Rm:e:{for(E=x.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(g,w.sibling),w=i(w,x.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=bT(x,g.mode,S),w.return=g,g=w}return a(g);case Rh:return E=x._init,b(g,w,E(x._payload),S)}if(F1(x))return v(g,w,x,S);if(d1(x))return m(g,w,x,S);J_(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,x),w.return=g,g=w):(n(g,w),w=yT(x,g.mode,S),w.return=g,g=w),a(g)):n(g,w)}return b}var Kv=T7(!0),C7=T7(!1),QA=nf(null),eS=null,qm=null,_L=null;function AL(){_L=qm=eS=null}function SL(t){var e=QA.current;tr(QA),t._currentValue=e}function mO(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function o0(t,e){eS=t,_L=qm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ys=!0),t.firstContext=null)}function Io(t){var e=t._currentValue;if(_L!==t)if(t={context:t,memoizedValue:e,next:null},qm===null){if(eS===null)throw Error(je(308));qm=t,eS.dependencies={lanes:0,firstContext:t}}else qm=qm.next=t;return e}var Xf=null;function EL(t){Xf===null?Xf=[t]:Xf.push(t)}function O7(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,EL(e)):(n.next=i.next,i.next=n),e.interleaved=n,eh(t,r)}function eh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mh=!1;function PL(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zd(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,an&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,eh(t,n)}return i=r.interleaved,i===null?(e.next=e,EL(r)):(e.next=i.next,i.next=e),r.interleaved=e,eh(t,n)}function H5(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hL(t,n)}}function VM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tS(t,e,n,r){var i=t.updateQueue;Mh=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,m=o;switch(f=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=yr({},d,f);break e;case 2:Mh=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);kg|=a,t.lanes=a,t.memoizedState=d}}function GM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var Fx={},wc=nf(Fx),zb=nf(Fx),qb=nf(Fx);function Yf(t){if(t===Fx)throw Error(je(174));return t}function kL(t,e){switch(Vn(qb,e),Vn(zb,t),Vn(wc,Fx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=YC(e,t)}tr(wc),Vn(wc,e)}function Xv(){tr(wc),tr(zb),tr(qb)}function L7(t){Yf(qb.current);var e=Yf(wc.current),n=YC(e,t.type);e!==n&&(Vn(zb,t),Vn(wc,n))}function TL(t){zb.current===t&&(tr(wc),tr(zb))}var pr=nf(0);function nS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dT=[];function CL(){for(var t=0;t<dT.length;t++)dT[t]._workInProgressVersionPrimary=null;dT.length=0}var W5=lh.ReactCurrentDispatcher,fT=lh.ReactCurrentBatchConfig,Pg=0,mr=null,pi=null,Ci=null,rS=!1,vb=!1,Hb=0,dY=0;function rs(){throw Error(je(321))}function OL(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sl(t[n],e[n]))return!1;return!0}function NL(t,e,n,r,i,s){if(Pg=s,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W5.current=t===null||t.memoizedState===null?mY:vY,t=n(r,i),vb){s=0;do{if(vb=!1,Hb=0,25<=s)throw Error(je(301));s+=1,Ci=pi=null,e.updateQueue=null,W5.current=yY,t=n(r,i)}while(vb)}if(W5.current=iS,e=pi!==null&&pi.next!==null,Pg=0,Ci=pi=mr=null,rS=!1,e)throw Error(je(300));return t}function LL(){var t=Hb!==0;return Hb=0,t}function Wl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?mr.memoizedState=Ci=t:Ci=Ci.next=t,Ci}function Ro(){if(pi===null){var t=mr.alternate;t=t!==null?t.memoizedState:null}else t=pi.next;var e=Ci===null?mr.memoizedState:Ci.next;if(e!==null)Ci=e,pi=t;else{if(t===null)throw Error(je(310));pi=t,t={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Ci===null?mr.memoizedState=Ci=t:Ci=Ci.next=t}return Ci}function Wb(t,e){return typeof e=="function"?e(t):e}function pT(t){var e=Ro(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=pi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Pg&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,mr.lanes|=u,kg|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Sl(r,e.memoizedState)||(Ys=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,mr.lanes|=s,kg|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gT(t){var e=Ro(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Sl(s,e.memoizedState)||(Ys=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function I7(){}function R7(t,e){var n=mr,r=Ro(),i=e(),s=!Sl(r.memoizedState,i);if(s&&(r.memoizedState=i,Ys=!0),r=r.queue,IL(D7.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ci!==null&&Ci.memoizedState.tag&1){if(n.flags|=2048,Vb(9,j7.bind(null,n,r,i,e),void 0,null),Ni===null)throw Error(je(349));Pg&30||M7(n,e,i)}return i}function M7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j7(t,e,n,r){e.value=n,e.getSnapshot=r,F7(e)&&$7(t)}function D7(t,e,n){return n(function(){F7(e)&&$7(t)})}function F7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sl(t,n)}catch{return!0}}function $7(t){var e=eh(t,1);e!==null&&_l(e,t,1,-1)}function KM(t){var e=Wl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wb,lastRenderedState:t},e.queue=t,t=t.dispatch=gY.bind(null,mr,t),[e.memoizedState,t]}function Vb(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function B7(){return Ro().memoizedState}function V5(t,e,n,r){var i=Wl();mr.flags|=t,i.memoizedState=Vb(1|e,n,void 0,r===void 0?null:r)}function sP(t,e,n,r){var i=Ro();r=r===void 0?null:r;var s=void 0;if(pi!==null){var a=pi.memoizedState;if(s=a.destroy,r!==null&&OL(r,a.deps)){i.memoizedState=Vb(e,n,s,r);return}}mr.flags|=t,i.memoizedState=Vb(1|e,n,s,r)}function XM(t,e){return V5(8390656,8,t,e)}function IL(t,e){return sP(2048,8,t,e)}function U7(t,e){return sP(4,2,t,e)}function z7(t,e){return sP(4,4,t,e)}function q7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H7(t,e,n){return n=n!=null?n.concat([t]):null,sP(4,4,q7.bind(null,e,t),n)}function RL(){}function W7(t,e){var n=Ro();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OL(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function V7(t,e){var n=Ro();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OL(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function G7(t,e,n){return Pg&21?(Sl(n,e)||(n=ZB(),mr.lanes|=n,kg|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ys=!0),t.memoizedState=n)}function fY(t,e){var n=_n;_n=n!==0&&4>n?n:4,t(!0);var r=fT.transition;fT.transition={};try{t(!1),e()}finally{_n=n,fT.transition=r}}function K7(){return Ro().memoizedState}function pY(t,e,n){var r=Hd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X7(t))Y7(e,n);else if(n=O7(t,e,n,r),n!==null){var i=Rs();_l(n,t,r,i),J7(n,e,r)}}function gY(t,e,n){var r=Hd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X7(t))Y7(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Sl(o,a)){var l=e.interleaved;l===null?(i.next=i,EL(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=O7(t,e,i,r),n!==null&&(i=Rs(),_l(n,t,r,i),J7(n,e,r))}}function X7(t){var e=t.alternate;return t===mr||e!==null&&e===mr}function Y7(t,e){vb=rS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function J7(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hL(t,n)}}var iS={readContext:Io,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useInsertionEffect:rs,useLayoutEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useMutableSource:rs,useSyncExternalStore:rs,useId:rs,unstable_isNewReconciler:!1},mY={readContext:Io,useCallback:function(t,e){return Wl().memoizedState=[t,e===void 0?null:e],t},useContext:Io,useEffect:XM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,V5(4194308,4,q7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return V5(4194308,4,t,e)},useInsertionEffect:function(t,e){return V5(4,2,t,e)},useMemo:function(t,e){var n=Wl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pY.bind(null,mr,t),[r.memoizedState,t]},useRef:function(t){var e=Wl();return t={current:t},e.memoizedState=t},useState:KM,useDebugValue:RL,useDeferredValue:function(t){return Wl().memoizedState=t},useTransition:function(){var t=KM(!1),e=t[0];return t=fY.bind(null,t[1]),Wl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mr,i=Wl();if(lr){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),Ni===null)throw Error(je(349));Pg&30||M7(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,XM(D7.bind(null,r,s,t),[t]),r.flags|=2048,Vb(9,j7.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wl(),e=Ni.identifierPrefix;if(lr){var n=zu,r=Uu;n=(r&~(1<<32-xl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dY++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vY={readContext:Io,useCallback:W7,useContext:Io,useEffect:IL,useImperativeHandle:H7,useInsertionEffect:U7,useLayoutEffect:z7,useMemo:V7,useReducer:pT,useRef:B7,useState:function(){return pT(Wb)},useDebugValue:RL,useDeferredValue:function(t){var e=Ro();return G7(e,pi.memoizedState,t)},useTransition:function(){var t=pT(Wb)[0],e=Ro().memoizedState;return[t,e]},useMutableSource:I7,useSyncExternalStore:R7,useId:K7,unstable_isNewReconciler:!1},yY={readContext:Io,useCallback:W7,useContext:Io,useEffect:IL,useImperativeHandle:H7,useInsertionEffect:U7,useLayoutEffect:z7,useMemo:V7,useReducer:gT,useRef:B7,useState:function(){return gT(Wb)},useDebugValue:RL,useDeferredValue:function(t){var e=Ro();return pi===null?e.memoizedState=t:G7(e,pi.memoizedState,t)},useTransition:function(){var t=gT(Wb)[0],e=Ro().memoizedState;return[t,e]},useMutableSource:I7,useSyncExternalStore:R7,useId:K7,unstable_isNewReconciler:!1};function el(t,e){if(t&&t.defaultProps){e=yr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vO(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var aP={isMounted:function(t){return(t=t._reactInternals)?$g(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rs(),i=Hd(t),s=Vu(r,i);s.payload=e,n!=null&&(s.callback=n),e=zd(t,s,i),e!==null&&(_l(e,t,i,r),H5(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rs(),i=Hd(t),s=Vu(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zd(t,s,i),e!==null&&(_l(e,t,i,r),H5(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rs(),r=Hd(t),i=Vu(n,r);i.tag=2,e!=null&&(i.callback=e),e=zd(t,i,r),e!==null&&(_l(e,t,r,n),H5(e,t,r))}};function YM(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Fb(n,r)||!Fb(i,s):!0}function Z7(t,e,n){var r=!1,i=Xd,s=e.contextType;return typeof s=="object"&&s!==null?s=Io(s):(i=Qs(e)?Sg:bs.current,r=e.contextTypes,s=(r=r!=null)?Vv(t,i):Xd),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=aP,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function JM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&aP.enqueueReplaceState(e,e.state,null)}function yO(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},PL(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Io(s):(s=Qs(e)?Sg:bs.current,i.context=Vv(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vO(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&aP.enqueueReplaceState(i,i.state,null),tS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yv(t,e){try{var n="",r=e;do n+=VK(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function mT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bO(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bY=typeof WeakMap=="function"?WeakMap:Map;function Q7(t,e,n){n=Vu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){aS||(aS=!0,CO=r),bO(t,e)},n}function eU(t,e,n){n=Vu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bO(t,e),typeof r!="function"&&(qd===null?qd=new Set([this]):qd.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ZM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bY;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IY.bind(null,t,e,n),e.then(t,t))}function QM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function e6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vu(-1,1),e.tag=2,zd(n,e,1))),n.lanes|=1),t)}var wY=lh.ReactCurrentOwner,Ys=!1;function Ns(t,e,n,r){e.child=t===null?C7(e,null,n,r):Kv(e,t.child,n,r)}function t6(t,e,n,r,i){n=n.render;var s=e.ref;return o0(e,i),r=NL(t,e,n,r,s,i),n=LL(),t!==null&&!Ys?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,th(t,e,i)):(lr&&n&&bL(e),e.flags|=1,Ns(t,e,r,i),e.child)}function n6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zL(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tU(t,e,s,r,i)):(t=Y5(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fb,n(a,r)&&t.ref===e.ref)return th(t,e,i)}return e.flags|=1,t=Wd(s,r),t.ref=e.ref,t.return=e,e.child=t}function tU(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fb(s,r)&&t.ref===e.ref)if(Ys=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ys=!0);else return e.lanes=t.lanes,th(t,e,i)}return wO(t,e,n,r,i)}function nU(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(Wm,Ma),Ma|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Vn(Wm,Ma),Ma|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vn(Wm,Ma),Ma|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Vn(Wm,Ma),Ma|=r;return Ns(t,e,i,n),e.child}function rU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wO(t,e,n,r,i){var s=Qs(n)?Sg:bs.current;return s=Vv(e,s),o0(e,i),n=NL(t,e,n,r,s,i),r=LL(),t!==null&&!Ys?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,th(t,e,i)):(lr&&r&&bL(e),e.flags|=1,Ns(t,e,n,i),e.child)}function r6(t,e,n,r,i){if(Qs(n)){var s=!0;YA(e)}else s=!1;if(o0(e,i),e.stateNode===null)G5(t,e),Z7(e,n,r),yO(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Io(c):(c=Qs(n)?Sg:bs.current,c=Vv(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&JM(e,a,r,c),Mh=!1;var f=e.memoizedState;a.state=f,tS(e,r,a,i),l=e.memoizedState,o!==r||f!==l||Zs.current||Mh?(typeof u=="function"&&(vO(e,n,u,r),l=e.memoizedState),(o=Mh||YM(e,n,o,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,N7(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:el(e.type,o),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Io(l):(l=Qs(n)?Sg:bs.current,l=Vv(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&JM(e,a,r,l),Mh=!1,f=e.memoizedState,a.state=f,tS(e,r,a,i);var v=e.memoizedState;o!==d||f!==v||Zs.current||Mh?(typeof p=="function"&&(vO(e,n,p,r),v=e.memoizedState),(c=Mh||YM(e,n,c,r,f,v,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return xO(t,e,n,r,s,i)}function xO(t,e,n,r,i,s){rU(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&zM(e,n,!1),th(t,e,s);r=e.stateNode,wY.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Kv(e,t.child,null,s),e.child=Kv(e,null,o,s)):Ns(t,e,o,s),e.memoizedState=r.state,i&&zM(e,n,!0),e.child}function iU(t){var e=t.stateNode;e.pendingContext?UM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&UM(t,e.context,!1),kL(t,e.containerInfo)}function i6(t,e,n,r,i){return Gv(),xL(i),e.flags|=256,Ns(t,e,n,r),e.child}var _O={dehydrated:null,treeContext:null,retryLane:0};function AO(t){return{baseLanes:t,cachePool:null,transitions:null}}function sU(t,e,n){var r=e.pendingProps,i=pr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Vn(pr,i&1),t===null)return gO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=cP(a,r,0,null),t=bg(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=AO(n),e.memoizedState=_O,t):ML(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return xY(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Wd(o,s):(s=bg(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?AO(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=_O,r}return s=t.child,t=s.sibling,r=Wd(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ML(t,e){return e=cP({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Z_(t,e,n,r){return r!==null&&xL(r),Kv(e,t.child,null,n),t=ML(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xY(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=mT(Error(je(422))),Z_(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cP({mode:"visible",children:r.children},i,0,null),s=bg(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kv(e,t.child,null,a),e.child.memoizedState=AO(a),e.memoizedState=_O,s);if(!(e.mode&1))return Z_(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(je(419)),r=mT(s,r,void 0),Z_(t,e,a,r)}if(o=(a&t.childLanes)!==0,Ys||o){if(r=Ni,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,eh(t,i),_l(r,t,i,-1))}return UL(),r=mT(Error(je(421))),Z_(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RY.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,za=Ud(i.nextSibling),Ha=e,lr=!0,vl=null,t!==null&&(Ao[So++]=Uu,Ao[So++]=zu,Ao[So++]=Eg,Uu=t.id,zu=t.overflow,Eg=e),e=ML(e,r.children),e.flags|=4096,e)}function s6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mO(t.return,e,n)}function vT(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aU(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ns(t,e,r.children,n),r=pr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s6(t,n,e);else if(t.tag===19)s6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Vn(pr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vT(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vT(e,!0,n,null,s);break;case"together":vT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function G5(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function th(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),kg|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=Wd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _Y(t,e,n){switch(e.tag){case 3:iU(e),Gv();break;case 5:L7(e);break;case 1:Qs(e.type)&&YA(e);break;case 4:kL(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Vn(QA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Vn(pr,pr.current&1),e.flags|=128,null):n&e.child.childLanes?sU(t,e,n):(Vn(pr,pr.current&1),t=th(t,e,n),t!==null?t.sibling:null);Vn(pr,pr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vn(pr,pr.current),r)break;return null;case 22:case 23:return e.lanes=0,nU(t,e,n)}return th(t,e,n)}var oU,SO,lU,cU;oU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};SO=function(){};lU=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yf(wc.current);var s=null;switch(n){case"input":i=VC(t,i),r=VC(t,r),s=[];break;case"select":i=yr({},i,{value:void 0}),r=yr({},r,{value:void 0}),s=[];break;case"textarea":i=XC(t,i),r=XC(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=KA)}JC(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nb.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nb.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};cU=function(t,e,n,r){n!==r&&(e.flags|=4)};function y1(t,e){if(!lr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AY(t,e,n){var r=e.pendingProps;switch(wL(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(e),null;case 1:return Qs(e.type)&&XA(),is(e),null;case 3:return r=e.stateNode,Xv(),tr(Zs),tr(bs),CL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Y_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vl!==null&&(LO(vl),vl=null))),SO(t,e),is(e),null;case 5:TL(e);var i=Yf(qb.current);if(n=e.type,t!==null&&e.stateNode!=null)lU(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return is(e),null}if(t=Yf(wc.current),Y_(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pc]=e,r[Ub]=s,t=(e.mode&1)!==0,n){case"dialog":Yn("cancel",r),Yn("close",r);break;case"iframe":case"object":case"embed":Yn("load",r);break;case"video":case"audio":for(i=0;i<B1.length;i++)Yn(B1[i],r);break;case"source":Yn("error",r);break;case"img":case"image":case"link":Yn("error",r),Yn("load",r);break;case"details":Yn("toggle",r);break;case"input":pM(r,s),Yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yn("invalid",r);break;case"textarea":mM(r,s),Yn("invalid",r)}JC(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&X_(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&X_(r.textContent,o,t),i=["children",""+o]):Nb.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Yn("scroll",r)}switch(n){case"input":U_(r),gM(r,s,!0);break;case"textarea":U_(r),vM(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=KA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DB(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[pc]=e,t[Ub]=r,oU(t,e,!1,!1),e.stateNode=t;e:{switch(a=ZC(n,r),n){case"dialog":Yn("cancel",t),Yn("close",t),i=r;break;case"iframe":case"object":case"embed":Yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<B1.length;i++)Yn(B1[i],t);i=r;break;case"source":Yn("error",t),i=r;break;case"img":case"image":case"link":Yn("error",t),Yn("load",t),i=r;break;case"details":Yn("toggle",t),i=r;break;case"input":pM(t,r),i=VC(t,r),Yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yr({},r,{value:void 0}),Yn("invalid",t);break;case"textarea":mM(t,r),i=XC(t,r),Yn("invalid",t);break;default:i=r}JC(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?BB(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FB(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lb(t,l):typeof l=="number"&&Lb(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nb.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Yn("scroll",t):l!=null&&sL(t,s,l,a))}switch(n){case"input":U_(t),gM(t,r,!1);break;case"textarea":U_(t),vM(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kd(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?r0(t,!!r.multiple,s,!1):r.defaultValue!=null&&r0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=KA)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return is(e),null;case 6:if(t&&e.stateNode!=null)cU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=Yf(qb.current),Yf(wc.current),Y_(e)){if(r=e.stateNode,n=e.memoizedProps,r[pc]=e,(s=r.nodeValue!==n)&&(t=Ha,t!==null))switch(t.tag){case 3:X_(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&X_(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pc]=e,e.stateNode=r}return is(e),null;case 13:if(tr(pr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lr&&za!==null&&e.mode&1&&!(e.flags&128))k7(),Gv(),e.flags|=98560,s=!1;else if(s=Y_(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[pc]=e}else Gv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;is(e),s=!1}else vl!==null&&(LO(vl),vl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pr.current&1?gi===0&&(gi=3):UL())),e.updateQueue!==null&&(e.flags|=4),is(e),null);case 4:return Xv(),SO(t,e),t===null&&$b(e.stateNode.containerInfo),is(e),null;case 10:return SL(e.type._context),is(e),null;case 17:return Qs(e.type)&&XA(),is(e),null;case 19:if(tr(pr),s=e.memoizedState,s===null)return is(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)y1(s,!1);else{if(gi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=nS(t),a!==null){for(e.flags|=128,y1(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Vn(pr,pr.current&1|2),e.child}t=t.sibling}s.tail!==null&&$r()>Jv&&(e.flags|=128,r=!0,y1(s,!1),e.lanes=4194304)}else{if(!r)if(t=nS(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),y1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lr)return is(e),null}else 2*$r()-s.renderingStartTime>Jv&&n!==1073741824&&(e.flags|=128,r=!0,y1(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$r(),e.sibling=null,n=pr.current,Vn(pr,r?n&1|2:n&1),e):(is(e),null);case 22:case 23:return BL(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ma&1073741824&&(is(e),e.subtreeFlags&6&&(e.flags|=8192)):is(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function SY(t,e){switch(wL(e),e.tag){case 1:return Qs(e.type)&&XA(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xv(),tr(Zs),tr(bs),CL(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return TL(e),null;case 13:if(tr(pr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Gv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tr(pr),null;case 4:return Xv(),null;case 10:return SL(e.type._context),null;case 22:case 23:return BL(),null;case 24:return null;default:return null}}var Q_=!1,vs=!1,EY=typeof WeakSet=="function"?WeakSet:Set,We=null;function Hm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(t,e,r)}else n.current=null}function EO(t,e,n){try{n()}catch(r){Cr(t,e,r)}}var a6=!1;function PY(t,e){if(lO=WA,t=p7(),yL(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(o=a),f===s&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cO={focusedElem:t,selectionRange:n},WA=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,b=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:el(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(S){Cr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return v=a6,a6=!1,v}function yb(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&EO(e,n,s)}i=i.next}while(i!==r)}}function oP(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function PO(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uU(t){var e=t.alternate;e!==null&&(t.alternate=null,uU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pc],delete e[Ub],delete e[dO],delete e[lY],delete e[cY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hU(t){return t.tag===5||t.tag===3||t.tag===4}function o6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=KA));else if(r!==4&&(t=t.child,t!==null))for(kO(t,e,n),t=t.sibling;t!==null;)kO(t,e,n),t=t.sibling}function TO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(TO(t,e,n),t=t.sibling;t!==null;)TO(t,e,n),t=t.sibling}var Ki=null,pl=!1;function Ch(t,e,n){for(n=n.child;n!==null;)dU(t,e,n),n=n.sibling}function dU(t,e,n){if(bc&&typeof bc.onCommitFiberUnmount=="function")try{bc.onCommitFiberUnmount(QE,n)}catch{}switch(n.tag){case 5:vs||Hm(n,e);case 6:var r=Ki,i=pl;Ki=null,Ch(t,e,n),Ki=r,pl=i,Ki!==null&&(pl?(t=Ki,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ki.removeChild(n.stateNode));break;case 18:Ki!==null&&(pl?(t=Ki,n=n.stateNode,t.nodeType===8?uT(t.parentNode,n):t.nodeType===1&&uT(t,n),jb(t)):uT(Ki,n.stateNode));break;case 4:r=Ki,i=pl,Ki=n.stateNode.containerInfo,pl=!0,Ch(t,e,n),Ki=r,pl=i;break;case 0:case 11:case 14:case 15:if(!vs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&EO(n,e,a),i=i.next}while(i!==r)}Ch(t,e,n);break;case 1:if(!vs&&(Hm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cr(n,e,o)}Ch(t,e,n);break;case 21:Ch(t,e,n);break;case 22:n.mode&1?(vs=(r=vs)||n.memoizedState!==null,Ch(t,e,n),vs=r):Ch(t,e,n);break;default:Ch(t,e,n)}}function l6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EY),e.forEach(function(r){var i=MY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ko(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ki=o.stateNode,pl=!1;break e;case 3:Ki=o.stateNode.containerInfo,pl=!0;break e;case 4:Ki=o.stateNode.containerInfo,pl=!0;break e}o=o.return}if(Ki===null)throw Error(je(160));dU(s,a,i),Ki=null,pl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Cr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fU(e,t),e=e.sibling}function fU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ko(e,t),$l(t),r&4){try{yb(3,t,t.return),oP(3,t)}catch(m){Cr(t,t.return,m)}try{yb(5,t,t.return)}catch(m){Cr(t,t.return,m)}}break;case 1:Ko(e,t),$l(t),r&512&&n!==null&&Hm(n,n.return);break;case 5:if(Ko(e,t),$l(t),r&512&&n!==null&&Hm(n,n.return),t.flags&32){var i=t.stateNode;try{Lb(i,"")}catch(m){Cr(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&MB(i,s),ZC(o,a);var c=ZC(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?BB(i,d):u==="dangerouslySetInnerHTML"?FB(i,d):u==="children"?Lb(i,d):sL(i,u,d,c)}switch(o){case"input":GC(i,s);break;case"textarea":jB(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?r0(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?r0(i,!!s.multiple,s.defaultValue,!0):r0(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ub]=s}catch(m){Cr(t,t.return,m)}}break;case 6:if(Ko(e,t),$l(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Cr(t,t.return,m)}}break;case 3:if(Ko(e,t),$l(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jb(e.containerInfo)}catch(m){Cr(t,t.return,m)}break;case 4:Ko(e,t),$l(t);break;case 13:Ko(e,t),$l(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(FL=$r())),r&4&&l6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vs=(c=vs)||u,Ko(e,t),vs=c):Ko(e,t),$l(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(We=t,u=t.child;u!==null;){for(d=We=u;We!==null;){switch(f=We,p=f.child,f.tag){case 0:case 11:case 14:case 15:yb(4,f,f.return);break;case 1:Hm(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Cr(r,n,m)}}break;case 5:Hm(f,f.return);break;case 22:if(f.memoizedState!==null){u6(d);continue}}p!==null?(p.return=f,We=p):u6(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=$B("display",a))}catch(m){Cr(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Cr(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ko(e,t),$l(t),r&4&&l6(t);break;case 21:break;default:Ko(e,t),$l(t)}}function $l(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hU(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lb(i,""),r.flags&=-33);var s=o6(t);TO(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=o6(t);kO(t,o,a);break;default:throw Error(je(161))}}catch(l){Cr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kY(t,e,n){We=t,pU(t)}function pU(t,e,n){for(var r=(t.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Q_;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||vs;o=Q_;var c=vs;if(Q_=a,(vs=l)&&!c)for(We=i;We!==null;)a=We,l=a.child,a.tag===22&&a.memoizedState!==null?h6(i):l!==null?(l.return=a,We=l):h6(i);for(;s!==null;)We=s,pU(s),s=s.sibling;We=i,Q_=o,vs=c}c6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):c6(t)}}function c6(t){for(;We!==null;){var e=We;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vs||oP(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vs)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:el(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&GM(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}GM(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&jb(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}vs||e.flags&512&&PO(e)}catch(f){Cr(e,e.return,f)}}if(e===t){We=null;break}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}}function u6(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var n=e.sibling;if(n!==null){n.return=e.return,We=n;break}We=e.return}}function h6(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{oP(4,e)}catch(l){Cr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Cr(e,i,l)}}var s=e.return;try{PO(e)}catch(l){Cr(e,s,l)}break;case 5:var a=e.return;try{PO(e)}catch(l){Cr(e,a,l)}}}catch(l){Cr(e,e.return,l)}if(e===t){We=null;break}var o=e.sibling;if(o!==null){o.return=e.return,We=o;break}We=e.return}}var TY=Math.ceil,sS=lh.ReactCurrentDispatcher,jL=lh.ReactCurrentOwner,Co=lh.ReactCurrentBatchConfig,an=0,Ni=null,Jr=null,Qi=0,Ma=0,Wm=nf(0),gi=0,Gb=null,kg=0,lP=0,DL=0,bb=null,Xs=null,FL=0,Jv=1/0,Qc=null,aS=!1,CO=null,qd=null,e5=!1,Rd=null,oS=0,wb=0,OO=null,K5=-1,X5=0;function Rs(){return an&6?$r():K5!==-1?K5:K5=$r()}function Hd(t){return t.mode&1?an&2&&Qi!==0?Qi&-Qi:hY.transition!==null?(X5===0&&(X5=ZB()),X5):(t=_n,t!==0||(t=window.event,t=t===void 0?16:s7(t.type)),t):1}function _l(t,e,n,r){if(50<wb)throw wb=0,OO=null,Error(je(185));Mx(t,n,r),(!(an&2)||t!==Ni)&&(t===Ni&&(!(an&2)&&(lP|=n),gi===4&&Bh(t,Qi)),ea(t,r),n===1&&an===0&&!(e.mode&1)&&(Jv=$r()+500,iP&&rf()))}function ea(t,e){var n=t.callbackNode;hX(t,e);var r=HA(t,t===Ni?Qi:0);if(r===0)n!==null&&wM(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wM(n),e===1)t.tag===0?uY(d6.bind(null,t)):S7(d6.bind(null,t)),aY(function(){!(an&6)&&rf()}),n=null;else{switch(QB(r)){case 1:n=uL;break;case 4:n=YB;break;case 16:n=qA;break;case 536870912:n=JB;break;default:n=qA}n=_U(n,gU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gU(t,e){if(K5=-1,X5=0,an&6)throw Error(je(327));var n=t.callbackNode;if(l0()&&t.callbackNode!==n)return null;var r=HA(t,t===Ni?Qi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lS(t,r);else{e=r;var i=an;an|=2;var s=vU();(Ni!==t||Qi!==e)&&(Qc=null,Jv=$r()+500,yg(t,e));do try{NY();break}catch(o){mU(t,o)}while(!0);AL(),sS.current=s,an=i,Jr!==null?e=0:(Ni=null,Qi=0,e=gi)}if(e!==0){if(e===2&&(i=rO(t),i!==0&&(r=i,e=NO(t,i))),e===1)throw n=Gb,yg(t,0),Bh(t,r),ea(t,$r()),n;if(e===6)Bh(t,r);else{if(i=t.current.alternate,!(r&30)&&!CY(i)&&(e=lS(t,r),e===2&&(s=rO(t),s!==0&&(r=s,e=NO(t,s))),e===1))throw n=Gb,yg(t,0),Bh(t,r),ea(t,$r()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:Lf(t,Xs,Qc);break;case 3:if(Bh(t,r),(r&130023424)===r&&(e=FL+500-$r(),10<e)){if(HA(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hO(Lf.bind(null,t,Xs,Qc),e);break}Lf(t,Xs,Qc);break;case 4:if(Bh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-xl(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=$r()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TY(r/1960))-r,10<r){t.timeoutHandle=hO(Lf.bind(null,t,Xs,Qc),r);break}Lf(t,Xs,Qc);break;case 5:Lf(t,Xs,Qc);break;default:throw Error(je(329))}}}return ea(t,$r()),t.callbackNode===n?gU.bind(null,t):null}function NO(t,e){var n=bb;return t.current.memoizedState.isDehydrated&&(yg(t,e).flags|=256),t=lS(t,e),t!==2&&(e=Xs,Xs=n,e!==null&&LO(e)),t}function LO(t){Xs===null?Xs=t:Xs.push.apply(Xs,t)}function CY(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sl(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bh(t,e){for(e&=~DL,e&=~lP,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xl(e),r=1<<n;t[n]=-1,e&=~r}}function d6(t){if(an&6)throw Error(je(327));l0();var e=HA(t,0);if(!(e&1))return ea(t,$r()),null;var n=lS(t,e);if(t.tag!==0&&n===2){var r=rO(t);r!==0&&(e=r,n=NO(t,r))}if(n===1)throw n=Gb,yg(t,0),Bh(t,e),ea(t,$r()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lf(t,Xs,Qc),ea(t,$r()),null}function $L(t,e){var n=an;an|=1;try{return t(e)}finally{an=n,an===0&&(Jv=$r()+500,iP&&rf())}}function Tg(t){Rd!==null&&Rd.tag===0&&!(an&6)&&l0();var e=an;an|=1;var n=Co.transition,r=_n;try{if(Co.transition=null,_n=1,t)return t()}finally{_n=r,Co.transition=n,an=e,!(an&6)&&rf()}}function BL(){Ma=Wm.current,tr(Wm)}function yg(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sY(n)),Jr!==null)for(n=Jr.return;n!==null;){var r=n;switch(wL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&XA();break;case 3:Xv(),tr(Zs),tr(bs),CL();break;case 5:TL(r);break;case 4:Xv();break;case 13:tr(pr);break;case 19:tr(pr);break;case 10:SL(r.type._context);break;case 22:case 23:BL()}n=n.return}if(Ni=t,Jr=t=Wd(t.current,null),Qi=Ma=e,gi=0,Gb=null,DL=lP=kg=0,Xs=bb=null,Xf!==null){for(e=0;e<Xf.length;e++)if(n=Xf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Xf=null}return t}function mU(t,e){do{var n=Jr;try{if(AL(),W5.current=iS,rS){for(var r=mr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rS=!1}if(Pg=0,Ci=pi=mr=null,vb=!1,Hb=0,jL.current=null,n===null||n.return===null){gi=1,Gb=e,Jr=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Qi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=QM(a);if(p!==null){p.flags&=-257,e6(p,a,o,s,e),p.mode&1&&ZM(s,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){ZM(s,c,e),UL();break e}l=Error(je(426))}}else if(lr&&o.mode&1){var b=QM(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),e6(b,a,o,s,e),xL(Yv(l,o));break e}}s=l=Yv(l,o),gi!==4&&(gi=2),bb===null?bb=[s]:bb.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Q7(s,l,e);VM(s,g);break e;case 1:o=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qd===null||!qd.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=eU(s,o,e);VM(s,S);break e}}s=s.return}while(s!==null)}bU(n)}catch(A){e=A,Jr===n&&n!==null&&(Jr=n=n.return);continue}break}while(!0)}function vU(){var t=sS.current;return sS.current=iS,t===null?iS:t}function UL(){(gi===0||gi===3||gi===2)&&(gi=4),Ni===null||!(kg&268435455)&&!(lP&268435455)||Bh(Ni,Qi)}function lS(t,e){var n=an;an|=2;var r=vU();(Ni!==t||Qi!==e)&&(Qc=null,yg(t,e));do try{OY();break}catch(i){mU(t,i)}while(!0);if(AL(),an=n,sS.current=r,Jr!==null)throw Error(je(261));return Ni=null,Qi=0,gi}function OY(){for(;Jr!==null;)yU(Jr)}function NY(){for(;Jr!==null&&!nX();)yU(Jr)}function yU(t){var e=xU(t.alternate,t,Ma);t.memoizedProps=t.pendingProps,e===null?bU(t):Jr=e,jL.current=null}function bU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SY(n,e),n!==null){n.flags&=32767,Jr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gi=6,Jr=null;return}}else if(n=AY(n,e,Ma),n!==null){Jr=n;return}if(e=e.sibling,e!==null){Jr=e;return}Jr=e=t}while(e!==null);gi===0&&(gi=5)}function Lf(t,e,n){var r=_n,i=Co.transition;try{Co.transition=null,_n=1,LY(t,e,n,r)}finally{Co.transition=i,_n=r}return null}function LY(t,e,n,r){do l0();while(Rd!==null);if(an&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dX(t,s),t===Ni&&(Jr=Ni=null,Qi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||e5||(e5=!0,_U(qA,function(){return l0(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Co.transition,Co.transition=null;var a=_n;_n=1;var o=an;an|=4,jL.current=null,PY(t,n),fU(n,t),ZX(cO),WA=!!lO,cO=lO=null,t.current=n,kY(n),rX(),an=o,_n=a,Co.transition=s}else t.current=n;if(e5&&(e5=!1,Rd=t,oS=i),s=t.pendingLanes,s===0&&(qd=null),aX(n.stateNode),ea(t,$r()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(aS)throw aS=!1,t=CO,CO=null,t;return oS&1&&t.tag!==0&&l0(),s=t.pendingLanes,s&1?t===OO?wb++:(wb=0,OO=t):wb=0,rf(),null}function l0(){if(Rd!==null){var t=QB(oS),e=Co.transition,n=_n;try{if(Co.transition=null,_n=16>t?16:t,Rd===null)var r=!1;else{if(t=Rd,Rd=null,oS=0,an&6)throw Error(je(331));var i=an;for(an|=4,We=t.current;We!==null;){var s=We,a=s.child;if(We.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(We=c;We!==null;){var u=We;switch(u.tag){case 0:case 11:case 15:yb(8,u,s)}var d=u.child;if(d!==null)d.return=u,We=d;else for(;We!==null;){u=We;var f=u.sibling,p=u.return;if(uU(u),u===c){We=null;break}if(f!==null){f.return=p,We=f;break}We=p}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}We=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,We=a;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yb(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,We=g;break e}We=s.return}}var w=t.current;for(We=w;We!==null;){a=We;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,We=x;else e:for(a=w;We!==null;){if(o=We,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:oP(9,o)}}catch(A){Cr(o,o.return,A)}if(o===a){We=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,We=S;break e}We=o.return}}if(an=i,rf(),bc&&typeof bc.onPostCommitFiberRoot=="function")try{bc.onPostCommitFiberRoot(QE,t)}catch{}r=!0}return r}finally{_n=n,Co.transition=e}}return!1}function f6(t,e,n){e=Yv(n,e),e=Q7(t,e,1),t=zd(t,e,1),e=Rs(),t!==null&&(Mx(t,1,e),ea(t,e))}function Cr(t,e,n){if(t.tag===3)f6(t,t,n);else for(;e!==null;){if(e.tag===3){f6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qd===null||!qd.has(r))){t=Yv(n,t),t=eU(e,t,1),e=zd(e,t,1),t=Rs(),e!==null&&(Mx(e,1,t),ea(e,t));break}}e=e.return}}function IY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rs(),t.pingedLanes|=t.suspendedLanes&n,Ni===t&&(Qi&n)===n&&(gi===4||gi===3&&(Qi&130023424)===Qi&&500>$r()-FL?yg(t,0):DL|=n),ea(t,e)}function wU(t,e){e===0&&(t.mode&1?(e=H_,H_<<=1,!(H_&130023424)&&(H_=4194304)):e=1);var n=Rs();t=eh(t,e),t!==null&&(Mx(t,e,n),ea(t,n))}function RY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wU(t,n)}function MY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),wU(t,n)}var xU;xU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zs.current)Ys=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ys=!1,_Y(t,e,n);Ys=!!(t.flags&131072)}else Ys=!1,lr&&e.flags&1048576&&E7(e,ZA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;G5(t,e),t=e.pendingProps;var i=Vv(e,bs.current);o0(e,n),i=NL(null,e,r,t,i,n);var s=LL();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qs(r)?(s=!0,YA(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PL(e),i.updater=aP,e.stateNode=i,i._reactInternals=e,yO(e,r,t,n),e=xO(null,e,r,!0,s,n)):(e.tag=0,lr&&s&&bL(e),Ns(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(G5(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DY(r),t=el(r,t),i){case 0:e=wO(null,e,r,t,n);break e;case 1:e=r6(null,e,r,t,n);break e;case 11:e=t6(null,e,r,t,n);break e;case 14:e=n6(null,e,r,el(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:el(r,i),wO(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:el(r,i),r6(t,e,r,i,n);case 3:e:{if(iU(e),t===null)throw Error(je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,N7(t,e),tS(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yv(Error(je(423)),e),e=i6(t,e,r,n,i);break e}else if(r!==i){i=Yv(Error(je(424)),e),e=i6(t,e,r,n,i);break e}else for(za=Ud(e.stateNode.containerInfo.firstChild),Ha=e,lr=!0,vl=null,n=C7(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gv(),r===i){e=th(t,e,n);break e}Ns(t,e,r,n)}e=e.child}return e;case 5:return L7(e),t===null&&gO(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,uO(r,i)?a=null:s!==null&&uO(r,s)&&(e.flags|=32),rU(t,e),Ns(t,e,a,n),e.child;case 6:return t===null&&gO(e),null;case 13:return sU(t,e,n);case 4:return kL(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kv(e,null,r,n):Ns(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:el(r,i),t6(t,e,r,i,n);case 7:return Ns(t,e,e.pendingProps,n),e.child;case 8:return Ns(t,e,e.pendingProps.children,n),e.child;case 12:return Ns(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Vn(QA,r._currentValue),r._currentValue=a,s!==null)if(Sl(s.value,a)){if(s.children===i.children&&!Zs.current){e=th(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vu(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),mO(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),mO(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ns(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,o0(e,n),i=Io(i),r=r(i),e.flags|=1,Ns(t,e,r,n),e.child;case 14:return r=e.type,i=el(r,e.pendingProps),i=el(r.type,i),n6(t,e,r,i,n);case 15:return tU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:el(r,i),G5(t,e),e.tag=1,Qs(r)?(t=!0,YA(e)):t=!1,o0(e,n),Z7(e,r,i),yO(e,r,i,n),xO(null,e,r,!0,t,n);case 19:return aU(t,e,n);case 22:return nU(t,e,n)}throw Error(je(156,e.tag))};function _U(t,e){return XB(t,e)}function jY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(t,e,n,r){return new jY(t,e,n,r)}function zL(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DY(t){if(typeof t=="function")return zL(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oL)return 11;if(t===lL)return 14}return 2}function Wd(t,e){var n=t.alternate;return n===null?(n=ko(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Y5(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")zL(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Mm:return bg(n.children,i,s,e);case aL:a=8,i|=8;break;case zC:return t=ko(12,n,e,i|2),t.elementType=zC,t.lanes=s,t;case qC:return t=ko(13,n,e,i),t.elementType=qC,t.lanes=s,t;case HC:return t=ko(19,n,e,i),t.elementType=HC,t.lanes=s,t;case LB:return cP(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OB:a=10;break e;case NB:a=9;break e;case oL:a=11;break e;case lL:a=14;break e;case Rh:a=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=ko(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bg(t,e,n,r){return t=ko(7,t,r,e),t.lanes=n,t}function cP(t,e,n,r){return t=ko(22,t,r,e),t.elementType=LB,t.lanes=n,t.stateNode={isHidden:!1},t}function yT(t,e,n){return t=ko(6,t,null,e),t.lanes=n,t}function bT(t,e,n){return e=ko(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qk(0),this.expirationTimes=Qk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qk(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qL(t,e,n,r,i,s,a,o,l){return t=new FY(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ko(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PL(s),t}function $Y(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AU(t){if(!t)return Xd;t=t._reactInternals;e:{if($g(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(Qs(n))return A7(t,n,e)}return e}function SU(t,e,n,r,i,s,a,o,l){return t=qL(n,r,!0,t,i,s,a,o,l),t.context=AU(null),n=t.current,r=Rs(),i=Hd(n),s=Vu(r,i),s.callback=e??null,zd(n,s,i),t.current.lanes=i,Mx(t,i,r),ea(t,r),t}function uP(t,e,n,r){var i=e.current,s=Rs(),a=Hd(i);return n=AU(n),e.context===null?e.context=n:e.pendingContext=n,e=Vu(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zd(i,e,a),t!==null&&(_l(t,i,a,s),H5(t,i,a)),a}function cS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function HL(t,e){p6(t,e),(t=t.alternate)&&p6(t,e)}function BY(){return null}var EU=typeof reportError=="function"?reportError:function(t){console.error(t)};function WL(t){this._internalRoot=t}hP.prototype.render=WL.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));uP(t,e,null,null)};hP.prototype.unmount=WL.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tg(function(){uP(null,t,null,null)}),e[Qu]=null}};function hP(t){this._internalRoot=t}hP.prototype.unstable_scheduleHydration=function(t){if(t){var e=n7();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$h.length&&e!==0&&e<$h[n].priority;n++);$h.splice(n,0,t),n===0&&i7(t)}};function VL(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g6(){}function UY(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=cS(a);s.call(c)}}var a=SU(e,r,t,0,null,!1,!1,"",g6);return t._reactRootContainer=a,t[Qu]=a.current,$b(t.nodeType===8?t.parentNode:t),Tg(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=cS(l);o.call(c)}}var l=qL(t,0,!1,null,null,!1,!1,"",g6);return t._reactRootContainer=l,t[Qu]=l.current,$b(t.nodeType===8?t.parentNode:t),Tg(function(){uP(e,l,n,r)}),l}function fP(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=cS(a);o.call(l)}}uP(e,a,t,i)}else a=UY(n,e,t,i,r);return cS(a)}e7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$1(e.pendingLanes);n!==0&&(hL(e,n|1),ea(e,$r()),!(an&6)&&(Jv=$r()+500,rf()))}break;case 13:Tg(function(){var r=eh(t,1);if(r!==null){var i=Rs();_l(r,t,1,i)}}),HL(t,1)}};dL=function(t){if(t.tag===13){var e=eh(t,134217728);if(e!==null){var n=Rs();_l(e,t,134217728,n)}HL(t,134217728)}};t7=function(t){if(t.tag===13){var e=Hd(t),n=eh(t,e);if(n!==null){var r=Rs();_l(n,t,e,r)}HL(t,e)}};n7=function(){return _n};r7=function(t,e){var n=_n;try{return _n=t,e()}finally{_n=n}};eO=function(t,e,n){switch(e){case"input":if(GC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rP(r);if(!i)throw Error(je(90));RB(r),GC(r,i)}}}break;case"textarea":jB(t,n);break;case"select":e=n.value,e!=null&&r0(t,!!n.multiple,e,!1)}};qB=$L;HB=Tg;var zY={usingClientEntryPoint:!1,Events:[Dx,$m,rP,UB,zB,$L]},b1={findFiberByHostInstance:Kf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qY={bundleType:b1.bundleType,version:b1.version,rendererPackageName:b1.rendererPackageName,rendererConfig:b1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GB(t),t===null?null:t.stateNode},findFiberByHostInstance:b1.findFiberByHostInstance||BY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t5.isDisabled&&t5.supportsFiber)try{QE=t5.inject(qY),bc=t5}catch{}}Ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zY;Ka.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VL(e))throw Error(je(200));return $Y(t,e,null,n)};Ka.createRoot=function(t,e){if(!VL(t))throw Error(je(299));var n=!1,r="",i=EU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qL(t,1,!1,null,null,n,!1,r,i),t[Qu]=e.current,$b(t.nodeType===8?t.parentNode:t),new WL(e)};Ka.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=GB(e),t=t===null?null:t.stateNode,t};Ka.flushSync=function(t){return Tg(t)};Ka.hydrate=function(t,e,n){if(!dP(e))throw Error(je(200));return fP(null,t,e,!0,n)};Ka.hydrateRoot=function(t,e,n){if(!VL(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=EU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=SU(e,null,t,1,n??null,i,!1,s,a),t[Qu]=e.current,$b(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hP(e)};Ka.render=function(t,e,n){if(!dP(e))throw Error(je(200));return fP(null,t,e,!1,n)};Ka.unmountComponentAtNode=function(t){if(!dP(t))throw Error(je(40));return t._reactRootContainer?(Tg(function(){fP(null,null,t,!1,function(){t._reactRootContainer=null,t[Qu]=null})}),!0):!1};Ka.unstable_batchedUpdates=$L;Ka.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dP(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return fP(t,e,n,!1,r)};Ka.version="18.3.1-next-f1338f8080-20240426";function PU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PU)}catch(t){console.error(t)}}PU(),PB.exports=Ka;var HY=PB.exports,m6=HY;BC.createRoot=m6.createRoot,BC.hydrateRoot=m6.hydrateRoot;function kU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kU(t))&&(r&&(r+=" "),r+=e);return r}var WY=Array.isArray,ta=WY,VY=typeof F_=="object"&&F_&&F_.Object===Object&&F_,TU=VY,GY=TU,KY=typeof self=="object"&&self&&self.Object===Object&&self,XY=GY||KY||Function("return this")(),kc=XY,YY=kc,JY=YY.Symbol,$x=JY,v6=$x,CU=Object.prototype,ZY=CU.hasOwnProperty,QY=CU.toString,w1=v6?v6.toStringTag:void 0;function eJ(t){var e=ZY.call(t,w1),n=t[w1];try{t[w1]=void 0;var r=!0}catch{}var i=QY.call(t);return r&&(e?t[w1]=n:delete t[w1]),i}var tJ=eJ,nJ=Object.prototype,rJ=nJ.toString;function iJ(t){return rJ.call(t)}var sJ=iJ,y6=$x,aJ=tJ,oJ=sJ,lJ="[object Null]",cJ="[object Undefined]",b6=y6?y6.toStringTag:void 0;function uJ(t){return t==null?t===void 0?cJ:lJ:b6&&b6 in Object(t)?aJ(t):oJ(t)}var ch=uJ;function hJ(t){return t!=null&&typeof t=="object"}var uh=hJ,dJ=ch,fJ=uh,pJ="[object Symbol]";function gJ(t){return typeof t=="symbol"||fJ(t)&&dJ(t)==pJ}var Ay=gJ,mJ=ta,vJ=Ay,yJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bJ=/^\w*$/;function wJ(t,e){if(mJ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||vJ(t)?!0:bJ.test(t)||!yJ.test(t)||e!=null&&t in Object(e)}var GL=wJ;function xJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sf=xJ;const Sy=Kn(sf);var _J=ch,AJ=sf,SJ="[object AsyncFunction]",EJ="[object Function]",PJ="[object GeneratorFunction]",kJ="[object Proxy]";function TJ(t){if(!AJ(t))return!1;var e=_J(t);return e==EJ||e==PJ||e==SJ||e==kJ}var KL=TJ;const Ht=Kn(KL);var CJ=kc,OJ=CJ["__core-js_shared__"],NJ=OJ,wT=NJ,w6=function(){var t=/[^.]+$/.exec(wT&&wT.keys&&wT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function LJ(t){return!!w6&&w6 in t}var IJ=LJ,RJ=Function.prototype,MJ=RJ.toString;function jJ(t){if(t!=null){try{return MJ.call(t)}catch{}try{return t+""}catch{}}return""}var OU=jJ,DJ=KL,FJ=IJ,$J=sf,BJ=OU,UJ=/[\\^$.*+?()[\]{}|]/g,zJ=/^\[object .+?Constructor\]$/,qJ=Function.prototype,HJ=Object.prototype,WJ=qJ.toString,VJ=HJ.hasOwnProperty,GJ=RegExp("^"+WJ.call(VJ).replace(UJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KJ(t){if(!$J(t)||FJ(t))return!1;var e=DJ(t)?GJ:zJ;return e.test(BJ(t))}var XJ=KJ;function YJ(t,e){return t==null?void 0:t[e]}var JJ=YJ,ZJ=XJ,QJ=JJ;function eZ(t,e){var n=QJ(t,e);return ZJ(n)?n:void 0}var Bg=eZ,tZ=Bg,nZ=tZ(Object,"create"),pP=nZ,x6=pP;function rZ(){this.__data__=x6?x6(null):{},this.size=0}var iZ=rZ;function sZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aZ=sZ,oZ=pP,lZ="__lodash_hash_undefined__",cZ=Object.prototype,uZ=cZ.hasOwnProperty;function hZ(t){var e=this.__data__;if(oZ){var n=e[t];return n===lZ?void 0:n}return uZ.call(e,t)?e[t]:void 0}var dZ=hZ,fZ=pP,pZ=Object.prototype,gZ=pZ.hasOwnProperty;function mZ(t){var e=this.__data__;return fZ?e[t]!==void 0:gZ.call(e,t)}var vZ=mZ,yZ=pP,bZ="__lodash_hash_undefined__";function wZ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yZ&&e===void 0?bZ:e,this}var xZ=wZ,_Z=iZ,AZ=aZ,SZ=dZ,EZ=vZ,PZ=xZ;function Ey(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ey.prototype.clear=_Z;Ey.prototype.delete=AZ;Ey.prototype.get=SZ;Ey.prototype.has=EZ;Ey.prototype.set=PZ;var kZ=Ey;function TZ(){this.__data__=[],this.size=0}var CZ=TZ;function OZ(t,e){return t===e||t!==t&&e!==e}var XL=OZ,NZ=XL;function LZ(t,e){for(var n=t.length;n--;)if(NZ(t[n][0],e))return n;return-1}var gP=LZ,IZ=gP,RZ=Array.prototype,MZ=RZ.splice;function jZ(t){var e=this.__data__,n=IZ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():MZ.call(e,n,1),--this.size,!0}var DZ=jZ,FZ=gP;function $Z(t){var e=this.__data__,n=FZ(e,t);return n<0?void 0:e[n][1]}var BZ=$Z,UZ=gP;function zZ(t){return UZ(this.__data__,t)>-1}var qZ=zZ,HZ=gP;function WZ(t,e){var n=this.__data__,r=HZ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var VZ=WZ,GZ=CZ,KZ=DZ,XZ=BZ,YZ=qZ,JZ=VZ;function Py(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Py.prototype.clear=GZ;Py.prototype.delete=KZ;Py.prototype.get=XZ;Py.prototype.has=YZ;Py.prototype.set=JZ;var mP=Py,ZZ=Bg,QZ=kc,eQ=ZZ(QZ,"Map"),YL=eQ,_6=kZ,tQ=mP,nQ=YL;function rQ(){this.size=0,this.__data__={hash:new _6,map:new(nQ||tQ),string:new _6}}var iQ=rQ;function sQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var aQ=sQ,oQ=aQ;function lQ(t,e){var n=t.__data__;return oQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vP=lQ,cQ=vP;function uQ(t){var e=cQ(this,t).delete(t);return this.size-=e?1:0,e}var hQ=uQ,dQ=vP;function fQ(t){return dQ(this,t).get(t)}var pQ=fQ,gQ=vP;function mQ(t){return gQ(this,t).has(t)}var vQ=mQ,yQ=vP;function bQ(t,e){var n=yQ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var wQ=bQ,xQ=iQ,_Q=hQ,AQ=pQ,SQ=vQ,EQ=wQ;function ky(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ky.prototype.clear=xQ;ky.prototype.delete=_Q;ky.prototype.get=AQ;ky.prototype.has=SQ;ky.prototype.set=EQ;var JL=ky,NU=JL,PQ="Expected a function";function ZL(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(PQ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(ZL.Cache||NU),n}ZL.Cache=NU;var LU=ZL;const kQ=Kn(LU);var TQ=LU,CQ=500;function OQ(t){var e=TQ(t,function(r){return n.size===CQ&&n.clear(),r}),n=e.cache;return e}var NQ=OQ,LQ=NQ,IQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RQ=/\\(\\)?/g,MQ=LQ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(IQ,function(n,r,i,s){e.push(i?s.replace(RQ,"$1"):r||n)}),e}),jQ=MQ;function DQ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var QL=DQ,A6=$x,FQ=QL,$Q=ta,BQ=Ay,S6=A6?A6.prototype:void 0,E6=S6?S6.toString:void 0;function IU(t){if(typeof t=="string")return t;if($Q(t))return FQ(t,IU)+"";if(BQ(t))return E6?E6.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var UQ=IU,zQ=UQ;function qQ(t){return t==null?"":zQ(t)}var RU=qQ,HQ=ta,WQ=GL,VQ=jQ,GQ=RU;function KQ(t,e){return HQ(t)?t:WQ(t,e)?[t]:VQ(GQ(t))}var MU=KQ,XQ=Ay;function YQ(t){if(typeof t=="string"||XQ(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var yP=YQ,JQ=MU,ZQ=yP;function QQ(t,e){e=JQ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ZQ(e[n++])];return n&&n==r?t:void 0}var eI=QQ,eee=eI;function tee(t,e,n){var r=t==null?void 0:eee(t,e);return r===void 0?n:r}var jU=tee;const Oo=Kn(jU);function nee(t){return t==null}var ree=nee;const Xt=Kn(ree);var iee=ch,see=ta,aee=uh,oee="[object String]";function lee(t){return typeof t=="string"||!see(t)&&aee(t)&&iee(t)==oee}var cee=lee;const Cg=Kn(cee);var DU={exports:{}},An={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI=Symbol.for("react.element"),nI=Symbol.for("react.portal"),bP=Symbol.for("react.fragment"),wP=Symbol.for("react.strict_mode"),xP=Symbol.for("react.profiler"),_P=Symbol.for("react.provider"),AP=Symbol.for("react.context"),uee=Symbol.for("react.server_context"),SP=Symbol.for("react.forward_ref"),EP=Symbol.for("react.suspense"),PP=Symbol.for("react.suspense_list"),kP=Symbol.for("react.memo"),TP=Symbol.for("react.lazy"),hee=Symbol.for("react.offscreen"),FU;FU=Symbol.for("react.module.reference");function Fo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tI:switch(t=t.type,t){case bP:case xP:case wP:case EP:case PP:return t;default:switch(t=t&&t.$$typeof,t){case uee:case AP:case SP:case TP:case kP:case _P:return t;default:return e}}case nI:return e}}}An.ContextConsumer=AP;An.ContextProvider=_P;An.Element=tI;An.ForwardRef=SP;An.Fragment=bP;An.Lazy=TP;An.Memo=kP;An.Portal=nI;An.Profiler=xP;An.StrictMode=wP;An.Suspense=EP;An.SuspenseList=PP;An.isAsyncMode=function(){return!1};An.isConcurrentMode=function(){return!1};An.isContextConsumer=function(t){return Fo(t)===AP};An.isContextProvider=function(t){return Fo(t)===_P};An.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tI};An.isForwardRef=function(t){return Fo(t)===SP};An.isFragment=function(t){return Fo(t)===bP};An.isLazy=function(t){return Fo(t)===TP};An.isMemo=function(t){return Fo(t)===kP};An.isPortal=function(t){return Fo(t)===nI};An.isProfiler=function(t){return Fo(t)===xP};An.isStrictMode=function(t){return Fo(t)===wP};An.isSuspense=function(t){return Fo(t)===EP};An.isSuspenseList=function(t){return Fo(t)===PP};An.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bP||t===xP||t===wP||t===EP||t===PP||t===hee||typeof t=="object"&&t!==null&&(t.$$typeof===TP||t.$$typeof===kP||t.$$typeof===_P||t.$$typeof===AP||t.$$typeof===SP||t.$$typeof===FU||t.getModuleId!==void 0)};An.typeOf=Fo;DU.exports=An;var dee=DU.exports,fee=ch,pee=uh,gee="[object Number]";function mee(t){return typeof t=="number"||pee(t)&&fee(t)==gee}var $U=mee;const vee=Kn($U);var yee=$U;function bee(t){return yee(t)&&t!=+t}var wee=bee;const Ty=Kn(wee);var bl=function(e){return e===0?0:e>0?1:-1},Jf=function(e){return Cg(e)&&e.indexOf("%")===e.length-1},$e=function(e){return vee(e)&&!Ty(e)},xee=function(e){return Xt(e)},mi=function(e){return $e(e)||Cg(e)},_ee=0,Bx=function(e){var n=++_ee;return"".concat(e||"").concat(n)},Og=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&!Cg(e))return r;var s;if(Jf(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Ty(s)&&(s=r),i&&s>n&&(s=n),s},wm=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Aee=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Eo=function(e,n){return $e(e)&&$e(n)?function(r){return e+r*(n-e)}:function(){return n}};function uS(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Oo(r,e))===n})}var See=function(e,n){return $e(e)&&$e(n)?e-n:Cg(e)&&Cg(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function c0(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function IO(t){"@babel/helpers - typeof";return IO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(t)}var Eee=["viewBox","children"],Pee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],P6=["points","pathLength"],xT={svg:Eee,polygon:P6,polyline:P6},rI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hS=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(Ae.isValidElement(e)&&(r=e.props),!Sy(r))return null;var i={};return Object.keys(r).forEach(function(s){rI.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},kee=function(e,n,r){return function(i){return e(n,r,i),null}},dS=function(e,n,r){if(!Sy(e)||IO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];rI.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=kee(a,n,r))}),i},Tee=["children"],Cee=["children"];function k6(t,e){if(t==null)return{};var n=Oee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RO(t){"@babel/helpers - typeof";return RO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RO(t)}var T6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Gu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},C6=null,_T=null,iI=function t(e){if(e===C6&&Array.isArray(_T))return _T;var n=[];return Ae.Children.forEach(e,function(r){Xt(r)||(dee.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),_T=n,C6=e,n};function Al(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Gu(i)}):r=[Gu(e)],iI(t).forEach(function(i){var s=Oo(i,"type.displayName")||Oo(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function ja(t,e){var n=Al(t,e);return n&&n[0]}var O6=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!$e(r)||r<=0||!$e(i)||i<=0)},Nee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Lee=function(e){return e&&e.type&&Cg(e.type)&&Nee.indexOf(e.type)>=0},Iee=function(e){return e&&RO(e)==="object"&&"clipDot"in e},Ree=function(e,n,r,i){var s,a=(s=xT==null?void 0:xT[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ht(e)&&(i&&a.includes(n)||Pee.includes(n))||r&&rI.includes(n)},Kt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Ae.isValidElement(e)&&(i=e.props),!Sy(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;Ree((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},MO=function t(e,n){if(e===n)return!0;var r=Ae.Children.count(e);if(r!==Ae.Children.count(n))return!1;if(r===0)return!0;if(r===1)return N6(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!N6(s,a))return!1}return!0},N6=function(e,n){if(Xt(e)&&Xt(n))return!0;if(!Xt(e)&&!Xt(n)){var r=e.props||{},i=r.children,s=k6(r,Tee),a=n.props||{},o=a.children,l=k6(a,Cee);return i&&o?c0(s,l)&&MO(i,o):!i&&!o?c0(s,l):!1}return!1},L6=function(e,n){var r=[],i={};return iI(e).forEach(function(s,a){if(Lee(s))r.push(s);else if(s){var o=Gu(s.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(s,o,a);r.push(d),i[o]=!0}}}),r},Mee=function(e){var n=e&&e.type;return n&&T6[n]?T6[n]:null},jee=function(e,n){return iI(n).indexOf(e)},Dee=["children","width","height","viewBox","className","style","title","desc"];function jO(){return jO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jO.apply(this,arguments)}function Fee(t,e){if(t==null)return{};var n=$ee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DO(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=Fee(t,Dee),u=i||{width:n,height:r,x:0,y:0},d=ln("recharts-surface",s);return pe.createElement("svg",jO({},Kt(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),pe.createElement("title",null,o),pe.createElement("desc",null,l),e)}var Bee=["children","className"];function FO(){return FO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FO.apply(this,arguments)}function Uee(t,e){if(t==null)return{};var n=zee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gr=pe.forwardRef(function(t,e){var n=t.children,r=t.className,i=Uee(t,Bee),s=ln("recharts-layer",r);return pe.createElement("g",FO({className:s},Kt(i,!0),{ref:e}),n)}),wg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function qee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Hee=qee,Wee=Hee;function Vee(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Wee(t,e,n)}var Gee=Vee,Kee="\\ud800-\\udfff",Xee="\\u0300-\\u036f",Yee="\\ufe20-\\ufe2f",Jee="\\u20d0-\\u20ff",Zee=Xee+Yee+Jee,Qee="\\ufe0e\\ufe0f",ete="\\u200d",tte=RegExp("["+ete+Kee+Zee+Qee+"]");function nte(t){return tte.test(t)}var BU=nte;function rte(t){return t.split("")}var ite=rte,UU="\\ud800-\\udfff",ste="\\u0300-\\u036f",ate="\\ufe20-\\ufe2f",ote="\\u20d0-\\u20ff",lte=ste+ate+ote,cte="\\ufe0e\\ufe0f",ute="["+UU+"]",$O="["+lte+"]",BO="\\ud83c[\\udffb-\\udfff]",hte="(?:"+$O+"|"+BO+")",zU="[^"+UU+"]",qU="(?:\\ud83c[\\udde6-\\uddff]){2}",HU="[\\ud800-\\udbff][\\udc00-\\udfff]",dte="\\u200d",WU=hte+"?",VU="["+cte+"]?",fte="(?:"+dte+"(?:"+[zU,qU,HU].join("|")+")"+VU+WU+")*",pte=VU+WU+fte,gte="(?:"+[zU+$O+"?",$O,qU,HU,ute].join("|")+")",mte=RegExp(BO+"(?="+BO+")|"+gte+pte,"g");function vte(t){return t.match(mte)||[]}var yte=vte,bte=ite,wte=BU,xte=yte;function _te(t){return wte(t)?xte(t):bte(t)}var Ate=_te,Ste=Gee,Ete=BU,Pte=Ate,kte=RU;function Tte(t){return function(e){e=kte(e);var n=Ete(e)?Pte(e):void 0,r=n?n[0]:e.charAt(0),i=n?Ste(n,1).join(""):e.slice(1);return r[t]()+i}}var Cte=Tte,Ote=Cte,Nte=Ote("toUpperCase"),Lte=Nte;const CP=Kn(Lte);function Wn(t){return function(){return t}}const GU=Math.cos,fS=Math.sin,kl=Math.sqrt,pS=Math.PI,OP=2*pS,UO=Math.PI,zO=2*UO,If=1e-6,Ite=zO-If;function KU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Rte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return KU;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Mte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?KU:Rte(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,u=a-e,d=o-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>If)if(!(Math.abs(d*l-c*u)>If)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,v=i-o,m=l*l+c*c,b=p*p+v*v,g=Math.sqrt(m),w=Math.sqrt(f),x=s*Math.tan((UO-Math.acos((m+f-b)/(2*g*w)))/2),S=x/w,A=x/g;Math.abs(S-1)>If&&this._append`L${e+S*u},${n+S*d}`,this._append`A${s},${s},0,0,${+(d*p>u*v)},${this._x1=e+A*l},${this._y1=n+A*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>If||Math.abs(this._y1-u)>If)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%zO+zO),f>Ite?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>If&&this._append`A${r},${r},0,${+(f>=UO)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function sI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Mte(e)}function aI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XU(t){this._context=t}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function NP(t){return new XU(t)}function YU(t){return t[0]}function JU(t){return t[1]}function ZU(t,e){var n=Wn(!0),r=null,i=NP,s=null,a=sI(o);t=typeof t=="function"?t:t===void 0?YU:Wn(t),e=typeof e=="function"?e:e===void 0?JU:Wn(e);function o(l){var c,u=(l=aI(l)).length,d,f=!1,p;for(r==null&&(s=i(p=a())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,c,l),+e(d,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Wn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Wn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Wn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function n5(t,e,n){var r=null,i=Wn(!0),s=null,a=NP,o=null,l=sI(c);t=typeof t=="function"?t:t===void 0?YU:Wn(+t),e=typeof e=="function"?e:Wn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JU:Wn(+n);function c(d){var f,p,v,m=(d=aI(d)).length,b,g=!1,w,x=new Array(m),S=new Array(m);for(s==null&&(o=a(w=l())),f=0;f<=m;++f){if(!(f<m&&i(b=d[f],f,d))===g)if(g=!g)p=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=f-1;v>=p;--v)o.point(x[v],S[v]);o.lineEnd(),o.areaEnd()}g&&(x[f]=+t(b,f,d),S[f]=+e(b,f,d),o.point(r?+r(b,f,d):x[f],n?+n(b,f,d):S[f]))}if(w)return o=null,w+""||null}function u(){return ZU().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Wn(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Wn(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Wn(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Wn(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Wn(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Wn(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Wn(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class QU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function jte(t){return new QU(t,!0)}function Dte(t){return new QU(t,!1)}const oI={draw(t,e){const n=kl(e/pS);t.moveTo(n,0),t.arc(0,0,n,0,OP)}},Fte={draw(t,e){const n=kl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},e9=kl(1/3),$te=e9*2,Bte={draw(t,e){const n=kl(e/$te),r=n*e9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ute={draw(t,e){const n=kl(e),r=-n/2;t.rect(r,r,n,n)}},zte=.8908130915292852,t9=fS(pS/10)/fS(7*pS/10),qte=fS(OP/10)*t9,Hte=-GU(OP/10)*t9,Wte={draw(t,e){const n=kl(e*zte),r=qte*n,i=Hte*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=OP*s/5,o=GU(a),l=fS(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},AT=kl(3),Vte={draw(t,e){const n=-kl(e/(AT*3));t.moveTo(0,n*2),t.lineTo(-AT*n,-n),t.lineTo(AT*n,-n),t.closePath()}},so=-.5,ao=kl(3)/2,qO=1/kl(12),Gte=(qO/2+1)*3,Kte={draw(t,e){const n=kl(e/Gte),r=n/2,i=n*qO,s=r,a=n*qO+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(so*r-ao*i,ao*r+so*i),t.lineTo(so*s-ao*a,ao*s+so*a),t.lineTo(so*o-ao*l,ao*o+so*l),t.lineTo(so*r+ao*i,so*i-ao*r),t.lineTo(so*s+ao*a,so*a-ao*s),t.lineTo(so*o+ao*l,so*l-ao*o),t.closePath()}};function Xte(t,e){let n=null,r=sI(i);t=typeof t=="function"?t:Wn(t||oI),e=typeof e=="function"?e:Wn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Wn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Wn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function gS(){}function mS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function n9(t){this._context=t}n9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yte(t){return new n9(t)}function r9(t){this._context=t}r9.prototype={areaStart:gS,areaEnd:gS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Jte(t){return new r9(t)}function i9(t){this._context=t}i9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zte(t){return new i9(t)}function s9(t){this._context=t}s9.prototype={areaStart:gS,areaEnd:gS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Qte(t){return new s9(t)}function I6(t){return t<0?-1:1}function R6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(I6(s)+I6(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function M6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ST(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function vS(t){this._context=t}vS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ST(this,this._t0,M6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ST(this,M6(this,n=R6(this,t,e)),n);break;default:ST(this,this._t0,n=R6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function a9(t){this._context=new o9(t)}(a9.prototype=Object.create(vS.prototype)).point=function(t,e){vS.prototype.point.call(this,e,t)};function o9(t){this._context=t}o9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function ene(t){return new vS(t)}function tne(t){return new a9(t)}function l9(t){this._context=t}l9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=j6(t),i=j6(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function j6(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function nne(t){return new l9(t)}function LP(t,e){this._context=t,this._t=e}LP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function rne(t){return new LP(t,.5)}function ine(t){return new LP(t,0)}function sne(t){return new LP(t,1)}function Zv(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function HO(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ane(t,e){return t[e]}function one(t){const e=[];return e.key=t,e}function lne(){var t=Wn([]),e=HO,n=Zv,r=ane;function i(s){var a=Array.from(t.apply(this,arguments),one),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(d,a[o].key,c,s)]).data=d;for(o=0,u=aI(e(a));o<l;++o)a[u[o]].index=o;return n(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Wn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Wn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?HO:typeof s=="function"?s:Wn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Zv,i):n},i}function cne(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Zv(t,e)}}function une(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Zv(t,e)}}function hne(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],d=u[r][1]||0,f=u[r-1][1]||0,p=(d-f)/2,v=0;v<o;++v){var m=t[e[v]],b=m[r][1]||0,g=m[r-1][1]||0;p+=b-g}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Zv(t,e)}}function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}var dne=["type","size","sizeType"];function WO(){return WO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WO.apply(this,arguments)}function D6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return e=pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=gne(t,"string");return Kb(e)=="symbol"?e:e+""}function gne(t,e){if(Kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mne(t,e){if(t==null)return{};var n=vne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var c9={symbolCircle:oI,symbolCross:Fte,symbolDiamond:Bte,symbolSquare:Ute,symbolStar:Wte,symbolTriangle:Vte,symbolWye:Kte},yne=Math.PI/180,bne=function(e){var n="symbol".concat(CP(e));return c9[n]||oI},wne=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*yne;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xne=function(e,n){c9["symbol".concat(CP(e))]=n},lI=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=mne(e,dne),c=F6(F6({},l),{},{type:r,size:s,sizeType:o}),u=function(){var b=bne(r),g=Xte().type(b).size(wne(s,o,r));return g()},d=c.className,f=c.cx,p=c.cy,v=Kt(c,!0);return f===+f&&p===+p&&s===+s?pe.createElement("path",WO({},v,{className:ln("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};lI.registerSymbol=xne;function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function VO(){return VO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VO.apply(this,arguments)}function $6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(n),!0).forEach(function(r){Xb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h9(r.key),r)}}function Ene(t,e,n){return e&&Sne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pne(t,e,n){return e=yS(e),kne(t,u9()?Reflect.construct(e,n||[],yS(t).constructor):e.apply(t,n))}function kne(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tne(t)}function Tne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!t})()}function yS(t){return yS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yS(t)}function Cne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GO(t,e)}function GO(t,e){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GO(t,e)}function Xb(t,e,n){return e=h9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h9(t){var e=One(t,"string");return Qv(e)=="symbol"?e:e+""}function One(t,e){if(Qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oo=32,cI=function(t){function e(){return Ane(this,e),Pne(this,e,arguments)}return Cne(e,t),Ene(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=oo/2,a=oo/6,o=oo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return pe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:oo,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return pe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(oo,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return pe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(oo/8,"h").concat(oo,"v").concat(oo*3/4,"h").concat(-oo,"z"),className:"recharts-legend-icon"});if(pe.isValidElement(r.legendIcon)){var c=_ne({},r);return delete c.legendIcon,pe.cloneElement(r.legendIcon,c)}return pe.createElement(lI,{fill:l,cx:s,cy:s,size:oo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:oo,height:oo},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var m=p.formatter||l,b=ln(Xb(Xb({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=Ht(p.value)?null:p.value;wg(!Ht(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return pe.createElement("li",VO({className:b,style:d,key:"legend-item-".concat(v)},dS(r.props,p,v)),pe.createElement(DO,{width:a,height:a,viewBox:u,style:f},r.renderIcon(p)),pe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(g,p,v):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return pe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Ae.PureComponent);Xb(cI,"displayName","Legend");Xb(cI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Nne=mP;function Lne(){this.__data__=new Nne,this.size=0}var Ine=Lne;function Rne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Mne=Rne;function jne(t){return this.__data__.get(t)}var Dne=jne;function Fne(t){return this.__data__.has(t)}var $ne=Fne,Bne=mP,Une=YL,zne=JL,qne=200;function Hne(t,e){var n=this.__data__;if(n instanceof Bne){var r=n.__data__;if(!Une||r.length<qne-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zne(r)}return n.set(t,e),this.size=n.size,this}var Wne=Hne,Vne=mP,Gne=Ine,Kne=Mne,Xne=Dne,Yne=$ne,Jne=Wne;function Cy(t){var e=this.__data__=new Vne(t);this.size=e.size}Cy.prototype.clear=Gne;Cy.prototype.delete=Kne;Cy.prototype.get=Xne;Cy.prototype.has=Yne;Cy.prototype.set=Jne;var d9=Cy,Zne="__lodash_hash_undefined__";function Qne(t){return this.__data__.set(t,Zne),this}var ere=Qne;function tre(t){return this.__data__.has(t)}var nre=tre,rre=JL,ire=ere,sre=nre;function bS(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new rre;++e<n;)this.add(t[e])}bS.prototype.add=bS.prototype.push=ire;bS.prototype.has=sre;var f9=bS;function are(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var p9=are;function ore(t,e){return t.has(e)}var g9=ore,lre=f9,cre=p9,ure=g9,hre=1,dre=2;function fre(t,e,n,r,i,s){var a=n&hre,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,p=n&dre?new lre:void 0;for(s.set(t,e),s.set(e,t);++d<o;){var v=t[d],m=e[d];if(r)var b=a?r(m,v,d,e,t,s):r(v,m,d,t,e,s);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!cre(e,function(g,w){if(!ure(p,w)&&(v===g||i(v,g,n,r,s)))return p.push(w)})){f=!1;break}}else if(!(v===m||i(v,m,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var m9=fre,pre=kc,gre=pre.Uint8Array,mre=gre;function vre(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var yre=vre;function bre(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var uI=bre,B6=$x,U6=mre,wre=XL,xre=m9,_re=yre,Are=uI,Sre=1,Ere=2,Pre="[object Boolean]",kre="[object Date]",Tre="[object Error]",Cre="[object Map]",Ore="[object Number]",Nre="[object RegExp]",Lre="[object Set]",Ire="[object String]",Rre="[object Symbol]",Mre="[object ArrayBuffer]",jre="[object DataView]",z6=B6?B6.prototype:void 0,ET=z6?z6.valueOf:void 0;function Dre(t,e,n,r,i,s,a){switch(n){case jre:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Mre:return!(t.byteLength!=e.byteLength||!s(new U6(t),new U6(e)));case Pre:case kre:case Ore:return wre(+t,+e);case Tre:return t.name==e.name&&t.message==e.message;case Nre:case Ire:return t==e+"";case Cre:var o=_re;case Lre:var l=r&Sre;if(o||(o=Are),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Ere,a.set(t,e);var u=xre(o(t),o(e),r,i,s,a);return a.delete(t),u;case Rre:if(ET)return ET.call(t)==ET.call(e)}return!1}var Fre=Dre;function $re(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var v9=$re,Bre=v9,Ure=ta;function zre(t,e,n){var r=e(t);return Ure(t)?r:Bre(r,n(t))}var qre=zre;function Hre(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var Wre=Hre;function Vre(){return[]}var Gre=Vre,Kre=Wre,Xre=Gre,Yre=Object.prototype,Jre=Yre.propertyIsEnumerable,q6=Object.getOwnPropertySymbols,Zre=q6?function(t){return t==null?[]:(t=Object(t),Kre(q6(t),function(e){return Jre.call(t,e)}))}:Xre,Qre=Zre;function eie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var tie=eie,nie=ch,rie=uh,iie="[object Arguments]";function sie(t){return rie(t)&&nie(t)==iie}var aie=sie,H6=aie,oie=uh,y9=Object.prototype,lie=y9.hasOwnProperty,cie=y9.propertyIsEnumerable,uie=H6(function(){return arguments}())?H6:function(t){return oie(t)&&lie.call(t,"callee")&&!cie.call(t,"callee")},hI=uie,wS={exports:{}};function hie(){return!1}var die=hie;wS.exports;(function(t,e){var n=kc,r=die,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(wS,wS.exports);var b9=wS.exports,fie=9007199254740991,pie=/^(?:0|[1-9]\d*)$/;function gie(t,e){var n=typeof t;return e=e??fie,!!e&&(n=="number"||n!="symbol"&&pie.test(t))&&t>-1&&t%1==0&&t<e}var dI=gie,mie=9007199254740991;function vie(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mie}var fI=vie,yie=ch,bie=fI,wie=uh,xie="[object Arguments]",_ie="[object Array]",Aie="[object Boolean]",Sie="[object Date]",Eie="[object Error]",Pie="[object Function]",kie="[object Map]",Tie="[object Number]",Cie="[object Object]",Oie="[object RegExp]",Nie="[object Set]",Lie="[object String]",Iie="[object WeakMap]",Rie="[object ArrayBuffer]",Mie="[object DataView]",jie="[object Float32Array]",Die="[object Float64Array]",Fie="[object Int8Array]",$ie="[object Int16Array]",Bie="[object Int32Array]",Uie="[object Uint8Array]",zie="[object Uint8ClampedArray]",qie="[object Uint16Array]",Hie="[object Uint32Array]",Zn={};Zn[jie]=Zn[Die]=Zn[Fie]=Zn[$ie]=Zn[Bie]=Zn[Uie]=Zn[zie]=Zn[qie]=Zn[Hie]=!0;Zn[xie]=Zn[_ie]=Zn[Rie]=Zn[Aie]=Zn[Mie]=Zn[Sie]=Zn[Eie]=Zn[Pie]=Zn[kie]=Zn[Tie]=Zn[Cie]=Zn[Oie]=Zn[Nie]=Zn[Lie]=Zn[Iie]=!1;function Wie(t){return wie(t)&&bie(t.length)&&!!Zn[yie(t)]}var Vie=Wie;function Gie(t){return function(e){return t(e)}}var w9=Gie,xS={exports:{}};xS.exports;(function(t,e){var n=TU,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(xS,xS.exports);var Kie=xS.exports,Xie=Vie,Yie=w9,W6=Kie,V6=W6&&W6.isTypedArray,Jie=V6?Yie(V6):Xie,x9=Jie,Zie=tie,Qie=hI,ese=ta,tse=b9,nse=dI,rse=x9,ise=Object.prototype,sse=ise.hasOwnProperty;function ase(t,e){var n=ese(t),r=!n&&Qie(t),i=!n&&!r&&tse(t),s=!n&&!r&&!i&&rse(t),a=n||r||i||s,o=a?Zie(t.length,String):[],l=o.length;for(var c in t)(e||sse.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||nse(c,l)))&&o.push(c);return o}var ose=ase,lse=Object.prototype;function cse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lse;return t===n}var use=cse;function hse(t,e){return function(n){return t(e(n))}}var _9=hse,dse=_9,fse=dse(Object.keys,Object),pse=fse,gse=use,mse=pse,vse=Object.prototype,yse=vse.hasOwnProperty;function bse(t){if(!gse(t))return mse(t);var e=[];for(var n in Object(t))yse.call(t,n)&&n!="constructor"&&e.push(n);return e}var wse=bse,xse=KL,_se=fI;function Ase(t){return t!=null&&_se(t.length)&&!xse(t)}var IP=Ase,Sse=ose,Ese=wse,Pse=IP;function kse(t){return Pse(t)?Sse(t):Ese(t)}var pI=kse,Tse=qre,Cse=Qre,Ose=pI;function Nse(t){return Tse(t,Ose,Cse)}var Lse=Nse,G6=Lse,Ise=1,Rse=Object.prototype,Mse=Rse.hasOwnProperty;function jse(t,e,n,r,i,s){var a=n&Ise,o=G6(t),l=o.length,c=G6(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var f=o[d];if(!(a?f in e:Mse.call(e,f)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var m=!0;s.set(t,e),s.set(e,t);for(var b=a;++d<l;){f=o[d];var g=t[f],w=e[f];if(r)var x=a?r(w,g,f,e,t,s):r(g,w,f,t,e,s);if(!(x===void 0?g===w||i(g,w,n,r,s):x)){m=!1;break}b||(b=f=="constructor")}if(m&&!b){var S=t.constructor,A=e.constructor;S!=A&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof A=="function"&&A instanceof A)&&(m=!1)}return s.delete(t),s.delete(e),m}var Dse=jse,Fse=Bg,$se=kc,Bse=Fse($se,"DataView"),Use=Bse,zse=Bg,qse=kc,Hse=zse(qse,"Promise"),Wse=Hse,Vse=Bg,Gse=kc,Kse=Vse(Gse,"Set"),A9=Kse,Xse=Bg,Yse=kc,Jse=Xse(Yse,"WeakMap"),Zse=Jse,KO=Use,XO=YL,YO=Wse,JO=A9,ZO=Zse,S9=ch,Oy=OU,K6="[object Map]",Qse="[object Object]",X6="[object Promise]",Y6="[object Set]",J6="[object WeakMap]",Z6="[object DataView]",eae=Oy(KO),tae=Oy(XO),nae=Oy(YO),rae=Oy(JO),iae=Oy(ZO),Rf=S9;(KO&&Rf(new KO(new ArrayBuffer(1)))!=Z6||XO&&Rf(new XO)!=K6||YO&&Rf(YO.resolve())!=X6||JO&&Rf(new JO)!=Y6||ZO&&Rf(new ZO)!=J6)&&(Rf=function(t){var e=S9(t),n=e==Qse?t.constructor:void 0,r=n?Oy(n):"";if(r)switch(r){case eae:return Z6;case tae:return K6;case nae:return X6;case rae:return Y6;case iae:return J6}return e});var sae=Rf,PT=d9,aae=m9,oae=Fre,lae=Dse,Q6=sae,ej=ta,tj=b9,cae=x9,uae=1,nj="[object Arguments]",rj="[object Array]",r5="[object Object]",hae=Object.prototype,ij=hae.hasOwnProperty;function dae(t,e,n,r,i,s){var a=ej(t),o=ej(e),l=a?rj:Q6(t),c=o?rj:Q6(e);l=l==nj?r5:l,c=c==nj?r5:c;var u=l==r5,d=c==r5,f=l==c;if(f&&tj(t)){if(!tj(e))return!1;a=!0,u=!1}if(f&&!u)return s||(s=new PT),a||cae(t)?aae(t,e,n,r,i,s):oae(t,e,l,n,r,i,s);if(!(n&uae)){var p=u&&ij.call(t,"__wrapped__"),v=d&&ij.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,b=v?e.value():e;return s||(s=new PT),i(m,b,n,r,s)}}return f?(s||(s=new PT),lae(t,e,n,r,i,s)):!1}var fae=dae,pae=fae,sj=uh;function E9(t,e,n,r,i){return t===e?!0:t==null||e==null||!sj(t)&&!sj(e)?t!==t&&e!==e:pae(t,e,n,r,E9,i)}var gI=E9,gae=d9,mae=gI,vae=1,yae=2;function bae(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],u=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new gae;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?mae(u,c,vae|yae,r,d):f))return!1}}return!0}var wae=bae,xae=sf;function _ae(t){return t===t&&!xae(t)}var P9=_ae,Aae=P9,Sae=pI;function Eae(t){for(var e=Sae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Aae(i)]}return e}var Pae=Eae;function kae(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var k9=kae,Tae=wae,Cae=Pae,Oae=k9;function Nae(t){var e=Cae(t);return e.length==1&&e[0][2]?Oae(e[0][0],e[0][1]):function(n){return n===t||Tae(n,t,e)}}var Lae=Nae;function Iae(t,e){return t!=null&&e in Object(t)}var Rae=Iae,Mae=MU,jae=hI,Dae=ta,Fae=dI,$ae=fI,Bae=yP;function Uae(t,e,n){e=Mae(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=Bae(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&$ae(i)&&Fae(a,i)&&(Dae(t)||jae(t)))}var zae=Uae,qae=Rae,Hae=zae;function Wae(t,e){return t!=null&&Hae(t,e,qae)}var Vae=Wae,Gae=gI,Kae=jU,Xae=Vae,Yae=GL,Jae=P9,Zae=k9,Qae=yP,eoe=1,toe=2;function noe(t,e){return Yae(t)&&Jae(e)?Zae(Qae(t),e):function(n){var r=Kae(n,t);return r===void 0&&r===e?Xae(n,t):Gae(e,r,eoe|toe)}}var roe=noe;function ioe(t){return t}var Ny=ioe;function soe(t){return function(e){return e==null?void 0:e[t]}}var aoe=soe,ooe=eI;function loe(t){return function(e){return ooe(e,t)}}var coe=loe,uoe=aoe,hoe=coe,doe=GL,foe=yP;function poe(t){return doe(t)?uoe(foe(t)):hoe(t)}var goe=poe,moe=Lae,voe=roe,yoe=Ny,boe=ta,woe=goe;function xoe(t){return typeof t=="function"?t:t==null?yoe:typeof t=="object"?boe(t)?voe(t[0],t[1]):moe(t):woe(t)}var Ly=xoe;function _oe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Aoe=_oe;function Soe(t){return t!==t}var Eoe=Soe;function Poe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var koe=Poe,Toe=Aoe,Coe=Eoe,Ooe=koe;function Noe(t,e,n){return e===e?Ooe(t,e,n):Toe(t,Coe,n)}var Loe=Noe,Ioe=Loe;function Roe(t,e){var n=t==null?0:t.length;return!!n&&Ioe(t,e,0)>-1}var Moe=Roe;function joe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Doe=joe;function Foe(){}var $oe=Foe,kT=A9,Boe=$oe,Uoe=uI,zoe=1/0,qoe=kT&&1/Uoe(new kT([,-0]))[1]==zoe?function(t){return new kT(t)}:Boe,Hoe=qoe,Woe=f9,Voe=Moe,Goe=Doe,Koe=g9,Xoe=Hoe,Yoe=uI,Joe=200;function Zoe(t,e,n){var r=-1,i=Voe,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=Goe;else if(s>=Joe){var c=e?null:Xoe(t);if(c)return Yoe(c);a=!1,i=Koe,l=new Woe}else l=e?[]:o;e:for(;++r<s;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var Qoe=Zoe,ele=Ly,tle=Qoe;function nle(t,e){return t&&t.length?tle(t,ele(e)):[]}var rle=nle;const aj=Kn(rle);function T9(t,e,n){return e===!0?aj(t,n):Ht(e)?aj(t,e):t}function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}var ile=["ref"];function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){RP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O9(r.key),r)}}function ale(t,e,n){return e&&lj(t.prototype,e),n&&lj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ole(t,e,n){return e=_S(e),lle(t,C9()?Reflect.construct(e,n||[],_S(t).constructor):e.apply(t,n))}function lle(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cle(t)}function cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!t})()}function _S(t){return _S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_S(t)}function ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}function QO(t,e){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QO(t,e)}function RP(t,e,n){return e=O9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9(t){var e=hle(t,"string");return ey(e)=="symbol"?e:e+""}function hle(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dle(t,e){if(t==null)return{};var n=fle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ple(t){return t.value}function gle(t,e){if(pe.isValidElement(t))return pe.cloneElement(t,e);if(typeof t=="function")return pe.createElement(t,e);e.ref;var n=dle(e,ile);return pe.createElement(cI,n)}var cj=1,u0=function(t){function e(){var n;sle(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ole(this,e,[].concat(i)),RP(n,"lastBoundingBox",{width:-1,height:-1}),n}return ule(e,t),ale(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>cj||Math.abs(i.height-this.lastBoundingBox.height)>cj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();f={top:((u||0)-v.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Gc(Gc({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Gc(Gc({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return pe.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},gle(s,Gc(Gc({},this.props),{},{payload:T9(u,c,ple)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Gc(Gc({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&$e(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(Ae.PureComponent);RP(u0,"displayName","Legend");RP(u0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uj=$x,mle=hI,vle=ta,hj=uj?uj.isConcatSpreadable:void 0;function yle(t){return vle(t)||mle(t)||!!(hj&&t&&t[hj])}var ble=yle,wle=v9,xle=ble;function N9(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=xle),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?N9(o,e-1,n,r,i):wle(i,o):r||(i[i.length]=o)}return i}var L9=N9;function _le(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var Ale=_le,Sle=Ale,Ele=Sle(),Ple=Ele,kle=Ple,Tle=pI;function Cle(t,e){return t&&kle(t,e,Tle)}var I9=Cle,Ole=IP;function Nle(t,e){return function(n,r){if(n==null)return n;if(!Ole(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var Lle=Nle,Ile=I9,Rle=Lle,Mle=Rle(Ile),mI=Mle,jle=mI,Dle=IP;function Fle(t,e){var n=-1,r=Dle(t)?Array(t.length):[];return jle(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var R9=Fle;function $le(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Ble=$le,dj=Ay;function Ule(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=dj(t),a=e!==void 0,o=e===null,l=e===e,c=dj(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var zle=Ule,qle=zle;function Hle(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=qle(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Wle=Hle,TT=QL,Vle=eI,Gle=Ly,Kle=R9,Xle=Ble,Yle=w9,Jle=Wle,Zle=Ny,Qle=ta;function ece(t,e,n){e.length?e=TT(e,function(s){return Qle(s)?function(a){return Vle(a,s.length===1?s[0]:s)}:s}):e=[Zle];var r=-1;e=TT(e,Yle(Gle));var i=Kle(t,function(s,a,o){var l=TT(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return Xle(i,function(s,a){return Jle(s,a,n)})}var tce=ece;function nce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var rce=nce,ice=rce,fj=Math.max;function sce(t,e,n){return e=fj(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=fj(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),ice(t,this,o)}}var ace=sce;function oce(t){return function(){return t}}var lce=oce,cce=Bg,uce=function(){try{var t=cce(Object,"defineProperty");return t({},"",{}),t}catch{}}(),M9=uce,hce=lce,pj=M9,dce=Ny,fce=pj?function(t,e){return pj(t,"toString",{configurable:!0,enumerable:!1,value:hce(e),writable:!0})}:dce,pce=fce,gce=800,mce=16,vce=Date.now;function yce(t){var e=0,n=0;return function(){var r=vce(),i=mce-(r-n);if(n=r,i>0){if(++e>=gce)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var bce=yce,wce=pce,xce=bce,_ce=xce(wce),Ace=_ce,Sce=Ny,Ece=ace,Pce=Ace;function kce(t,e){return Pce(Ece(t,e,Sce),t+"")}var Tce=kce,Cce=XL,Oce=IP,Nce=dI,Lce=sf;function Ice(t,e,n){if(!Lce(n))return!1;var r=typeof e;return(r=="number"?Oce(n)&&Nce(e,n.length):r=="string"&&e in n)?Cce(n[e],t):!1}var MP=Ice,Rce=L9,Mce=tce,jce=Tce,gj=MP,Dce=jce(function(t,e){if(t==null)return[];var n=e.length;return n>1&&gj(t,e[0],e[1])?e=[]:n>2&&gj(e[0],e[1],e[2])&&(e=[e[0]]),Mce(t,Rce(e,1),[])}),Fce=Dce;const vI=Kn(Fce);function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function e3(){return e3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e3.apply(this,arguments)}function $ce(t,e){return qce(t)||zce(t,e)||Uce(t,e)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(t,e){if(t){if(typeof t=="string")return mj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mj(t,e)}}function mj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function qce(t){if(Array.isArray(t))return t}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){Hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hce(t,e,n){return e=Wce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Vce(t,"string");return Yb(e)=="symbol"?e:e+""}function Vce(t,e){if(Yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gce(t){return Array.isArray(t)&&mi(t[0])&&mi(t[1])?t.join(" ~ "):t}var Kce=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,m=e.label,b=e.labelFormatter,g=e.accessibilityLayer,w=g===void 0?!1:g,x=function(){if(u&&u.length){var M={padding:0,margin:0},z=(f?vI(u,f):u).map(function($,G){if($.type==="none")return null;var Y=CT({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),Q=$.formatter||d||Gce,W=$.value,re=$.name,ce=W,ae=re;if(Q&&ce!=null&&ae!=null){var D=Q(W,re,$,G,u);if(Array.isArray(D)){var K=$ce(D,2);ce=K[0],ae=K[1]}else ce=D}return pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Y},mi(ae)?pe.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,mi(ae)?pe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,pe.createElement("span",{className:"recharts-tooltip-item-value"},ce),pe.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return pe.createElement("ul",{className:"recharts-tooltip-item-list",style:M},z)}return null},S=CT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=CT({margin:0},c),E=!Xt(m),T=E?m:"",L=ln("recharts-default-tooltip",p),I=ln("recharts-tooltip-label",v);E&&b&&u!==void 0&&u!==null&&(T=b(m,u));var q=w?{role:"status","aria-live":"assertive"}:{};return pe.createElement("div",e3({className:L,style:S},q),pe.createElement("p",{className:I,style:A},pe.isValidElement(T)?T:"".concat(T)),x())};function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function i5(t,e,n){return e=Xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t){var e=Yce(t,"string");return Jb(e)=="symbol"?e:e+""}function Yce(t,e){if(Jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x1="recharts-tooltip-wrapper",Jce={visibility:"hidden"};function Zce(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ln(x1,i5(i5(i5(i5({},"".concat(x1,"-right"),$e(n)&&e&&$e(e.x)&&n>=e.x),"".concat(x1,"-left"),$e(n)&&e&&$e(e.x)&&n<e.x),"".concat(x1,"-bottom"),$e(r)&&e&&$e(e.y)&&r>=e.y),"".concat(x1,"-top"),$e(r)&&e&&$e(e.y)&&r<e.y))}function yj(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&$e(s[r]))return s[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return a[r]?u:d;if(a[r]){var f=u,p=l[r];return f<p?Math.max(d,l[r]):Math.max(u,l[r])}var v=d+o,m=l[r]+c;return v>m?Math.max(u,l[r]):Math.max(d,l[r])}function Qce(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function eue(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return a.height>0&&a.width>0&&n?(u=yj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=yj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Qce({translateX:u,translateY:d,useTranslate3d:o})):c=Jce,{cssProperties:c,cssClasses:Zce({translateX:u,translateY:d,coordinate:n})}}function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){n3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D9(r.key),r)}}function rue(t,e,n){return e&&nue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iue(t,e,n){return e=AS(e),sue(t,j9()?Reflect.construct(e,n||[],AS(t).constructor):e.apply(t,n))}function sue(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aue(t)}function aue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j9=function(){return!!t})()}function AS(t){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(t)}function oue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t3(t,e)}function t3(t,e){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t3(t,e)}function n3(t,e,n){return e=D9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D9(t){var e=lue(t,"string");return ty(e)=="symbol"?e:e+""}function lue(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xj=1,cue=function(t){function e(){var n;tue(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=iue(this,e,[].concat(i)),n3(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),n3(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return oue(e,t),rue(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>xj||Math.abs(r.height-this.state.lastBoundingBox.height)>xj)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,p=i.offset,v=i.position,m=i.reverseDirection,b=i.useTranslate3d,g=i.viewBox,w=i.wrapperStyle,x=eue({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:g}),S=x.cssClasses,A=x.cssProperties,E=wj(wj({transition:f&&s?"transform ".concat(o,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return pe.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(L){r.wrapperNode=L}},c)}}])}(Ae.PureComponent),uue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Iy={isSsr:uue()};function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){yI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function due(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$9(r.key),r)}}function fue(t,e,n){return e&&due(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pue(t,e,n){return e=SS(e),gue(t,F9()?Reflect.construct(e,n||[],SS(t).constructor):e.apply(t,n))}function gue(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mue(t)}function mue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F9=function(){return!!t})()}function SS(t){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SS(t)}function vue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r3(t,e)}function r3(t,e){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r3(t,e)}function yI(t,e,n){return e=$9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $9(t){var e=yue(t,"string");return ny(e)=="symbol"?e:e+""}function yue(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bue(t){return t.dataKey}function wue(t,e){return pe.isValidElement(t)?pe.cloneElement(t,e):typeof t=="function"?pe.createElement(t,e):pe.createElement(Kce,e)}var eu=function(t){function e(){return hue(this,e),pue(this,e,arguments)}return vue(e,t),fue(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,p=i.offset,v=i.payload,m=i.payloadUniqBy,b=i.position,g=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,A=v??[];d&&A.length&&(A=T9(v.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),m,bue));var E=A.length>0;return pe.createElement(cue,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:f,active:s,coordinate:u,hasPayload:E,offset:p,position:b,reverseDirection:g,useTranslate3d:w,viewBox:x,wrapperStyle:S},wue(c,Aj(Aj({},this.props),{},{payload:A})))}}])}(Ae.PureComponent);yI(eu,"displayName","Tooltip");yI(eu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Iy.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xue=kc,_ue=function(){return xue.Date.now()},Aue=_ue,Sue=/\s/;function Eue(t){for(var e=t.length;e--&&Sue.test(t.charAt(e)););return e}var Pue=Eue,kue=Pue,Tue=/^\s+/;function Cue(t){return t&&t.slice(0,kue(t)+1).replace(Tue,"")}var Oue=Cue,Nue=Oue,Sj=sf,Lue=Ay,Ej=NaN,Iue=/^[-+]0x[0-9a-f]+$/i,Rue=/^0b[01]+$/i,Mue=/^0o[0-7]+$/i,jue=parseInt;function Due(t){if(typeof t=="number")return t;if(Lue(t))return Ej;if(Sj(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Sj(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Nue(t);var n=Rue.test(t);return n||Mue.test(t)?jue(t.slice(2),n?2:8):Iue.test(t)?Ej:+t}var B9=Due,Fue=sf,OT=Aue,Pj=B9,$ue="Expected a function",Bue=Math.max,Uue=Math.min;function zue(t,e,n){var r,i,s,a,o,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError($ue);e=Pj(e)||0,Fue(n)&&(u=!!n.leading,d="maxWait"in n,s=d?Bue(Pj(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(E){var T=r,L=i;return r=i=void 0,c=E,a=t.apply(L,T),a}function v(E){return c=E,o=setTimeout(g,e),u?p(E):a}function m(E){var T=E-l,L=E-c,I=e-T;return d?Uue(I,s-L):I}function b(E){var T=E-l,L=E-c;return l===void 0||T>=e||T<0||d&&L>=s}function g(){var E=OT();if(b(E))return w(E);o=setTimeout(g,m(E))}function w(E){return o=void 0,f&&r?p(E):(r=i=void 0,a)}function x(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function S(){return o===void 0?a:w(OT())}function A(){var E=OT(),T=b(E);if(r=arguments,i=this,l=E,T){if(o===void 0)return v(l);if(d)return clearTimeout(o),o=setTimeout(g,e),p(l)}return o===void 0&&(o=setTimeout(g,e)),a}return A.cancel=x,A.flush=S,A}var que=zue,Hue=que,Wue=sf,Vue="Expected a function";function Gue(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Vue);return Wue(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Hue(t,e,{leading:r,maxWait:e,trailing:i})}var Kue=Gue;const U9=Kn(Kue);function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return e=Yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Jue(t,"string");return Zb(e)=="symbol"?e:e+""}function Jue(t,e){if(Zb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zue(t,e){return nhe(t)||the(t,e)||ehe(t,e)||Que()}function Que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ehe(t,e){if(t){if(typeof t=="string")return Tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tj(t,e)}}function Tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function the(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function nhe(t){if(Array.isArray(t))return t}var rhe=Ae.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,f=t.maxHeight,p=t.children,v=t.debounce,m=v===void 0?0:v,b=t.id,g=t.className,w=t.onResize,x=t.style,S=x===void 0?{}:x,A=Ae.useRef(null),E=Ae.useRef();E.current=w,Ae.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var T=Ae.useState({containerWidth:i.width,containerHeight:i.height}),L=Zue(T,2),I=L[0],q=L[1],O=Ae.useCallback(function(z,$){q(function(G){var Y=Math.round(z),Q=Math.round($);return G.containerWidth===Y&&G.containerHeight===Q?G:{containerWidth:Y,containerHeight:Q}})},[]);Ae.useEffect(function(){var z=function(re){var ce,ae=re[0].contentRect,D=ae.width,K=ae.height;O(D,K),(ce=E.current)===null||ce===void 0||ce.call(E,D,K)};m>0&&(z=U9(z,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(z),G=A.current.getBoundingClientRect(),Y=G.width,Q=G.height;return O(Y,Q),$.observe(A.current),function(){$.disconnect()}},[O,m]);var M=Ae.useMemo(function(){var z=I.containerWidth,$=I.containerHeight;if(z<0||$<0)return null;wg(Jf(a)||Jf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),wg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=Jf(a)?z:a,Y=Jf(l)?$:l;n&&n>0&&(G?Y=G/n:Y&&(G=Y*n),f&&Y>f&&(Y=f)),wg(G>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,Y,a,l,u,d,n);var Q=!Array.isArray(p)&&Gu(p.type).endsWith("Chart");return pe.Children.map(p,function(W){return pe.isValidElement(W)?Ae.cloneElement(W,s5({width:G,height:Y},Q?{style:s5({height:"100%",width:"100%",maxHeight:Y,maxWidth:G},W.props.style)}:{})):W})},[n,p,l,f,d,u,I,a]);return pe.createElement("div",{id:b?"".concat(b):void 0,className:ln("recharts-responsive-container",g),style:s5(s5({},S),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:A},M)}),z9=function(e){return null};z9.displayName="Cell";function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ihe(t,e,n){return e=she(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function she(t){var e=ahe(t,"string");return Qb(e)=="symbol"?e:e+""}function ahe(t,e){if(Qb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lm={widthCache:{},cacheCount:0},ohe=2e3,lhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Oj="recharts_measurement_span";function che(t){var e=i3({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var xb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Iy.isSsr)return{width:0,height:0};var r=che(n),i=JSON.stringify({text:e,copyStyle:r});if(lm.widthCache[i])return lm.widthCache[i];try{var s=document.getElementById(Oj);s||(s=document.createElement("span"),s.setAttribute("id",Oj),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=i3(i3({},lhe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return lm.widthCache[i]=l,++lm.cacheCount>ohe&&(lm.cacheCount=0,lm.widthCache={}),l}catch{return{width:0,height:0}}},uhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ew(t){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}function ES(t,e){return phe(t)||fhe(t,e)||dhe(t,e)||hhe()}function hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(t,e){if(t){if(typeof t=="string")return Nj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nj(t,e)}}function Nj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function phe(t){if(Array.isArray(t))return t}function ghe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vhe(r.key),r)}}function mhe(t,e,n){return e&&Lj(t.prototype,e),n&&Lj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vhe(t){var e=yhe(t,"string");return ew(e)=="symbol"?e:e+""}function yhe(t,e){if(ew(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ew(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ij=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,whe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xhe=Object.keys(q9),Vm="NaN";function _he(t,e){return t*q9[e]}var a5=function(){function t(e,n){ghe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bhe.test(n)&&(this.num=NaN,this.unit=""),xhe.includes(n)&&(this.num=_he(e,n),this.unit="px")}return mhe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=whe.exec(n))!==null&&r!==void 0?r:[],s=ES(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function H9(t){if(t.includes(Vm))return Vm;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Ij.exec(e))!==null&&n!==void 0?n:[],i=ES(r,4),s=i[1],a=i[2],o=i[3],l=a5.parse(s??""),c=a5.parse(o??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Vm;e=e.replace(Ij,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=Rj.exec(e))!==null&&d!==void 0?d:[],p=ES(f,4),v=p[1],m=p[2],b=p[3],g=a5.parse(v??""),w=a5.parse(b??""),x=m==="+"?g.add(w):g.subtract(w);if(x.isNaN())return Vm;e=e.replace(Rj,x.toString())}return e}var Mj=/\(([^()]*)\)/;function Ahe(t){for(var e=t;e.includes("(");){var n=Mj.exec(e),r=ES(n,2),i=r[1];e=e.replace(Mj,H9(i))}return e}function She(t){var e=t.replace(/\s+/g,"");return e=Ahe(e),e=H9(e),e}function Ehe(t){try{return She(t)}catch{return Vm}}function NT(t){var e=Ehe(t.slice(5,-1));return e===Vm?"":e}var Phe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],khe=["dx","dy","angle","className","breakAll"];function s3(){return s3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s3.apply(this,arguments)}function jj(t,e){if(t==null)return{};var n=The(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function The(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dj(t,e){return Lhe(t)||Nhe(t,e)||Ohe(t,e)||Che()}function Che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ohe(t,e){if(t){if(typeof t=="string")return Fj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fj(t,e)}}function Fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Lhe(t){if(Array.isArray(t))return t}var W9=/[ \f\n\r\t\v\u2028\u2029]+/,V9=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Xt(n)||(r?s=n.toString().split(""):s=n.toString().split(W9));var a=s.map(function(l){return{word:l,width:xb(l,i).width}}),o=r?0:xb("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Ihe=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=$e(a),d=o,f=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(Y,Q){var W=Q.word,re=Q.width,ce=Y[Y.length-1];if(ce&&(i==null||s||ce.width+re+r<Number(i)))ce.words.push(W),ce.width+=re+r;else{var ae={words:[W],width:re};Y.push(ae)}return Y},[])},p=f(n),v=function(G){return G.reduce(function(Y,Q){return Y.width>Q.width?Y:Q})};if(!u)return p;for(var m="",b=function(G){var Y=d.slice(0,G),Q=V9({breakAll:c,style:l,children:Y+m}).wordsWithComputedWidth,W=f(Q),re=W.length>a||v(W).width>Number(i);return[re,W]},g=0,w=d.length-1,x=0,S;g<=w&&x<=d.length-1;){var A=Math.floor((g+w)/2),E=A-1,T=b(E),L=Dj(T,2),I=L[0],q=L[1],O=b(A),M=Dj(O,1),z=M[0];if(!I&&!z&&(g=A+1),I&&z&&(w=A-1),!I&&z){S=q;break}x++}return S||p},$j=function(e){var n=Xt(e)?[]:e.toString().split(W9);return[{words:n}]},Rhe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!Iy.isSsr){var l,c,u=V9({breakAll:a,children:i,style:s});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return $j(i);return Ihe({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return $j(i)},Bj="#808080",PS=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,p=f===void 0?"start":f,v=e.verticalAnchor,m=v===void 0?"end":v,b=e.fill,g=b===void 0?Bj:b,w=jj(e,Phe),x=Ae.useMemo(function(){return Rhe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),S=w.dx,A=w.dy,E=w.angle,T=w.className,L=w.breakAll,I=jj(w,khe);if(!mi(r)||!mi(s))return null;var q=r+($e(S)?S:0),O=s+($e(A)?A:0),M;switch(m){case"start":M=NT("calc(".concat(c,")"));break;case"middle":M=NT("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:M=NT("calc(".concat(x.length-1," * -").concat(o,")"));break}var z=[];if(d){var $=x[0].width,G=w.width;z.push("scale(".concat(($e(G)?G/$:1)/$,")"))}return E&&z.push("rotate(".concat(E,", ").concat(q,", ").concat(O,")")),z.length&&(I.transform=z.join(" ")),pe.createElement("text",s3({},Kt(I,!0),{x:q,y:O,className:ln("recharts-text",T),textAnchor:p,fill:g.includes("url")?Bj:g}),x.map(function(Y,Q){var W=Y.words.join(L?"":" ");return pe.createElement("tspan",{x:q,dy:Q===0?M:o,key:"".concat(W,"-").concat(Q)},W)}))};function Vd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mhe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bI(t){let e,n,r;t.length!==2?(e=Vd,n=(o,l)=>Vd(t(o),l),r=(o,l)=>t(o)-l):(e=t===Vd||t===Mhe?t:jhe,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function jhe(){return 0}function G9(t){return t===null?NaN:+t}function*Dhe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Fhe=bI(Vd),Ux=Fhe.right;bI(G9).center;class Uj extends Map{constructor(e,n=Uhe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(zj(this,e))}has(e){return super.has(zj(this,e))}set(e,n){return super.set($he(this,e),n)}delete(e){return super.delete(Bhe(this,e))}}function zj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function $he({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bhe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Uhe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zhe(t=Vd){if(t===Vd)return K9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function K9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qhe=Math.sqrt(50),Hhe=Math.sqrt(10),Whe=Math.sqrt(2);function kS(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=qhe?10:s>=Hhe?5:s>=Whe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?kS(t,e,n*2):[o,l,c]}function a3(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?kS(e,t,n):kS(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function o3(t,e,n){return e=+e,t=+t,n=+n,kS(t,e,n)[2]}function l3(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?o3(e,t,n):o3(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function qj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Hj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function X9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?K9:zhe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+f)),v=Math.min(r,Math.floor(e+(l-c)*d/l+f));X9(t,e,p,v,i)}const s=t[e];let a=n,o=r;for(_1(t,n,e),i(t[r],s)>0&&_1(t,n,r);a<o;){for(_1(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?_1(t,n,o):(++o,_1(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function _1(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Vhe(t,e,n){if(t=Float64Array.from(Dhe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Hj(t);if(e>=1)return qj(t);var r,i=(r-1)*e,s=Math.floor(i),a=qj(X9(t,s).subarray(0,s+1)),o=Hj(t.subarray(s+1));return a+(o-a)*(i-s)}}function Ghe(t,e,n=G9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Khe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function $o(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function hh(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const c3=Symbol("implicit");function wI(){var t=new Uj,e=[],n=[],r=c3;function i(s){let a=t.get(s);if(a===void 0){if(r!==c3)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Uj;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wI(e,n).unknown(r)},$o.apply(i,arguments),i}function tw(){var t=wI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,p=i<r,v=p?i:r,m=p?r:i;s=(m-v)/Math.max(1,f-l+c*2),o&&(s=Math.floor(s)),v+=(m-v-s*(f-l))*u,a=s*(1-l),o&&(v=Math.round(v),a=Math.round(a));var b=Khe(f).map(function(g){return v+s*g});return n(p?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return tw(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},$o.apply(d(),arguments)}function Y9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Y9(e())},t}function _b(){return Y9(tw.apply(null,arguments).paddingInner(1))}function xI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function J9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zx(){}var nw=.7,TS=1/nw,h0="\\s*([+-]?\\d+)\\s*",rw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xhe=/^#([0-9a-f]{3,8})$/,Yhe=new RegExp(`^rgb\\(${h0},${h0},${h0}\\)$`),Jhe=new RegExp(`^rgb\\(${xc},${xc},${xc}\\)$`),Zhe=new RegExp(`^rgba\\(${h0},${h0},${h0},${rw}\\)$`),Qhe=new RegExp(`^rgba\\(${xc},${xc},${xc},${rw}\\)$`),ede=new RegExp(`^hsl\\(${rw},${xc},${xc}\\)$`),tde=new RegExp(`^hsla\\(${rw},${xc},${xc},${rw}\\)$`),Wj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xI(zx,iw,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Vj,formatHex:Vj,formatHex8:nde,formatHsl:rde,formatRgb:Gj,toString:Gj});function Vj(){return this.rgb().formatHex()}function nde(){return this.rgb().formatHex8()}function rde(){return Z9(this).formatHsl()}function Gj(){return this.rgb().formatRgb()}function iw(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xhe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kj(e):n===3?new Js(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?o5(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?o5(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yhe.exec(t))?new Js(e[1],e[2],e[3],1):(e=Jhe.exec(t))?new Js(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Zhe.exec(t))?o5(e[1],e[2],e[3],e[4]):(e=Qhe.exec(t))?o5(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ede.exec(t))?Jj(e[1],e[2]/100,e[3]/100,1):(e=tde.exec(t))?Jj(e[1],e[2]/100,e[3]/100,e[4]):Wj.hasOwnProperty(t)?Kj(Wj[t]):t==="transparent"?new Js(NaN,NaN,NaN,0):null}function Kj(t){return new Js(t>>16&255,t>>8&255,t&255,1)}function o5(t,e,n,r){return r<=0&&(t=e=n=NaN),new Js(t,e,n,r)}function ide(t){return t instanceof zx||(t=iw(t)),t?(t=t.rgb(),new Js(t.r,t.g,t.b,t.opacity)):new Js}function u3(t,e,n,r){return arguments.length===1?ide(t):new Js(t,e,n,r??1)}function Js(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xI(Js,u3,J9(zx,{brighter(t){return t=t==null?TS:Math.pow(TS,t),new Js(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nw:Math.pow(nw,t),new Js(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Js(xg(this.r),xg(this.g),xg(this.b),CS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xj,formatHex:Xj,formatHex8:sde,formatRgb:Yj,toString:Yj}));function Xj(){return`#${Zf(this.r)}${Zf(this.g)}${Zf(this.b)}`}function sde(){return`#${Zf(this.r)}${Zf(this.g)}${Zf(this.b)}${Zf((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yj(){const t=CS(this.opacity);return`${t===1?"rgb(":"rgba("}${xg(this.r)}, ${xg(this.g)}, ${xg(this.b)}${t===1?")":`, ${t})`}`}function CS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zf(t){return t=xg(t),(t<16?"0":"")+t.toString(16)}function Jj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yl(t,e,n,r)}function Z9(t){if(t instanceof yl)return new yl(t.h,t.s,t.l,t.opacity);if(t instanceof zx||(t=iw(t)),!t)return new yl;if(t instanceof yl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new yl(a,o,l,t.opacity)}function ade(t,e,n,r){return arguments.length===1?Z9(t):new yl(t,e,n,r??1)}function yl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xI(yl,ade,J9(zx,{brighter(t){return t=t==null?TS:Math.pow(TS,t),new yl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nw:Math.pow(nw,t),new yl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Js(LT(t>=240?t-240:t+120,i,r),LT(t,i,r),LT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yl(Zj(this.h),l5(this.s),l5(this.l),CS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=CS(this.opacity);return`${t===1?"hsl(":"hsla("}${Zj(this.h)}, ${l5(this.s)*100}%, ${l5(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Zj(t){return t=(t||0)%360,t<0?t+360:t}function l5(t){return Math.max(0,Math.min(1,t||0))}function LT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _I=t=>()=>t;function ode(t,e){return function(n){return t+n*e}}function lde(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cde(t){return(t=+t)==1?Q9:function(e,n){return n-e?lde(e,n,t):_I(isNaN(e)?n:e)}}function Q9(t,e){var n=e-t;return n?ode(t,n):_I(isNaN(t)?e:t)}const Qj=function t(e){var n=cde(e);function r(i,s){var a=n((i=u3(i)).r,(s=u3(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=Q9(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function ude(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function hde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dde(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Ry(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function fde(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function OS(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pde(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ry(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var h3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IT=new RegExp(h3.source,"g");function gde(t){return function(){return t}}function mde(t){return function(e){return t(e)+""}}function vde(t,e){var n=h3.lastIndex=IT.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=h3.exec(t))&&(i=IT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:OS(r,i)})),n=IT.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?mde(l[0].x):gde(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Ry(t,e){var n=typeof e,r;return e==null||n==="boolean"?_I(e):(n==="number"?OS:n==="string"?(r=iw(e))?(e=r,Qj):vde:e instanceof iw?Qj:e instanceof Date?fde:hde(e)?ude:Array.isArray(e)?dde:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pde:OS)(t,e)}function AI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yde(t,e){e===void 0&&(e=t,t=Ry);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function bde(t){return function(){return t}}function NS(t){return+t}var eD=[0,1];function Ls(t){return t}function d3(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bde(isNaN(e)?NaN:.5)}function wde(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xde(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=d3(i,r),s=n(a,s)):(r=d3(r,i),s=n(s,a)),function(o){return s(r(o))}}function _de(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=d3(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Ux(t,o,1,r)-1;return s[l](i[l](o))}}function qx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jP(){var t=eD,e=eD,n=Ry,r,i,s,a=Ls,o,l,c;function u(){var f=Math.min(t.length,e.length);return a!==Ls&&(a=wde(t[0],t[f-1])),o=f>2?_de:xde,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((c||(c=o(e,t.map(r),OS)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,NS),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=AI,u()},d.clamp=function(f){return arguments.length?(a=f?!0:Ls,u()):a!==Ls},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,p){return r=f,i=p,u()}}function SI(){return jP()(Ls,Ls)}function Ade(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function LS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ry(t){return t=LS(Math.abs(t)),t?t[1]:NaN}function Sde(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Ede(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sw(t){if(!(e=Pde.exec(t)))throw new Error("invalid format: "+t);var e;return new EI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sw.prototype=EI.prototype;function EI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}EI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ez;function Tde(t,e){var n=LS(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(ez=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+LS(t,Math.max(0,e+s-1))[0]}function tD(t,e){var n=LS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ade,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tD(t*100,e),r:tD,s:Tde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rD(t){return t}var iD=Array.prototype.map,sD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cde(t){var e=t.grouping===void 0||t.thousands===void 0?rD:Sde(iD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?rD:Ede(iD.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=sw(d);var f=d.fill,p=d.align,v=d.sign,m=d.symbol,b=d.zero,g=d.width,w=d.comma,x=d.precision,S=d.trim,A=d.type;A==="n"?(w=!0,A="g"):nD[A]||(x===void 0&&(x=12),S=!0,A="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",T=m==="$"?r:/[%p]/.test(A)?a:"",L=nD[A],I=/[defgprs%]/.test(A);x=x===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function q(O){var M=E,z=T,$,G,Y;if(A==="c")z=L(O)+z,O="";else{O=+O;var Q=O<0||1/O<0;if(O=isNaN(O)?l:L(Math.abs(O),x),S&&(O=kde(O)),Q&&+O==0&&v!=="+"&&(Q=!1),M=(Q?v==="("?v:o:v==="-"||v==="("?"":v)+M,z=(A==="s"?sD[8+ez/3]:"")+z+(Q&&v==="("?")":""),I){for($=-1,G=O.length;++$<G;)if(Y=O.charCodeAt($),48>Y||Y>57){z=(Y===46?i+O.slice($+1):O.slice($))+z,O=O.slice(0,$);break}}}w&&!b&&(O=e(O,1/0));var W=M.length+O.length+z.length,re=W<g?new Array(g-W+1).join(f):"";switch(w&&b&&(O=e(re+O,re.length?g-z.length:1/0),re=""),p){case"<":O=M+O+z+re;break;case"=":O=M+re+O+z;break;case"^":O=re.slice(0,W=re.length>>1)+M+O+z+re.slice(W);break;default:O=re+M+O+z;break}return s(O)}return q.toString=function(){return d+""},q}function u(d,f){var p=c((d=sw(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(ry(f)/3)))*3,m=Math.pow(10,-v),b=sD[8+v/3];return function(g){return p(m*g)+b}}return{format:c,formatPrefix:u}}var c5,PI,tz;Ode({thousands:",",grouping:[3],currency:["$",""]});function Ode(t){return c5=Cde(t),PI=c5.format,tz=c5.formatPrefix,c5}function Nde(t){return Math.max(0,-ry(Math.abs(t)))}function Lde(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ry(e)/3)))*3-ry(Math.abs(t)))}function Ide(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ry(e)-ry(t))+1}function nz(t,e,n,r){var i=l3(t,e,n),s;switch(r=sw(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Lde(i,a))&&(r.precision=s),tz(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Ide(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Nde(i))&&(r.precision=s-(r.type==="%")*2);break}}return PI(r)}function af(t){var e=t.domain;return t.ticks=function(n){var r=e();return a3(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return nz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=o3(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function IS(){var t=SI();return t.copy=function(){return qx(t,IS())},$o.apply(t,arguments),af(t)}function rz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,NS),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return rz(t).unknown(e)},t=arguments.length?Array.from(t,NS):[0,1],af(n)}function iz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function aD(t){return Math.log(t)}function oD(t){return Math.exp(t)}function Rde(t){return-Math.log(-t)}function Mde(t){return-Math.exp(-t)}function jde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dde(t){return t===10?jde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lD(t){return(e,n)=>-t(-e,n)}function kI(t){const e=t(aD,oD),n=e.domain;let r=10,i,s;function a(){return i=Fde(r),s=Dde(r),n()[0]<0?(i=lD(i),s=lD(s),t(Rde,Mde)):t(aD,oD),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),v,m;const b=o==null?10:+o;let g=[];if(!(r%1)&&p-f<b){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(v=1;v<r;++v)if(m=f<0?v/s(-f):v*s(f),!(m<c)){if(m>u)break;g.push(m)}}else for(;f<=p;++f)for(v=r-1;v>=1;--v)if(m=f>0?v/s(-f):v*s(f),!(m<c)){if(m>u)break;g.push(m)}g.length*2<b&&(g=a3(c,u,b))}else g=a3(f,p,Math.min(p-f,b)).map(s);return d?g.reverse():g},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=sw(l)).precision==null&&(l.trim=!0),l=PI(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(iz(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function sz(){const t=kI(jP()).domain([1,10]);return t.copy=()=>qx(t,sz()).base(t.base()),$o.apply(t,arguments),t}function cD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function TI(t){var e=1,n=t(cD(e),uD(e));return n.constant=function(r){return arguments.length?t(cD(e=+r),uD(e)):e},af(n)}function az(){var t=TI(jP());return t.copy=function(){return qx(t,az()).constant(t.constant())},$o.apply(t,arguments)}function hD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $de(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Bde(t){return t<0?-t*t:t*t}function CI(t){var e=t(Ls,Ls),n=1;function r(){return n===1?t(Ls,Ls):n===.5?t($de,Bde):t(hD(n),hD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},af(e)}function OI(){var t=CI(jP());return t.copy=function(){return qx(t,OI()).exponent(t.exponent())},$o.apply(t,arguments),t}function Ude(){return OI.apply(null,arguments).exponent(.5)}function dD(t){return Math.sign(t)*t*t}function zde(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oz(){var t=SI(),e=[0,1],n=!1,r;function i(s){var a=zde(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(dD(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,NS)).map(dD)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return oz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$o.apply(i,arguments),af(i)}function lz(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=Ghe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Ux(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Vd),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return lz().domain(t).range(e).unknown(r)},$o.apply(s,arguments)}function cz(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Ux(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return cz().domain([t,e]).range(i).unknown(s)},$o.apply(af(a),arguments)}function uz(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Ux(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return uz().domain(t).range(e).unknown(n)},$o.apply(i,arguments)}const RT=new Date,MT=new Date;function bi(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>bi(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(RT.setTime(+s),MT.setTime(+a),t(RT),t(MT),Math.floor(n(RT,MT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const RS=bi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);RS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):RS);RS.range;const qu=1e3,To=qu*60,Hu=To*60,nh=Hu*24,NI=nh*7,fD=nh*30,jT=nh*365,Qf=bi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qu)},(t,e)=>(e-t)/qu,t=>t.getUTCSeconds());Qf.range;const LI=bi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qu)},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getMinutes());LI.range;const II=bi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getUTCMinutes());II.range;const RI=bi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qu-t.getMinutes()*To)},(t,e)=>{t.setTime(+t+e*Hu)},(t,e)=>(e-t)/Hu,t=>t.getHours());RI.range;const MI=bi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hu)},(t,e)=>(e-t)/Hu,t=>t.getUTCHours());MI.range;const Hx=bi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*To)/nh,t=>t.getDate()-1);Hx.range;const DP=bi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nh,t=>t.getUTCDate()-1);DP.range;const hz=bi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nh,t=>Math.floor(t/nh));hz.range;function Ug(t){return bi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*To)/NI)}const FP=Ug(0),MS=Ug(1),qde=Ug(2),Hde=Ug(3),iy=Ug(4),Wde=Ug(5),Vde=Ug(6);FP.range;MS.range;qde.range;Hde.range;iy.range;Wde.range;Vde.range;function zg(t){return bi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/NI)}const $P=zg(0),jS=zg(1),Gde=zg(2),Kde=zg(3),sy=zg(4),Xde=zg(5),Yde=zg(6);$P.range;jS.range;Gde.range;Kde.range;sy.range;Xde.range;Yde.range;const jI=bi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jI.range;const DI=bi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DI.range;const rh=bi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rh.range;const ih=bi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ih.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ih.range;function dz(t,e,n,r,i,s){const a=[[Qf,1,qu],[Qf,5,5*qu],[Qf,15,15*qu],[Qf,30,30*qu],[s,1,To],[s,5,5*To],[s,15,15*To],[s,30,30*To],[i,1,Hu],[i,3,3*Hu],[i,6,6*Hu],[i,12,12*Hu],[r,1,nh],[r,2,2*nh],[n,1,NI],[e,1,fD],[e,3,3*fD],[t,1,jT]];function o(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),v=p?p.range(c,+u+1):[];return f?v.reverse():v}function l(c,u,d){const f=Math.abs(u-c)/d,p=bI(([,,b])=>b).right(a,f);if(p===a.length)return t.every(l3(c/jT,u/jT,d));if(p===0)return RS.every(Math.max(l3(c,u,d),1));const[v,m]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return v.every(m)}return[o,l]}const[Jde,Zde]=dz(ih,DI,$P,hz,MI,II),[Qde,efe]=dz(rh,jI,FP,Hx,RI,LI);function DT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function FT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function A1(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tfe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=S1(i),u=E1(i),d=S1(s),f=E1(s),p=S1(a),v=E1(a),m=S1(o),b=E1(o),g=S1(l),w=E1(l),x={a:Q,A:W,b:re,B:ce,c:null,d:bD,e:bD,f:Sfe,g:Rfe,G:jfe,H:xfe,I:_fe,j:Afe,L:fz,m:Efe,M:Pfe,p:ae,q:D,Q:_D,s:AD,S:kfe,u:Tfe,U:Cfe,V:Ofe,w:Nfe,W:Lfe,x:null,X:null,y:Ife,Y:Mfe,Z:Dfe,"%":xD},S={a:K,A:ee,b:se,B:oe,c:null,d:wD,e:wD,f:Ufe,g:Jfe,G:Qfe,H:Ffe,I:$fe,j:Bfe,L:gz,m:zfe,M:qfe,p:de,q:xe,Q:_D,s:AD,S:Hfe,u:Wfe,U:Vfe,V:Gfe,w:Kfe,W:Xfe,x:null,X:null,y:Yfe,Y:Zfe,Z:epe,"%":xD},A={a:q,A:O,b:M,B:z,c:$,d:vD,e:vD,f:vfe,g:mD,G:gD,H:yD,I:yD,j:ffe,L:mfe,m:dfe,M:pfe,p:I,q:hfe,Q:bfe,s:wfe,S:gfe,u:afe,U:ofe,V:lfe,w:sfe,W:cfe,x:G,X:Y,y:mD,Y:gD,Z:ufe,"%":yfe};x.x=E(n,x),x.X=E(r,x),x.c=E(e,x),S.x=E(n,S),S.X=E(r,S),S.c=E(e,S);function E(ue,ye){return function(_e){var me=[],Ie=-1,De=0,Z=ue.length,Me,ut,Qe;for(_e instanceof Date||(_e=new Date(+_e));++Ie<Z;)ue.charCodeAt(Ie)===37&&(me.push(ue.slice(De,Ie)),(ut=pD[Me=ue.charAt(++Ie)])!=null?Me=ue.charAt(++Ie):ut=Me==="e"?" ":"0",(Qe=ye[Me])&&(Me=Qe(_e,ut)),me.push(Me),De=Ie+1);return me.push(ue.slice(De,Ie)),me.join("")}}function T(ue,ye){return function(_e){var me=A1(1900,void 0,1),Ie=L(me,ue,_e+="",0),De,Z;if(Ie!=_e.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(ye&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(De=FT(A1(me.y,0,1)),Z=De.getUTCDay(),De=Z>4||Z===0?jS.ceil(De):jS(De),De=DP.offset(De,(me.V-1)*7),me.y=De.getUTCFullYear(),me.m=De.getUTCMonth(),me.d=De.getUTCDate()+(me.w+6)%7):(De=DT(A1(me.y,0,1)),Z=De.getDay(),De=Z>4||Z===0?MS.ceil(De):MS(De),De=Hx.offset(De,(me.V-1)*7),me.y=De.getFullYear(),me.m=De.getMonth(),me.d=De.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Z="Z"in me?FT(A1(me.y,0,1)).getUTCDay():DT(A1(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Z+5)%7:me.w+me.U*7-(Z+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,FT(me)):DT(me)}}function L(ue,ye,_e,me){for(var Ie=0,De=ye.length,Z=_e.length,Me,ut;Ie<De;){if(me>=Z)return-1;if(Me=ye.charCodeAt(Ie++),Me===37){if(Me=ye.charAt(Ie++),ut=A[Me in pD?ye.charAt(Ie++):Me],!ut||(me=ut(ue,_e,me))<0)return-1}else if(Me!=_e.charCodeAt(me++))return-1}return me}function I(ue,ye,_e){var me=c.exec(ye.slice(_e));return me?(ue.p=u.get(me[0].toLowerCase()),_e+me[0].length):-1}function q(ue,ye,_e){var me=p.exec(ye.slice(_e));return me?(ue.w=v.get(me[0].toLowerCase()),_e+me[0].length):-1}function O(ue,ye,_e){var me=d.exec(ye.slice(_e));return me?(ue.w=f.get(me[0].toLowerCase()),_e+me[0].length):-1}function M(ue,ye,_e){var me=g.exec(ye.slice(_e));return me?(ue.m=w.get(me[0].toLowerCase()),_e+me[0].length):-1}function z(ue,ye,_e){var me=m.exec(ye.slice(_e));return me?(ue.m=b.get(me[0].toLowerCase()),_e+me[0].length):-1}function $(ue,ye,_e){return L(ue,e,ye,_e)}function G(ue,ye,_e){return L(ue,n,ye,_e)}function Y(ue,ye,_e){return L(ue,r,ye,_e)}function Q(ue){return a[ue.getDay()]}function W(ue){return s[ue.getDay()]}function re(ue){return l[ue.getMonth()]}function ce(ue){return o[ue.getMonth()]}function ae(ue){return i[+(ue.getHours()>=12)]}function D(ue){return 1+~~(ue.getMonth()/3)}function K(ue){return a[ue.getUTCDay()]}function ee(ue){return s[ue.getUTCDay()]}function se(ue){return l[ue.getUTCMonth()]}function oe(ue){return o[ue.getUTCMonth()]}function de(ue){return i[+(ue.getUTCHours()>=12)]}function xe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ye=E(ue+="",x);return ye.toString=function(){return ue},ye},parse:function(ue){var ye=T(ue+="",!1);return ye.toString=function(){return ue},ye},utcFormat:function(ue){var ye=E(ue+="",S);return ye.toString=function(){return ue},ye},utcParse:function(ue){var ye=T(ue+="",!0);return ye.toString=function(){return ue},ye}}}var pD={"-":"",_:" ",0:"0"},Li=/^\s*\d+/,nfe=/^%/,rfe=/[\\^$*+?|[\]().{}]/g;function hn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ife(t){return t.replace(rfe,"\\$&")}function S1(t){return new RegExp("^(?:"+t.map(ife).join("|")+")","i")}function E1(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sfe(t,e,n){var r=Li.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function afe(t,e,n){var r=Li.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ofe(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lfe(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cfe(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gD(t,e,n){var r=Li.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mD(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ufe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hfe(t,e,n){var r=Li.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dfe(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vD(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ffe(t,e,n){var r=Li.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yD(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pfe(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gfe(t,e,n){var r=Li.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mfe(t,e,n){var r=Li.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vfe(t,e,n){var r=Li.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yfe(t,e,n){var r=nfe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bfe(t,e,n){var r=Li.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wfe(t,e,n){var r=Li.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bD(t,e){return hn(t.getDate(),e,2)}function xfe(t,e){return hn(t.getHours(),e,2)}function _fe(t,e){return hn(t.getHours()%12||12,e,2)}function Afe(t,e){return hn(1+Hx.count(rh(t),t),e,3)}function fz(t,e){return hn(t.getMilliseconds(),e,3)}function Sfe(t,e){return fz(t,e)+"000"}function Efe(t,e){return hn(t.getMonth()+1,e,2)}function Pfe(t,e){return hn(t.getMinutes(),e,2)}function kfe(t,e){return hn(t.getSeconds(),e,2)}function Tfe(t){var e=t.getDay();return e===0?7:e}function Cfe(t,e){return hn(FP.count(rh(t)-1,t),e,2)}function pz(t){var e=t.getDay();return e>=4||e===0?iy(t):iy.ceil(t)}function Ofe(t,e){return t=pz(t),hn(iy.count(rh(t),t)+(rh(t).getDay()===4),e,2)}function Nfe(t){return t.getDay()}function Lfe(t,e){return hn(MS.count(rh(t)-1,t),e,2)}function Ife(t,e){return hn(t.getFullYear()%100,e,2)}function Rfe(t,e){return t=pz(t),hn(t.getFullYear()%100,e,2)}function Mfe(t,e){return hn(t.getFullYear()%1e4,e,4)}function jfe(t,e){var n=t.getDay();return t=n>=4||n===0?iy(t):iy.ceil(t),hn(t.getFullYear()%1e4,e,4)}function Dfe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hn(e/60|0,"0",2)+hn(e%60,"0",2)}function wD(t,e){return hn(t.getUTCDate(),e,2)}function Ffe(t,e){return hn(t.getUTCHours(),e,2)}function $fe(t,e){return hn(t.getUTCHours()%12||12,e,2)}function Bfe(t,e){return hn(1+DP.count(ih(t),t),e,3)}function gz(t,e){return hn(t.getUTCMilliseconds(),e,3)}function Ufe(t,e){return gz(t,e)+"000"}function zfe(t,e){return hn(t.getUTCMonth()+1,e,2)}function qfe(t,e){return hn(t.getUTCMinutes(),e,2)}function Hfe(t,e){return hn(t.getUTCSeconds(),e,2)}function Wfe(t){var e=t.getUTCDay();return e===0?7:e}function Vfe(t,e){return hn($P.count(ih(t)-1,t),e,2)}function mz(t){var e=t.getUTCDay();return e>=4||e===0?sy(t):sy.ceil(t)}function Gfe(t,e){return t=mz(t),hn(sy.count(ih(t),t)+(ih(t).getUTCDay()===4),e,2)}function Kfe(t){return t.getUTCDay()}function Xfe(t,e){return hn(jS.count(ih(t)-1,t),e,2)}function Yfe(t,e){return hn(t.getUTCFullYear()%100,e,2)}function Jfe(t,e){return t=mz(t),hn(t.getUTCFullYear()%100,e,2)}function Zfe(t,e){return hn(t.getUTCFullYear()%1e4,e,4)}function Qfe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?sy(t):sy.ceil(t),hn(t.getUTCFullYear()%1e4,e,4)}function epe(){return"+0000"}function xD(){return"%"}function _D(t){return+t}function AD(t){return Math.floor(+t/1e3)}var cm,vz,yz;tpe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tpe(t){return cm=tfe(t),vz=cm.format,cm.parse,yz=cm.utcFormat,cm.utcParse,cm}function npe(t){return new Date(t)}function rpe(t){return t instanceof Date?+t:+new Date(+t)}function FI(t,e,n,r,i,s,a,o,l,c){var u=SI(),d=u.invert,f=u.domain,p=c(".%L"),v=c(":%S"),m=c("%I:%M"),b=c("%I %p"),g=c("%a %d"),w=c("%b %d"),x=c("%B"),S=c("%Y");function A(E){return(l(E)<E?p:o(E)<E?v:a(E)<E?m:s(E)<E?b:r(E)<E?i(E)<E?g:w:n(E)<E?x:S)(E)}return u.invert=function(E){return new Date(d(E))},u.domain=function(E){return arguments.length?f(Array.from(E,rpe)):f().map(npe)},u.ticks=function(E){var T=f();return t(T[0],T[T.length-1],E??10)},u.tickFormat=function(E,T){return T==null?A:c(T)},u.nice=function(E){var T=f();return(!E||typeof E.range!="function")&&(E=e(T[0],T[T.length-1],E??10)),E?f(iz(T,E)):u},u.copy=function(){return qx(u,FI(t,e,n,r,i,s,a,o,l,c))},u}function ipe(){return $o.apply(FI(Qde,efe,rh,jI,FP,Hx,RI,LI,Qf,vz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function spe(){return $o.apply(FI(Jde,Zde,ih,DI,$P,DP,MI,II,Qf,yz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function BP(){var t=0,e=1,n,r,i,s,a=Ls,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(f){var p,v;return arguments.length?([p,v]=f,a=d(p,v),c):[a(0),a(1)]}}return c.range=u(Ry),c.rangeRound=u(AI),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function of(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bz(){var t=af(BP()(Ls));return t.copy=function(){return of(t,bz())},hh.apply(t,arguments)}function wz(){var t=kI(BP()).domain([1,10]);return t.copy=function(){return of(t,wz()).base(t.base())},hh.apply(t,arguments)}function xz(){var t=TI(BP());return t.copy=function(){return of(t,xz()).constant(t.constant())},hh.apply(t,arguments)}function $I(){var t=CI(BP());return t.copy=function(){return of(t,$I()).exponent(t.exponent())},hh.apply(t,arguments)}function ape(){return $I.apply(null,arguments).exponent(.5)}function _z(){var t=[],e=Ls;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ux(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Vd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Vhe(t,s/r))},n.copy=function(){return _z(e).domain(t)},hh.apply(n,arguments)}function UP(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Ls,u,d=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-s)*(r*m<r*s?o:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=u(t=+t),s=u(e=+e),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function v(m){return function(b){var g,w,x;return arguments.length?([g,w,x]=b,c=yde(m,[g,w,x]),p):[c(0),c(.5),c(1)]}}return p.range=v(Ry),p.rangeRound=v(AI),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return u=m,i=m(t),s=m(e),a=m(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function Az(){var t=af(UP()(Ls));return t.copy=function(){return of(t,Az())},hh.apply(t,arguments)}function Sz(){var t=kI(UP()).domain([.1,1,10]);return t.copy=function(){return of(t,Sz()).base(t.base())},hh.apply(t,arguments)}function Ez(){var t=TI(UP());return t.copy=function(){return of(t,Ez()).constant(t.constant())},hh.apply(t,arguments)}function BI(){var t=CI(UP());return t.copy=function(){return of(t,BI()).exponent(t.exponent())},hh.apply(t,arguments)}function ope(){return BI.apply(null,arguments).exponent(.5)}const SD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tw,scaleDiverging:Az,scaleDivergingLog:Sz,scaleDivergingPow:BI,scaleDivergingSqrt:ope,scaleDivergingSymlog:Ez,scaleIdentity:rz,scaleImplicit:c3,scaleLinear:IS,scaleLog:sz,scaleOrdinal:wI,scalePoint:_b,scalePow:OI,scaleQuantile:lz,scaleQuantize:cz,scaleRadial:oz,scaleSequential:bz,scaleSequentialLog:wz,scaleSequentialPow:$I,scaleSequentialQuantile:_z,scaleSequentialSqrt:ape,scaleSequentialSymlog:xz,scaleSqrt:Ude,scaleSymlog:az,scaleThreshold:uz,scaleTime:ipe,scaleUtc:spe,tickFormat:nz},Symbol.toStringTag,{value:"Module"}));var lpe=Ay;function cpe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!lpe(a):n(a,o)))var o=a,l=s}return l}var Pz=cpe;function upe(t,e){return t>e}var hpe=upe,dpe=Pz,fpe=hpe,ppe=Ny;function gpe(t){return t&&t.length?dpe(t,ppe,fpe):void 0}var mpe=gpe;const Md=Kn(mpe);function vpe(t,e){return t<e}var ype=vpe,bpe=Pz,wpe=ype,xpe=Ny;function _pe(t){return t&&t.length?bpe(t,xpe,wpe):void 0}var Ape=_pe;const zP=Kn(Ape);var Spe=QL,Epe=Ly,Ppe=R9,kpe=ta;function Tpe(t,e){var n=kpe(t)?Spe:Ppe;return n(t,Epe(e))}var Cpe=Tpe,Ope=L9,Npe=Cpe;function Lpe(t,e){return Ope(Npe(t,e),1)}var Ipe=Lpe;const Rpe=Kn(Ipe);var Mpe=gI;function jpe(t,e){return Mpe(t,e)}var Dpe=jpe;const aw=Kn(Dpe);var My=1e9,Fpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zI,cr=!0,Mo="[DecimalError] ",_g=Mo+"Invalid argument: ",UI=Mo+"Exponent out of range: ",jy=Math.floor,Mf=Math.pow,$pe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$a,Ti=1e7,Qn=7,kz=9007199254740991,DS=jy(kz/Qn),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(t){return Ku(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,n=e.constructor;return Dn(Ku(e,new n(t),0,1),n.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return Zr(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($a))throw Error(Mo+"NaN");if(n.s<1)throw Error(Mo+(n.s?"NaN":"-Infinity"));return n.eq($a)?new r(0):(cr=!1,e=Ku(ow(n,s),ow(t,s),s),cr=!0,Dn(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Oz(e,t):Tz(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mo+"NaN");return n.s?(cr=!1,e=Ku(n,t,0,1).times(t),cr=!0,n.minus(e)):Dn(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return Cz(this)};Ve.naturalLogarithm=Ve.ln=function(){return ow(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Tz(e,t):Oz(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_g+t);if(e=Zr(i)+1,r=i.d.length-1,n=r*Qn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ve.squareRoot=Ve.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Mo+"NaN")}for(t=Zr(o),cr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=mc(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Ku(o,s,a+2)).times(.5),mc(s.d).slice(0,a)===(e=mc(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Dn(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return cr=!0,Dn(r,n)};Ve.times=Ve.mul=function(t){var e,n,r,i,s,a,o,l,c,u=this,d=u.constructor,f=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=p.length,l<c&&(s=f,f=p,p=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*f[i-r-1]+e,s[i--]=o%Ti|0,e=o/Ti|0;s[i]=(s[i]+e)%Ti|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,cr?Dn(t,d.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Sc(t,0,My),e===void 0?e=r.rounding:Sc(e,0,8),Dn(n,t+Zr(n)+1,e))};Ve.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ng(r,!0):(Sc(t,0,My),e===void 0?e=i.rounding:Sc(e,0,8),r=Dn(new i(r),t+1,e),n=Ng(r,!0,t+1)),n};Ve.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Ng(i):(Sc(t,0,My),e===void 0?e=s.rounding:Sc(e,0,8),r=Dn(new s(i),t+Zr(i)+1,e),n=Ng(r.abs(),!1,t+Zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return Dn(new e(t),Zr(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l($a);if(o=new l(o),!o.s){if(t.s<1)throw Error(Mo+"Infinity");return o}if(o.eq($a))return o;if(r=l.precision,t.eq($a))return Dn(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=u<0?-u:u)<=kz){for(i=new l($a),e=Math.ceil(r/Qn+4),cr=!1;n%2&&(i=i.times(o),PD(i.d,e)),n=jy(n/2),n!==0;)o=o.times(o),PD(o.d,e);return cr=!0,t.s<0?new l($a).div(i):Dn(i,r)}}else if(s<0)throw Error(Mo+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,cr=!1,i=t.times(ow(o,r+c)),cr=!0,i=Cz(i),i.s=s,i};Ve.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Zr(i),r=Ng(i,n<=s.toExpNeg||n>=s.toExpPos)):(Sc(t,1,My),e===void 0?e=s.rounding:Sc(e,0,8),i=Dn(new s(i),t,e),n=Zr(i),r=Ng(i,t<=n||n<=s.toExpNeg,t)),r};Ve.toSignificantDigits=Ve.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Sc(t,1,My),e===void 0?e=r.rounding:Sc(e,0,8)),Dn(new r(n),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zr(t),n=t.constructor;return Ng(t,e<=n.toExpNeg||e>=n.toExpPos)};function Tz(t,e){var n,r,i,s,a,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),cr?Dn(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(d/Qn),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Ti|0,l[s]%=Ti;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,cr?Dn(e,d):e}function Sc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_g+t)}function mc(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Qn-r.length,n&&(s+=jh(n)),s+=r;a=t[e],r=a+"",n=Qn-r.length,n&&(s+=jh(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ku=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Ti|0,a=s/Ti|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Ti+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,d,f,p,v,m,b,g,w,x,S,A,E,T,L,I=r.constructor,q=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Mo+"Division by zero");for(l=r.e-i.e,T=M.length,A=O.length,p=new I(q),v=p.d=[],c=0;M[c]==(O[c]||0);)++c;if(M[c]>(O[c]||0)&&--l,s==null?w=s=I.precision:a?w=s+(Zr(r)-Zr(i))+1:w=s,w<0)return new I(0);if(w=w/Qn+2|0,c=0,T==1)for(u=0,M=M[0],w++;(c<A||u)&&w--;c++)x=u*Ti+(O[c]||0),v[c]=x/M|0,u=x%M|0;else{for(u=Ti/(M[0]+1)|0,u>1&&(M=t(M,u),O=t(O,u),T=M.length,A=O.length),S=T,m=O.slice(0,T),b=m.length;b<T;)m[b++]=0;L=M.slice(),L.unshift(0),E=M[0],M[1]>=Ti/2&&++E;do u=0,o=e(M,m,T,b),o<0?(g=m[0],T!=b&&(g=g*Ti+(m[1]||0)),u=g/E|0,u>1?(u>=Ti&&(u=Ti-1),d=t(M,u),f=d.length,b=m.length,o=e(d,m,f,b),o==1&&(u--,n(d,T<f?L:M,f))):(u==0&&(o=u=1),d=M.slice()),f=d.length,f<b&&d.unshift(0),n(m,d,b),o==-1&&(b=m.length,o=e(M,m,T,b),o<1&&(u++,n(m,T<b?L:M,b))),b=m.length):o===0&&(u++,m=[0]),v[c++]=u,o&&m[0]?m[b++]=O[S]||0:(m=[O[S]],b=1);while((S++<A||m[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=l,Dn(p,a?s+Zr(p)+1:s)}}();function Cz(t,e){var n,r,i,s,a,o,l=0,c=0,u=t.constructor,d=u.precision;if(Zr(t)>16)throw Error(UI+Zr(t));if(!t.s)return new u($a);for(cr=!1,o=d,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Mf(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new u($a),u.precision=o;;){if(i=Dn(i.times(t),o),n=n.times(++l),a=s.plus(Ku(i,n,o)),mc(a.d).slice(0,o)===mc(s.d).slice(0,o)){for(;c--;)s=Dn(s.times(s),o);return u.precision=d,e==null?(cr=!0,Dn(s,d)):s}s=a}}function Zr(t){for(var e=t.e*Qn,n=t.d[0];n>=10;n/=10)e++;return e}function $T(t,e,n){if(e>t.LN10.sd())throw cr=!0,n&&(t.precision=n),Error(Mo+"LN10 precision limit exceeded");return Dn(new t(t.LN10),e)}function jh(t){for(var e="";t--;)e+="0";return e}function ow(t,e){var n,r,i,s,a,o,l,c,u,d=1,f=10,p=t,v=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(Mo+(p.s?"NaN":"-Infinity"));if(p.eq($a))return new m(0);if(e==null?(cr=!1,c=b):c=e,p.eq(10))return e==null&&(cr=!0),$T(m,c);if(c+=f,m.precision=c,n=mc(v),r=n.charAt(0),s=Zr(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=mc(p.d),r=n.charAt(0),d++;s=Zr(p),r>1?(p=new m("0."+n),s++):p=new m(r+"."+n.slice(1))}else return l=$T(m,c+2,b).times(s+""),p=ow(new m(r+"."+n.slice(1)),c-f).plus(l),m.precision=b,e==null?(cr=!0,Dn(p,b)):p;for(o=a=p=Ku(p.minus($a),p.plus($a),c),u=Dn(p.times(p),c),i=3;;){if(a=Dn(a.times(u),c),l=o.plus(Ku(a,new m(i),c)),mc(l.d).slice(0,c)===mc(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus($T(m,c+2,b).times(s+""))),o=Ku(o,new m(d),c),m.precision=b,e==null?(cr=!0,Dn(o,b)):o;o=l,i+=2}}function ED(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=jy(n/Qn),t.d=[],r=(n+1)%Qn,n<0&&(r+=Qn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qn;r<i;)t.d.push(+e.slice(r,r+=Qn));e=e.slice(r),r=Qn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),cr&&(t.e>DS||t.e<-DS))throw Error(UI+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dn(t,e,n){var r,i,s,a,o,l,c,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Qn,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Qn),s=d.length,u>=s)return t;for(c=s=d[u],a=1;s>=10;s/=10)a++;r%=Qn,i=r-Qn+a}if(n!==void 0&&(s=Mf(10,a-i-1),o=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Mf(10,a-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=Zr(t),d.length=1,e=e-s-1,d[0]=Mf(10,(Qn-e%Qn)%Qn),t.e=jy(-e/Qn)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,s=1,u--):(d.length=u+1,s=Mf(10,Qn-r),d[u]=i>0?(c/Mf(10,a-i)%Mf(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==Ti&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=Ti)break;d[u--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(cr&&(t.e>DS||t.e<-DS))throw Error(UI+Zr(t));return t}function Oz(t,e){var n,r,i,s,a,o,l,c,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),cr?Dn(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/Qn),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=Ti-1;--l[s],l[i]+=Ti}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,cr?Dn(e,p):e):new f(0)}function Ng(t,e,n){var r,i=Zr(t),s=mc(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+jh(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+jh(-i-1)+s,n&&(r=n-a)>0&&(s+=jh(r))):i>=a?(s+=jh(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+jh(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=jh(r))),t.s<0?"-"+s:s}function PD(t,e){if(t.length>e)return t.length=e,!0}function Nz(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(_g+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return ED(a,s.toString())}else if(typeof s!="string")throw Error(_g+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,$pe.test(s))ED(a,s);else throw Error(_g+s)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Nz,i.config=i.set=Bpe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Bpe(t){if(!t||typeof t!="object")throw Error(Mo+"Object expected");var e,n,r,i=["precision",1,My,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(jy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(_g+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_g+n+": "+r);return this}var zI=Nz(Fpe);$a=new zI(1);const Cn=zI;function Upe(t){return Wpe(t)||Hpe(t)||qpe(t)||zpe()}function zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qpe(t,e){if(t){if(typeof t=="string")return f3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f3(t,e)}}function Hpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Wpe(t){if(Array.isArray(t))return f3(t)}function f3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vpe=function(e){return e},Lz={},Iz=function(e){return e===Lz},kD=function(e){return function n(){return arguments.length===0||arguments.length===1&&Iz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Gpe=function t(e,n){return e===1?n:kD(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==Lz}).length;return a>=e?n.apply(void 0,i):t(e-a,kD(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return Iz(d)?l.shift():d});return n.apply(void 0,Upe(u).concat(l))}))})},qP=function(e){return Gpe(e.length,e)},p3=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Kpe=qP(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Xpe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Vpe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},g3=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Rz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function Ype(t){var e;return t===0?e=1:e=Math.floor(new Cn(t).abs().log(10).toNumber())+1,e}function Jpe(t,e,n){for(var r=new Cn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Zpe=qP(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Qpe=qP(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ege=qP(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const HP={rangeStep:Jpe,getDigitCount:Ype,interpolateNumber:Zpe,uninterpolateNumber:Qpe,uninterpolateTruncation:ege};function m3(t){return rge(t)||nge(t)||Mz(t)||tge()}function tge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rge(t){if(Array.isArray(t))return v3(t)}function lw(t,e){return age(t)||sge(t,e)||Mz(t,e)||ige()}function ige(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mz(t,e){if(t){if(typeof t=="string")return v3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v3(t,e)}}function v3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function age(t){if(Array.isArray(t))return t}function jz(t){var e=lw(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Dz(t,e,n){if(t.lte(0))return new Cn(0);var r=HP.getDigitCount(t.toNumber()),i=new Cn(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Cn(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Cn(Math.ceil(l))}function oge(t,e,n){var r=1,i=new Cn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Cn(10).pow(HP.getDigitCount(t)-1),i=new Cn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Cn(Math.floor(t)))}else t===0?i=new Cn(Math.floor((e-1)/2)):n||(i=new Cn(Math.floor(t)));var a=Math.floor((e-1)/2),o=Xpe(Kpe(function(l){return i.add(new Cn(l-a).mul(r)).toNumber()}),p3);return o(0,e)}function Fz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var s=Dz(new Cn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Cn(0):(a=new Cn(t).add(e).div(2),a=a.sub(new Cn(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Cn(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?Fz(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new Cn(o).mul(s)),tickMax:a.add(new Cn(l).mul(s))})}function lge(t){var e=lw(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=jz([n,r]),l=lw(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(m3(p3(0,i-1).map(function(){return 1/0}))):[].concat(m3(p3(0,i-1).map(function(){return-1/0})),[u]);return n>r?g3(d):d}if(c===u)return oge(c,i,s);var f=Fz(c,u,a,s),p=f.step,v=f.tickMin,m=f.tickMax,b=HP.rangeStep(v,m.add(new Cn(.1).mul(p)),p);return n>r?g3(b):b}function cge(t,e){var n=lw(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=jz([r,i]),o=lw(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=Dz(new Cn(c).sub(l).div(u-1),s,0),f=[].concat(m3(HP.rangeStep(new Cn(l),new Cn(c).sub(new Cn(.99).mul(d)),d)),[c]);return r>i?g3(f):f}var uge=Rz(lge),hge=Rz(cge),dge="Invariant failed";function Lg(t,e){throw new Error(dge)}var fge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FS.apply(this,arguments)}function pge(t,e){return yge(t)||vge(t,e)||mge(t,e)||gge()}function gge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mge(t,e){if(t){if(typeof t=="string")return TD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TD(t,e)}}function TD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function yge(t){if(Array.isArray(t))return t}function bge(t,e){if(t==null)return{};var n=wge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uz(r.key),r)}}function Age(t,e,n){return e&&_ge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sge(t,e,n){return e=$S(e),Ege(t,$z()?Reflect.construct(e,n||[],$S(t).constructor):e.apply(t,n))}function Ege(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(t)}function Pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!t})()}function $S(t){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$S(t)}function kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y3(t,e)}function y3(t,e){return y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y3(t,e)}function Bz(t,e,n){return e=Uz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uz(t){var e=Tge(t,"string");return ay(e)=="symbol"?e:e+""}function Tge(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WP=function(t){function e(){return xge(this,e),Sge(this,e,arguments)}return kge(e,t),Age(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=bge(r,fge),p=Kt(f,!1);this.props.direction==="x"&&u.type!=="number"&&Lg();var v=l.map(function(m){var b=c(m,o),g=b.x,w=b.y,x=b.value,S=b.errorVal;if(!S)return null;var A=[],E,T;if(Array.isArray(S)){var L=pge(S,2);E=L[0],T=L[1]}else E=T=S;if(s==="vertical"){var I=u.scale,q=w+i,O=q+a,M=q-a,z=I(x-E),$=I(x+T);A.push({x1:$,y1:O,x2:$,y2:M}),A.push({x1:z,y1:q,x2:$,y2:q}),A.push({x1:z,y1:O,x2:z,y2:M})}else if(s==="horizontal"){var G=d.scale,Y=g+i,Q=Y-a,W=Y+a,re=G(x-E),ce=G(x+T);A.push({x1:Q,y1:ce,x2:W,y2:ce}),A.push({x1:Y,y1:re,x2:Y,y2:ce}),A.push({x1:Q,y1:re,x2:W,y2:re})}return pe.createElement(gr,FS({className:"recharts-errorBar",key:"bar-".concat(A.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},p),A.map(function(ae){return pe.createElement("line",FS({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return pe.createElement(gr,{className:"recharts-errorBars"},v)}}])}(pe.Component);Bz(WP,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Bz(WP,"displayName","ErrorBar");function cw(t){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(t)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){Cge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cge(t,e,n){return e=Oge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oge(t){var e=Nge(t,"string");return cw(e)=="symbol"?e:e+""}function Nge(t,e){if(cw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=ja(n,u0);if(!a)return null;var o=u0.defaultProps,l=o!==void 0?Tf(Tf({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,p=d.props,v=p.sectors||p.data||[];return u.concat(v.map(function(m){return{type:a.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,p=f!==void 0?Tf(Tf({},f),d.props):{},v=p.dataKey,m=p.name,b=p.legendType,g=p.hide;return{inactive:g,dataKey:v,type:l.iconType||b||"square",color:qI(d),value:m||v,payload:p}}),Tf(Tf(Tf({},l),u0.getWithHeight(a,i)),{},{payload:c,item:a})};function uw(t){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uw(t)}function OD(t){return Mge(t)||Rge(t)||Ige(t)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ige(t,e){if(t){if(typeof t=="string")return b3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b3(t,e)}}function Rge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mge(t){if(Array.isArray(t))return b3(t)}function b3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){d0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0(t,e,n){return e=jge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jge(t){var e=Dge(t,"string");return uw(e)=="symbol"?e:e+""}function Dge(t,e){if(uw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ga(t,e,n){return Xt(t)||Xt(e)?n:mi(e)?Oo(t,e,n):Ht(e)?e(t):n}function Ab(t,e,n,r){var i=Rpe(t,function(o){return Ga(o,e)});if(n==="number"){var s=i.filter(function(o){return $e(o)||parseFloat(o)});return s.length?[zP(s),Md(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Xt(o)}):i;return a.map(function(o){return mi(o)||o instanceof Date?o:""})}var Fge=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,f=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(bl(d-u)!==bl(f-d)){var v=[];if(bl(f-d)===bl(l[1]-l[0])){p=f;var m=d+l[1]-l[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{p=u;var b=f+l[1]-l[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var g=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>g[0]&&e<=g[1]||e>=v[0]&&e<=v[1]){a=i[c].index;break}}else{var w=Math.min(u,f),x=Math.max(u,f);if(e>(w+d)/2&&e<=(x+d)/2){a=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){a=r[S].index;break}return a},qI=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Or(Or({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},$ge=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var u=s[o[l]].stackGroups,d=Object.keys(u),f=0,p=d.length;f<p;f++){var v=u[d[f]],m=v.items,b=v.cateAxisId,g=m.filter(function(T){return Gu(T.type).indexOf("Bar")>=0});if(g&&g.length){var w=g[0].type.defaultProps,x=w!==void 0?Or(Or({},w),g[0].props):g[0].props,S=x.barSize,A=x[b];a[A]||(a[A]=[]);var E=Xt(S)?n:S;a[A].push({item:g[0],stackList:g.slice(1),barSize:Xt(E)?void 0:Og(E,r,0)})}}return a},Bge=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=Og(n,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var f=!1,p=i/l,v=a.reduce(function(S,A){return S+A.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&p>0&&(f=!0,p*=.9,v=l*p);var m=(i-v)/2>>0,b={offset:m-c,size:0};u=a.reduce(function(S,A){var E={item:A.item,position:{offset:b.offset+b.size+c,size:f?p:A.barSize}},T=[].concat(OD(S),[E]);return b=T[T.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(L){T.push({item:L,position:b})}),T},d)}else{var g=Og(r,i,0,!0);i-2*g-(l-1)*c<=0&&(c=0);var w=(i-2*g-(l-1)*c)/l;w>1&&(w>>=0);var x=o===+o?Math.min(w,o):w;u=a.reduce(function(S,A,E){var T=[].concat(OD(S),[{item:A.item,position:{offset:g+(w+c)*E+(w-x)/2,size:x}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(L){T.push({item:L,position:T[T.length-1].position})}),T},d)}return u},Uge=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=zz({children:s,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,p=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&$e(e[p]))return Or(Or({},e),{},d0({},p,e[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&$e(e[v]))return Or(Or({},e),{},d0({},v,e[v]+(f||0)))}return e},zge=function(e,n,r){return Xt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},qz=function(e,n,r,i,s){var a=n.props.children,o=Al(a,WP).filter(function(c){return zge(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Ga(u,r);if(Xt(d))return c;var f=Array.isArray(d)?[zP(d),Md(d)]:[d,d],p=l.reduce(function(v,m){var b=Ga(u,m,0),g=f[0]-Math.abs(Array.isArray(b)?b[0]:b),w=f[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(g,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},qge=function(e,n,r,i,s){var a=n.map(function(o){return qz(e,o,r,s,i)}).filter(function(o){return!Xt(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Hz=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&qz(e,l,c,i)||Ab(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Wz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},ep=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?bl(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=s?s.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!Ty(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:s?s[d]:d,index:f,offset:c}})},BT=new WeakMap,u5=function(e,n){if(typeof n!="function")return e;BT.has(e)||BT.set(e,new WeakMap);var r=BT.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Hge=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:tw(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:IS(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:_b(),realScaleType:"point"}:s==="category"?{scale:tw(),realScaleType:"band"}:{scale:IS(),realScaleType:"linear"};if(Cg(i)){var l="scale".concat(CP(i));return{scale:(SD[l]||_b)(),realScaleType:SD[l]?l:"point"}}return Ht(i)?{scale:i}:{scale:_b(),realScaleType:"point"}},LD=1e-4,Wge=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-LD,a=Math.max(i[0],i[1])+LD,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},Vge=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Gge=function(e,n){if(!n||n.length!==2||!$e(n[0])||!$e(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!$e(e[0])||e[0]<r)&&(s[0]=r),(!$e(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Kge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=Ty(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},Xge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=Ty(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Yge={sign:Kge,expand:cne,none:Zv,silhouette:une,wiggle:hne,positive:Xge},Jge=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=Yge[r],a=lne().keys(i).value(function(o,l){return+Ga(o,l,0)}).order(HO).offset(s);return a(e)},Zge=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(d,f){var p,v=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Or(Or({},f.type.defaultProps),f.props):f.props,m=v.stackId,b=v.hide;if(b)return d;var g=v[r],w=d[g]||{hasStack:!1,stackGroups:{}};if(mi(m)){var x=w.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(f),w.hasStack=!0,w.stackGroups[m]=x}else w.stackGroups[Bx("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Or(Or({},d),{},d0({},g,w))},l),u={};return Object.keys(c).reduce(function(d,f){var p=c[f];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var g=p.stackGroups[b];return Or(Or({},m),{},d0({},b,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:Jge(e,g.items,s)}))},v)}return Or(Or({},d),{},d0({},f,p))},u)},Qge=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=uge(c,s,o);return e.domain([zP(u),Md(u)]),{niceTicks:u}}if(s&&i==="number"){var d=e.domain(),f=hge(d,s,o);return{niceTicks:f}}return null};function ID(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xt(i[e.dataKey])){var o=uS(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Ga(i,Xt(a)?e.dataKey:a);return Xt(l)?null:e.scale(l)}var RD=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Ga(a,n.dataKey,n.domain[o]);return Xt(l)?null:n.scale(l)-s/2+i},eme=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},tme=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Or(Or({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(mi(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},nme=function(e){return e.reduce(function(n,r){return[zP(r.concat([n[0]]).filter($e)),Md(r.concat([n[1]]).filter($e))]},[1/0,-1/0])},Vz=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,u){var d=nme(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},MD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w3=function(e,n,r){if(Ht(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if($e(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(MD.test(e[0])){var s=+MD.exec(e[0])[1];i[0]=n[0]-s}else Ht(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if($e(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(jD.test(e[1])){var a=+jD.exec(e[1])[1];i[1]=n[1]+a}else Ht(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},BS=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=vI(n,function(d){return d.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},DD=function(e,n,r){return!e||!e.length||aw(e,Oo(r,"type.defaultProps.domain"))?n:e},Gz=function(e,n){var r=e.type.defaultProps?Or(Or({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Or(Or({},Kt(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:qI(e),value:Ga(n,i),type:l,payload:n,chartType:c,hide:u})};function hw(t){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hw(t)}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return e=ime(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=sme(t,"string");return hw(e)=="symbol"?e:e+""}function sme(t,e){if(hw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var US=Math.PI/180,ame=function(e){return e*180/Math.PI},Zi=function(e,n,r,i){return{x:e+Math.cos(-US*i)*r,y:n+Math.sin(-US*i)*r}},ome=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},lme=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=ome({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:ame(c),angleInRadian:c}},cme=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},ume=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},BD=function(e,n){var r=e.x,i=e.y,s=lme({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=cme(n),d=u.startAngle,f=u.endAngle,p=o,v;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=d}return v?$D($D({},n),{},{radius:a,angle:ume(p,n)}):null};function dw(t){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(t)}var hme=["offset"];function dme(t){return mme(t)||gme(t)||pme(t)||fme()}function fme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){if(t){if(typeof t=="string")return x3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x3(t,e)}}function gme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mme(t){if(Array.isArray(t))return x3(t)}function x3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vme(t,e){if(t==null)return{};var n=yme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e,n){return e=wme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wme(t){var e=xme(t,"string");return dw(e)=="symbol"?e:e+""}function xme(t,e){if(dw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}var _me=function(e){var n=e.value,r=e.formatter,i=Xt(e.children)?n:e.children;return Ht(r)?r(i):i},Ame=function(e,n){var r=bl(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Sme=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,b=(d+f)/2,g=Ame(p,v),w=g>=0?1:-1,x,S;i==="insideStart"?(x=p+w*a,S=m):i==="insideEnd"?(x=v-w*a,S=!m):i==="end"&&(x=v+w*a,S=m),S=g<=0?S:!S;var A=Zi(c,u,b,x),E=Zi(c,u,b,x+(S?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),L=Xt(e.id)?Bx("recharts-radial-line-"):e.id;return pe.createElement("text",fw({},r,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",o)}),pe.createElement("defs",null,pe.createElement("path",{id:L,d:T})),pe.createElement("textPath",{xlinkHref:"#".concat(L)},n))},Eme=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,d=s.endAngle,f=(u+d)/2;if(i==="outside"){var p=Zi(a,o,c+r,f),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,g=Zi(a,o,b,f),w=g.x,x=g.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Pme=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,f=d*i,p=d>0?"end":"start",v=d>0?"start":"end",m=c>=0?1:-1,b=m*i,g=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var x={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return li(li({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var S={x:o+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:v};return li(li({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var A={x:o-b,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return li(li({},A),r?{width:Math.max(A.x-r.x,0),height:u}:{})}if(s==="right"){var E={x:o+c+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return li(li({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:u}:{})}var T=r?{width:c,height:u}:{};return s==="insideLeft"?li({x:o+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideRight"?li({x:o+c-b,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},T):s==="insideTop"?li({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:v},T):s==="insideBottom"?li({x:o+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:p},T):s==="insideTopLeft"?li({x:o+b,y:l+f,textAnchor:w,verticalAnchor:v},T):s==="insideTopRight"?li({x:o+c-b,y:l+f,textAnchor:g,verticalAnchor:v},T):s==="insideBottomLeft"?li({x:o+b,y:l+u-f,textAnchor:w,verticalAnchor:p},T):s==="insideBottomRight"?li({x:o+c-b,y:l+u-f,textAnchor:g,verticalAnchor:p},T):Sy(s)&&($e(s.x)||Jf(s.x))&&($e(s.y)||Jf(s.y))?li({x:o+Og(s.x,c),y:l+Og(s.y,u),textAnchor:"end",verticalAnchor:"end"},T):li({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},kme=function(e){return"cx"in e&&$e(e.cx)};function ys(t){var e=t.offset,n=e===void 0?5:e,r=vme(t,hme),i=li({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!s||Xt(o)&&Xt(l)&&!Ae.isValidElement(c)&&!Ht(c))return null;if(Ae.isValidElement(c))return Ae.cloneElement(c,i);var p;if(Ht(c)){if(p=Ae.createElement(c,i),Ae.isValidElement(p))return p}else p=_me(i);var v=kme(s),m=Kt(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Sme(i,p,m);var b=v?Eme(i):Pme(i);return pe.createElement(PS,fw({className:ln("recharts-label",d)},m,b,{breakAll:f}),p)}ys.displayName="Label";var Kz=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,p=e.top,v=e.left,m=e.width,b=e.height,g=e.clockWise,w=e.labelViewBox;if(w)return w;if($e(m)&&$e(b)){if($e(d)&&$e(f))return{x:d,y:f,width:m,height:b};if($e(p)&&$e(v))return{x:p,y:v,width:m,height:b}}return $e(d)&&$e(f)?{x:d,y:f,width:0,height:0}:$e(n)&&$e(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:g}:e.viewBox?e.viewBox:{}},Tme=function(e,n){return e?e===!0?pe.createElement(ys,{key:"label-implicit",viewBox:n}):mi(e)?pe.createElement(ys,{key:"label-implicit",viewBox:n,value:e}):Ae.isValidElement(e)?e.type===ys?Ae.cloneElement(e,{key:"label-implicit",viewBox:n}):pe.createElement(ys,{key:"label-implicit",content:e,viewBox:n}):Ht(e)?pe.createElement(ys,{key:"label-implicit",content:e,viewBox:n}):Sy(e)?pe.createElement(ys,fw({viewBox:n},e,{key:"label-implicit"})):null:null},Cme=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=Kz(e),a=Al(i,ys).map(function(l,c){return Ae.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=Tme(e.label,n||s);return[o].concat(dme(a))};ys.parseViewBox=Kz;ys.renderCallByParent=Cme;function Ome(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Nme=Ome;const Lme=Kn(Nme);function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}var Ime=["valueAccessor"],Rme=["data","dataKey","clockWise","id","textBreakAll"];function Mme(t){return $me(t)||Fme(t)||Dme(t)||jme()}function jme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dme(t,e){if(t){if(typeof t=="string")return _3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _3(t,e)}}function Fme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $me(t){if(Array.isArray(t))return _3(t)}function _3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){Bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bme(t,e,n){return e=Ume(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ume(t){var e=zme(t,"string");return pw(e)=="symbol"?e:e+""}function zme(t,e){if(pw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HD(t,e){if(t==null)return{};var n=qme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Hme=function(e){return Array.isArray(e.value)?Lme(e.value):e.value};function Gd(t){var e=t.valueAccessor,n=e===void 0?Hme:e,r=HD(t,Ime),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=HD(r,Rme);return!i||!i.length?null:pe.createElement(gr,{className:"recharts-label-list"},i.map(function(u,d){var f=Xt(s)?n(u,d):Ga(u&&u.payload,s),p=Xt(o)?{}:{id:"".concat(o,"-").concat(d)};return pe.createElement(ys,zS({},Kt(u,!0),c,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:ys.parseViewBox(Xt(a)?u:qD(qD({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Gd.displayName="LabelList";function Wme(t,e){return t?t===!0?pe.createElement(Gd,{key:"labelList-implicit",data:e}):pe.isValidElement(t)||Ht(t)?pe.createElement(Gd,{key:"labelList-implicit",data:e,content:t}):Sy(t)?pe.createElement(Gd,zS({data:e},t,{key:"labelList-implicit"})):null:null}function Vme(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Al(r,Gd).map(function(a,o){return Ae.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=Wme(t.label,e);return[s].concat(Mme(i))}Gd.renderCallByParent=Vme;function gw(t){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(t)}function A3(){return A3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A3.apply(this,arguments)}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gme(t,e,n){return e=Kme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kme(t){var e=Xme(t,"string");return gw(e)=="symbol"?e:e+""}function Xme(t,e){if(gw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yme=function(e,n){var r=bl(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},h5=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/US,f=c?s:s+a*d,p=Zi(n,r,u,f),v=Zi(n,r,i,f),m=c?s-a*d:s,b=Zi(n,r,u*Math.cos(d*US),m);return{center:p,circleTangency:v,lineTangency:b,theta:d}},Xz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Yme(a,o),c=a+l,u=Zi(n,r,s,a),d=Zi(n,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Zi(n,r,i,a),v=Zi(n,r,i,c);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},Jme=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=bl(u-c),f=h5({cx:n,cy:r,radius:s,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),p=f.circleTangency,v=f.lineTangency,m=f.theta,b=h5({cx:n,cy:r,radius:s,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),g=b.circleTangency,w=b.lineTangency,x=b.theta,S=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Xz({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var E=h5({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=E.circleTangency,L=E.lineTangency,I=E.theta,q=h5({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=q.circleTangency,M=q.lineTangency,z=q.theta,$=l?Math.abs(c-u):Math.abs(c-u)-I-z;if($<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},Zme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Yz=function(e){var n=VD(VD({},Zme),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(a<s||u===d)return null;var p=ln("recharts-sector",f),v=a-s,m=Og(o,v,0,!0),b;return m>0&&Math.abs(u-d)<360?b=Jme({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):b=Xz({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d}),pe.createElement("path",A3({},Kt(n,!0),{className:p,d:b,role:"img"}))};function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}function S3(){return S3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S3.apply(this,arguments)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qme(t,e,n){return e=e0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0e(t){var e=t0e(t,"string");return mw(e)=="symbol"?e:e+""}function t0e(t,e){if(mw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XD={curveBasisClosed:Jte,curveBasisOpen:Zte,curveBasis:Yte,curveBumpX:jte,curveBumpY:Dte,curveLinearClosed:Qte,curveLinear:NP,curveMonotoneX:ene,curveMonotoneY:tne,curveNatural:nne,curveStep:rne,curveStepAfter:sne,curveStepBefore:ine},d5=function(e){return e.x===+e.x&&e.y===+e.y},P1=function(e){return e.x},k1=function(e){return e.y},n0e=function(e,n){if(Ht(e))return e;var r="curve".concat(CP(e));return(r==="curveMonotone"||r==="curveBump")&&n?XD["".concat(r).concat(n==="vertical"?"Y":"X")]:XD[r]||NP},r0e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=n0e(r,o),d=c?s.filter(function(m){return d5(m)}):s,f;if(Array.isArray(a)){var p=c?a.filter(function(m){return d5(m)}):a,v=d.map(function(m,b){return KD(KD({},m),{},{base:p[b]})});return o==="vertical"?f=n5().y(k1).x1(P1).x0(function(m){return m.base.x}):f=n5().x(P1).y1(k1).y0(function(m){return m.base.y}),f.defined(d5).curve(u),f(v)}return o==="vertical"&&$e(a)?f=n5().y(k1).x1(P1).x0(a):$e(a)?f=n5().x(P1).y1(k1).y0(a):f=ZU().x(P1).y(k1),f.defined(d5).curve(u),f(d)},Sb=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?r0e(e):i;return Ae.createElement("path",S3({},Kt(e,!1),hS(e),{className:ln("recharts-curve",n),d:a,ref:s}))},Jz={exports:{}},i0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s0e=i0e,a0e=s0e;function Zz(){}function Qz(){}Qz.resetWarningCache=Zz;var o0e=function(){function t(r,i,s,a,o,l){if(l!==a0e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Qz,resetWarningCache:Zz};return n.PropTypes=n,n};Jz.exports=o0e();var l0e=Jz.exports;const gn=Kn(l0e),{getOwnPropertyNames:c0e,getOwnPropertySymbols:u0e}=Object,{hasOwnProperty:h0e}=Object.prototype;function UT(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function f5(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);const l=t(n,r,i);return s.delete(n),s.delete(r),l}}function d0e(t){return t!=null?t[Symbol.toStringTag]:void 0}function YD(t){return c0e(t).concat(u0e(t))}const f0e=Object.hasOwn||((t,e)=>h0e.call(t,e));function qg(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const p0e="__v",g0e="__o",m0e="_owner",{getOwnPropertyDescriptor:JD,keys:ZD}=Object;function v0e(t,e){return t.byteLength===e.byteLength&&qS(new Uint8Array(t),new Uint8Array(e))}function y0e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function b0e(t,e){return t.byteLength===e.byteLength&&qS(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function w0e(t,e){return qg(t.getTime(),e.getTime())}function x0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function _0e(t,e){return t===e}function QD(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let a,o,l=0;for(;(a=s.next())&&!a.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const f=a.value,p=o.value;if(n.equals(f[0],p[0],l,d,t,e,n)&&n.equals(f[1],p[1],f[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const A0e=qg;function S0e(t,e,n){const r=ZD(t);let i=r.length;if(ZD(e).length!==i)return!1;for(;i-- >0;)if(!eq(t,e,n,r[i]))return!1;return!0}function T1(t,e,n){const r=YD(t);let i=r.length;if(YD(e).length!==i)return!1;let s,a,o;for(;i-- >0;)if(s=r[i],!eq(t,e,n,s)||(a=JD(t,s),o=JD(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function E0e(t,e){return qg(t.valueOf(),e.valueOf())}function P0e(t,e){return t.source===e.source&&t.flags===e.flags}function e8(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let a,o;for(;(a=s.next())&&!a.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function qS(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function k0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function eq(t,e,n,r){return(r===m0e||r===g0e||r===p0e)&&(t.$$typeof||e.$$typeof)?!0:f0e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const T0e="[object ArrayBuffer]",C0e="[object Arguments]",O0e="[object Boolean]",N0e="[object DataView]",L0e="[object Date]",I0e="[object Error]",R0e="[object Map]",M0e="[object Number]",j0e="[object Object]",D0e="[object RegExp]",F0e="[object Set]",$0e="[object String]",B0e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},U0e="[object URL]",z0e=Object.prototype.toString;function q0e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:f,areUrlsEqual:p,unknownTagComparators:v}){return function(b,g,w){if(b===g)return!0;if(b==null||g==null)return!1;const x=typeof b;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(b,g,w):x==="function"?s(b,g,w):!1;const S=b.constructor;if(S!==g.constructor)return!1;if(S===Object)return l(b,g,w);if(Array.isArray(b))return e(b,g,w);if(S===Date)return r(b,g,w);if(S===RegExp)return u(b,g,w);if(S===Map)return a(b,g,w);if(S===Set)return d(b,g,w);const A=z0e.call(b);if(A===L0e)return r(b,g,w);if(A===D0e)return u(b,g,w);if(A===R0e)return a(b,g,w);if(A===F0e)return d(b,g,w);if(A===j0e)return typeof b.then!="function"&&typeof g.then!="function"&&l(b,g,w);if(A===U0e)return p(b,g,w);if(A===I0e)return i(b,g,w);if(A===C0e)return l(b,g,w);if(B0e[A])return f(b,g,w);if(A===T0e)return t(b,g,w);if(A===N0e)return n(b,g,w);if(A===O0e||A===M0e||A===$0e)return c(b,g,w);if(v){let E=v[A];if(!E){const T=d0e(b);T&&(E=v[T])}if(E)return E(b,g,w)}return!1}}function H0e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:v0e,areArraysEqual:n?T1:y0e,areDataViewsEqual:b0e,areDatesEqual:w0e,areErrorsEqual:x0e,areFunctionsEqual:_0e,areMapsEqual:n?UT(QD,T1):QD,areNumbersEqual:A0e,areObjectsEqual:n?T1:S0e,arePrimitiveWrappersEqual:E0e,areRegExpsEqual:P0e,areSetsEqual:n?UT(e8,T1):e8,areTypedArraysEqual:n?UT(qS,T1):qS,areUrlsEqual:k0e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=f5(r.areArraysEqual),s=f5(r.areMapsEqual),a=f5(r.areObjectsEqual),o=f5(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:o})}return r}function W0e(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function V0e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,s)}}const G0e=lf();lf({strict:!0});lf({circular:!0});lf({circular:!0,strict:!0});lf({createInternalComparator:()=>qg});lf({strict:!0,createInternalComparator:()=>qg});lf({circular:!0,createInternalComparator:()=>qg});lf({circular:!0,createInternalComparator:()=>qg,strict:!0});function lf(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=H0e(t),a=q0e(s),o=n?n(a):W0e(a);return V0e({circular:e,comparator:a,createState:r,equals:o,strict:i})}function K0e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function t8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):K0e(i)};requestAnimationFrame(r)}function E3(t){"@babel/helpers - typeof";return E3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E3(t)}function X0e(t){return Q0e(t)||Z0e(t)||J0e(t)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J0e(t,e){if(t){if(typeof t=="string")return n8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n8(t,e)}}function n8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q0e(t){if(Array.isArray(t))return t}function eve(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=X0e(a),l=o[0],c=o.slice(1);if(typeof l=="number"){t8(i.bind(null,c),l);return}i(l),t8(i.bind(null,c));return}E3(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}function r8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(n),!0).forEach(function(r){tq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tq(t,e,n){return e=tve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tve(t){var e=nve(t,"string");return vw(e)==="symbol"?e:String(e)}function nve(t,e){if(vw(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rve=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},ive=function(e){return e},sve=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Eb=function(e,n){return Object.keys(n).reduce(function(r,i){return i8(i8({},r),{},tq({},i,e(i,n[i])))},{})},s8=function(e,n,r){return e.map(function(i){return"".concat(sve(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ave(t,e){return cve(t)||lve(t,e)||nq(t,e)||ove()}function ove(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function cve(t){if(Array.isArray(t))return t}function uve(t){return fve(t)||dve(t)||nq(t)||hve()}function hve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(t,e){if(t){if(typeof t=="string")return P3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P3(t,e)}}function dve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fve(t){if(Array.isArray(t))return P3(t)}function P3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var HS=1e-4,rq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},iq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},a8=function(e,n){return function(r){var i=rq(e,n);return iq(i,r)}},pve=function(e,n){return function(r){var i=rq(e,n),s=[].concat(uve(i.map(function(a,o){return a*o}).slice(1)),[0]);return iq(s,r)}},o8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=ave(c,4);i=u[0],s=u[1],a=u[2],o=u[3]}}}var d=a8(i,a),f=a8(s,o),p=pve(i,a),v=function(g){return g>1?1:g<0?0:g},m=function(g){for(var w=g>1?1:g,x=w,S=0;S<8;++S){var A=d(x)-w,E=p(x);if(Math.abs(A-w)<HS||E<HS)return f(x);x=v(x-A/E)}return f(x)};return m.isStepper=!1,m},gve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(u,d,f){var p=-(u-d)*r,v=f*s,m=f+(p-v)*o/1e3,b=f*o/1e3+u;return Math.abs(b-d)<HS&&Math.abs(m)<HS?[d,0]:[b,m]};return l.isStepper=!0,l.dt=o,l},mve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o8(i);case"spring":return gve();default:if(i.split("(")[0]==="cubic-bezier")return o8(i)}return typeof i=="function"?i:null};function yw(t){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(t)}function l8(t){return bve(t)||yve(t)||sq(t)||vve()}function vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bve(t){if(Array.isArray(t))return T3(t)}function c8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(r){k3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k3(t,e,n){return e=wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=xve(t,"string");return yw(e)==="symbol"?e:String(e)}function xve(t,e){if(yw(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ve(t,e){return Eve(t)||Sve(t,e)||sq(t,e)||Ave()}function Ave(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sq(t,e){if(t){if(typeof t=="string")return T3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T3(t,e)}}function T3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Eve(t){if(Array.isArray(t))return t}var WS=function(e,n,r){return e+(n-e)*r},C3=function(e){var n=e.from,r=e.to;return n!==r},Pve=function t(e,n,r){var i=Eb(function(s,a){if(C3(a)){var o=e(a.from,a.to,a.velocity),l=_ve(o,2),c=l[0],u=l[1];return Gi(Gi({},a),{},{from:c,velocity:u})}return a},n);return r<1?Eb(function(s,a){return C3(a)?Gi(Gi({},a),{},{velocity:WS(a.velocity,i[s].velocity,r),from:WS(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const kve=function(t,e,n,r,i){var s=rve(t,e),a=s.reduce(function(b,g){return Gi(Gi({},b),{},k3({},g,[t[g],e[g]]))},{}),o=s.reduce(function(b,g){return Gi(Gi({},b),{},k3({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return Eb(function(g,w){return w.from},o)},p=function(){return!Object.values(o).filter(C3).length},v=function(g){c||(c=g);var w=g-c,x=w/n.dt;o=Pve(n,o,x),i(Gi(Gi(Gi({},t),e),f())),c=g,p()||(l=requestAnimationFrame(d))},m=function(g){u||(u=g);var w=(g-u)/r,x=Eb(function(A,E){return WS.apply(void 0,l8(E).concat([n(w)]))},a);if(i(Gi(Gi(Gi({},t),e),x)),w<1)l=requestAnimationFrame(d);else{var S=Eb(function(A,E){return WS.apply(void 0,l8(E).concat([n(1)]))},a);i(Gi(Gi(Gi({},t),e),S))}};return d=n.isStepper?v:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}var Tve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Cve(t,e){if(t==null)return{};var n=Ove(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ove(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zT(t){return Rve(t)||Ive(t)||Lve(t)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lve(t,e){if(t){if(typeof t=="string")return O3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O3(t,e)}}function Ive(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rve(t){if(Array.isArray(t))return O3(t)}function O3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(n),!0).forEach(function(r){U1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1(t,e,n){return e=aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aq(r.key),r)}}function Dve(t,e,n){return e&&jve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aq(t){var e=Fve(t,"string");return oy(e)==="symbol"?e:String(e)}function Fve(t,e){if(oy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N3(t,e)}function N3(t,e){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N3(t,e)}function Bve(t){var e=Uve();return function(){var r=VS(t),i;if(e){var s=VS(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return L3(this,i)}}function L3(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I3(t)}function I3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function VS(t){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VS(t)}var sh=function(t){$ve(n,t);var e=Bve(n);function n(r,i){var s;Mve(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,f=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(I3(s)),s.changeStyle=s.changeStyle.bind(I3(s)),!o||p<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:u}),L3(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof f=="function")return s.state={style:c},L3(s);s.state={style:l?U1({},l,c):c}}else s.state={style:{}};return s}return Dve(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,d=s.from,f=this.state.style;if(o){if(!a){var p={style:l?U1({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(p);return}if(!(G0e(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?d:i.to;if(this.state&&f){var b={style:l?U1({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(b)}this.runAnimation(Xo(Xo({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,p=kve(a,o,mve(c),l,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([f,u,v,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,f=d===void 0?0:d,p=function(m,b,g){if(g===0)return m;var w=b.duration,x=b.easing,S=x===void 0?"ease":x,A=b.style,E=b.properties,T=b.onAnimationEnd,L=g>0?a[g-1]:b,I=E||Object.keys(A);if(typeof S=="function"||S==="spring")return[].concat(zT(m),[s.runJSAnimation.bind(s,{from:L.style,to:A,duration:w,easing:S}),w]);var q=s8(I,w,S),O=Xo(Xo(Xo({},L.style),A),{},{transition:q});return[].concat(zT(m),[O,w,T]).filter(ive)};return this.manager.start([l].concat(zT(a.reduce(p,[u,Math.max(f,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=eve());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=o?U1({},o,l):l,b=s8(Object.keys(m),a,c);v.start([u,s,Xo(Xo({},m),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Cve(i,Tve),c=Ae.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!o||c===0||a<=0)return s;var d=function(p){var v=p.props,m=v.style,b=m===void 0?{}:m,g=v.className,w=Ae.cloneElement(p,Xo(Xo({},l),{},{style:Xo(Xo({},b),u),className:g}));return w};return c===1?d(Ae.Children.only(s)):pe.createElement("div",null,Ae.Children.map(s,function(f){return d(f)}))}}]),n}(Ae.PureComponent);sh.displayName="Animate";sh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sh.propTypes={from:gn.oneOfType([gn.object,gn.string]),to:gn.oneOfType([gn.object,gn.string]),attributeName:gn.string,duration:gn.number,begin:gn.number,easing:gn.oneOfType([gn.string,gn.func]),steps:gn.arrayOf(gn.shape({duration:gn.number.isRequired,style:gn.object.isRequired,easing:gn.oneOfType([gn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gn.func]),properties:gn.arrayOf("string"),onAnimationEnd:gn.func})),children:gn.oneOfType([gn.node,gn.func]),isActive:gn.bool,canBegin:gn.bool,onAnimationEnd:gn.func,shouldReAnimate:gn.bool,onAnimationStart:gn.func,onAnimationReStart:gn.func};function bw(t){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bw(t)}function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GS.apply(this,arguments)}function zve(t,e){return Vve(t)||Wve(t,e)||Hve(t,e)||qve()}function qve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hve(t,e){if(t){if(typeof t=="string")return h8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h8(t,e)}}function h8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Vve(t){if(Array.isArray(t))return t}function d8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(n),!0).forEach(function(r){Gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e,n){return e=Kve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kve(t){var e=Xve(t,"string");return bw(e)=="symbol"?e:e+""}function Xve(t,e){if(bw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p8=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=s[f]>a?a:s[f];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var v=Math.min(a,s);u="M ".concat(e,",").concat(n+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*v,`
            L `).concat(e+r,",").concat(n+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*v," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},Yve=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),u=Math.max(s,s+o),d=Math.min(a,a+l),f=Math.max(a,a+l);return r>=c&&r<=u&&i>=d&&i<=f}return!1},Jve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HI=function(e){var n=f8(f8({},Jve),e),r=Ae.useRef(),i=Ae.useState(-1),s=zve(i,2),a=s[0],o=s[1];Ae.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,f=n.radius,p=n.className,v=n.animationEasing,m=n.animationDuration,b=n.animationBegin,g=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var x=ln("recharts-rectangle",p);return w?pe.createElement(sh,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:v,isActive:w},function(S){var A=S.width,E=S.height,T=S.x,L=S.y;return pe.createElement(sh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:g,easing:v},pe.createElement("path",GS({},Kt(n,!0),{className:x,d:p8(T,L,A,E,f),ref:r})))}):pe.createElement("path",GS({},Kt(n,!0),{className:x,d:p8(l,c,u,d,f)}))};function R3(){return R3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R3.apply(this,arguments)}var WI=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=ln("recharts-dot",s);return n===+n&&r===+r&&i===+i?Ae.createElement("circle",R3({},Kt(e,!1),hS(e),{className:a,cx:n,cy:r,r:i})):null};function ww(t){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ww(t)}var Zve=["x","y","top","left","width","height","className"];function M3(){return M3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M3.apply(this,arguments)}function g8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return e=tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return ww(e)=="symbol"?e:e+""}function nye(t,e){if(ww(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ww(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rye(t,e){if(t==null)return{};var n=iye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sye=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},aye=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,p=f===void 0?0:f,v=e.className,m=rye(e,Zve),b=Qve({x:r,y:s,top:o,left:c,width:d,height:p},m);return!$e(r)||!$e(s)||!$e(d)||!$e(p)||!$e(o)||!$e(c)?null:pe.createElement("path",M3({},Kt(b,!0),{className:ln("recharts-cross",v),d:sye(r,s,d,p,o,c)}))},oye=_9,lye=oye(Object.getPrototypeOf,Object),cye=lye,uye=ch,hye=cye,dye=uh,fye="[object Object]",pye=Function.prototype,gye=Object.prototype,oq=pye.toString,mye=gye.hasOwnProperty,vye=oq.call(Object);function yye(t){if(!dye(t)||uye(t)!=fye)return!1;var e=hye(t);if(e===null)return!0;var n=mye.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&oq.call(n)==vye}var bye=yye;const wye=Kn(bye);var xye=ch,_ye=uh,Aye="[object Boolean]";function Sye(t){return t===!0||t===!1||_ye(t)&&xye(t)==Aye}var Eye=Sye;const Pye=Kn(Eye);function xw(t){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(t)}function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(this,arguments)}function kye(t,e){return Nye(t)||Oye(t,e)||Cye(t,e)||Tye()}function Tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cye(t,e){if(t){if(typeof t=="string")return m8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m8(t,e)}}function m8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Nye(t){if(Array.isArray(t))return t}function v8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(n),!0).forEach(function(r){Lye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lye(t,e,n){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Rye(t,"string");return xw(e)=="symbol"?e:e+""}function Rye(t,e){if(xw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b8=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},Mye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jye=function(e){var n=y8(y8({},Mye),e),r=Ae.useRef(),i=Ae.useState(-1),s=kye(i,2),a=s[0],o=s[1];Ae.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,f=n.height,p=n.className,v=n.animationEasing,m=n.animationDuration,b=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var w=ln("recharts-trapezoid",p);return g?pe.createElement(sh,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:m,animationEasing:v,isActive:g},function(x){var S=x.upperWidth,A=x.lowerWidth,E=x.height,T=x.x,L=x.y;return pe.createElement(sh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:v},pe.createElement("path",KS({},Kt(n,!0),{className:w,d:b8(T,L,S,A,E),ref:r})))}):pe.createElement("g",null,pe.createElement("path",KS({},Kt(n,!0),{className:w,d:b8(l,c,u,d,f)})))},Dye=["option","shapeType","propTransformer","activeClassName","isActive"];function _w(t){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(t)}function Fye(t,e){if(t==null)return{};var n=$ye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(r){Bye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bye(t,e,n){return e=Uye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uye(t){var e=zye(t,"string");return _w(e)=="symbol"?e:e+""}function zye(t,e){if(_w(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_w(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qye(t,e){return XS(XS({},e),t)}function Hye(t,e){return t==="symbols"}function x8(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return pe.createElement(HI,n);case"trapezoid":return pe.createElement(jye,n);case"sector":return pe.createElement(Yz,n);case"symbols":if(Hye(e))return pe.createElement(lI,n);break;default:return null}}function Wye(t){return Ae.isValidElement(t)?t.props:t}function Vye(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?qye:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=Fye(t,Dye),c;if(Ae.isValidElement(e))c=Ae.cloneElement(e,XS(XS({},l),Wye(e)));else if(Ht(e))c=e(l);else if(wye(e)&&!Pye(e)){var u=i(e,l);c=pe.createElement(x8,{shapeType:n,elementProps:u})}else{var d=l;c=pe.createElement(x8,{shapeType:n,elementProps:d})}return o?pe.createElement(gr,{className:a},c):c}function VP(t,e){return e!=null&&"trapezoids"in t.props}function GP(t,e){return e!=null&&"sectors"in t.props}function Aw(t,e){return e!=null&&"points"in t.props}function Gye(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Kye(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Xye(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Yye(t,e){var n;return VP(t,e)?n=Gye:GP(t,e)?n=Kye:Aw(t,e)&&(n=Xye),n}function Jye(t,e){var n;return VP(t,e)?n="trapezoids":GP(t,e)?n="sectors":Aw(t,e)&&(n="points"),n}function Zye(t,e){if(VP(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(GP(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Aw(t,e)?e.payload:{}}function Qye(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Jye(n,e),s=Zye(n,e),a=r.filter(function(l,c){var u=aw(s,l),d=n.props[i].filter(function(v){var m=Yye(n,e);return m(v,e)}),f=n.props[i].indexOf(d[d.length-1]),p=c===f;return u&&p}),o=r.indexOf(a[a.length-1]);return o}var e1e=Math.ceil,t1e=Math.max;function n1e(t,e,n,r){for(var i=-1,s=t1e(e1e((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var r1e=n1e,i1e=B9,_8=1/0,s1e=17976931348623157e292;function a1e(t){if(!t)return t===0?t:0;if(t=i1e(t),t===_8||t===-_8){var e=t<0?-1:1;return e*s1e}return t===t?t:0}var o1e=a1e,l1e=r1e,c1e=MP,qT=o1e;function u1e(t){return function(e,n,r){return r&&typeof r!="number"&&c1e(e,n,r)&&(n=r=void 0),e=qT(e),n===void 0?(n=e,e=0):n=qT(n),r=r===void 0?e<n?1:-1:qT(r),l1e(e,n,r,t)}}var h1e=u1e,d1e=h1e,f1e=d1e(),p1e=f1e;const YS=Kn(p1e);function Sw(t){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(t)}function A8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(n),!0).forEach(function(r){lq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lq(t,e,n){return e=g1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t){var e=m1e(t,"string");return Sw(e)=="symbol"?e:e+""}function m1e(t,e){if(Sw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v1e=["Webkit","Moz","O","ms"],y1e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=v1e.reduce(function(s,a){return S8(S8({},s),{},lq({},a+r,n))},{});return i[e]=n,i};function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function E8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(n),!0).forEach(function(r){pa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uq(r.key),r)}}function w1e(t,e,n){return e&&P8(t.prototype,e),n&&P8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x1e(t,e,n){return e=ZS(e),_1e(t,cq()?Reflect.construct(e,n||[],ZS(t).constructor):e.apply(t,n))}function _1e(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(t)}function A1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cq=function(){return!!t})()}function ZS(t){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZS(t)}function S1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j3(t,e)}function j3(t,e){return j3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j3(t,e)}function pa(t,e,n){return e=uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uq(t){var e=E1e(t,"string");return ly(e)=="symbol"?e:e+""}function E1e(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P1e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=_b().domain(YS(0,l)).range([s,s+a-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},k8=function(e){return e.changedTouches&&!!e.changedTouches.length},cy=function(t){function e(n){var r;return b1e(this,e),r=x1e(this,e,[n]),pa(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),pa(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),pa(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),pa(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),pa(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),pa(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),pa(r,"handleSlideDragStart",function(i){var s=k8(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return S1e(e,t),w1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,s),f=Math.max(i,s),p=e.getIndexInRange(a,d),v=e.getIndexInRange(a,f);return{startIndex:p-p%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Ga(s[r],o,r);return Ht(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,p=l.endIndex,v=l.onChange,m=r.pageX-s;m>0?m=Math.min(m,c+u-d-o,c+u-d-a):m<0&&(m=Math.max(m,c-a,c-o));var b=this.getIndex({startX:a+m,endX:o+m});(b.startIndex!==f||b.endIndex!==p)&&v&&v(b),this.setState({startX:a+m,endX:o+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=k8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,f=u.width,p=u.travellerWidth,v=u.onChange,m=u.gap,b=u.data,g={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,d+f-p-c):w<0&&(w=Math.max(w,d-c)),g[a]=c+w;var x=this.getIndex(g),S=x.startIndex,A=x.endIndex,E=function(){var L=b.length-1;return a==="startX"&&(o>l?S%m===0:A%m===0)||o<l&&A===L||a==="endX"&&(o>l?A%m===0:S%m===0)||o>l&&A===L};this.setState(pa(pa({},a,c+w),"brushMoveStartX",r.pageX),function(){v&&E()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=o.length)){var p=o[f];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(pa({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return pe.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=Ae.Children.only(c);return d?pe.cloneElement(d,{x:i,y:s,width:a,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,b=l.endIndex,g=Math.max(r,this.props.x),w=HT(HT({},Kt(this.props,!1)),{},{x:g,y:c,width:u,height:d}),x=p||"Min value: ".concat((s=v[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return pe.createElement(gr,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,p=5,v={pointerEvents:"none",fill:c};return pe.createElement(gr,{className:"recharts-brush-texts"},pe.createElement(PS,JS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:a+o/2},v),this.getTextOfTick(i)),pe.createElement(PS,JS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+p,y:a+o/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,p=f.startX,v=f.endX,m=f.isTextActive,b=f.isSlideMoving,g=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!$e(o)||!$e(l)||!$e(c)||!$e(u)||c<=0||u<=0)return null;var x=ln("recharts-brush",s),S=pe.Children.count(a)===1,A=y1e("userSelect","none");return pe.createElement(gr,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||b||g||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return pe.createElement(pe.Fragment,null,pe.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),pe.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),pe.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return pe.isValidElement(r)?s=pe.cloneElement(r,i):Ht(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return HT({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?P1e({data:s,width:a,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(Ae.PureComponent);pa(cy,"displayName","Brush");pa(cy,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var k1e=mI;function T1e(t,e){var n;return k1e(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var C1e=T1e,O1e=p9,N1e=Ly,L1e=C1e,I1e=ta,R1e=MP;function M1e(t,e,n){var r=I1e(t)?O1e:L1e;return n&&R1e(t,e,n)&&(e=void 0),r(t,N1e(e))}var j1e=M1e;const D1e=Kn(j1e);var _c=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},T8=M9;function F1e(t,e,n){e=="__proto__"&&T8?T8(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var $1e=F1e,B1e=$1e,U1e=I9,z1e=Ly;function q1e(t,e){var n={};return e=z1e(e),U1e(t,function(r,i,s){B1e(n,i,e(r,i,s))}),n}var H1e=q1e;const W1e=Kn(H1e);function V1e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var G1e=V1e,K1e=mI;function X1e(t,e){var n=!0;return K1e(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var Y1e=X1e,J1e=G1e,Z1e=Y1e,Q1e=Ly,ebe=ta,tbe=MP;function nbe(t,e,n){var r=ebe(t)?J1e:Z1e;return n&&tbe(t,e,n)&&(e=void 0),r(t,Q1e(e))}var rbe=nbe;const ibe=Kn(rbe);var sbe=["x","y"];function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}function D3(){return D3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D3.apply(this,arguments)}function C8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(n),!0).forEach(function(r){abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function abe(t,e,n){return e=obe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function obe(t){var e=lbe(t,"string");return Ew(e)=="symbol"?e:e+""}function lbe(t,e){if(Ew(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ew(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cbe(t,e){if(t==null)return{};var n=ube(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ube(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hbe(t,e){var n=t.x,r=t.y,i=cbe(t,sbe),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),f=parseInt(d,10);return C1(C1(C1(C1(C1({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function O8(t){return pe.createElement(Vye,D3({shapeType:"rectangle",propTransformer:hbe,activeClassName:"recharts-active-bar"},t))}var dbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=$e(r)||xee(r);return s?e(r,i):(s||Lg(),n)}},fbe=["value","background"],hq;function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function pbe(t,e){if(t==null)return{};var n=gbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(this,arguments)}function N8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(n),!0).forEach(function(r){jd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fq(r.key),r)}}function vbe(t,e,n){return e&&L8(t.prototype,e),n&&L8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ybe(t,e,n){return e=eE(e),bbe(t,dq()?Reflect.construct(e,n||[],eE(t).constructor):e.apply(t,n))}function bbe(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wbe(t)}function wbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dq=function(){return!!t})()}function eE(t){return eE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eE(t)}function xbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F3(t,e)}function F3(t,e){return F3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F3(t,e)}function jd(t,e,n){return e=fq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fq(t){var e=_be(t,"string");return uy(e)=="symbol"?e:e+""}function _be(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wx=function(t){function e(){var n;mbe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ybe(this,e,[].concat(i)),jd(n,"state",{isAnimationFinished:!1}),jd(n,"id",Bx("recharts-bar-")),jd(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),jd(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return xbe(e,t),vbe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,u=Kt(this.props,!1);return r&&r.map(function(d,f){var p=f===l,v=p?c:a,m=Xr(Xr(Xr({},u),d),{},{isActive:p,option:v,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return pe.createElement(gr,QS({className:"recharts-bar-rectangle"},dS(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),pe.createElement(O8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return pe.createElement(sh,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=s.map(function(b,g){var w=f&&f[g];if(w){var x=Eo(w.x,b.x),S=Eo(w.y,b.y),A=Eo(w.width,b.width),E=Eo(w.height,b.height);return Xr(Xr({},b),{},{x:x(v),y:S(v),width:A(v),height:E(v)})}if(a==="horizontal"){var T=Eo(0,b.height),L=T(v);return Xr(Xr({},b),{},{y:b.y+b.height-L,height:L})}var I=Eo(0,b.width),q=I(v);return Xr(Xr({},b),{},{width:q})});return pe.createElement(gr,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!aw(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Kt(this.props.background,!1);return s.map(function(c,u){c.value;var d=c.background,f=pbe(c,fbe);if(!d)return null;var p=Xr(Xr(Xr(Xr(Xr({},f),{},{fill:"#eee"},d),l),dS(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return pe.createElement(O8,QS({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=Al(u,WP);if(!d)return null;var f=c==="vertical"?a[0].height/2:a[0].width/2,p=function(b,g){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:Ga(b,g)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return pe.createElement(gr,v,d.map(function(m){return pe.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,p=r.isAnimationActive,v=r.background,m=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,g=ln("recharts-bar",a),w=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,S=w||x,A=Xt(m)?this.id:m;return pe.createElement(gr,{className:g},w||x?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(A)},pe.createElement("rect",{x:w?c:c-d/2,y:x?u:u-f/2,width:w?d:d*2,height:x?f:f*2}))):null,pe.createElement(gr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,A),(!p||b)&&Gd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(Ae.PureComponent);hq=Wx;jd(Wx,"displayName","Bar");jd(Wx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Iy.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});jd(Wx,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,p=Vge(r,n);if(!p)return null;var v=e.layout,m=n.type.defaultProps,b=m!==void 0?Xr(Xr({},m),n.props):n.props,g=b.dataKey,w=b.children,x=b.minPointSize,S=v==="horizontal"?a:s,A=c?S.scale.domain():null,E=eme({numericAxis:S}),T=Al(w,z9),L=d.map(function(I,q){var O,M,z,$,G,Y;c?O=Gge(c[u+q],A):(O=Ga(I,g),Array.isArray(O)||(O=[E,O]));var Q=dbe(x,hq.defaultProps.minPointSize)(O[1],q);if(v==="horizontal"){var W,re=[a.scale(O[0]),a.scale(O[1])],ce=re[0],ae=re[1];M=RD({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:I,index:q}),z=(W=ae??ce)!==null&&W!==void 0?W:void 0,$=p.size;var D=ce-ae;if(G=Number.isNaN(D)?0:D,Y={x:M,y:a.y,width:$,height:a.height},Math.abs(Q)>0&&Math.abs(G)<Math.abs(Q)){var K=bl(G||Q)*(Math.abs(Q)-Math.abs(G));z-=K,G+=K}}else{var ee=[s.scale(O[0]),s.scale(O[1])],se=ee[0],oe=ee[1];if(M=se,z=RD({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:q}),$=oe-se,G=p.size,Y={x:s.x,y:z,width:s.width,height:G},Math.abs(Q)>0&&Math.abs($)<Math.abs(Q)){var de=bl($||Q)*(Math.abs(Q)-Math.abs($));$+=de}}return Xr(Xr(Xr({},I),{},{x:M,y:z,width:$,height:G,value:c?O:O[1],payload:I,background:Y},T&&T[q]&&T[q].props),{},{tooltipPayload:[Gz(n,I)],tooltipPosition:{x:M+$/2,y:z+G/2}})});return Xr({data:L,layout:v},f)});function Pw(t){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(t)}function Abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pq(r.key),r)}}function Sbe(t,e,n){return e&&I8(t.prototype,e),n&&I8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(n),!0).forEach(function(r){KP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KP(t,e,n){return e=pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pq(t){var e=Ebe(t,"string");return Pw(e)=="symbol"?e:e+""}function Ebe(t,e){if(Pw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pbe=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},f=!!ja(c,Wx);return u.reduce(function(p,v){var m=n[v],b=m.orientation,g=m.domain,w=m.padding,x=w===void 0?{}:w,S=m.mirror,A=m.reversed,E="".concat(b).concat(S?"Mirror":""),T,L,I,q,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var M=g[1]-g[0],z=1/0,$=m.categoricalDomain.sort(See);if($.forEach(function(ee,se){se>0&&(z=Math.min((ee||0)-($[se-1]||0),z))}),Number.isFinite(z)){var G=z/M,Y=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(T=G*Y/2),m.padding==="no-gap"){var Q=Og(e.barCategoryGap,G*Y),W=G*Y/2;T=W-Q-(W-Q)/Y*Q}}}i==="xAxis"?L=[r.left+(x.left||0)+(T||0),r.left+r.width-(x.right||0)-(T||0)]:i==="yAxis"?L=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(T||0),r.top+r.height-(x.bottom||0)-(T||0)]:L=m.range,A&&(L=[L[1],L[0]]);var re=Hge(m,s,f),ce=re.scale,ae=re.realScaleType;ce.domain(g).range(L),Wge(ce);var D=Qge(ce,gl(gl({},m),{},{realScaleType:ae}));i==="xAxis"?(O=b==="top"&&!S||b==="bottom"&&S,I=r.left,q=d[E]-O*m.height):i==="yAxis"&&(O=b==="left"&&!S||b==="right"&&S,I=d[E]-O*m.width,q=r.top);var K=gl(gl(gl({},m),D),{},{realScaleType:ae,x:I,y:q,scale:ce,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return K.bandSize=BS(K,D),!m.hide&&i==="xAxis"?d[E]+=(O?-1:1)*K.height:m.hide||(d[E]+=(O?-1:1)*K.width),gl(gl({},p),{},KP({},v,K))},{})},gq=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},kbe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return gq({x:n,y:r},{x:i,y:s})},mq=function(){function t(e){Abe(this,t),this.scale=e}return Sbe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();KP(mq,"EPS",1e-4);var VI=function(e){var n=Object.keys(e).reduce(function(r,i){return gl(gl({},r),{},KP({},i,mq.create(e[i])))},{});return gl(gl({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return W1e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return ibe(i,function(s,a){return n[a].isInRange(s)})}})};function Tbe(t){return(t%180+180)%180}var Cbe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Tbe(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Obe=kQ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),vq=Ae.createContext(void 0),yq=Ae.createContext(void 0),bq=Ae.createContext(void 0),Nbe=Ae.createContext({}),wq=Ae.createContext(void 0),xq=Ae.createContext(0),_q=Ae.createContext(0),M8=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=Obe(s);return pe.createElement(vq.Provider,{value:r},pe.createElement(yq.Provider,{value:i},pe.createElement(Nbe.Provider,{value:s},pe.createElement(bq.Provider,{value:u},pe.createElement(wq.Provider,{value:a},pe.createElement(xq.Provider,{value:c},pe.createElement(_q.Provider,{value:l},o)))))))},Lbe=function(){return Ae.useContext(wq)},Aq=function(e){var n=Ae.useContext(vq);n==null&&Lg();var r=n[e];return r==null&&Lg(),r},Sq=function(e){var n=Ae.useContext(yq);n==null&&Lg();var r=n[e];return r==null&&Lg(),r},Ibe=function(){var e=Ae.useContext(bq);return e},Eq=function(){return Ae.useContext(_q)},Pq=function(){return Ae.useContext(xq)};function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function Rbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tq(r.key),r)}}function jbe(t,e,n){return e&&Mbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dbe(t,e,n){return e=tE(e),Fbe(t,kq()?Reflect.construct(e,n||[],tE(t).constructor):e.apply(t,n))}function Fbe(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $be(t)}function $be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!t})()}function tE(t){return tE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tE(t)}function Bbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$3(t,e)}function $3(t,e){return $3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$3(t,e)}function j8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(n),!0).forEach(function(r){GI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GI(t,e,n){return e=Tq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tq(t){var e=Ube(t,"string");return hy(e)=="symbol"?e:e+""}function Ube(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zbe(t,e){return Vbe(t)||Wbe(t,e)||Hbe(t,e)||qbe()}function qbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(t,e){if(t){if(typeof t=="string")return F8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F8(t,e)}}function F8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Vbe(t){if(Array.isArray(t))return t}function B3(){return B3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B3.apply(this,arguments)}var Gbe=function(e,n){var r;return pe.isValidElement(e)?r=pe.cloneElement(e,n):Ht(e)?r=e(n):r=pe.createElement("line",B3({},n,{className:"recharts-reference-line-line"})),r},Kbe=function(e,n,r,i,s,a,o,l,c){var u=s.x,d=s.y,f=s.width,p=s.height;if(r){var v=c.y,m=e.y.apply(v,{position:a});if(_c(c,"discard")&&!e.y.isInRange(m))return null;var b=[{x:u+f,y:m},{x:u,y:m}];return l==="left"?b.reverse():b}if(n){var g=c.x,w=e.x.apply(g,{position:a});if(_c(c,"discard")&&!e.x.isInRange(w))return null;var x=[{x:w,y:d+p},{x:w,y:d}];return o==="top"?x.reverse():x}if(i){var S=c.segment,A=S.map(function(E){return e.apply(E,{position:a})});return _c(c,"discard")&&D1e(A,function(E){return!e.isInRange(E)})?null:A}return null};function Xbe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=Lbe(),u=Aq(i),d=Sq(s),f=Ibe();if(!c||!f)return null;wg(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=VI({x:u.scale,y:d.scale}),v=mi(e),m=mi(n),b=r&&r.length===2,g=Kbe(p,v,m,b,f,t.position,u.orientation,d.orientation,t);if(!g)return null;var w=zbe(g,2),x=w[0],S=x.x,A=x.y,E=w[1],T=E.x,L=E.y,I=_c(t,"hidden")?"url(#".concat(c,")"):void 0,q=D8(D8({clipPath:I},Kt(t,!0)),{},{x1:S,y1:A,x2:T,y2:L});return pe.createElement(gr,{className:ln("recharts-reference-line",o)},Gbe(a,q),ys.renderCallByParent(t,kbe({x1:S,y1:A,x2:T,y2:L})))}var KI=function(t){function e(){return Rbe(this,e),Dbe(this,e,arguments)}return Bbe(e,t),jbe(e,[{key:"render",value:function(){return pe.createElement(Xbe,this.props)}}])}(pe.Component);GI(KI,"displayName","ReferenceLine");GI(KI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function U3(){return U3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U3.apply(this,arguments)}function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function $8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(n),!0).forEach(function(r){XP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ybe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oq(r.key),r)}}function Zbe(t,e,n){return e&&Jbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qbe(t,e,n){return e=nE(e),ewe(t,Cq()?Reflect.construct(e,n||[],nE(t).constructor):e.apply(t,n))}function ewe(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return twe(t)}function twe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cq=function(){return!!t})()}function nE(t){return nE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nE(t)}function nwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z3(t,e)}function z3(t,e){return z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z3(t,e)}function XP(t,e,n){return e=Oq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oq(t){var e=rwe(t,"string");return dy(e)=="symbol"?e:e+""}function rwe(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iwe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=VI({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return _c(e,"discard")&&!a.isInRange(o)?null:o},YP=function(t){function e(){return Ybe(this,e),Qbe(this,e,arguments)}return nwe(e,t),Zbe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=mi(i),u=mi(s);if(wg(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=iwe(this.props);if(!d)return null;var f=d.x,p=d.y,v=this.props,m=v.shape,b=v.className,g=_c(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=B8(B8({clipPath:g},Kt(this.props,!0)),{},{cx:f,cy:p});return pe.createElement(gr,{className:ln("recharts-reference-dot",b)},e.renderDot(m,w),ys.renderCallByParent(this.props,{x:f-a,y:p-a,width:2*a,height:2*a}))}}])}(pe.Component);XP(YP,"displayName","ReferenceDot");XP(YP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});XP(YP,"renderDot",function(t,e){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,e):Ht(t)?n=t(e):n=pe.createElement(WI,U3({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function q3(){return q3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q3.apply(this,arguments)}function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(r){JP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function swe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function awe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lq(r.key),r)}}function owe(t,e,n){return e&&awe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lwe(t,e,n){return e=rE(e),cwe(t,Nq()?Reflect.construct(e,n||[],rE(t).constructor):e.apply(t,n))}function cwe(t,e){if(e&&(fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uwe(t)}function uwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!t})()}function rE(t){return rE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rE(t)}function hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H3(t,e)}function H3(t,e){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H3(t,e)}function JP(t,e,n){return e=Lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lq(t){var e=dwe(t,"string");return fy(e)=="symbol"?e:e+""}function dwe(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fwe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,u=s.xAxis,d=s.yAxis;if(!u||!d)return null;var f=VI({x:u.scale,y:d.scale}),p={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},v={x:n?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return _c(s,"discard")&&(!f.isInRange(p)||!f.isInRange(v))?null:gq(p,v)},ZP=function(t){function e(){return swe(this,e),lwe(this,e,arguments)}return hwe(e,t),owe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;wg(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=mi(i),f=mi(s),p=mi(a),v=mi(o),m=this.props.shape;if(!d&&!f&&!p&&!v&&!m)return null;var b=fwe(d,f,p,v,this.props);if(!b&&!m)return null;var g=_c(this.props,"hidden")?"url(#".concat(u,")"):void 0;return pe.createElement(gr,{className:ln("recharts-reference-area",l)},e.renderRect(m,z8(z8({clipPath:g},Kt(this.props,!0)),b)),ys.renderCallByParent(this.props,b))}}])}(pe.Component);JP(ZP,"displayName","ReferenceArea");JP(ZP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});JP(ZP,"renderRect",function(t,e){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,e):Ht(t)?n=t(e):n=pe.createElement(HI,q3({},e,{className:"recharts-reference-area-rect"})),n});function Iq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function pwe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Cbe(r,n)}function gwe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function iE(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function mwe(t,e){return Iq(t,e+1)}function vwe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,u=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Iq(r,c)};var m=l,b,g=function(){return b===void 0&&(b=n(v,m)),b},w=v.coordinate,x=l===0||iE(t,w,g,u,o);x||(l=0,u=a,c+=1),x&&(u=w+t*(g()/2+i),l+=c)},f;c<=s.length;)if(f=d(),f)return f.v;return[]}function kw(t){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kw(t)}function q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(n),!0).forEach(function(r){ywe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ywe(t,e,n){return e=bwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bwe(t){var e=wwe(t,"string");return kw(e)=="symbol"?e:e+""}function wwe(t,e){if(kw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xwe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(f){var p=s[f],v,m=function(){return v===void 0&&(v=n(p,f)),v};if(f===a-1){var b=t*(p.coordinate+t*m()/2-l);s[f]=p=ms(ms({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else s[f]=p=ms(ms({},p),{},{tickCoord:p.coordinate});var g=iE(t,p.tickCoord,m,o,l);g&&(l=p.tickCoord-t*(m()/2+i),s[f]=ms(ms({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function _we(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var u=r[o-1],d=n(u,o-1),f=t*(u.coordinate+t*d/2-c);a[o-1]=u=ms(ms({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var p=iE(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),a[o-1]=ms(ms({},u),{},{isShow:!0}))}for(var v=s?o-1:o,m=function(w){var x=a[w],S,A=function(){return S===void 0&&(S=n(x,w)),S};if(w===0){var E=t*(x.coordinate-t*A()/2-l);a[w]=x=ms(ms({},x),{},{tickCoord:E<0?x.coordinate-E*t:x.coordinate})}else a[w]=x=ms(ms({},x),{},{tickCoord:x.coordinate});var T=iE(t,x.tickCoord,A,l,c);T&&(l=x.tickCoord+t*(A()/2+i),a[w]=ms(ms({},x),{},{isShow:!0}))},b=0;b<v;b++)m(b);return a}function Awe(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if($e(l)||Iy.isSsr)return mwe(i,typeof l=="number"&&$e(l)?l:0);var f=[],p=o==="top"||o==="bottom"?"width":"height",v=u&&p==="width"?xb(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(x,S){var A=Ht(c)?c(x.value,S):x.value;return p==="width"?pwe(xb(A,{fontSize:e,letterSpacing:n}),v,d):xb(A,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?bl(i[1].coordinate-i[0].coordinate):1,g=gwe(s,b,p);return l==="equidistantPreserveStart"?vwe(b,g,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=_we(b,g,m,i,a,l==="preserveStartEnd"):f=xwe(b,g,m,i,a),f.filter(function(w){return w.isShow}))}var Swe=["viewBox"],Ewe=["viewBox"],Pwe=["ticks"];function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function H8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(n),!0).forEach(function(r){XI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WT(t,e){if(t==null)return{};var n=kwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Twe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mq(r.key),r)}}function Cwe(t,e,n){return e&&W8(t.prototype,e),n&&W8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Owe(t,e,n){return e=sE(e),Nwe(t,Rq()?Reflect.construct(e,n||[],sE(t).constructor):e.apply(t,n))}function Nwe(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lwe(t)}function Lwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rq=function(){return!!t})()}function sE(t){return sE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sE(t)}function Iwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W3(t,e)}function W3(t,e){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W3(t,e)}function XI(t,e,n){return e=Mq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mq(t){var e=Rwe(t,"string");return py(e)=="symbol"?e:e+""}function Rwe(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QP=function(t){function e(n){var r;return Twe(this,e),r=Owe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Iwe(e,t),Cwe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=WT(r,Swe),o=this.props,l=o.viewBox,c=WT(o,Ewe);return!c0(s,l)||!c0(a,c)||!c0(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,p,v,m,b,g,w,x=d?-1:1,S=r.tickSize||u,A=$e(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=v=r.coordinate,b=a+ +!d*l,m=b-x*S,w=m-x*f,g=A;break;case"left":m=b=r.coordinate,v=s+ +!d*o,p=v-x*S,g=p-x*f,w=A;break;case"right":m=b=r.coordinate,v=s+ +d*o,p=v+x*S,g=p+x*f,w=A;break;default:p=v=r.coordinate,b=a+ +d*l,m=b+x*S,w=m+x*f,g=A;break}return{line:{x1:p,y1:m,x2:v,y2:b},tick:{x:g,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=oi(oi(oi({},Kt(this.props,!1)),Kt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=oi(oi({},d),{},{x1:i,y1:s+f*o,x2:i+a,y2:s+f*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=oi(oi({},d),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return pe.createElement("line",Gm({},d,{className:ln("recharts-cartesian-axis-line",Oo(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,f=o.unit,p=Awe(oi(oi({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),b=Kt(this.props,!1),g=Kt(u,!1),w=oi(oi({},b),{},{fill:"none"},Kt(l,!1)),x=p.map(function(S,A){var E=a.getTickLineCoord(S),T=E.line,L=E.tick,I=oi(oi(oi(oi({textAnchor:v,verticalAnchor:m},b),{},{stroke:"none",fill:c},g),L),{},{index:A,payload:S,visibleTicksCount:p.length,tickFormatter:d});return pe.createElement(gr,Gm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},dS(a.props,S,A)),l&&pe.createElement("line",Gm({},w,T,{className:ln("recharts-cartesian-axis-tick-line",Oo(l,"className"))})),u&&e.renderTickItem(u,I,"".concat(Ht(d)?d(S.value,A):S.value).concat(f||"")))});return pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,p=WT(d,Pwe),v=f;return Ht(l)&&(v=f&&f.length>0?l(this.props):l(p)),a<=0||o<=0||!v||!v.length?null:pe.createElement(gr,{className:ln("recharts-cartesian-axis",c),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ys.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=ln(i.className,"recharts-cartesian-axis-tick-value");return pe.isValidElement(r)?a=pe.cloneElement(r,oi(oi({},i),{},{className:o})):Ht(r)?a=r(oi(oi({},i),{},{className:o})):a=pe.createElement(PS,Gm({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(Ae.Component);XI(QP,"displayName","CartesianAxis");XI(QP,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Mwe=["layout","type","stroke","connectNulls","isRange","ref"],jwe=["key"],jq;function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function Dq(t,e){if(t==null)return{};var n=Dwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(r){vc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$q(r.key),r)}}function $we(t,e,n){return e&&G8(t.prototype,e),n&&G8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bwe(t,e,n){return e=aE(e),Uwe(t,Fq()?Reflect.construct(e,n||[],aE(t).constructor):e.apply(t,n))}function Uwe(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zwe(t)}function zwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!t})()}function aE(t){return aE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aE(t)}function qwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V3(t,e)}function V3(t,e){return V3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V3(t,e)}function vc(t,e,n){return e=$q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $q(t){var e=Hwe(t,"string");return gy(e)=="symbol"?e:e+""}function Hwe(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cf=function(t){function e(){var n;Fwe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Bwe(this,e,[].concat(i)),vc(n,"state",{isAnimationFinished:!0}),vc(n,"id",Bx("recharts-area-")),vc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ht(a)&&a()}),vc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ht(a)&&a()}),n}return qwe(e,t),$we(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Kt(this.props,!1),p=Kt(c,!0),v=u.map(function(b,g){var w=Lh(Lh(Lh({key:"dot-".concat(g),r:3},f),p),{},{index:g,cx:b.x,cy:b.y,dataKey:d,value:b.value,payload:b.payload,points:u});return e.renderDotItem(c,w)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return pe.createElement(gr,tp({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=r*Math.abs(l-c),d=Md(a.map(function(f){return f.y||0}));return $e(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(Md(s.map(function(f){return f.y||0})),d)),$e(d)?pe.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=r*Math.abs(l-c),d=Md(a.map(function(f){return f.x||0}));return $e(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(Md(s.map(function(f){return f.x||0})),d)),$e(d)?pe.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,f=o.isRange;o.ref;var p=Dq(o,Mwe);return pe.createElement(gr,{clipPath:s?"url(#clipPath-".concat(a,")"):null},pe.createElement(Sb,tp({},Kt(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&pe.createElement(Sb,tp({},Kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&f&&pe.createElement(Sb,tp({},Kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,f=a.animationEasing,p=a.animationId,v=this.state,m=v.prevPoints,b=v.prevBaseLine;return pe.createElement(sh,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var w=g.t;if(m){var x=m.length/o.length,S=o.map(function(L,I){var q=Math.floor(I*x);if(m[q]){var O=m[q],M=Eo(O.x,L.x),z=Eo(O.y,L.y);return Lh(Lh({},L),{},{x:M(w),y:z(w)})}return L}),A;if($e(l)&&typeof l=="number"){var E=Eo(b,l);A=E(w)}else if(Xt(l)||Ty(l)){var T=Eo(b,0);A=T(w)}else A=l.map(function(L,I){var q=Math.floor(I*x);if(b[q]){var O=b[q],M=Eo(O.x,L.x),z=Eo(O.y,L.y);return Lh(Lh({},L),{},{x:M(w),y:z(w)})}return L});return s.renderAreaStatically(S,A,r,i)}return pe.createElement(gr,null,pe.createElement("defs",null,pe.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(w))),pe.createElement(gr,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,o=s.baseLine,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,f=c.totalLength;return l&&a&&a.length&&(!u&&f>0||!aw(u,a)||!aw(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,f=i.yAxis,p=i.width,v=i.height,m=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var g=this.state.isAnimationFinished,w=o.length===1,x=ln("recharts-area",l),S=d&&d.allowDataOverflow,A=f&&f.allowDataOverflow,E=S||A,T=Xt(b)?this.id:b,L=(r=Kt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=L.r,q=I===void 0?3:I,O=L.strokeWidth,M=O===void 0?2:O,z=Iee(a)?a:{},$=z.clipDot,G=$===void 0?!0:$,Y=q*2+M;return pe.createElement(gr,{className:x},S||A?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(T)},pe.createElement("rect",{x:S?u:u-p/2,y:A?c:c-v/2,width:S?p:p*2,height:A?v:v*2})),!G&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(T)},pe.createElement("rect",{x:u-Y/2,y:c-Y/2,width:p+Y,height:v+Y}))):null,w?null:this.renderArea(E,T),(a||w)&&this.renderDots(E,G,T),(!m||g)&&Gd.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(Ae.PureComponent);jq=cf;vc(cf,"displayName","Area");vc(cf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Iy.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});vc(cf,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if($e(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});vc(cf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,p=e.layout,v=c&&c.length,m=jq.getBaseValue(e,n,r,i),b=p==="horizontal",g=!1,w=d.map(function(S,A){var E;v?E=c[u+A]:(E=Ga(S,l),Array.isArray(E)?g=!0:E=[m,E]);var T=E[1]==null||v&&Ga(S,l)==null;return b?{x:ID({axis:r,ticks:s,bandSize:o,entry:S,index:A}),y:T?null:i.scale(E[1]),value:E,payload:S}:{x:T?null:r.scale(E[1]),y:ID({axis:i,ticks:a,bandSize:o,entry:S,index:A}),value:E,payload:S}}),x;return v||g?x=w.map(function(S){var A=Array.isArray(S.value)?S.value[0]:null;return b?{x:S.x,y:A!=null&&S.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:S.y}}):x=b?i.scale(m):r.scale(m),Lh({points:w,baseLine:x,layout:p,isRange:g},f)});vc(cf,"renderDotItem",function(t,e){var n;if(pe.isValidElement(t))n=pe.cloneElement(t,e);else if(Ht(t))n=t(e);else{var r=ln("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Dq(e,jwe);n=pe.createElement(WI,tp({},s,{key:i,className:r}))}return n});function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function Wwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zq(r.key),r)}}function Gwe(t,e,n){return e&&Vwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kwe(t,e,n){return e=oE(e),Xwe(t,Bq()?Reflect.construct(e,n||[],oE(t).constructor):e.apply(t,n))}function Xwe(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ywe(t)}function Ywe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bq=function(){return!!t})()}function oE(t){return oE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oE(t)}function Jwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G3(t,e)}function G3(t,e){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G3(t,e)}function Uq(t,e,n){return e=zq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zq(t){var e=Zwe(t,"string");return my(e)=="symbol"?e:e+""}function Zwe(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K3(){return K3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K3.apply(this,arguments)}function Qwe(t){var e=t.xAxisId,n=Eq(),r=Pq(),i=Aq(e);return i==null?null:Ae.createElement(QP,K3({},i,{className:ln("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ep(a,!0)}}))}var ek=function(t){function e(){return Wwe(this,e),Kwe(this,e,arguments)}return Jwe(e,t),Gwe(e,[{key:"render",value:function(){return Ae.createElement(Qwe,this.props)}}])}(Ae.Component);Uq(ek,"displayName","XAxis");Uq(ek,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function e2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wq(r.key),r)}}function n2e(t,e,n){return e&&t2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r2e(t,e,n){return e=lE(e),i2e(t,qq()?Reflect.construct(e,n||[],lE(t).constructor):e.apply(t,n))}function i2e(t,e){if(e&&(vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s2e(t)}function s2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!t})()}function lE(t){return lE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lE(t)}function a2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X3(t,e)}function X3(t,e){return X3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X3(t,e)}function Hq(t,e,n){return e=Wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wq(t){var e=o2e(t,"string");return vy(e)=="symbol"?e:e+""}function o2e(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Y3(){return Y3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y3.apply(this,arguments)}var l2e=function(e){var n=e.yAxisId,r=Eq(),i=Pq(),s=Sq(n);return s==null?null:Ae.createElement(QP,Y3({},s,{className:ln("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return ep(o,!0)}}))},tk=function(t){function e(){return e2e(this,e),r2e(this,e,arguments)}return a2e(e,t),n2e(e,[{key:"render",value:function(){return Ae.createElement(l2e,this.props)}}])}(Ae.Component);Hq(tk,"displayName","YAxis");Hq(tk,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function K8(t){return d2e(t)||h2e(t)||u2e(t)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u2e(t,e){if(t){if(typeof t=="string")return J3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J3(t,e)}}function h2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d2e(t){if(Array.isArray(t))return J3(t)}function J3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Z3=function(e,n,r,i,s){var a=Al(e,KI),o=Al(e,YP),l=[].concat(K8(a),K8(o)),c=Al(e,ZP),u="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(m,b){if(b.props[u]===r&&_c(b.props,"extendDomain")&&$e(b.props[d])){var g=b.props[d];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},f)),c.length){var p="".concat(d,"1"),v="".concat(d,"2");f=c.reduce(function(m,b){if(b.props[u]===r&&_c(b.props,"extendDomain")&&$e(b.props[p])&&$e(b.props[v])){var g=b.props[p],w=b.props[v];return[Math.min(m[0],g,w),Math.max(m[1],g,w)]}return m},f)}return s&&s.length&&(f=s.reduce(function(m,b){return $e(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},f)),f},Vq={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,v=new Array(p);f<p;f++)v[f]=d[f].fn;return v},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,f,p,v){var m=n?n+c:c;if(!this._events[m])return!1;var b=this._events[m],g=arguments.length,w,x;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),g){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,f),!0;case 5:return b.fn.call(b.context,u,d,f,p),!0;case 6:return b.fn.call(b.context,u,d,f,p,v),!0}for(x=1,w=new Array(g-1);x<g;x++)w[x-1]=arguments[x];b.fn.apply(b.context,w)}else{var S=b.length,A;for(x=0;x<S;x++)switch(b[x].once&&this.removeListener(c,b[x].fn,void 0,!0),g){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,u);break;case 3:b[x].fn.call(b[x].context,u,d);break;case 4:b[x].fn.call(b[x].context,u,d,f);break;default:if(!w)for(A=1,w=new Array(g-1);A<g;A++)w[A-1]=arguments[A];b[x].fn.apply(b[x].context,w)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!f||v.once)&&(!d||v.context===d)&&a(this,p);else{for(var m=0,b=[],g=v.length;m<g;m++)(v[m].fn!==u||f&&!v[m].once||d&&v[m].context!==d)&&b.push(v[m]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Vq);var f2e=Vq.exports;const p2e=Kn(f2e);var VT=new p2e,GT="recharts.syncMouseEvents";function Tw(t){"@babel/helpers - typeof";return Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(t)}function g2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gq(r.key),r)}}function v2e(t,e,n){return e&&m2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KT(t,e,n){return e=Gq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=y2e(t,"string");return Tw(e)=="symbol"?e:e+""}function y2e(t,e){if(Tw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b2e=function(){function t(){g2e(this,t),KT(this,"activeIndex",0),KT(this,"coordinateList",[]),KT(this,"layout","horizontal")}return v2e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+c,f=a+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function w2e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&$e(r)&&$e(i))return!0}return!1}function x2e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Kq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Zi(e,n,r,i),o=Zi(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function _2e(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,f=Zi(o,l,c,d),p=Zi(o,l,u,d);r=f.x,i=f.y,s=p.x,a=p.y}else return Kq(e);return[{x:r,y:i},{x:s,y:a}]}function Cw(t){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(t)}function X8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(n),!0).forEach(function(r){A2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A2e(t,e,n){return e=S2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S2e(t){var e=E2e(t,"string");return Cw(e)=="symbol"?e:e+""}function E2e(t,e){if(Cw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P2e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!a||f!=="ScatterChart"&&i!=="axis")return null;var v,m=Sb;if(f==="ScatterChart")v=a,m=aye;else if(f==="BarChart")v=x2e(d,a,l,u),m=HI;else if(d==="radial"){var b=Kq(a),g=b.cx,w=b.cy,x=b.radius,S=b.startAngle,A=b.endAngle;v={cx:g,cy:w,startAngle:S,endAngle:A,innerRadius:x,outerRadius:x},m=Yz}else v={points:_2e(d,a,l)},m=Sb;var E=p5(p5(p5(p5({stroke:"#ccc",pointerEvents:"none"},l),v),Kt(p,!1)),{},{payload:o,payloadIndex:c,className:ln("recharts-tooltip-cursor",p.className)});return Ae.isValidElement(p)?Ae.cloneElement(p,E):Ae.createElement(m,E)}var k2e=["item"],T2e=["children","className","width","height","style","compact","title","desc"];function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Km.apply(this,arguments)}function Y8(t,e){return N2e(t)||O2e(t,e)||Yq(t,e)||C2e()}function C2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function N2e(t){if(Array.isArray(t))return t}function J8(t,e){if(t==null)return{};var n=L2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jq(r.key),r)}}function M2e(t,e,n){return e&&R2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j2e(t,e,n){return e=cE(e),D2e(t,Xq()?Reflect.construct(e,n||[],cE(t).constructor):e.apply(t,n))}function D2e(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F2e(t)}function F2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xq=function(){return!!t})()}function cE(t){return cE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cE(t)}function $2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q3(t,e)}function Q3(t,e){return Q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q3(t,e)}function by(t){return z2e(t)||U2e(t)||Yq(t)||B2e()}function B2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yq(t,e){if(t){if(typeof t=="string")return eN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(t,e)}}function U2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z2e(t){if(Array.isArray(t))return eN(t)}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(n),!0).forEach(function(r){gt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gt(t,e,n){return e=Jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jq(t){var e=q2e(t,"string");return yy(e)=="symbol"?e:e+""}function q2e(t,e){if(yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H2e={xAxis:["bottom","top"],yAxis:["left","right"]},W2e={width:"100%",height:"100%"},Zq={x:0,y:0};function g5(t){return t}var V2e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},G2e=function(e,n,r,i){var s=n.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Pe(Pe(Pe({},i),Zi(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return Pe(Pe(Pe({},i),Zi(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Zq},nk=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(by(o),by(c)):o},[]);return a.length>0?a:e&&e.length&&$e(i)&&$e(s)?e.slice(i,s+1):[]};function Qq(t){return t==="number"?[0,"auto"]:void 0}var tN=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=nk(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var p=d===void 0?o:d;f=uS(p,a.dataKey,i)}else f=d&&d[r]||o[r];return f?[].concat(by(l),[Gz(c,f)]):l},[])},Q8=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=V2e(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Fge(a,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=tN(e,n,u,d),p=G2e(r,o,u,s);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},K2e=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,p=Wz(u,s);return r.reduce(function(v,m){var b,g=m.type.defaultProps!==void 0?Pe(Pe({},m.type.defaultProps),m.props):m.props,w=g.type,x=g.dataKey,S=g.allowDataOverflow,A=g.allowDuplicatedCategory,E=g.scale,T=g.ticks,L=g.includeHidden,I=g[a];if(v[I])return v;var q=nk(e.data,{graphicalItems:i.filter(function(D){var K,ee=a in D.props?D.props[a]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[a];return ee===I}),dataStartIndex:l,dataEndIndex:c}),O=q.length,M,z,$;w2e(g.domain,S,w)&&(M=w3(g.domain,null,S),p&&(w==="number"||E!=="auto")&&($=Ab(q,x,"category")));var G=Qq(w);if(!M||M.length===0){var Y,Q=(Y=g.domain)!==null&&Y!==void 0?Y:G;if(x){if(M=Ab(q,x,w),w==="category"&&p){var W=Aee(M);A&&W?(z=M,M=YS(0,O)):A||(M=DD(Q,M,m).reduce(function(D,K){return D.indexOf(K)>=0?D:[].concat(by(D),[K])},[]))}else if(w==="category")A?M=M.filter(function(D){return D!==""&&!Xt(D)}):M=DD(Q,M,m).reduce(function(D,K){return D.indexOf(K)>=0||K===""||Xt(K)?D:[].concat(by(D),[K])},[]);else if(w==="number"){var re=qge(q,i.filter(function(D){var K,ee,se=a in D.props?D.props[a]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[a],oe="hide"in D.props?D.props.hide:(ee=D.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return se===I&&(L||!oe)}),x,s,u);re&&(M=re)}p&&(w==="number"||E!=="auto")&&($=Ab(q,x,"category"))}else p?M=YS(0,O):o&&o[I]&&o[I].hasStack&&w==="number"?M=f==="expand"?[0,1]:Vz(o[I].stackGroups,l,c):M=Hz(q,i.filter(function(D){var K=a in D.props?D.props[a]:D.type.defaultProps[a],ee="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return K===I&&(L||!ee)}),w,u,!0);if(w==="number")M=Z3(d,M,I,s,T),Q&&(M=w3(Q,M,S));else if(w==="category"&&Q){var ce=Q,ae=M.every(function(D){return ce.indexOf(D)>=0});ae&&(M=ce)}}return Pe(Pe({},v),{},gt({},I,Pe(Pe({},g),{},{axisType:s,domain:M,categoricalDomain:$,duplicateDomain:z,originalDomain:(b=g.domain)!==null&&b!==void 0?b:G,isCategorical:p,layout:u})))},{})},X2e=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=nk(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=f.length,v=Wz(u,s),m=-1;return r.reduce(function(b,g){var w=g.type.defaultProps!==void 0?Pe(Pe({},g.type.defaultProps),g.props):g.props,x=w[a],S=Qq("number");if(!b[x]){m++;var A;return v?A=YS(0,p):o&&o[x]&&o[x].hasStack?(A=Vz(o[x].stackGroups,l,c),A=Z3(d,A,x,s)):(A=w3(S,Hz(f,r.filter(function(E){var T,L,I=a in E.props?E.props[a]:(T=E.type.defaultProps)===null||T===void 0?void 0:T[a],q="hide"in E.props?E.props.hide:(L=E.type.defaultProps)===null||L===void 0?void 0:L.hide;return I===x&&!q}),"number",u),i.defaultProps.allowDataOverflow),A=Z3(d,A,x,s)),Pe(Pe({},b),{},gt({},x,Pe(Pe({axisType:s},i.defaultProps),{},{hide:!0,orientation:Oo(H2e,"".concat(s,".").concat(m%2),null),domain:A,originalDomain:S,isCategorical:v,layout:u})))}return b},{})},Y2e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=Al(u,s),p={};return f&&f.length?p=K2e(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=X2e(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},J2e=function(e){var n=wm(e),r=ep(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:BS(n,r)}},eF=function(e){var n=e.children,r=e.defaultShowTooltip,i=ja(n,cy),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Z2e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Gu(n&&n.type);return r&&r.indexOf("Bar")>=0})},tF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Q2e=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,f=r.margin||{},p=ja(d,cy),v=ja(d,u0),m=Object.keys(l).reduce(function(A,E){var T=l[E],L=T.orientation;return!T.mirror&&!T.hide?Pe(Pe({},A),{},gt({},L,A[L]+T.width)):A},{left:f.left||0,right:f.right||0}),b=Object.keys(a).reduce(function(A,E){var T=a[E],L=T.orientation;return!T.mirror&&!T.hide?Pe(Pe({},A),{},gt({},L,Oo(A,"".concat(L))+T.height)):A},{top:f.top||0,bottom:f.bottom||0}),g=Pe(Pe({},b),m),w=g.bottom;p&&(g.bottom+=p.props.height||cy.defaultProps.height),v&&n&&(g=Uge(g,i,r,n));var x=c-g.left-g.right,S=u-g.top-g.bottom;return Pe(Pe({brushBottom:w},g),{},{width:Math.max(x,0),height:Math.max(S,0)})},exe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},txe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(g,w){var x=w.graphicalItems,S=w.stackGroups,A=w.offset,E=w.updateId,T=w.dataStartIndex,L=w.dataEndIndex,I=g.barSize,q=g.layout,O=g.barGap,M=g.barCategoryGap,z=g.maxBarSize,$=tF(q),G=$.numericAxisName,Y=$.cateAxisName,Q=Z2e(x),W=[];return x.forEach(function(re,ce){var ae=nk(g.data,{graphicalItems:[re],dataStartIndex:T,dataEndIndex:L}),D=re.type.defaultProps!==void 0?Pe(Pe({},re.type.defaultProps),re.props):re.props,K=D.dataKey,ee=D.maxBarSize,se=D["".concat(G,"Id")],oe=D["".concat(Y,"Id")],de={},xe=l.reduce(function(Ue,et){var rt=w["".concat(et.axisType,"Map")],tn=D["".concat(et.axisType,"Id")];rt&&rt[tn]||et.axisType==="zAxis"||Lg();var $t=rt[tn];return Pe(Pe({},Ue),{},gt(gt({},et.axisType,$t),"".concat(et.axisType,"Ticks"),ep($t)))},de),ue=xe[Y],ye=xe["".concat(Y,"Ticks")],_e=S&&S[se]&&S[se].hasStack&&tme(re,S[se].stackGroups),me=Gu(re.type).indexOf("Bar")>=0,Ie=BS(ue,ye),De=[],Z=Q&&$ge({barSize:I,stackGroups:S,totalSize:exe(xe,Y)});if(me){var Me,ut,Qe=Xt(ee)?z:ee,Oe=(Me=(ut=BS(ue,ye,!0))!==null&&ut!==void 0?ut:Qe)!==null&&Me!==void 0?Me:0;De=Bge({barGap:O,barCategoryGap:M,bandSize:Oe!==Ie?Oe:Ie,sizeList:Z[oe],maxBarSize:Qe}),Oe!==Ie&&(De=De.map(function(Ue){return Pe(Pe({},Ue),{},{position:Pe(Pe({},Ue.position),{},{offset:Ue.position.offset-Oe/2})})}))}var ct=re&&re.type&&re.type.getComposedData;ct&&W.push({props:Pe(Pe({},ct(Pe(Pe({},xe),{},{displayedData:ae,props:g,dataKey:K,item:re,bandSize:Ie,barPosition:De,offset:A,stackedData:_e,layout:q,dataStartIndex:T,dataEndIndex:L}))),{},gt(gt(gt({key:re.key||"item-".concat(ce)},G,xe[G]),Y,xe[Y]),"animationId",E)),childIndex:jee(re,g.children),item:re})}),W},p=function(g,w){var x=g.props,S=g.dataStartIndex,A=g.dataEndIndex,E=g.updateId;if(!O6({props:x}))return null;var T=x.children,L=x.layout,I=x.stackOffset,q=x.data,O=x.reverseStackOrder,M=tF(L),z=M.numericAxisName,$=M.cateAxisName,G=Al(T,r),Y=Zge(q,G,"".concat(z,"Id"),"".concat($,"Id"),I,O),Q=l.reduce(function(D,K){var ee="".concat(K.axisType,"Map");return Pe(Pe({},D),{},gt({},ee,Y2e(x,Pe(Pe({},K),{},{graphicalItems:G,stackGroups:K.axisType===z&&Y,dataStartIndex:S,dataEndIndex:A}))))},{}),W=Q2e(Pe(Pe({},Q),{},{props:x,graphicalItems:G}),w==null?void 0:w.legendBBox);Object.keys(Q).forEach(function(D){Q[D]=u(x,Q[D],W,D.replace("Map",""),n)});var re=Q["".concat($,"Map")],ce=J2e(re),ae=f(x,Pe(Pe({},Q),{},{dataStartIndex:S,dataEndIndex:A,updateId:E,graphicalItems:G,stackGroups:Y,offset:W}));return Pe(Pe({formattedGraphicalItems:ae,graphicalItems:G,offset:W,stackGroups:Y},ce),Q)},v=function(b){function g(w){var x,S,A;return I2e(this,g),A=j2e(this,g,[w]),gt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(A,"accessibilityManager",new b2e),gt(A,"handleLegendBBoxUpdate",function(E){if(E){var T=A.state,L=T.dataStartIndex,I=T.dataEndIndex,q=T.updateId;A.setState(Pe({legendBBox:E},p({props:A.props,dataStartIndex:L,dataEndIndex:I,updateId:q},Pe(Pe({},A.state),{},{legendBBox:E}))))}}),gt(A,"handleReceiveSyncEvent",function(E,T,L){if(A.props.syncId===E){if(L===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(T)}}),gt(A,"handleBrushChange",function(E){var T=E.startIndex,L=E.endIndex;if(T!==A.state.dataStartIndex||L!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return Pe({dataStartIndex:T,dataEndIndex:L},p({props:A.props,dataStartIndex:T,dataEndIndex:L,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:T,dataEndIndex:L})}}),gt(A,"handleMouseEnter",function(E){var T=A.getMouseInfo(E);if(T){var L=Pe(Pe({},T),{},{isTooltipActive:!0});A.setState(L),A.triggerSyncEvent(L);var I=A.props.onMouseEnter;Ht(I)&&I(L,E)}}),gt(A,"triggeredAfterMouseMove",function(E){var T=A.getMouseInfo(E),L=T?Pe(Pe({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(L),A.triggerSyncEvent(L);var I=A.props.onMouseMove;Ht(I)&&I(L,E)}),gt(A,"handleItemMouseEnter",function(E){A.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),gt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),gt(A,"handleMouseMove",function(E){E.persist(),A.throttleTriggeredAfterMouseMove(E)}),gt(A,"handleMouseLeave",function(E){A.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var L=A.props.onMouseLeave;Ht(L)&&L(T,E)}),gt(A,"handleOuterEvent",function(E){var T=Mee(E),L=Oo(A.props,"".concat(T));if(T&&Ht(L)){var I,q;/.*touch.*/i.test(T)?q=A.getMouseInfo(E.changedTouches[0]):q=A.getMouseInfo(E),L((I=q)!==null&&I!==void 0?I:{},E)}}),gt(A,"handleClick",function(E){var T=A.getMouseInfo(E);if(T){var L=Pe(Pe({},T),{},{isTooltipActive:!0});A.setState(L),A.triggerSyncEvent(L);var I=A.props.onClick;Ht(I)&&I(L,E)}}),gt(A,"handleMouseDown",function(E){var T=A.props.onMouseDown;if(Ht(T)){var L=A.getMouseInfo(E);T(L,E)}}),gt(A,"handleMouseUp",function(E){var T=A.props.onMouseUp;if(Ht(T)){var L=A.getMouseInfo(E);T(L,E)}}),gt(A,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),gt(A,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseDown(E.changedTouches[0])}),gt(A,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseUp(E.changedTouches[0])}),gt(A,"handleDoubleClick",function(E){var T=A.props.onDoubleClick;if(Ht(T)){var L=A.getMouseInfo(E);T(L,E)}}),gt(A,"handleContextMenu",function(E){var T=A.props.onContextMenu;if(Ht(T)){var L=A.getMouseInfo(E);T(L,E)}}),gt(A,"triggerSyncEvent",function(E){A.props.syncId!==void 0&&VT.emit(GT,A.props.syncId,E,A.eventEmitterSymbol)}),gt(A,"applySyncEvent",function(E){var T=A.props,L=T.layout,I=T.syncMethod,q=A.state.updateId,O=E.dataStartIndex,M=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)A.setState(Pe({dataStartIndex:O,dataEndIndex:M},p({props:A.props,dataStartIndex:O,dataEndIndex:M,updateId:q},A.state)));else if(E.activeTooltipIndex!==void 0){var z=E.chartX,$=E.chartY,G=E.activeTooltipIndex,Y=A.state,Q=Y.offset,W=Y.tooltipTicks;if(!Q)return;if(typeof I=="function")G=I(W,E);else if(I==="value"){G=-1;for(var re=0;re<W.length;re++)if(W[re].value===E.activeLabel){G=re;break}}var ce=Pe(Pe({},Q),{},{x:Q.left,y:Q.top}),ae=Math.min(z,ce.x+ce.width),D=Math.min($,ce.y+ce.height),K=W[G]&&W[G].value,ee=tN(A.state,A.props.data,G),se=W[G]?{x:L==="horizontal"?W[G].coordinate:ae,y:L==="horizontal"?D:W[G].coordinate}:Zq;A.setState(Pe(Pe({},E),{},{activeLabel:K,activeCoordinate:se,activePayload:ee,activeTooltipIndex:G}))}else A.setState(E)}),gt(A,"renderCursor",function(E){var T,L=A.state,I=L.isTooltipActive,q=L.activeCoordinate,O=L.activePayload,M=L.offset,z=L.activeTooltipIndex,$=L.tooltipAxisBandSize,G=A.getTooltipEventType(),Y=(T=E.props.active)!==null&&T!==void 0?T:I,Q=A.props.layout,W=E.key||"_recharts-cursor";return pe.createElement(P2e,{key:W,activeCoordinate:q,activePayload:O,activeTooltipIndex:z,chartName:n,element:E,isActive:Y,layout:Q,offset:M,tooltipAxisBandSize:$,tooltipEventType:G})}),gt(A,"renderPolarAxis",function(E,T,L){var I=Oo(E,"type.axisType"),q=Oo(A.state,"".concat(I,"Map")),O=E.type.defaultProps,M=O!==void 0?Pe(Pe({},O),E.props):E.props,z=q&&q[M["".concat(I,"Id")]];return Ae.cloneElement(E,Pe(Pe({},z),{},{className:ln(I,z.className),key:E.key||"".concat(T,"-").concat(L),ticks:ep(z,!0)}))}),gt(A,"renderPolarGrid",function(E){var T=E.props,L=T.radialLines,I=T.polarAngles,q=T.polarRadius,O=A.state,M=O.radiusAxisMap,z=O.angleAxisMap,$=wm(M),G=wm(z),Y=G.cx,Q=G.cy,W=G.innerRadius,re=G.outerRadius;return Ae.cloneElement(E,{polarAngles:Array.isArray(I)?I:ep(G,!0).map(function(ce){return ce.coordinate}),polarRadius:Array.isArray(q)?q:ep($,!0).map(function(ce){return ce.coordinate}),cx:Y,cy:Q,innerRadius:W,outerRadius:re,key:E.key||"polar-grid",radialLines:L})}),gt(A,"renderLegend",function(){var E=A.state.formattedGraphicalItems,T=A.props,L=T.children,I=T.width,q=T.height,O=A.props.margin||{},M=I-(O.left||0)-(O.right||0),z=zz({children:L,formattedGraphicalItems:E,legendWidth:M,legendContent:c});if(!z)return null;var $=z.item,G=J8(z,k2e);return Ae.cloneElement($,Pe(Pe({},G),{},{chartWidth:I,chartHeight:q,margin:O,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),gt(A,"renderTooltip",function(){var E,T=A.props,L=T.children,I=T.accessibilityLayer,q=ja(L,eu);if(!q)return null;var O=A.state,M=O.isTooltipActive,z=O.activeCoordinate,$=O.activePayload,G=O.activeLabel,Y=O.offset,Q=(E=q.props.active)!==null&&E!==void 0?E:M;return Ae.cloneElement(q,{viewBox:Pe(Pe({},Y),{},{x:Y.left,y:Y.top}),active:Q,label:G,payload:Q?$:[],coordinate:z,accessibilityLayer:I})}),gt(A,"renderBrush",function(E){var T=A.props,L=T.margin,I=T.data,q=A.state,O=q.offset,M=q.dataStartIndex,z=q.dataEndIndex,$=q.updateId;return Ae.cloneElement(E,{key:E.key||"_recharts-brush",onChange:u5(A.handleBrushChange,E.props.onChange),data:I,x:$e(E.props.x)?E.props.x:O.left,y:$e(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(L.bottom||0),width:$e(E.props.width)?E.props.width:O.width,startIndex:M,endIndex:z,updateId:"brush-".concat($)})}),gt(A,"renderReferenceElement",function(E,T,L){if(!E)return null;var I=A,q=I.clipPathId,O=A.state,M=O.xAxisMap,z=O.yAxisMap,$=O.offset,G=E.type.defaultProps||{},Y=E.props,Q=Y.xAxisId,W=Q===void 0?G.xAxisId:Q,re=Y.yAxisId,ce=re===void 0?G.yAxisId:re;return Ae.cloneElement(E,{key:E.key||"".concat(T,"-").concat(L),xAxis:M[W],yAxis:z[ce],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:q})}),gt(A,"renderActivePoints",function(E){var T=E.item,L=E.activePoint,I=E.basePoint,q=E.childIndex,O=E.isRange,M=[],z=T.props.key,$=T.item.type.defaultProps!==void 0?Pe(Pe({},T.item.type.defaultProps),T.item.props):T.item.props,G=$.activeDot,Y=$.dataKey,Q=Pe(Pe({index:q,dataKey:Y,cx:L.x,cy:L.y,r:4,fill:qI(T.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Kt(G,!1)),hS(G));return M.push(g.renderActiveDot(G,Q,"".concat(z,"-activePoint-").concat(q))),I?M.push(g.renderActiveDot(G,Pe(Pe({},Q),{},{cx:I.x,cy:I.y}),"".concat(z,"-basePoint-").concat(q))):O&&M.push(null),M}),gt(A,"renderGraphicChild",function(E,T,L){var I=A.filterFormatItem(E,T,L);if(!I)return null;var q=A.getTooltipEventType(),O=A.state,M=O.isTooltipActive,z=O.tooltipAxis,$=O.activeTooltipIndex,G=O.activeLabel,Y=A.props.children,Q=ja(Y,eu),W=I.props,re=W.points,ce=W.isRange,ae=W.baseLine,D=I.item.type.defaultProps!==void 0?Pe(Pe({},I.item.type.defaultProps),I.item.props):I.item.props,K=D.activeDot,ee=D.hide,se=D.activeBar,oe=D.activeShape,de=!!(!ee&&M&&Q&&(K||se||oe)),xe={};q!=="axis"&&Q&&Q.props.trigger==="click"?xe={onClick:u5(A.handleItemMouseEnter,E.props.onClick)}:q!=="axis"&&(xe={onMouseLeave:u5(A.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:u5(A.handleItemMouseEnter,E.props.onMouseEnter)});var ue=Ae.cloneElement(E,Pe(Pe({},I.props),xe));function ye(et){return typeof z.dataKey=="function"?z.dataKey(et.payload):null}if(de)if($>=0){var _e,me;if(z.dataKey&&!z.allowDuplicatedCategory){var Ie=typeof z.dataKey=="function"?ye:"payload.".concat(z.dataKey.toString());_e=uS(re,Ie,G),me=ce&&ae&&uS(ae,Ie,G)}else _e=re==null?void 0:re[$],me=ce&&ae&&ae[$];if(oe||se){var De=E.props.activeIndex!==void 0?E.props.activeIndex:$;return[Ae.cloneElement(E,Pe(Pe(Pe({},I.props),xe),{},{activeIndex:De})),null,null]}if(!Xt(_e))return[ue].concat(by(A.renderActivePoints({item:I,activePoint:_e,basePoint:me,childIndex:$,isRange:ce})))}else{var Z,Me=(Z=A.getItemByXY(A.state.activeCoordinate))!==null&&Z!==void 0?Z:{graphicalItem:ue},ut=Me.graphicalItem,Qe=ut.item,Oe=Qe===void 0?E:Qe,ct=ut.childIndex,Ue=Pe(Pe(Pe({},I.props),xe),{},{activeIndex:ct});return[Ae.cloneElement(Oe,Ue),null,null]}return ce?[ue,null,null]:[ue,null]}),gt(A,"renderCustomized",function(E,T,L){return Ae.cloneElement(E,Pe(Pe({key:"recharts-customized-".concat(L)},A.props),A.state))}),gt(A,"renderMap",{CartesianGrid:{handler:g5,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:g5},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:g5},YAxis:{handler:g5},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:Bx("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=U9(A.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),A.state={},A}return $2e(g,b),M2e(g,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,A=x.data,E=x.height,T=x.layout,L=ja(S,eu);if(L){var I=L.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=tN(this.state,A,I,q),M=this.state.tooltipTicks[I].coordinate,z=(this.state.offset.top+E)/2,$=T==="horizontal",G=$?{x:M,y:z}:{y:M,x:z},Y=this.state.formattedGraphicalItems.find(function(W){var re=W.item;return re.type.name==="Scatter"});Y&&(G=Pe(Pe({},G),Y.props.points[I].tooltipPosition),O=Y.props.points[I].tooltipPayload);var Q={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:q,activePayload:O,activeCoordinate:G};this.setState(Q),this.renderCursor(L),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var A,E;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(x){MO([ja(x.children,eu)],[ja(this.props.children,eu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=ja(this.props.children,eu);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return o.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,A=S.getBoundingClientRect(),E=uhe(A),T={chartX:Math.round(x.pageX-E.left),chartY:Math.round(x.pageY-E.top)},L=A.width/S.offsetWidth||1,I=this.inRange(T.chartX,T.chartY,L);if(!I)return null;var q=this.state,O=q.xAxisMap,M=q.yAxisMap,z=this.getTooltipEventType(),$=Q8(this.state,this.props.data,this.props.layout,I);if(z!=="axis"&&O&&M){var G=wm(O).scale,Y=wm(M).scale,Q=G&&G.invert?G.invert(T.chartX):null,W=Y&&Y.invert?Y.invert(T.chartY):null;return Pe(Pe({},T),{},{xValue:Q,yValue:W},$)}return $?Pe(Pe({},T),$):null}},{key:"inRange",value:function(x,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,T=x/A,L=S/A;if(E==="horizontal"||E==="vertical"){var I=this.state.offset,q=T>=I.left&&T<=I.left+I.width&&L>=I.top&&L<=I.top+I.height;return q?{x:T,y:L}:null}var O=this.state,M=O.angleAxisMap,z=O.radiusAxisMap;if(M&&z){var $=wm(M);return BD({x:T,y:L},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),A=ja(x,eu),E={};A&&S==="axis"&&(A.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=hS(this.props,this.handleOuterEvent);return Pe(Pe({},T),E)}},{key:"addListener",value:function(){VT.on(GT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){VT.removeListener(GT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,A){for(var E=this.state.formattedGraphicalItems,T=0,L=E.length;T<L;T++){var I=E[T];if(I.item===x||I.props.key===x.key||S===Gu(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,A=S.left,E=S.top,T=S.height,L=S.width;return pe.createElement("defs",null,pe.createElement("clipPath",{id:x},pe.createElement("rect",{x:A,y:E,height:T,width:L})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,A){var E=Y8(A,2),T=E[0],L=E[1];return Pe(Pe({},S),{},gt({},T,L.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,A){var E=Y8(A,2),T=E[0],L=E[1];return Pe(Pe({},S),{},gt({},T,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,A=S.formattedGraphicalItems,E=S.activeItem;if(A&&A.length)for(var T=0,L=A.length;T<L;T++){var I=A[T],q=I.props,O=I.item,M=O.type.defaultProps!==void 0?Pe(Pe({},O.type.defaultProps),O.props):O.props,z=Gu(O.type);if(z==="Bar"){var $=(q.data||[]).find(function(W){return Yve(x,W)});if($)return{graphicalItem:I,payload:$}}else if(z==="RadialBar"){var G=(q.data||[]).find(function(W){return BD(x,W)});if(G)return{graphicalItem:I,payload:G}}else if(VP(I,E)||GP(I,E)||Aw(I,E)){var Y=Qye({graphicalItem:I,activeTooltipItem:E,itemData:M.data}),Q=M.activeIndex===void 0?Y:M.activeIndex;return{graphicalItem:Pe(Pe({},I),{},{childIndex:Q}),payload:Aw(I,E)?M.data[Y]:I.props.data[Y]}}}return null}},{key:"render",value:function(){var x=this;if(!O6(this))return null;var S=this.props,A=S.children,E=S.className,T=S.width,L=S.height,I=S.style,q=S.compact,O=S.title,M=S.desc,z=J8(S,T2e),$=Kt(z,!1);if(q)return pe.createElement(M8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement(DO,Km({},$,{width:T,height:L,title:O,desc:M}),this.renderClipPath(),L6(A,this.renderMap)));if(this.props.accessibilityLayer){var G,Y;$.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,$.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",$.onKeyDown=function(W){x.accessibilityManager.keyboardEvent(W)},$.onFocus=function(){x.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return pe.createElement(M8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement("div",Km({className:ln("recharts-wrapper",E),style:Pe({position:"relative",cursor:"default",width:T,height:L},I)},Q,{ref:function(re){x.container=re}}),pe.createElement(DO,Km({},$,{width:T,height:L,title:O,desc:M,style:W2e}),this.renderClipPath(),L6(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Ae.Component);gt(v,"displayName",n),gt(v,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),gt(v,"getDerivedStateFromProps",function(b,g){var w=b.dataKey,x=b.data,S=b.children,A=b.width,E=b.height,T=b.layout,L=b.stackOffset,I=b.margin,q=g.dataStartIndex,O=g.dataEndIndex;if(g.updateId===void 0){var M=eF(b);return Pe(Pe(Pe({},M),{},{updateId:0},p(Pe(Pe({props:b},M),{},{updateId:0}),g)),{},{prevDataKey:w,prevData:x,prevWidth:A,prevHeight:E,prevLayout:T,prevStackOffset:L,prevMargin:I,prevChildren:S})}if(w!==g.prevDataKey||x!==g.prevData||A!==g.prevWidth||E!==g.prevHeight||T!==g.prevLayout||L!==g.prevStackOffset||!c0(I,g.prevMargin)){var z=eF(b),$={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},G=Pe(Pe({},Q8(g,x,T)),{},{updateId:g.updateId+1}),Y=Pe(Pe(Pe({},z),$),G);return Pe(Pe(Pe({},Y),p(Pe({props:b},Y),g)),{},{prevDataKey:w,prevData:x,prevWidth:A,prevHeight:E,prevLayout:T,prevStackOffset:L,prevMargin:I,prevChildren:S})}if(!MO(S,g.prevChildren)){var Q,W,re,ce,ae=ja(S,cy),D=ae&&(Q=(W=ae.props)===null||W===void 0?void 0:W.startIndex)!==null&&Q!==void 0?Q:q,K=ae&&(re=(ce=ae.props)===null||ce===void 0?void 0:ce.endIndex)!==null&&re!==void 0?re:O,ee=D!==q||K!==O,se=!Xt(x),oe=se&&!ee?g.updateId:g.updateId+1;return Pe(Pe({updateId:oe},p(Pe(Pe({props:b},g),{},{updateId:oe,dataStartIndex:D,dataEndIndex:K}),g)),{},{prevChildren:S,dataStartIndex:D,dataEndIndex:K})}return null}),gt(v,"renderActiveDot",function(b,g,w){var x;return Ae.isValidElement(b)?x=Ae.cloneElement(b,g):Ht(b)?x=b(g):x=pe.createElement(WI,g),pe.createElement(gr,{className:"recharts-active-dot",key:w},x)});var m=Ae.forwardRef(function(g,w){return pe.createElement(v,Km({},g,{ref:w}))});return m.displayName=v.displayName,m},nxe=txe({chartName:"AreaChart",GraphicalChild:cf,axisComponents:[{axisType:"xAxis",AxisComp:ek},{axisType:"yAxis",AxisComp:tk}],formatAxisMap:Pbe});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ixe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const n=Ae.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>Ae.createElement("svg",{ref:u,...rxe,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${ixe(t)}`,o].join(" "),...c},[...e.map(([d,f])=>Ae.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sxe=Pt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const axe=Pt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Pt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oxe=Pt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lxe=Pt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Pt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cxe=Pt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uxe=Pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Pt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hxe=Pt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Pt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dxe=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fxe=Pt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Pt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pxe=Pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gxe=Pt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mxe=Pt("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vxe=Pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yxe=Pt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bxe=Pt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Pt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Pt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wxe=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xxe=Pt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Pt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _xe=Pt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Axe=Pt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sxe=Pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Exe=Pt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Pt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Pt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pxe=Pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Pt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kxe=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Txe=Pt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=Pt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),XT=[{ruleId:"RD-001",ruleName:"R&D Personnel Detection",category:"rd_credit",keywords:["engineer","developer","lab","research"],valuePerMatch:5e3,flatBonus:0,maxValue:null,requiresMinMatches:1,description:"Identifies R&D qualified personnel and activities",irsReference:"IRC 41(b)(2)(B)"},{ruleId:"RD-002",ruleName:"R&D Activity Indicators",category:"rd_credit",keywords:["prototype","experiment","testing","innovation","patent"],valuePerMatch:3500,flatBonus:0,maxValue:null,requiresMinMatches:1,description:"Identifies specific R&D activities",irsReference:"IRC 41(d)"},{ruleId:"RD-003",ruleName:"Technical Uncertainty Indicators",category:"rd_credit",keywords:["uncertainty","unknown","feasibility","capability","alternative"],valuePerMatch:2500,flatBonus:0,maxValue:null,requiresMinMatches:2,description:"Identifies technical uncertainty language",irsReference:"Treas. Reg. 1.41-4(a)(3)"},{ruleId:"TRN-001",ruleName:"Training Program Detection",category:"training",keywords:["tuition","course","workshop"],valuePerMatch:2e3,flatBonus:0,maxValue:null,requiresMinMatches:1,description:"Identifies qualified educational expenses",irsReference:"IRC 127"},{ruleId:"TRN-002",ruleName:"Educational Assistance Indicators",category:"training",keywords:["certification","training","seminar","education","learning"],valuePerMatch:1500,flatBonus:0,maxValue:null,requiresMinMatches:1,description:"Identifies educational assistance indicators",irsReference:"IRC 127(c)"},{ruleId:"GRN-001",ruleName:"Green Energy Detection",category:"green_energy",keywords:["solar","energy","retrofit"],valuePerMatch:0,flatBonus:15e3,maxValue:15e3,requiresMinMatches:1,description:"Identifies energy efficiency improvements",irsReference:"IRC 179D"},{ruleId:"GRN-002",ruleName:"Energy Efficiency Indicators",category:"green_energy",keywords:["hvac","insulation","lighting","efficiency","sustainable"],valuePerMatch:2500,flatBonus:0,maxValue:5e4,requiresMinMatches:2,description:"Identifies specific energy efficiency improvements",irsReference:"IRC 179D(c)"},{ruleId:"ERC-001",ruleName:"ERC Eligibility Indicators",category:"employee_retention",keywords:["pandemic","covid","shutdown","suspension","gross receipts decline"],valuePerMatch:0,flatBonus:25e3,maxValue:25e3,requiresMinMatches:2,description:"Identifies potential ERC eligibility",irsReference:"IRC 3134"}],Cxe=[{pattern:/\b(estimated|approximately|about|roughly)\s+\$[\d,]+/gi,type:"caution",category:"financial_uncertainty",description:"Estimated financial figures detected",recommendation:"Request supporting documentation"},{pattern:/\b(verbal|oral|informal)\s+(agreement|contract)/gi,type:"warning",category:"documentation_gap",description:"Informal agreement referenced",recommendation:"Obtain written documentation"},{pattern:/\b(independent contractor|1099|freelance)/gi,type:"info",category:"worker_classification",description:"Independent contractor reference detected",recommendation:"Verify proper worker classification"}];function Oxe(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e).toString(16).padStart(8,"0")}function Nxe(){const t=Date.now().toString(36),e=Math.random().toString(36).substring(2,8);return`SCAN-${t}-${e}`.toUpperCase()}function Lxe(t,e){const n=t.substring(0,e).split(`
`);return{line:n.length,column:n[n.length-1].length+1}}function Ixe(t,e,n,r=50){const i=Math.max(0,e-r),s=Math.min(t.length,e+n+r);let a=t.substring(i,s).replace(/\s+/g," ").trim();return i>0&&(a="..."+a),s<t.length&&(a=a+"..."),{context:a,start:i,end:s}}function Rxe(t,e){const n=[],r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`\\b${r}\\b`,"gi");let s;for(;(s=i.exec(t))!==null;){const{line:a,column:o}=Lxe(t,s.index),{context:l,start:c,end:u}=Ixe(t,s.index,s[0].length);n.push({keyword:e.toLowerCase(),pattern:s[0],position:s.index,lineNumber:a,columnNumber:o,context:l,contextStart:c,contextEnd:u,confidence:1})}return n}function Mxe(t,e){const n=t.split(/\s+/).filter(c=>c.length>0),r=t.split(/[.!?]+/).filter(c=>c.trim().length>0),i=t.split(`
`),s={};n.forEach(c=>{const u=c.toLowerCase().replace(/[^a-z0-9]/g,"");u.length>2&&(s[u]=(s[u]||0)+1)});const a=Object.entries(s).sort((c,u)=>u[1]-c[1]).slice(0,20).map(([c,u])=>({word:c,count:u})),o=n.reduce((c,u)=>c+u.length,0),l=new Set(n.map(c=>c.toLowerCase())).size;return{totalCharacters:t.length,totalWords:n.length,totalLines:i.length,totalSentences:r.length,averageWordLength:n.length>0?o/n.length:0,averageSentenceLength:r.length>0?n.length/r.length:0,lexicalDensity:n.length>0?l/n.length*100:0,keywordDensity:n.length>0?e.length/n.length*100:0,topWords:a}}function jxe(t){const e=[];return Cxe.forEach((n,r)=>{let i;const s=new RegExp(n.pattern.source,n.pattern.flags);for(;(i=s.exec(t))!==null;)e.push({indicatorId:`RISK-${String(r+1).padStart(3,"0")}-${e.length}`,type:n.type,category:n.category,description:n.description,evidence:i[0],position:i.index,recommendation:n.recommendation})}),e}function Dxe(t,e,n){if(t===0)return"none";const r=e/n;return t>=5&&r>=.5?"strong":t>=3&&r>=.3?"moderate":t>=1?"weak":"none"}function Fxe(t,e,n,r){if(t<r)return 0;const i=e/n*.4,s=Math.min(1,t/10)*.4,a=Math.min(1,t/(r*2))*.2;return Math.min(1,i+s+a)}function hH(t){const e=performance.now(),n=Nxe(),r=[];r.push({action:"SCAN_INITIATED",timestamp:new Date().toISOString(),details:`Analysis ${n} started, content length: ${t.length} characters`});const i=[],s={},a=[];XT.forEach(M=>{const z=[],$=new Set;M.keywords.forEach(ce=>{const ae=Rxe(t,ce);ae.length>0&&($.add(ce.toLowerCase()),z.push(...ae),i.push(...ae),s[M.category]||(s[M.category]=[]),s[M.category].push(...ae))});let G=0;const Y=z.length>=M.requiresMinMatches;Y&&(G=z.length*M.valuePerMatch,G+=M.flatBonus,M.maxValue!==null&&(G=Math.min(G,M.maxValue)));const Q=Fxe(z.length,$.size,M.keywords.length,M.requiresMinMatches),W=Dxe(z.length,$.size,M.keywords.length),re=[];!Y&&z.length>0&&re.push(`Found ${z.length} matches but requires minimum ${M.requiresMinMatches}`),W==="strong"&&re.push("Strong evidence supporting qualification"),a.push({ruleId:M.ruleId,ruleName:M.ruleName,category:M.category,qualified:Y,matchCount:z.length,uniqueKeywordsMatched:Array.from($),matches:z,calculatedValue:G,valueBreakdown:{perMatchValue:z.length*M.valuePerMatch,flatBonus:Y?M.flatBonus:0,total:G},confidence:Q,evidenceStrength:W,notes:re})}),r.push({action:"RULES_PROCESSED",timestamp:new Date().toISOString(),details:`Processed ${XT.length} rules, found ${i.length} total matches`});const o=a.filter(M=>M.category==="rd_credit"),l=a.filter(M=>M.category==="training"),c=a.filter(M=>M.category==="green_energy"),u=a.filter(M=>M.category==="employee_retention"),d=o.some(M=>M.qualified),f=l.some(M=>M.qualified),p=c.some(M=>M.qualified),v=u.some(M=>M.qualified),m=o.reduce((M,z)=>M+z.calculatedValue,0),b=l.reduce((M,z)=>M+z.calculatedValue,0),g=c.reduce((M,z)=>M+z.calculatedValue,0),w=u.reduce((M,z)=>M+z.calculatedValue,0),x=m+b+g+w,S=Mxe(t,i),A=jxe(t),E=A.filter(M=>M.type==="warning").length>=2?"high":A.filter(M=>M.type==="warning").length>=1?"medium":"low",T=(M,z,$,G,Y,Q)=>{const W=G.filter(ae=>ae.qualified).map(ae=>ae.ruleId),re=G.reduce((ae,D)=>ae+D.matchCount,0),ce=G.length>0?G.reduce((ae,D)=>ae+D.confidence,0)/G.length:0;return{programId:z,programName:M,irsForm:$,isEligible:Y,eligibilityScore:Math.round(ce*100),estimatedValue:Q,valueRange:{minimum:Math.round(Q*.7),expected:Q,maximum:Math.round(Q*1.3)},matchedRules:W,evidenceCount:re,confidence:ce,requirements:G.map(ae=>({requirement:ae.ruleName,met:ae.qualified,evidence:ae.qualified?`${ae.matchCount} matches found`:null})),recommendations:Y?["Gather supporting documentation","Review contemporaneous records"]:["Insufficient evidence found"]}},L=new Set(i.map(M=>M.keyword)).size,I=a.filter(M=>M.qualified).length,q=a.reduce((M,z)=>M+z.calculatedValue*z.confidence,0),O=performance.now();return r.push({action:"SCAN_COMPLETE",timestamp:new Date().toISOString(),details:`Analysis complete in ${Math.round(O-e)}ms`}),{analysisId:n,analysisVersion:"5.0.0",timestamp:new Date().toISOString(),processingTimeMs:Math.round(O-e),source:{contentLength:t.length,contentHash:Oxe(t),contentType:"plain_text",language:"en",encoding:"UTF-8"},isRdEligible:d,isTrainingEligible:f,isGreenEligible:p,isErcEligible:v,isWotcEligible:!1,is179dEligible:p,financialSummary:{totalEstimatedValue:x,rdCreditValue:m,trainingCreditValue:b,greenEnergyValue:g,otherCreditsValue:w,confidenceWeightedValue:Math.round(q),valueByCategory:{rd_credit:m,training:b,green_energy:g,employee_retention:w}},ruleEvaluations:a,qualifications:{rdCredit:T("Federal R&D Tax Credit","IRC-41","Form 6765",o,d,m),trainingGrant:T("Training & Education Grant","TRN-127","Form W-2",l,f,b),greenEnergy:T("Energy Efficiency Deduction","SEC-179D","Form 7205",c,p,g),employeeRetention:T("Employee Retention Credit","ERC-3134","Form 941-X",u,v,w)},allMatches:i,matchesByCategory:s,statistics:S,riskIndicators:A,overallRiskLevel:E,processingDetails:{rulesApplied:XT.length,rulesTriggered:I,totalMatchesFound:i.length,uniqueKeywordsFound:L,scanCoverage:100,confidenceScore:I>0?a.filter(M=>M.qualified).reduce((M,z)=>M+z.confidence,0)/I:0},auditLog:r}}function Wu(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function ik(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $xe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}const Bxe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ZI extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Uxe extends ZI{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class rF extends ZI{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class iF extends ZI{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nN;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nN||(nN={}));class zxe{constructor(e,{headers:n={},customFetch:r,region:i=nN.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Bxe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $xe(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:u,timeout:d}=r;let f={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let m;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(f["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(f["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let b=u;d&&(a=new AbortController,s=setTimeout(()=>a.abort(),d),u?(b=a.signal,u.addEventListener("abort",()=>a.abort())):b=a.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:m,signal:b}).catch(A=>{throw new Uxe(A)}),w=g.headers.get("x-relay-error");if(w&&w==="true")throw new rF(g);if(!g.ok)throw new iF(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield g.json():x==="application/octet-stream"||x==="application/pdf"?S=yield g.blob():x==="text/event-stream"?S=g:x==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof iF||o instanceof rF?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var qxe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Hxe=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,u=s.statusText;if(s.ok){var d,f;if(n.method!=="HEAD"){var p;const g=await s.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const m=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(f=s.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");m&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const m=await s.text();try{a=JSON.parse(m),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,u="OK")}catch{s.status===404&&m===""?(c=204,u="No Content"):a={message:m}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&n.shouldThrowOnError)throw new qxe(a)}return{error:a,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="";const l=s==null?void 0:s.cause;if(l){var c,u,d,f;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",m=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";o=`${(d=s==null?void 0:s.name)!==null&&d!==void 0?d:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,m&&(o+=` (${m})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var p;o=(p=s==null?void 0:s.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Wxe=class extends Hxe{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const sF=new RegExp("[,()]");var xm=class extends Wxe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&sF.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&sF.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Vxe=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new xm({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(s.length>0){const a=[...new Set(s)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new xm({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new xm({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new xm({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new xm({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Gxe=class dH{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Vxe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new dH(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=n);const u=new Headers(this.headers);return s&&u.set("Prefer",`count=${s}`),new xm({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Kxe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Xxe="2.89.0",Yxe=`realtime-js/${Xxe}`,fH="1.0.0",Jxe="2.0.0",aF=fH,rN=1e4,Zxe=1e3,Qxe=100;var Dh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dh||(Dh={}));var ui;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ui||(ui={}));var ml;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ml||(ml={}));var iN;(function(t){t.websocket="websocket"})(iN||(iN={}));var Uf;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Uf||(Uf={}));class e_e{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(p),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,o.length),v.setUint8(m++,a.length),v.setUint8(m++,c.length),v.setUint8(m++,d.length),v.setUint8(m++,n),Array.from(l,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(c,g=>v.setUint8(m++,g.charCodeAt(0))),Array.from(d,g=>v.setUint8(m++,g.charCodeAt(0)));var b=new Uint8Array(p.byteLength+r.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(r),p.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,o,l]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+a));l=l+a;const f=e.slice(l,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:u,payload:p};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class pH{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zn||(zn={}));const oF=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=t_e(a,t,e,i),s),{}):{}},t_e=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?gH(s,a):sN(a)},gH=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return s_e(e,n)}switch(t){case zn.bool:return n_e(e);case zn.float4:case zn.float8:case zn.int2:case zn.int4:case zn.int8:case zn.numeric:case zn.oid:return r_e(e);case zn.json:case zn.jsonb:return i_e(e);case zn.timestamp:return a_e(e);case zn.abstime:case zn.date:case zn.daterange:case zn.int4range:case zn.int8range:case zn.money:case zn.reltime:case zn.text:case zn.time:case zn.timestamptz:case zn.timetz:case zn.tsrange:case zn.tstzrange:return sN(e);default:return sN(e)}},sN=t=>t,n_e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},r_e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i_e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},s_e=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>gH(e,o))}return t},a_e=t=>typeof t=="string"?t.replace(" ","T"):t,mH=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class YT{constructor(e,n,r={},i=rN){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(lF||(lF={}));class kb{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kb.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=kb.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kb.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=s[c];if(d){const f=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),v=u.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(o[c]=v),m.length>0&&(l[c]=m)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[o].unshift(...f)}r(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cF;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cF||(cF={}));var Tb;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Tb||(Tb={}));var tu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(tu||(tu={}));class Xm{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ui.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new YT(this,ml.join,this.params,this.timeout),this.rejoinTimer=new pH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ui.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ui.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ui.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ui.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ui.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ml.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new kb(this),this.broadcastEndpointURL=mH(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ui.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Tb.PRESENCE]&&this.bindings[Tb.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(tu.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(tu.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(tu.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,g=[];for(let w=0;w<b;w++){const x=m[w],{filter:{event:S,schema:A,table:E,filter:T}}=x,L=p&&p[w];if(L&&L.event===S&&Xm.isFilterValueEqual(L.schema,A)&&Xm.isFilterValueEqual(L.table,E)&&Xm.isFilterValueEqual(L.filter,T))g.push(Object.assign(Object.assign({},x),{id:L.id}));else{this.unsubscribe(),this.state=ui.errored,e==null||e(tu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(tu.SUBSCRIBED);return}}).receive("error",p=>{this.state=ui.errored,e==null||e(tu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(tu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ui.joined&&e===Tb.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ui.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ml.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new YT(this,ml.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ui.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new YT(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Qxe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=ml;if(r&&[o,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,m,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(f,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var v,m,b,g,w,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,A=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(w=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:m,table:b,commit_timestamp:g,type:w,errors:x}=v;f=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:g,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===ui.closed}_isJoined(){return this.state===ui.joined}_isJoining(){return this.state===ui.joining}_isLeaving(){return this.state===ui.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Xm.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ml.close,{},e)}_onError(e){this._on(ml.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ui.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=oF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=oF(e.columns,e.old_record)),n}}const JT=()=>{},m5={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o_e=[1e3,2e3,5e3,1e4],l_e=1e4,c_e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u_e{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rN,this.transport=null,this.heartbeatIntervalMs=m5.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=JT,this.ref=0,this.reconnectTimer=null,this.vsn=aF,this.logger=JT,this.conn=null,this.sendBuffer=[],this.serializer=new e_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${iN.websocket}`,this.httpEndpoint=mH(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kxe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dh.connecting:return Uf.Connecting;case Dh.open:return Uf.Open;case Dh.closing:return Uf.Closing;default:return Uf.Closed}}isConnected(){return this.connectionState()===Uf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Xm(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zxe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},m5.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Dh.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dh.open||this.conn.readyState===Dh.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ml.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([c_e],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:Yxe};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ml.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new pH(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},m5.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,l,c,u,d,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:rN,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:m5.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:JT,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:aF,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:v=>o_e[v-1]||l_e,this.vsn){case fH:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(v,m)=>m(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,m)=>m(JSON.parse(v));break;case Jxe:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Nw=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function h_e(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function d_e(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function f_e(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=h_e(t.baseUrl,r,i),l=await d_e(t.auth),c=await e(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),f=d&&u?JSON.parse(u):u;if(!c.ok){const p=d?f:void 0,v=p==null?void 0:p.error;throw new Nw((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:c.status,headers:c.headers,data:f}}}}function v5(t){return t.join("")}var p_e=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:v5(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${v5(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${v5(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${v5(t.namespace)}`}),!0}catch(e){if(e instanceof Nw&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Nw&&n.status===409)return;throw n}}};function um(t){return t.join("")}var g_e=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${um(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${um(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${um(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${um(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${um(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${um(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Nw&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Nw&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},m_e=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=f_e({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new p_e(this.client,e),this.tableOps=new g_e(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},sk=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function fr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var v_e=class extends sk{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},aN=class extends sk{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const QI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y_e=()=>Response,oN=t=>{if(Array.isArray(t))return t.map(n=>oN(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=oN(r)}),e},b_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},w_e=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Lw(t){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lw(t)}function x_e(t,e){if(Lw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function __e(t){var e=x_e(t,"string");return Lw(e)=="symbol"?e:e+""}function A_e(t,e,n){return(e=__e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){A_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const ZT=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},S_e=async(t,e,n)=>{t instanceof await y_e()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,s=(r==null?void 0:r.statusCode)||i+"";e(new v_e(ZT(r),i,s))}).catch(r=>{e(new aN(ZT(r),r))}):e(new aN(ZT(t),t))},E_e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(b_e(r)?(i.headers=vt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),vt(vt({},i),n))};async function Gx(t,e,n,r,i,s){return new Promise((a,o)=>{t(n,E_e(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>S_e(l,o,r))})}async function Iw(t,e,n,r){return Gx(t,"GET",e,n,r)}async function tl(t,e,n,r,i){return Gx(t,"POST",e,r,i,n)}async function lN(t,e,n,r,i){return Gx(t,"PUT",e,r,i,n)}async function P_e(t,e,n,r){return Gx(t,"HEAD",e,vt(vt({},n),{},{noResolveJson:!0}),r)}async function eR(t,e,n,r,i){return Gx(t,"DELETE",e,r,i,n)}var k_e=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fr(e))return{data:null,error:e};throw e}}};let vH;vH=Symbol.toStringTag;var T_e=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[vH]="BlobDownloadBuilder",this.promise=null}asStream(){return new k_e(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fr(e))return{data:null,error:e};throw e}}};const C_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var O_e=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=QI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let s;const a=vt(vt({},hF),r);let o=vt(vt({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=vt(vt({},o),r.headers));const c=i._removeEmptyFolders(e),u=i._getFinalPath(c),d=await(t=="PUT"?lN:tl)(i.fetch,`${i.url}/object/${u}`,s,vt({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(fr(s))return{data:null,error:s};throw s}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);o.searchParams.set("token",e);try{let l;const c=vt({upsert:hF.upsert},r),u=vt(vt({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:s,fullPath:(await lN(i.fetch,o.toString(),l,{headers:u})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(fr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=vt({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await tl(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),o=a.searchParams.get("token");if(!o)throw new sk("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await tl(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await tl(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),s=await tl(r.fetch,`${r.url}/object/sign/${i}`,vt({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await tl(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>vt(vt({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",s=this._getFinalPath(t),a=()=>Iw(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new T_e(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:oN(await Iw(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await P_e(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fr(r)&&r instanceof aN){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}async remove(t){var e=this;try{return{data:await eR(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=vt(vt(vt({},C_e),e),{},{prefix:t||""});return{data:await tl(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(fr(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=vt({},t);return{data:await tl(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const yH="2.89.0",bH={"X-Client-Info":`storage-js/${yH}`};var N_e=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=vt(vt({},bH),e),this.fetch=QI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Iw(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Iw(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await tl(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await lN(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await tl(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await eR(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},L_e=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=vt(vt({},bH),e),this.fetch=QI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await tl(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Iw(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await eR(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fr(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!w_e(t))throw new sk("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new m_e({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const tR={"X-Client-Info":`storage-js/${yH}`,"Content-Type":"application/json"};var wH=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ba(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var QT=class extends wH{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},I_e=class extends wH{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const nR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),R_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dF=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),M_e=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||r+"";e(new QT(dF(s),r,a))}).catch(()=>{const s=r+"";e(new QT(i.statusText||`HTTP ${r} error`,r,s))});else{const s=r+"";e(new QT(i.statusText||`HTTP ${r} error`,r,s))}}else e(new I_e(dF(t),t))},j_e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(R_e(r)?(i.headers=vt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,vt(vt({},i),n)):i};async function D_e(t,e,n,r,i,s){return new Promise((a,o)=>{t(n,j_e(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>M_e(l,o,r))})}async function Ua(t,e,n,r,i){return D_e(t,"POST",e,r,i,n)}var F_e=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=vt(vt({},tR),e),this.fetch=nR(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ua(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ua(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Ua(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ua(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}}},$_e=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=vt(vt({},tR),e),this.fetch=nR(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ua(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ua(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ua(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ua(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ua(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}},B_e=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=vt(vt({},tR),e),this.fetch=nR(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ua(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ua(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ua(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ua(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}},U_e=class extends B_e{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new z_e(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},z_e=class extends F_e{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,vt(vt({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,vt(vt({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new q_e(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},q_e=class extends $_e{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,vt(vt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,vt(vt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,vt(vt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,vt(vt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,vt(vt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},H_e=class extends N_e{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new O_e(this.url,this.headers,t,this.fetch)}get vectors(){return new U_e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new L_e(this.url+"/iceberg",this.headers,this.fetch)}};const xH="2.89.0",_m=30*1e3,cN=3,eC=cN*_m,W_e="http://localhost:9999",V_e="supabase.auth.token",G_e={"X-Client-Info":`gotrue-js/${xH}`},uN="X-Supabase-Api-Version",_H={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K_e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X_e=10*60*1e3;class Rw extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function st(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Y_e extends Rw{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function J_e(t){return st(t)&&t.name==="AuthApiError"}class zf extends Rw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class dh extends Rw{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class da extends dh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Z_e(t){return st(t)&&t.name==="AuthSessionMissingError"}class hm extends dh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class y5 extends dh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class b5 extends dh{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Q_e(t){return st(t)&&t.name==="AuthImplicitGrantRedirectError"}class fF extends dh{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e5e extends dh{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hN extends dh{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function tC(t){return st(t)&&t.name==="AuthRetryableFetchError"}class pF extends dh{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dN extends dh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gF=` 	
\r=`.split(""),t5e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<gF.length;e+=1)t[gF[e].charCodeAt(0)]=-2;for(let e=0;e<uE.length;e+=1)t[uE[e].charCodeAt(0)]=e;return t})();function mF(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uE[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uE[r]),e.queuedBits-=6}}function AH(t,e,n){const r=t5e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function vF(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{i5e(a,r,n)};for(let a=0;a<t.length;a+=1)AH(t.charCodeAt(a),i,s);return e.join("")}function n5e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function r5e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}n5e(r,e)}}function i5e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function f0(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)AH(t.charCodeAt(i),n,r);return new Uint8Array(e)}function s5e(t){const e=[];return r5e(t,n=>e.push(n)),new Uint8Array(e)}function np(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>mF(i,n,r)),mF(null,n,r),e.join("")}function a5e(t){return Math.round(Date.now()/1e3)+t}function o5e(){return Symbol("auth-callback")}const Bi=()=>typeof window<"u"&&typeof document<"u",Cf={tested:!1,writable:!1},SH=()=>{if(!Bi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cf.tested)return Cf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Cf.tested=!0,Cf.writable=!0}catch{Cf.tested=!0,Cf.writable=!1}return Cf.writable};function l5e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const EH=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),c5e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Am=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Of=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$i=async(t,e)=>{await t.removeItem(e)};class ak{constructor(){this.promise=new ak.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ak.promiseConstructor=Promise;function nC(t){const e=t.split(".");if(e.length!==3)throw new dN("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!K_e.test(e[r]))throw new dN("JWT not in base64url format");return{header:JSON.parse(vF(e[0])),payload:JSON.parse(vF(e[1])),signature:f0(e[2]),raw:{header:e[0],payload:e[1]}}}async function u5e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h5e(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function d5e(t){return("0"+t.toString(16)).substr(-2)}function f5e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,d5e).join("")}async function p5e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function g5e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await p5e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dm(t,e,n=!1){const r=f5e();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Am(t,`${e}-code-verifier`,i);const s=await g5e(r);return[s,r===s?"plain":"s256"]}const m5e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function v5e(t){const e=t.headers.get(uN);if(!e||!e.match(m5e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function y5e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function b5e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w5e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fm(t){if(!w5e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rC(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x5e(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function yF(t){return JSON.parse(JSON.stringify(t))}const jf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_5e=[502,503,504];async function bF(t){var e;if(!c5e(t))throw new hN(jf(t),0);if(_5e.includes(t.status))throw new hN(jf(t),t.status);let n;try{n=await t.json()}catch(s){throw new zf(jf(s),s)}let r;const i=v5e(t);if(i&&i.getTime()>=_H["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new pF(jf(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new da}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new pF(jf(n),t.status,n.weak_password.reasons);throw new Y_e(jf(n),t.status||500,r)}const A5e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function mt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[uN]||(s[uN]=_H["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await S5e(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function S5e(t,e,n,r,i,s){const a=A5e(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new hN(jf(l),0)}if(o.ok||await bF(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await bF(l)}}function Jo(t){var e;let n=null;k5e(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=a5e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function wF(t){const e=Jo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Uh(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function E5e(t){return{data:t,error:null}}function P5e(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=ik(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function xF(t){return t}function k5e(t){return t.access_token&&t.refresh_token&&t.expires_in}const iC=["global","local","others"];class T5e{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=EH(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=iC[0]){if(iC.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${iC.join(", ")}`);try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Uh})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ik(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:P5e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(st(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Uh})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xF});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(st(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fm(e);try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Uh})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fm(e);try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Uh})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){fm(e);try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Uh})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fm(e.userId);try{const{data:n,error:r}=await mt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(st(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fm(e.userId),fm(e.id);try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xF});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(st(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}}function _F(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const pm={debug:!!(globalThis&&SH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class PH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class C5e extends PH{}async function O5e(t,e,n){pm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){pm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{pm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw pm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new C5e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pm.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function N5e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kH(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function L5e(t){return parseInt(t,16)}function I5e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function R5e(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=kH(t.address),v=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${p}

${m}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}g+=w}return`${b}
${g}`}class Yr extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class hE extends Yr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function M5e({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Yr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Yr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Yr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Yr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Yr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Yr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Yr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(TH(a)){if(s.rp.id!==a)return new Yr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Yr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function j5e({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Yr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(TH(r)){if(n.rpId!==r)return new Yr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class D5e{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const F5e=new D5e;function $5e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=ik(t,["challenge","user","excludeCredentials"]),s=f0(e).buffer,a=Object.assign(Object.assign({},n),{id:f0(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:f0(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function B5e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ik(t,["challenge","allowCredentials"]),i=f0(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:f0(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function U5e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:np(new Uint8Array(t.response.attestationObject)),clientDataJSON:np(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function z5e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:np(new Uint8Array(i.authenticatorData)),clientDataJSON:np(new Uint8Array(i.clientDataJSON)),signature:np(new Uint8Array(i.signature)),userHandle:i.userHandle?np(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function TH(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function AF(){var t,e;return!!(Bi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function q5e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hE("Browser returned unexpected credential type",e)}:{data:null,error:new hE("Empty credential response",e)}}catch(e){return{data:null,error:M5e({error:e,options:t})}}}async function H5e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hE("Browser returned unexpected credential type",e)}:{data:null,error:new hE("Empty credential response",e)}}catch(e){return{data:null,error:j5e({error:e,options:t})}}}const W5e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},V5e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dE(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=dE(o,a):r[s]=dE(a)}else r[s]=a}return r}function G5e(t,e){return dE(W5e,t,e||{})}function K5e(t,e){return dE(V5e,t,e||{})}class X5e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const l=i??F5e.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=G5e(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:d}=await q5e({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=K5e(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:d}=await H5e(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new zf("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Rw("rpId is required for WebAuthn authentication")};try{if(!AF())return{data:null,error:new zf("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new zf("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Rw("rpId is required for WebAuthn registration")};try{if(!AF())return{data:null,error:new zf("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new zf("Unexpected error in register",a)}}}}N5e();const Y5e={url:W_e,storageKey:V_e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G_e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function SF(t,e,n){return await n()}const gm={};class Mw{get jwks(){var e,n;return(n=(e=gm[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){gm[this.storageKey]=Object.assign(Object.assign({},gm[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=gm[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gm[this.storageKey]=Object.assign(Object.assign({},gm[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Y5e),e);if(this.storageKey=s.storageKey,this.instanceID=(n=Mw.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Mw.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Bi()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new T5e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=EH(s.fetch),this.lock=s.lock||SF,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Bi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=O5e:this.lock=SF,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new X5e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:SH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_F(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=_F(this.memoryStorage)),Bi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xH}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Bi()&&(n=l5e(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Bi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Q_e(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return st(n)?this._returnResult({error:n}):this._returnResult({error:new zf("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jo}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(st(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await dm(this.storage,this.storageKey)),s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:Jo})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jo})}else throw new y5("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await $i(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await $i(this.storage,`${this.storageKey}-code-verifier`),st(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wF})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wF})}else throw new y5("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new hm;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(st(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,l,c,u,d,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:m,wallet:b,statement:g,options:w}=e;let x;if(Bi())if(typeof b=="object")x=b;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")x=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),A=await x.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=kH(A[0]);let T=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const I=await x.request({method:"eth_chainId"});T=L5e(I)}const L={domain:S.host,address:E,statement:g,uri:S.href,version:"1",chainId:T,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=R5e(L),v=await x.request({method:"personal_sign",params:[I5e(p),E]})}try{const{data:m,error:b}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Jo});if(b)throw b;if(!m||!m.session||!m.user){const g=new hm;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(st(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var n,r,i,s,a,o,l,c,u,d,f,p;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:b,wallet:g,statement:w,options:x}=e;let S;if(Bi())if(typeof g=="object")S=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const A=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),w?{statement:w}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${A.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:b,error:g}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:np(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Jo});if(g)throw g;if(!b||!b.session||!b.user){const w=new hm;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(st(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Of(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new e5e;const{data:s,error:a}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Jo});if(await $i(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new hm;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await $i(this.storage,`${this.storageKey}-code-verifier`),st(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jo}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new hm;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(st(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await dm(this.storage,this.storageKey));const{error:d}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new y5("You must provide either an email or phone number.")}catch(o){if(await $i(this.storage,`${this.storageKey}-code-verifier`),st(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Jo});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(st(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await dm(this.storage,this.storageKey));const c=await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:E5e});return!((s=c.data)===null||s===void 0)&&s.url&&Bi()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await $i(this.storage,`${this.storageKey}-code-verifier`),st(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new da;const{error:i}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(st(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await mt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await mt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new y5("You must provide either an email or phone number and a type")}catch(n){if(st(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Of(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<eC:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Of(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=rC()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=x5e(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Uh}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new da}:await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Uh})})}catch(n){if(st(n))return Z_e(n)&&(await this._removeSession(),await $i(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new da;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await dm(this.storage,this.storageKey));const{data:c,error:u}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Uh});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await $i(this.storage,`${this.storageKey}-code-verifier`),st(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new da;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=nC(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(st(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new da;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(st(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Bi())throw new b5("No browser detected.");if(e.error||e.error_description||e.error_code)throw new b5(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new b5("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fF("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new b5("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=_m&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=f-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:m,error:b}=await this._getUser(s);if(b)throw b;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(st(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Of(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(J_e(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await $i(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=o5e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await dm(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await $i(this.storage,`${this.storageKey}-code-verifier`),st(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,u;const{data:d,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Bi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(st(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:u}=e,d=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jo}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new hm}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await $i(this.storage,`${this.storageKey}-code-verifier`),st(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await h5e(async i=>(i>0&&await u5e(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jo})),(i,s)=>{const a=200*Math.pow(2,i);return s&&tC(s)&&Date.now()+a-r<_m})}catch(r){if(this._debug(n,"error",r),st(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Bi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Of(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Of(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Am(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:rC()}else if(i&&!i.user&&!i.user){const a=await Of(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await $i(this.storage,this.storageKey+"-user"),await Am(this.storage,this.storageKey,i)):i.user=rC()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<eC;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${eC}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),tC(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ak;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new da;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),st(s)){const a={data:null,error:s};return tC(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $i(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Am(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=yF(i);await Am(this.storage,this.storageKey,s)}else{const i=yF(n);await Am(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $i(this.storage,this.storageKey),await $i(this.storage,this.storageKey+"-code-verifier"),await $i(this.storage,this.storageKey+"-user"),this.userStorage&&await $i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_m);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/_m);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_m}ms, refresh threshold is ${cN} ticks`),i<=cN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof PH)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await dm(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await mt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?U5e(e.webauthn.credential_response):z5e(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:$5e(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:B5e(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=nC(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new da})})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new da});const a=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Bi()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new da});const a=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Bi()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await mt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new da})})}catch(e){if(st(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await mt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new da})})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+X_e>i)return r;const{data:s,error:a}=await mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=nC(r);n!=null&&n.allowExpired||y5e(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const u=b5e(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,s5e(`${o}.${l}`)))throw new dN("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}}Mw.nextInstanceID={};const J5e=Mw,Z5e="2.89.0";let q1="";typeof Deno<"u"?q1="deno":typeof document<"u"?q1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?q1="react-native":q1="node";const Q5e={"X-Client-Info":`supabase-js-${q1}/${Z5e}`},eAe={headers:Q5e},tAe={schema:"public"},nAe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rAe={};function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function iAe(t,e){if(jw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sAe(t){var e=iAe(t,"string");return jw(e)=="symbol"?e:e+""}function aAe(t,e,n){return(e=sAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(n),!0).forEach(function(r){aAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const oAe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lAe=()=>Headers,cAe=(t,e,n)=>{const r=oAe(n),i=lAe();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,kr(kr({},a),{},{headers:c}))}};function uAe(t){return t.endsWith("/")?t:t+"/"}function hAe(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:kr(kr({},l),i),auth:kr(kr({},c),s),realtime:kr(kr({},u),a),storage:{},global:kr(kr(kr({},d),o),{},{headers:kr(kr({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function dAe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uAe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var fAe=class extends J5e{constructor(t){super(t)}},pAe=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=dAe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:tAe,realtime:rAe,auth:kr(kr({},nAe),{},{storageKey:a}),global:eAe},l=hAe(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=cAe(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(kr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new Gxe(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new H_e(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new zxe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fAe({url:this.authUrl.href,headers:kr(kr({},f),u),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new u_e(this.realtimeUrl.href,kr(kr({},t),{},{params:kr(kr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const gAe=(t,e,n)=>new pAe(t,e,n);function mAe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mAe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vAe="https://qmhqewbagjyfjbwobsfl.supabase.co",yAe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFtaHFld2JhZ2p5Zmpid29ic2ZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyOTc3OTgsImV4cCI6MjA4Mjg3Mzc5OH0.JxgFOTV3AOR5TDpIyJVBou44RFsi3RXxU7Yi8nr4iU4",H1=gAe(vAe,yAe),Cs=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),fN=[.001,0,0,.001,0,0],sC=1.35,Ra={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},zh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Dw="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Zt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},bAe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},pN={TRIANGLES:1,LATTICE:2},ci={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Z5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Gr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Sm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ok={ERRORS:0,WARNINGS:1,INFOS:5},Fw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},O1={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},wAe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let lk=ok.WARNINGS;function xAe(t){Number.isInteger(t)&&(lk=t)}function _Ae(){return lk}function ck(t){lk>=ok.INFOS&&console.info(`Info: ${t}`)}function St(t){lk>=ok.WARNINGS&&console.warn(`Warning: ${t}`)}function Fn(t){throw new Error(t)}function Qt(t,e){t||Fn(e)}function AAe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function CH(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=TAe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return AAe(r)?r:null}function OH(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&CH(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Et(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Hg=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class PF extends Hg{constructor(e,n){super(e,"PasswordException"),this.code=n}}class aC extends Hg{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class gN extends Hg{constructor(e){super(e,"InvalidPDFException")}}class fE extends Hg{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class SAe extends Hg{constructor(e){super(e,"FormatError")}}class Yd extends Hg{constructor(e){super(e,"AbortException")}}function NH(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Fn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Kx(t){typeof t!="string"&&Fn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function EAe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function PAe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function kAe(){try{return new Function(""),!0}catch{return!1}}class yi{static get isLittleEndian(){return Et(this,"isLittleEndian",PAe())}static get isEvalSupported(){return Et(this,"isEvalSupported",kAe())}static get isOffscreenCanvasSupported(){return Et(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Et(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Et(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Et(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Et(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return Et(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const oC=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Xu,Q5,mN;class ze{static makeHexColor(e,n,r){return`#${oC[e]}${oC[n]}${oC[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5];for(let u=0;u<6;u+=2){const d=e[r+u],f=e[r+u+1];e[r+u]=d*i+f*a+l,e[r+u+1]=d*s+f*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5],u=e[0],d=e[1],f=e[2],p=e[3];let v=i*u+l,m=v,b=i*f+l,g=b,w=o*d+c,x=w,S=o*p+c,A=S;if(s!==0||a!==0){const E=s*u,T=s*f,L=a*d,I=a*p;v+=L,g+=L,b+=I,m+=I,w+=E,A+=E,S+=T,x+=T}r[0]=Math.min(r[0],v,b,m,g),r[1]=Math.min(r[1],w,S,x,A),r[2]=Math.max(r[2],v,b,m,g),r[3]=Math.max(r[3],w,S,x,A)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,u=(o+c)/2,d=Math.sqrt(u**2-(o*c-l**2));n[0]=Math.sqrt(u+d||1),n[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static bezierBoundingBox(e,n,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),F(this,Xu,mN).call(this,e,r,s,o,n,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),F(this,Xu,mN).call(this,e,r,s,o,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}Xu=new WeakSet,Q5=function(e,n,r,i,s,a,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,v=d*(d*(d*e+3*c*n)+3*f*r)+p*i,m=d*(d*(d*s+3*c*a)+3*f*o)+p*l;u[0]=Math.min(u[0],v),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],v),u[3]=Math.max(u[3],m)},mN=function(e,n,r,i,s,a,o,l,c,u,d,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&F(this,Xu,Q5).call(this,e,n,r,i,s,a,o,l,-d/u,f);return}const p=u**2-4*d*c;if(p<0)return;const v=Math.sqrt(p),m=2*c;F(this,Xu,Q5).call(this,e,n,r,i,s,a,o,l,(-u+v)/m,f),F(this,Xu,Q5).call(this,e,n,r,i,s,a,o,l,(-u-v)/m,f)},j(ze,Xu);function TAe(t){return decodeURIComponent(escape(t))}let lC=null,kF=null;function CAe(t){return lC||(lC=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,kF=new Map([["","t"]])),t.replaceAll(lC,(e,n,r)=>n?n.normalize("NFKC"):kF.get(r))}function LH(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),NH(t)}const Ym="pdfjs_internal_id_";function OAe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Os(t,e,n){return Math.min(Math.max(t,e),n)}function IH(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(NH(t))}function NAe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Kx(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class $w{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if($w.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class RH{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){var d,f;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&$w.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[p,v,m]=u.at(-1);if(v+1===p.children.length){u.pop();continue}const b=p.children[++u.at(-1)[1]];if(b===null)continue;const{name:g}=b;if(g==="#text"){const x=document.createTextNode(b.value);c.push(x),m.append(x);continue}const w=(d=b==null?void 0:b.attributes)!=null&&d.xmlns?document.createElementNS(b.attributes.xmlns,g):document.createElement(g);if(m.append(w),b.attributes&&this.setAttributes({html:w,element:b,storage:n,intent:s,linkService:r}),((f=b.children)==null?void 0:f.length)>0)u.push([b,-1,w]);else if(b.value){const x=document.createTextNode(b.value);o&&$w.shouldBuildText(g)&&c.push(x),w.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Yc="http://www.w3.org/2000/svg",Wf=class Wf{};Se(Wf,"CSS",96),Se(Wf,"PDF",72),Se(Wf,"PDF_TO_CSS_UNITS",Wf.CSS/Wf.PDF);let Jd=Wf;async function Xx(t,e="text"){if(W1(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Yx{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,f=0,p=1;break;case 90:u=0,d=1,f=1,p=0;break;case 270:u=0,d=-1,f=-1,p=0;break;case 0:u=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let v,m,b,g;u===0?(v=Math.abs(c-e[1])*r+s,m=Math.abs(l-e[0])*r+a,b=(e[3]-e[1])*r,g=(e[2]-e[0])*r):(v=Math.abs(l-e[0])*r+s,m=Math.abs(c-e[1])*r+a,b=(e[2]-e[0])*r,g=(e[3]-e[1])*r),this.transform=[u*r,d*r,f*r,p*r,v-u*r*l-f*r*c,m-d*r*l-p*r*c],this.width=b,this.height=g}get rawDims(){const e=this.viewBox;return Et(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Yx({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return ze.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];ze.applyTransform(n,this.transform);const r=[e[2],e[3]];return ze.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return ze.applyInverseTransform(r,this.transform),r}}class rR extends Hg{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function uk(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function iR(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function LAe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function IAe(t,e="document.pdf"){if(typeof t!="string")return e;if(uk(t))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class TF{constructor(){Se(this,"started",Object.create(null));Se(this,"times",[])}time(e){e in this.started&&St(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||St(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function W1(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function jo(t){t.preventDefault()}function Nr(t){t.preventDefault(),t.stopPropagation()}function RAe(t){console.log("Deprecated API usage: "+t)}var Hw;class pE{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;h(this,Hw)||C(this,Hw,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=h(this,Hw).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(a+=u,o+=d):c==="+"&&(a-=u,o-=d),new Date(Date.UTC(r,i,s,a,o,l))}}Hw=new WeakMap,j(pE,Hw);function MAe(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Yx({viewBox:s,userUnit:1,scale:e,rotation:n})}function Jx(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(St(`Not a valid color format: "${t}"`),[0,0,0])}function jAe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Jx(r))}e.remove()}function dr(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function Bl(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function Ig(t,e,n=!1,r=!0){if(e instanceof Yx){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=yi.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Ec{constructor(){const{pixelRatio:e}=Ec;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=Ec.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,l=i/n);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const vN=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class DAe{static get isDarkMode(){var e;return Et(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class FAe{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Et(this,"commentForegroundColor",Jx(r))}}function $Ae(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function CF(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=o}function yN(t,e){const n=t[0],r=t[1],i=t[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(n/60%2-1)),o=i-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function OF(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function NF(t,e,n){yN(t,n),n.map(OF);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];yN(e,n),n.map(OF);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const LF=new Map;function BAe(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=LF.get(n);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);CF(t,a);const o=i.subarray(6,9);CF(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),NF(a,o,s)<c){let u,d;l?(u=a[2],d=1):(u=0,d=a[2]);const f=.005;for(;d-u>f;){const p=a[2]=(u+d)/2;l===NF(a,o,s)<c?u=p:d=p}a[2]=l?d:u}return yN(a,s),r=ze.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),LF.set(n,r),r}function MH({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else RH.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",n),r.append(i)}function jH(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case O1.moveTo:e.moveTo(t[n++],t[n++]);break;case O1.lineTo:e.lineTo(t[n++],t[n++]);break;case O1.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case O1.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case O1.closePath:e.closePath();break;default:St(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}var qh,Hh,uo,ho,Ww,Wh,b0,w0,Vw,IE,DH,Ji,FH,$H,Em,V1;const nu=class nu{constructor(e){j(this,Ji);j(this,qh,null);j(this,Hh,null);j(this,uo);j(this,ho,null);j(this,Ww,null);j(this,Wh,null);j(this,b0,null);j(this,w0,null);C(this,uo,e),h(nu,Vw)||C(nu,Vw,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=C(this,qh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=h(this,uo)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",jo,{signal:n}),e.addEventListener("pointerdown",F(nu,IE,DH),{signal:n}));const r=C(this,ho,document.createElement("div"));r.className="buttons",e.append(r);const i=h(this,uo).toolbarPosition;if(i){const{style:s}=e,a=h(this,uo)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return h(this,qh)}hide(){var e;h(this,qh).classList.add("hidden"),(e=h(this,Hh))==null||e.hideDropdown()}show(){var e,n;h(this,qh).classList.remove("hidden"),(e=h(this,Ww))==null||e.shown(),(n=h(this,Wh))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=h(this,uo),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",h(nu,Vw)[e]),F(this,Ji,Em).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),h(this,ho).append(r)}async addAltText(e){const n=await e.render();F(this,Ji,Em).call(this,n),h(this,ho).append(n,h(this,Ji,V1)),C(this,Ww,e)}addComment(e,n=null){if(h(this,Wh))return;const r=e.renderForToolbar();if(!r)return;F(this,Ji,Em).call(this,r);const i=C(this,b0,h(this,Ji,V1));n?(h(this,ho).insertBefore(r,n),h(this,ho).insertBefore(i,n)):h(this,ho).append(r,i),C(this,Wh,e),e.toolbar=this}addColorPicker(e){if(h(this,Hh))return;C(this,Hh,e);const n=e.renderButton();F(this,Ji,Em).call(this,n),h(this,ho).append(n,h(this,Ji,V1))}async addEditSignatureButton(e){const n=C(this,w0,await e.renderEditButton(h(this,uo)));F(this,Ji,Em).call(this,n),h(this,ho).append(n,h(this,Ji,V1))}removeButton(e){var n,r;switch(e){case"comment":(n=h(this,Wh))==null||n.removeToolbarCommentButton(),C(this,Wh,null),(r=h(this,b0))==null||r.remove(),C(this,b0,null);break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=h(this,ho).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){h(this,w0)&&(h(this,w0).title=e)}remove(){var e;h(this,qh).remove(),(e=h(this,Hh))==null||e.destroy(),C(this,Hh,null)}};qh=new WeakMap,Hh=new WeakMap,uo=new WeakMap,ho=new WeakMap,Ww=new WeakMap,Wh=new WeakMap,b0=new WeakMap,w0=new WeakMap,Vw=new WeakMap,IE=new WeakSet,DH=function(e){e.stopPropagation()},Ji=new WeakSet,FH=function(e){h(this,uo)._focusEventsAllowed=!1,Nr(e)},$H=function(e){h(this,uo)._focusEventsAllowed=!0,Nr(e)},Em=function(e){const n=h(this,uo)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",F(this,Ji,FH).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",F(this,Ji,$H).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",jo,{signal:n}),!0)},V1=function(){const e=document.createElement("div");return e.className="divider",e},j(nu,IE),j(nu,Vw,null);let bN=nu;var Gw,rp,au,ah,BH,UH,wN;class UAe{constructor(e){j(this,ah);j(this,Gw,null);j(this,rp,null);j(this,au);C(this,au,e)}show(e,n,r){const[i,s]=F(this,ah,UH).call(this,n,r),{style:a}=h(this,rp)||C(this,rp,F(this,ah,BH).call(this));e.append(h(this,rp)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,rp).remove()}}Gw=new WeakMap,rp=new WeakMap,au=new WeakMap,ah=new WeakSet,BH=function(){const e=C(this,rp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=h(this,au)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",jo,{signal:n});const r=C(this,Gw,document.createElement("div"));return r.className="buttons",e.append(r),h(this,au).hasCommentManager()&&F(this,ah,wN).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{h(this,au).commentSelection("floating_button")}),F(this,ah,wN).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{h(this,au).highlightSelection("floating_button")}),e},UH=function(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(n?s.width:0);if(a>r){i=o,r=a;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},wN=function(e,n,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=h(this,au)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",jo,{signal:o}),s.addEventListener("click",i,{signal:o})),h(this,Gw).append(s)};function zH(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var ip,sp,x0,ap;const Sn=class Sn{static initializeAndAddPointerId(e){(h(Sn,sp)||C(Sn,sp,new Set)).add(e)}static setPointer(e,n){h(Sn,ip)||C(Sn,ip,n),h(Sn,ap)??C(Sn,ap,e)}static setTimeStamp(e){C(Sn,x0,e)}static isSamePointerId(e){return h(Sn,ip)===e}static isSamePointerIdOrRemove(e){var n;return h(Sn,ip)===e?!0:((n=h(Sn,sp))==null||n.delete(e),!1)}static isSamePointerType(e){return h(Sn,ap)===e}static isInitializedAndDifferentPointerType(e){return h(Sn,ap)!==null&&!Sn.isSamePointerType(e)}static isSameTimeStamp(e){return h(Sn,x0)===e}static isUsingMultiplePointers(){var e;return((e=h(Sn,sp))==null?void 0:e.size)>=1}static clearPointerType(){C(Sn,ap,null)}static clearPointerIds(){C(Sn,ip,NaN),C(Sn,sp,null)}static clearTimeStamp(){C(Sn,x0,NaN)}};ip=new WeakMap,sp=new WeakMap,x0=new WeakMap,ap=new WeakMap,j(Sn,ip,NaN),j(Sn,sp,null),j(Sn,x0,NaN),j(Sn,ap,null);let us=Sn;var RE;class zAe{constructor(){j(this,RE,0)}get id(){return`${Dw}${ai(this,RE)._++}`}}RE=new WeakMap;var _0,Kw,hs,A0,eA;const yR=class yR{constructor(){j(this,A0);j(this,_0,LH());j(this,Kw,0);j(this,hs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Et(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return F(this,A0,eA).call(this,`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return F(this,A0,eA).call(this,e,e)}async getFromBlob(e,n){const r=await n;return F(this,A0,eA).call(this,e,r)}async getFromId(e){h(this,hs)||C(this,hs,new Map);const n=h(this,hs).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){h(this,hs)||C(this,hs,new Map);let r=h(this,hs).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${h(this,_0)}_${ai(this,Kw)._++}`,refCounter:1,isSvg:!1},h(this,hs).set(e,r),h(this,hs).set(r.id,r),r}getSvgUrl(e){const n=h(this,hs).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;h(this,hs)||C(this,hs,new Map);const n=h(this,hs).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,_0)}_`)}};_0=new WeakMap,Kw=new WeakMap,hs=new WeakMap,A0=new WeakSet,eA=async function(e,n){h(this,hs)||C(this,hs,new Map);let r=h(this,hs).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${h(this,_0)}_${ai(this,Kw)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Xx(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=yR._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const d=r.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){St(i),r=null}return h(this,hs).set(e,r),r&&h(this,hs).set(r.id,r),r};let xN=yR;var Dr,Vh,Xw,hr;class qAe{constructor(e=128){j(this,Dr,[]);j(this,Vh,!1);j(this,Xw);j(this,hr,-1);C(this,Xw,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),h(this,Vh))return;const l={cmd:e,undo:n,post:r,type:s};if(h(this,hr)===-1){h(this,Dr).length>0&&(h(this,Dr).length=0),C(this,hr,0),h(this,Dr).push(l);return}if(a&&h(this,Dr)[h(this,hr)].type===s){o&&(l.undo=h(this,Dr)[h(this,hr)].undo),h(this,Dr)[h(this,hr)]=l;return}const c=h(this,hr)+1;c===h(this,Xw)?h(this,Dr).splice(0,1):(C(this,hr,c),c<h(this,Dr).length&&h(this,Dr).splice(c)),h(this,Dr).push(l)}undo(){if(h(this,hr)===-1)return;C(this,Vh,!0);const{undo:e,post:n}=h(this,Dr)[h(this,hr)];e(),n==null||n(),C(this,Vh,!1),C(this,hr,h(this,hr)-1)}redo(){if(h(this,hr)<h(this,Dr).length-1){C(this,hr,h(this,hr)+1),C(this,Vh,!0);const{cmd:e,post:n}=h(this,Dr)[h(this,hr)];e(),n==null||n(),C(this,Vh,!1)}}hasSomethingToUndo(){return h(this,hr)!==-1}hasSomethingToRedo(){return h(this,hr)<h(this,Dr).length-1}cleanType(e){if(h(this,hr)!==-1){for(let n=h(this,hr);n>=0;n--)if(h(this,Dr)[n].type!==e){h(this,Dr).splice(n+1,h(this,hr)-n),C(this,hr,n);return}h(this,Dr).length=0,C(this,hr,-1)}}destroy(){C(this,Dr,null)}}Dr=new WeakMap,Vh=new WeakMap,Xw=new WeakMap,hr=new WeakMap;var ME,qH;class Zx{constructor(e){j(this,ME);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=yi.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(F(this,ME,qH).call(this,n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...a,n)(),s||Nr(n))}}ME=new WeakSet,qH=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const jE=class jE{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return jAe(e),Et(this,"_colors",e)}convert(e){const n=Jx(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return jE._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?ze.makeHexColor(...n):e}};Se(jE,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _N=jE;var S0,ga,E0,_r,di,P0,fo,k0,po,ds,Gh,Kh,T0,Xh,Vl,go,op,Yw,Jw,C0,Zw,Gl,Yh,O0,Jh,Kl,DE,Zh,N0,Qw,Qh,lp,L0,ed,e2,Kr,bn,ou,td,nd,t2,I0,n2,rd,Xl,lu,r2,i2,mo,Be,tA,AN,HH,WH,G1,VH,GH,KH,SN,XH,YH,JH,ZH,Ss,Jc,QH,eW,EN,tW,K1,PN;const Qm=class Qm{constructor(e,n,r,i,s,a,o,l,c,u,d,f,p,v,m,b){j(this,Be);j(this,S0,new AbortController);j(this,ga,null);j(this,E0,null);j(this,_r,new Map);j(this,di,new Map);j(this,P0,null);j(this,fo,null);j(this,k0,null);j(this,po,new qAe);j(this,ds,null);j(this,Gh,null);j(this,Kh,null);j(this,T0,0);j(this,Xh,new Set);j(this,Vl,null);j(this,go,null);j(this,op,new Set);Se(this,"_editorUndoBar",null);j(this,Yw,!1);j(this,Jw,!1);j(this,C0,!1);j(this,Zw,null);j(this,Gl,null);j(this,Yh,null);j(this,O0,null);j(this,Jh,!1);j(this,Kl,null);j(this,DE,new zAe);j(this,Zh,!1);j(this,N0,!1);j(this,Qw,!1);j(this,Qh,null);j(this,lp,null);j(this,L0,null);j(this,ed,null);j(this,e2,null);j(this,Kr,Nt.NONE);j(this,bn,new Set);j(this,ou,null);j(this,td,null);j(this,nd,null);j(this,t2,null);j(this,I0,null);j(this,n2,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});j(this,rd,[0,0]);j(this,Xl,null);j(this,lu,null);j(this,r2,null);j(this,i2,null);j(this,mo,null);const g=this._signal=h(this,S0).signal;C(this,lu,e),C(this,r2,n),C(this,i2,r),C(this,P0,i),C(this,ds,s),C(this,td,a),C(this,I0,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:g}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),o._on("setpreference",this.onSetPreference.bind(this),{signal:g}),o._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:g}),window.addEventListener("pointerdown",()=>{C(this,N0,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{C(this,N0,!1)},{capture:!0,signal:g}),F(this,Be,VH).call(this),F(this,Be,ZH).call(this),F(this,Be,SN).call(this),C(this,fo,l.annotationStorage),C(this,Zw,l.filterFactory),C(this,nd,c),C(this,O0,u||null),C(this,Yw,d),C(this,Jw,f),C(this,C0,p),C(this,e2,v||null),this.viewParameters={realScale:Jd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=b!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Qm.prototype,n=a=>h(a,lu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Et(this,"_keyboardManager",new Zx([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,lu).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,lu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,r,i,s,a,o,l,c;(e=h(this,mo))==null||e.resolve(),C(this,mo,null),(n=h(this,S0))==null||n.abort(),C(this,S0,null),this._signal=null;for(const u of h(this,di).values())u.destroy();h(this,di).clear(),h(this,_r).clear(),h(this,op).clear(),(r=h(this,ed))==null||r.clear(),C(this,ga,null),h(this,bn).clear(),h(this,po).destroy(),(i=h(this,P0))==null||i.destroy(),(s=h(this,ds))==null||s.destroy(),(a=h(this,td))==null||a.destroy(),(o=h(this,Kl))==null||o.hide(),C(this,Kl,null),(l=h(this,L0))==null||l.destroy(),C(this,L0,null),C(this,E0,null),h(this,Gl)&&(clearTimeout(h(this,Gl)),C(this,Gl,null)),h(this,Xl)&&(clearTimeout(h(this,Xl)),C(this,Xl,null)),(c=this._editorUndoBar)==null||c.destroy(),C(this,I0,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,e2)}get useNewAltTextFlow(){return h(this,Jw)}get useNewAltTextWhenAddingImage(){return h(this,C0)}get hcmFilter(){return Et(this,"hcmFilter",h(this,nd)?h(this,Zw).addHCMFilter(h(this,nd).foreground,h(this,nd).background):"none")}get direction(){return Et(this,"direction",getComputedStyle(h(this,lu)).direction)}get _highlightColors(){return Et(this,"_highlightColors",h(this,O0)?new Map(h(this,O0).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Et(this,"highlightColors",null);const n=new Map,r=!!h(this,nd);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),s);continue}!r&&!a&&n.set(i,s)}return Et(this,"highlightColors",n)}get highlightColorNames(){return Et(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,Kh,e)}setMainHighlightColorPicker(e){C(this,L0,e)}editAltText(e,n=!1){var r;(r=h(this,P0))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!h(this,ds)}editComment(e,n,r,i){var s;(s=h(this,ds))==null||s.showDialog(this,e,n,r,i)}selectComment(e,n){const r=h(this,di).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=h(this,ds))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=h(this,ds))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=h(this,ds))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=h(this,ds))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=h(this,ds))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=h(this,ds))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(h(this,di).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=h(this,td))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return h(this,td)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":C(this,C0,n);break}}onPageChanging({pageNumber:e}){C(this,T0,e-1)}focusMainContainer(){h(this,lu).focus()}findParent(e,n){for(const r of h(this,di).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+o)return r}return null}disableUserSelect(e=!1){h(this,r2).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,op).add(e)}removeShouldRescale(e){h(this,op).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Jd.PDF_TO_CSS_UNITS;for(const r of h(this,op))r.onScaleChanging();(n=h(this,Kh))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),u=F(this,Be,tA).call(this,r).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;r.empty();const f=F(this,Be,AN).call(this,u),p=h(this,Kr)===Nt.NONE,v=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});p&&this.showAllEditors("highlight",!0,!0),n&&(m==null||m.editComment())};if(p){this.switchToMode(Nt.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!h(this,fo))return null;const n=`${Dw}${e}`,r=h(this,fo).getRawValue(n);return r&&h(this,fo).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&h(this,fo)&&!h(this,fo).has(e.id)&&h(this,fo).setValue(e.id,e)}a11yAlert(e,n=null){const r=h(this,i2);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,h(this,Jh)&&(C(this,Jh,!1),F(this,Be,G1).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of h(this,bn))if(n.div.contains(e)){C(this,lp,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!h(this,lp))return;const[e,n]=h(this,lp);C(this,lp,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){F(this,Be,SN).call(this),this.setEditingState(!0)}removeEditListeners(){F(this,Be,XH).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of h(this,go))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of h(this,go))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=h(this,ga))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of h(this,bn)){const s=i.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of h(this,go))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){St(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)F(this,Be,EN).call(this,l);F(this,Be,PN).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){St(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Kr)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&Qm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Jh)&&(C(this,Jh,!1),F(this,Be,G1).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(F(this,Be,GH).call(this),F(this,Be,YH).call(this),F(this,Be,Ss).call(this,{isEditing:h(this,Kr)!==Nt.NONE,isEmpty:F(this,Be,K1).call(this),hasSomethingToUndo:h(this,po).hasSomethingToUndo(),hasSomethingToRedo:h(this,po).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,Be,KH).call(this),F(this,Be,JH).call(this),F(this,Be,Ss).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,go)){C(this,go,e);for(const n of h(this,go))F(this,Be,Jc).call(this,n.defaultPropertiesToUpdate)}}getId(){return h(this,DE).id}get currentLayer(){return h(this,di).get(h(this,T0))}getLayer(e){return h(this,di).get(e)}get currentPageIndex(){return h(this,T0)}addLayer(e){h(this,di).set(e.pageIndex,e),h(this,Zh)?e.enable():e.disable()}removeLayer(e){h(this,di).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,s=!1,a=!1){var o,l,c,u,d,f;if(h(this,Kr)!==e&&!(h(this,mo)&&(await h(this,mo).promise,!h(this,mo)))){if(C(this,mo,Promise.withResolvers()),(o=h(this,Kh))==null||o.commitOrRemove(),h(this,Kr)===Nt.POPUP&&((l=h(this,ds))==null||l.hideSidebar()),(c=h(this,ds))==null||c.destroyPopup(),C(this,Kr,e),e===Nt.NONE){this.setEditingState(!1),F(this,Be,eW).call(this);for(const p of h(this,_r).values())p.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),h(this,mo).resolve();return}for(const p of h(this,_r).values())p.addStandaloneCommentButton();e===Nt.SIGNATURE&&await((d=h(this,td))==null?void 0:d.loadSignatures()),r&&us.clearPointerType(),this.setEditingState(!0),await F(this,Be,QH).call(this),this.unselectAll();for(const p of h(this,di).values())p.updateMode(e);if(e===Nt.POPUP){h(this,E0)||C(this,E0,await h(this,I0).getAnnotationsByType(new Set(h(this,go).map(m=>m._editorType))));const p=new Set,v=[];for(const m of h(this,_r).values()){const{annotationElementId:b,hasComment:g,deleted:w}=m;b&&p.add(b),g&&!w&&v.push(m.getData())}for(const m of h(this,E0)){const{id:b,popupRef:g,contentsObj:w}=m;g&&(w!=null&&w.str)&&!p.has(b)&&!h(this,Xh).has(b)&&v.push(m)}(f=h(this,ds))==null||f.showSidebar(v)}if(!n){i&&this.addNewEditorFromKeyboard(),h(this,mo).resolve();return}for(const p of h(this,_r).values())p.uid===n?(this.setSelected(p),a?p.editComment():s?p.enterInEditMode():p.focus()):p.unselect();h(this,mo).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==h(this,Kr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(h(this,go)){switch(e){case Zt.CREATE:this.currentLayer.addNewEditor(n);return;case Zt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,t2)||C(this,t2,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of h(this,bn))r.updateParams(e,n);else for(const r of h(this,go))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var s;for(const a of h(this,_r).values())a.editorType===e&&a.show(n);(((s=h(this,t2))==null?void 0:s.get(Zt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&F(this,Be,Jc).call(this,[[Zt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(h(this,Qw)!==e){C(this,Qw,e);for(const n of h(this,di).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of h(this,_r).values())n.pageIndex===e&&(yield n)}getEditor(e){return h(this,_r).get(e)}addEditor(e){h(this,_r).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(h(this,Gl)&&clearTimeout(h(this,Gl)),C(this,Gl,setTimeout(()=>{this.focusMainContainer(),C(this,Gl,null)},0))),h(this,_r).delete(e.id),e.annotationElementId&&((n=h(this,ed))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!h(this,Xh).has(e.annotationElementId))&&((r=h(this,fo))==null||r.remove(e.id))}addDeletedAnnotationElement(e){h(this,Xh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,Xh).has(e)}removeDeletedAnnotationElement(e){h(this,Xh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,ga)!==e&&(C(this,ga,e),e&&F(this,Be,Jc).call(this,e.propertiesToUpdate))}updateUI(e){h(this,Be,tW)===e&&F(this,Be,Jc).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){F(this,Be,Jc).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(h(this,bn).has(e)){h(this,bn).delete(e),e.unselect(),F(this,Be,Ss).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,bn).add(e),e.select(),F(this,Be,Jc).call(this,e.propertiesToUpdate),F(this,Be,Ss).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.uid}),(n=h(this,Kh))==null||n.commitOrRemove();for(const r of h(this,bn))r!==e&&r.unselect();h(this,bn).clear(),h(this,bn).add(e),e.select(),F(this,Be,Jc).call(this,e.propertiesToUpdate),F(this,Be,Ss).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,bn).has(e)}get firstSelectedEditor(){return h(this,bn).values().next().value}unselect(e){e.unselect(),h(this,bn).delete(e),F(this,Be,Ss).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,bn).size!==0}get isEnterHandled(){return h(this,bn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;h(this,po).undo(),F(this,Be,Ss).call(this,{hasSomethingToUndo:h(this,po).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,Be,K1).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){h(this,po).redo(),F(this,Be,Ss).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,po).hasSomethingToRedo(),isEmpty:F(this,Be,K1).call(this)})}addCommands(e){h(this,po).add(e),F(this,Be,Ss).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,Be,K1).call(this)})}cleanUndoStack(e){h(this,po).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...h(this,bn)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},i=()=>{for(const a of n)F(this,Be,EN).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=h(this,ga))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,ga)||this.hasSelection}selectAll(){for(const e of h(this,bn))e.commit();F(this,Be,PN).call(this,h(this,_r).values())}unselectAll(){var e;if(!(h(this,ga)&&(h(this,ga).commitOrRemove(),h(this,Kr)!==Nt.NONE))&&!((e=h(this,Kh))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of h(this,bn))n.unselect();h(this,bn).clear(),F(this,Be,Ss).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;h(this,rd)[0]+=e,h(this,rd)[1]+=n;const[i,s]=h(this,rd),a=[...h(this,bn)],o=1e3;h(this,Xl)&&clearTimeout(h(this,Xl)),C(this,Xl,setTimeout(()=>{C(this,Xl,null),h(this,rd)[0]=h(this,rd)[1]=0,this.addCommands({cmd:()=>{for(const l of a)h(this,_r).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)h(this,_r).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,Vl,new Map);for(const e of h(this,bn))h(this,Vl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Vl))return!1;this.disableUserSelect(!1);const e=h(this,Vl);C(this,Vl,null);let n=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,n||(n=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!n)return!1;const r=(i,s,a,o)=>{if(h(this,_r).has(i.id)){const l=h(this,di).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(h(this,Vl))for(const r of h(this,Vl).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,bn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,ga)===e}getActive(){return h(this,ga)}getMode(){return h(this,Kr)}isEditingMode(){return h(this,Kr)!==Nt.NONE}get imageManager(){return Et(this,"imageManager",new xN)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,d,f)=>({x:(u-i)/a,y:1-(c+d-r)/s,width:f/a,height:d/s});break;case"180":o=(c,u,d,f)=>({x:1-(c+d-r)/s,y:1-(u+f-i)/a,width:d/s,height:f/a});break;case"270":o=(c,u,d,f)=>({x:1-(u+f-i)/a,y:(c-r)/s,width:f/a,height:d/s});break;default:o=(c,u,d,f)=>({x:(c-r)/s,y:(u-i)/a,width:d/s,height:f/a});break}const l=[];for(let c=0,u=n.rangeCount;c<u;c++){const d=n.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:v,height:m}of d.getClientRects())v===0||m===0||l.push(o(f,p,v,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(h(this,k0)||C(this,k0,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=h(this,k0))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=h(this,k0))==null?void 0:i.get(e.data.id);if(!n)return;const r=h(this,fo).getRawValue(n);r&&(h(this,Kr)===Nt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var s;const i=(s=h(this,ed))==null?void 0:s.get(e);i&&(i.setCanvas(n,r),h(this,ed).delete(e))}addMissingCanvas(e,n){(h(this,ed)||C(this,ed,new Map)).set(e,n)}};S0=new WeakMap,ga=new WeakMap,E0=new WeakMap,_r=new WeakMap,di=new WeakMap,P0=new WeakMap,fo=new WeakMap,k0=new WeakMap,po=new WeakMap,ds=new WeakMap,Gh=new WeakMap,Kh=new WeakMap,T0=new WeakMap,Xh=new WeakMap,Vl=new WeakMap,go=new WeakMap,op=new WeakMap,Yw=new WeakMap,Jw=new WeakMap,C0=new WeakMap,Zw=new WeakMap,Gl=new WeakMap,Yh=new WeakMap,O0=new WeakMap,Jh=new WeakMap,Kl=new WeakMap,DE=new WeakMap,Zh=new WeakMap,N0=new WeakMap,Qw=new WeakMap,Qh=new WeakMap,lp=new WeakMap,L0=new WeakMap,ed=new WeakMap,e2=new WeakMap,Kr=new WeakMap,bn=new WeakMap,ou=new WeakMap,td=new WeakMap,nd=new WeakMap,t2=new WeakMap,I0=new WeakMap,n2=new WeakMap,rd=new WeakMap,Xl=new WeakMap,lu=new WeakMap,r2=new WeakMap,i2=new WeakMap,mo=new WeakMap,Be=new WeakSet,tA=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},AN=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of h(this,di).values())if(r.hasTextLayer(e))return r;return null},HH=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=F(this,Be,tA).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(h(this,Kl)||C(this,Kl,new UAe(this)),h(this,Kl).show(r,i,this.direction==="ltr"))},WH=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){h(this,ou)&&((s=h(this,Kl))==null||s.hide(),C(this,ou,null),F(this,Be,Ss).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===h(this,ou))return;const i=F(this,Be,tA).call(this,e).closest(".textLayer");if(!i){h(this,ou)&&((a=h(this,Kl))==null||a.hide(),C(this,ou,null),F(this,Be,Ss).call(this,{hasSelectedText:!1}));return}if((o=h(this,Kl))==null||o.hide(),C(this,ou,n),F(this,Be,Ss).call(this,{hasSelectedText:!0}),!(h(this,Kr)!==Nt.HIGHLIGHT&&h(this,Kr)!==Nt.NONE)&&(h(this,Kr)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,Jh,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,Kr)===Nt.HIGHLIGHT?F(this,Be,AN).call(this,i):null;if(l==null||l.toggleDrawing(),h(this,N0)){const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&F(this,Be,G1).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else l==null||l.toggleDrawing(!0),F(this,Be,G1).call(this,"main_toolbar")}},G1=function(e=""){h(this,Kr)===Nt.HIGHLIGHT?this.highlightSelection(e):h(this,Yw)&&F(this,Be,HH).call(this)},VH=function(){document.addEventListener("selectionchange",F(this,Be,WH).bind(this),{signal:this._signal})},GH=function(){if(h(this,Yh))return;C(this,Yh,new AbortController);const e=this.combinedSignal(h(this,Yh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},KH=function(){var e;(e=h(this,Yh))==null||e.abort(),C(this,Yh,null)},SN=function(){if(h(this,Qh))return;C(this,Qh,new AbortController);const e=this.combinedSignal(h(this,Qh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},XH=function(){var e;(e=h(this,Qh))==null||e.abort(),C(this,Qh,null)},YH=function(){if(h(this,Gh))return;C(this,Gh,new AbortController);const e=this.combinedSignal(h(this,Gh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},JH=function(){var e;(e=h(this,Gh))==null||e.abort(),C(this,Gh,null)},ZH=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ss=function(e){Object.entries(e).some(([r,i])=>h(this,n2)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,n2),e)}),h(this,Kr)===Nt.HIGHLIGHT&&e.hasSelectedEditor===!1&&F(this,Be,Jc).call(this,[[Zt.HIGHLIGHT_FREE,!0]]))},Jc=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},QH=async function(){if(!h(this,Zh)){C(this,Zh,!0);const e=[];for(const n of h(this,di).values())e.push(n.enable());await Promise.all(e);for(const n of h(this,_r).values())n.enable()}},eW=function(){if(this.unselectAll(),h(this,Zh)){C(this,Zh,!1);for(const e of h(this,di).values())e.disable();for(const e of h(this,_r).values())e.disable()}},EN=function(e){const n=h(this,di).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},tW=function(){let e=null;for(e of h(this,bn));return e},K1=function(){if(h(this,_r).size===0)return!0;if(h(this,_r).size===1)for(const e of h(this,_r).values())return e.isEmpty();return!1},PN=function(e){for(const n of h(this,bn))n.unselect();h(this,bn).clear();for(const n of e)n.isEmpty()||(h(this,bn).add(n),n.select());F(this,Be,Ss).call(this,{hasSelectedEditor:this.hasSelection})},Se(Qm,"TRANSLATE_SMALL",1),Se(Qm,"TRANSLATE_BIG",10);let Rg=Qm;var xi,Yl,nl,R0,Jl,ma,M0,Zl,zs,cu,cp,Ql,id,wl,X1,nA;const Es=class Es{constructor(e){j(this,wl);j(this,xi,null);j(this,Yl,!1);j(this,nl,null);j(this,R0,null);j(this,Jl,null);j(this,ma,null);j(this,M0,!1);j(this,Zl,null);j(this,zs,null);j(this,cu,null);j(this,cp,null);j(this,Ql,!1);C(this,zs,e),C(this,Ql,e._uiManager.useNewAltTextFlow),h(Es,id)||C(Es,id,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Es._l10n??(Es._l10n=e)}async render(){const e=C(this,nl,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=C(this,R0,document.createElement("span"));e.append(n),h(this,Ql)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(Es,id).missing),n.setAttribute("data-l10n-id",h(Es,id)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=h(this,zs)._uiManager._signal;e.addEventListener("contextmenu",jo,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),h(this,zs)._uiManager.editAltText(h(this,zs)),h(this,Ql)&&h(this,zs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,wl,X1)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(C(this,M0,!0),i(s))},{signal:r}),await F(this,wl,nA).call(this),e}finish(){h(this,nl)&&(h(this,nl).focus({focusVisible:h(this,M0)}),C(this,M0,!1))}isEmpty(){return h(this,Ql)?h(this,xi)===null:!h(this,xi)&&!h(this,Yl)}hasData(){return h(this,Ql)?h(this,xi)!==null||!!h(this,cu):this.isEmpty()}get guessedText(){return h(this,cu)}async setGuessedText(e){h(this,xi)===null&&(C(this,cu,e),C(this,cp,await Es._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),F(this,wl,nA).call(this))}toggleAltTextBadge(e=!1){var n;if(!h(this,Ql)||h(this,xi)){(n=h(this,Zl))==null||n.remove(),C(this,Zl,null);return}if(!h(this,Zl)){const r=C(this,Zl,document.createElement("div"));r.className="noAltTextBadge",h(this,zs).div.append(r)}h(this,Zl).classList.toggle("hidden",!e)}serialize(e){let n=h(this,xi);return!e&&h(this,cu)===n&&(n=h(this,cp)),{altText:n,decorative:h(this,Yl),guessedText:h(this,cu),textWithDisclaimer:h(this,cp)}}get data(){return{altText:h(this,xi),decorative:h(this,Yl)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(C(this,cu,r),C(this,cp,i)),!(h(this,xi)===e&&h(this,Yl)===n)&&(s||(C(this,xi,e),C(this,Yl,n)),F(this,wl,nA).call(this))}toggle(e=!1){h(this,nl)&&(!e&&h(this,ma)&&(clearTimeout(h(this,ma)),C(this,ma,null)),h(this,nl).disabled=!e)}shown(){h(this,zs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,wl,X1)}})}destroy(){var e,n;(e=h(this,nl))==null||e.remove(),C(this,nl,null),C(this,R0,null),C(this,Jl,null),(n=h(this,Zl))==null||n.remove(),C(this,Zl,null)}};xi=new WeakMap,Yl=new WeakMap,nl=new WeakMap,R0=new WeakMap,Jl=new WeakMap,ma=new WeakMap,M0=new WeakMap,Zl=new WeakMap,zs=new WeakMap,cu=new WeakMap,cp=new WeakMap,Ql=new WeakMap,id=new WeakMap,wl=new WeakSet,X1=function(){return h(this,xi)&&"added"||h(this,xi)===null&&this.guessedText&&"review"||"missing"},nA=async function(){var i,s,a;const e=h(this,nl);if(!e)return;if(h(this,Ql)){if(e.classList.toggle("done",!!h(this,xi)),e.setAttribute("data-l10n-id",h(Es,id)[h(this,wl,X1)]),(i=h(this,R0))==null||i.setAttribute("data-l10n-id",h(Es,id)[`${h(this,wl,X1)}-label`]),!h(this,xi)){(s=h(this,Jl))==null||s.remove();return}}else{if(!h(this,xi)&&!h(this,Yl)){e.classList.remove("done"),(a=h(this,Jl))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=h(this,Jl);if(!n){C(this,Jl,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${h(this,zs).id}`;const o=100,l=h(this,zs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,ma)),C(this,ma,null)},{once:!0}),e.addEventListener("mouseenter",()=>{C(this,ma,setTimeout(()=>{C(this,ma,null),h(this,Jl).classList.add("show"),h(this,zs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;h(this,ma)&&(clearTimeout(h(this,ma)),C(this,ma,null)),(c=h(this,Jl))==null||c.classList.remove("show")},{signal:l})}h(this,Yl)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=h(this,xi)),n.parentNode||e.append(n);const r=h(this,zs).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},j(Es,id,null),Se(Es,"_l10n",null);let gE=Es;var zi,vo,up,Hn,s2,hp,rl,dp,fp,pp,a2,kN;class w5{constructor(e){j(this,a2);j(this,zi,null);j(this,vo,null);j(this,up,!1);j(this,Hn,null);j(this,s2,null);j(this,hp,null);j(this,rl,null);j(this,dp,null);j(this,fp,!1);j(this,pp,null);C(this,Hn,e)}renderForToolbar(){const e=C(this,vo,document.createElement("button"));return e.className="comment",F(this,a2,kN).call(this,e,!1)}renderForStandalone(){const e=C(this,zi,document.createElement("button"));e.className="annotationCommentButton";const n=h(this,Hn).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(h(this,Hn)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=h(this,Hn).commentButtonColor;i&&(r.backgroundColor=i)}return F(this,a2,kN).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=h(this,zi)??h(this,vo))==null||e.focus()},0)}onUpdatedColor(){if(!h(this,zi))return;const e=h(this,Hn).commentButtonColor;e&&(h(this,zi).style.backgroundColor=e),h(this,Hn)._uiManager.updatePopupColor(h(this,Hn))}get commentButtonWidth(){var e;return(((e=h(this,zi))==null?void 0:e.getBoundingClientRect().width)??0)/h(this,Hn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(h(this,pp))return h(this,pp);if(!h(this,zi))return null;const{x:e,y:n,height:r}=h(this,zi).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=h(this,Hn).parent.boundingClientRect;return[(e-i)/a,(n+r-s)/o]}set commentPopupPositionInLayer(e){C(this,pp,e)}hasDefaultPopupPosition(){return h(this,pp)===null}removeStandaloneCommentButton(){var e;(e=h(this,zi))==null||e.remove(),C(this,zi,null)}removeToolbarCommentButton(){var e;(e=h(this,vo))==null||e.remove(),C(this,vo,null)}setCommentButtonStates({selected:e,hasPopup:n}){h(this,zi)&&(h(this,zi).classList.toggle("selected",e),h(this,zi).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=h(this,Hn).commentButtonPosition;const{width:u,height:d,x:f,y:p}=h(this,Hn);r=f+r*u,i=p+i*d}const s=h(this,Hn).parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;h(this,Hn)._uiManager.editComment(h(this,Hn),a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){h(this,vo)&&(h(this,vo).focus({focusVisible:h(this,up)}),C(this,up,!1))}isDeleted(){return h(this,fp)||h(this,rl)===""}isEmpty(){return h(this,rl)===null}hasBeenEdited(){return this.isDeleted()||h(this,rl)!==h(this,s2)}serialize(){return this.data}get data(){return{text:h(this,rl),richText:h(this,hp),date:h(this,dp),deleted:this.isDeleted()}}set data(e){if(e!==h(this,rl)&&C(this,hp,null),e===null){C(this,rl,""),C(this,fp,!0);return}C(this,rl,e),C(this,dp,new Date),C(this,fp,!1)}setInitialText(e,n=null){C(this,s2,e),this.data=e,C(this,dp,null),C(this,hp,n)}shown(){}destroy(){var e,n;(e=h(this,vo))==null||e.remove(),C(this,vo,null),(n=h(this,zi))==null||n.remove(),C(this,zi,null),C(this,rl,""),C(this,hp,null),C(this,dp,null),C(this,Hn,null),C(this,up,!1),C(this,fp,!1)}}zi=new WeakMap,vo=new WeakMap,up=new WeakMap,Hn=new WeakMap,s2=new WeakMap,hp=new WeakMap,rl=new WeakMap,dp=new WeakMap,fp=new WeakMap,pp=new WeakMap,a2=new WeakSet,kN=function(e,n){if(!h(this,Hn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[h(this,Hn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=h(this,Hn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",jo,{signal:r}),n&&(e.addEventListener("focusin",s=>{h(this,Hn)._focusEventsAllowed=!1,Nr(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{h(this,Hn)._focusEventsAllowed=!0,Nr(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===h(this,vo)?this.edit():h(this,Hn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(C(this,up,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{h(this,Hn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{h(this,Hn).toggleComment(!1,!1)},{signal:r}),e};var j0,gp,o2,l2,c2,u2,h2,uu,mp,hu,vp,du,ef,nW,rW,iW;const bR=class bR{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){j(this,ef);j(this,j0);j(this,gp,!1);j(this,o2,null);j(this,l2);j(this,c2);j(this,u2);j(this,h2);j(this,uu,null);j(this,mp);j(this,hu,null);j(this,vp);j(this,du,null);C(this,j0,e),C(this,o2,r),C(this,l2,n),C(this,c2,i),C(this,u2,s),C(this,h2,a),C(this,vp,new AbortController),C(this,mp,AbortSignal.any([o,h(this,vp).signal])),e.addEventListener("touchstart",F(this,ef,nW).bind(this),{passive:!1,signal:h(this,mp)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ec.pixelRatio}destroy(){var e,n;(e=h(this,vp))==null||e.abort(),C(this,vp,null),(n=h(this,uu))==null||n.abort(),C(this,uu,null)}};j0=new WeakMap,gp=new WeakMap,o2=new WeakMap,l2=new WeakMap,c2=new WeakMap,u2=new WeakMap,h2=new WeakMap,uu=new WeakMap,mp=new WeakMap,hu=new WeakMap,vp=new WeakMap,du=new WeakMap,ef=new WeakSet,nW=function(e){var i,s,a;if((i=h(this,l2))!=null&&i.call(this))return;if(e.touches.length===1){if(h(this,uu))return;const o=C(this,uu,new AbortController),l=AbortSignal.any([h(this,mp),o.signal]),c=h(this,j0),u={capture:!0,signal:l,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=h(this,uu))==null||p.abort(),C(this,uu,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Nr(f),d(f))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!h(this,du)){C(this,du,new AbortController);const o=AbortSignal.any([h(this,mp),h(this,du).signal]),l=h(this,j0),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",F(this,ef,rW).bind(this),c);const u=F(this,ef,iW).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Nr,c),l.addEventListener("pointermove",Nr,c),l.addEventListener("pointercancel",Nr,c),l.addEventListener("pointerup",Nr,c),(s=h(this,c2))==null||s.call(this)}if(Nr(e),e.touches.length!==2||(a=h(this,o2))!=null&&a.call(this)){C(this,hu,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),C(this,hu,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},rW=function(e){var S;if(!h(this,hu)||e.touches.length!==2)return;Nr(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=h(this,hu),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:f}=l,p=d-c,v=f-u,m=a-i,b=o-s,g=Math.hypot(m,b)||1,w=Math.hypot(p,v)||1;if(!h(this,gp)&&Math.abs(w-g)<=bR.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!h(this,gp)){C(this,gp,!0);return}const x=[(i+a)/2,(s+o)/2];(S=h(this,u2))==null||S.call(this,x,w,g)},iW=function(e){var n;e.touches.length>=2||(h(this,du)&&(h(this,du).abort(),C(this,du,null),(n=h(this,h2))==null||n.call(this)),h(this,hu)&&(Nr(e),C(this,hu,null),C(this,gp,!1)))};let mE=bR;var yp,il,ar,In,fu,D0,sd,d2,qi,bp,pu,yo,ad,f2,wp,va,p2,xp,gu,ec,F0,$0,bo,_p,g2,FE,dt,TN,m2,CN,rA,sW,aW,ON,iA,NN,oW,lW,cW,LN,uW,IN,hW,dW,fW,RN,Y1;const Ot=class Ot{constructor(e){j(this,dt);j(this,yp,null);j(this,il,null);j(this,ar,null);j(this,In,null);j(this,fu,null);j(this,D0,!1);j(this,sd,null);j(this,d2,"");j(this,qi,null);j(this,bp,null);j(this,pu,null);j(this,yo,null);j(this,ad,null);j(this,f2,"");j(this,wp,!1);j(this,va,null);j(this,p2,!1);j(this,xp,!1);j(this,gu,!1);j(this,ec,null);j(this,F0,0);j(this,$0,0);j(this,bo,null);j(this,_p,null);Se(this,"isSelected",!1);Se(this,"_isCopy",!1);Se(this,"_editToolbar",null);Se(this,"_initialOptions",Object.create(null));Se(this,"_initialData",null);Se(this,"_isVisible",!0);Se(this,"_uiManager",null);Se(this,"_focusEventsAllowed",!0);j(this,g2,!1);j(this,FE,Ot._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ot.prototype._resizeWithKeyboard,n=Rg.TRANSLATE_SMALL,r=Rg.TRANSLATE_BIG;return Et(this,"_resizerKeyboardManager",new Zx([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Ot.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Et(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new HAe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Ot._l10n??(Ot._l10n=e),Ot._l10nResizer||(Ot._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ot._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Ot._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Fn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,g2)}set _isDraggable(e){var n;C(this,g2,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,FE)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(F(this,dt,Y1).call(this),(n=h(this,yo))==null||n.remove(),C(this,yo,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,wp)?C(this,wp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){F(this,dt,TN).call(this,this.parentDimensions,e,n)}translateInPage(e,n){h(this,va)||C(this,va,[this.x,this.y,this.width,this.height]),F(this,dt,TN).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){h(this,va)||C(this,va,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=r;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!h(this,va)&&(h(this,va)[0]!==this.x||h(this,va)[1]!==this.y)}get _hasBeenResized(){return!!h(this,va)&&(h(this,va)[2]!==this.width||h(this,va)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Ot,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=Os(s,0,r-o),a=Os(a,0,i-l);break;case 90:s=Os(s,0,r-l),a=Os(a,o,i);break;case 180:s=Os(s,o,r),a=Os(a,l,i);break;case 270:s=Os(s,l,r),a=Os(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,u]=this.getBaseTranslation();s+=c,a+=u,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return F(r=Ot,m2,CN).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return F(r=Ot,m2,CN).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=h(this,ar))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||h(this,xp))return this._editToolbar;this._editToolbar=new bN(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=h(this,ar))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return h(this,ar)||(gE.initialize(Ot._l10n),C(this,ar,new gE(this)),h(this,yp)&&(h(this,ar).data=h(this,yp),C(this,yp,null))),h(this,ar)}get altTextData(){var e;return(e=h(this,ar))==null?void 0:e.data}set altTextData(e){h(this,ar)&&(h(this,ar).data=e)}get guessedAltText(){var e;return(e=h(this,ar))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=h(this,ar))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=h(this,ar))==null?void 0:n.serialize(e)}hasAltText(){return!!h(this,ar)&&!h(this,ar).isEmpty()}hasAltTextData(){var e;return((e=h(this,ar))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=h(this,In))==null||e.focusButton()}addCommentButton(){return this.canAddComment?h(this,In)||C(this,In,new w5(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(h(this,fu)){this._uiManager.isEditingMode()&&h(this,fu).classList.remove("hidden");return}this.hasComment&&(C(this,fu,h(this,In).renderForStandalone()),this.div.append(h(this,fu)))}}removeStandaloneCommentButton(){h(this,In).removeStandaloneCommentButton(),C(this,fu,null)}hideStandaloneCommentButton(){var e;(e=h(this,fu))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=h(this,In);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){h(this,In)||C(this,In,new w5(this)),h(this,In).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(h(this,In)||C(this,In,new w5(this)),h(this,In).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=h(this,In))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=h(this,In))==null?void 0:e.isDeleted()}get hasComment(){return!!h(this,In)&&!h(this,In).isEmpty()&&!h(this,In).isDeleted()}async editComment(e){h(this,In)||C(this,In,new w5(this)),h(this,In).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){h(this,In).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){h(this,In).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=h(this,D0)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),F(this,dt,IN).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),zH(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,_p)||C(this,_p,new mE({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:F(this,dt,oW).bind(this),onPinching:F(this,dt,lW).bind(this),onPinchEnd:F(this,dt,cW).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:n}=yi.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(C(this,wp,!0),this._isDraggable){F(this,dt,uW).call(this,e);return}F(this,dt,LN).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,ec)&&clearTimeout(h(this,ec)),C(this,ec,setTimeout(()=>{var e;C(this,ec,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=n/i,d=this.x*s,f=this.y*a,p=this.width*s,v=this.height*a;switch(r){case 0:return[d+c+o,a-f-u-v+l,d+c+p+o,a-f-u+l];case 90:return[d+u+o,a-f+c+l,d+u+v+o,a-f+c+p+l];case 180:return[d-c-p+o,a-f+u+l,d-c+o,a-f+u+v+l];case 270:return[d-u-v+o,a-f-c-p+l,d-u+o,a-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,o,l];case 90:return[r,n-i,l,o];case 180:return[s,n-i,o,l];case 270:return[s,n-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Ot._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=h(this,In))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||u,popupRef:!s,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),C(this,xp,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),C(this,xp,!1),!0):!1}isInEditMode(){return h(this,xp)}shouldGetKeyboardEvents(){return h(this,gu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}rebuild(){F(this,dt,IN).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,C(i,yp,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n,r;if((e=h(this,ad))==null||e.abort(),C(this,ad,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),h(this,ec)&&(clearTimeout(h(this,ec)),C(this,ec,null)),F(this,dt,Y1).call(this),this.removeEditToolbar(),h(this,bo)){for(const i of h(this,bo).values())clearTimeout(i);C(this,bo,null)}this.parent=null,(n=h(this,_p))==null||n.destroy(),C(this,_p,null),(r=h(this,yo))==null||r.remove(),C(this,yo,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,dt,sW).call(this),h(this,qi).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,s,a]=this.getPDFRect();return[Ot._round(r+(s-r)*e),Ot._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return h(this,In).commentPopupPositionInLayer}set commentPopupPosition(e){h(this,In).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return h(this,In).hasDefaultPopupPosition()}get commentButtonWidth(){return h(this,In).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var n;(n=h(this,In))==null||n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),C(this,pu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=h(this,qi).children;if(!h(this,il)){C(this,il,Array.from(n));const a=F(this,dt,hW).bind(this),o=F(this,dt,dW).bind(this),l=this._uiManager._signal;for(const c of h(this,il)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",F(this,dt,fW).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Ot._l10nResizer[u])}}const r=h(this,il)[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,il).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)h(this,qi).append(h(this,qi).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)h(this,qi).firstElementChild.before(h(this,qi).lastElementChild);let a=0;for(const o of n){const c=h(this,il)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Ot._l10nResizer[c])}}F(this,dt,RN).call(this,0),C(this,gu,!0),h(this,qi).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){h(this,gu)&&F(this,dt,NN).call(this,h(this,f2),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){F(this,dt,Y1).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(n=this._editToolbar)==null||n.show(),(r=h(this,ar))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,s;this.isSelected&&(this.isSelected=!1,(e=h(this,qi))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=h(this,ar))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return h(this,p2)}set isEditing(e){C(this,p2,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){h(this,bo)||C(this,bo,new Map);const{action:r}=e;let i=h(this,bo).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),h(this,bo).delete(r),h(this,bo).size===0&&C(this,bo,null)},Ot._telemetryTimeout),h(this,bo).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),C(this,D0,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,D0,!0)}updateFakeAnnotationElement(e){if(!h(this,yo)&&!this.deleted){C(this,yo,e.addFakeAnnotation(this));return}if(this.deleted){h(this,yo).remove(),C(this,yo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&h(this,yo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstElementChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};yp=new WeakMap,il=new WeakMap,ar=new WeakMap,In=new WeakMap,fu=new WeakMap,D0=new WeakMap,sd=new WeakMap,d2=new WeakMap,qi=new WeakMap,bp=new WeakMap,pu=new WeakMap,yo=new WeakMap,ad=new WeakMap,f2=new WeakMap,wp=new WeakMap,va=new WeakMap,p2=new WeakMap,xp=new WeakMap,gu=new WeakMap,ec=new WeakMap,F0=new WeakMap,$0=new WeakMap,bo=new WeakMap,_p=new WeakMap,g2=new WeakMap,FE=new WeakMap,dt=new WeakSet,TN=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},m2=new WeakSet,CN=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},rA=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},sW=function(){if(h(this,qi))return;C(this,qi,document.createElement("div")),h(this,qi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");h(this,qi).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",F(this,dt,aW).bind(this,r),{signal:n}),i.addEventListener("contextmenu",jo,{signal:n}),i.tabIndex=-1}this.div.prepend(h(this,qi))},aW=function(e,n){var u;n.preventDefault();const{isMac:r}=yi.platform;if(n.button!==0||n.ctrlKey&&r)return;(u=h(this,ar))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,C(this,bp,[n.screenX,n.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,dt,NN).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Nr,{passive:!1,signal:a}),window.addEventListener("contextmenu",jo,{signal:a}),C(this,pu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=h(this,ar))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,F(this,dt,iA).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},ON=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},iA=function(){if(!h(this,pu))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=h(this,pu);C(this,pu,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===n&&o===r&&l===i||this.addCommands({cmd:F(this,dt,ON).bind(this,s,a,o,l),undo:F(this,dt,ON).bind(this,e,n,r,i),mustExec:!0})},NN=function(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=Ot.MIN_SIZE/r,u=Ot.MIN_SIZE/i,d=F(this,dt,rA).call(this,this.rotation),f=(Y,Q)=>[d[0]*Y+d[2]*Q,d[1]*Y+d[3]*Q],p=F(this,dt,rA).call(this,360-this.rotation),v=(Y,Q)=>[p[0]*Y+p[2]*Q,p[1]*Y+p[3]*Q];let m,b,g=!1,w=!1;switch(e){case"topLeft":g=!0,m=(Y,Q)=>[0,0],b=(Y,Q)=>[Y,Q];break;case"topMiddle":m=(Y,Q)=>[Y/2,0],b=(Y,Q)=>[Y/2,Q];break;case"topRight":g=!0,m=(Y,Q)=>[Y,0],b=(Y,Q)=>[0,Q];break;case"middleRight":w=!0,m=(Y,Q)=>[Y,Q/2],b=(Y,Q)=>[0,Q/2];break;case"bottomRight":g=!0,m=(Y,Q)=>[Y,Q],b=(Y,Q)=>[0,0];break;case"bottomMiddle":m=(Y,Q)=>[Y/2,Q],b=(Y,Q)=>[Y/2,0];break;case"bottomLeft":g=!0,m=(Y,Q)=>[0,Q],b=(Y,Q)=>[Y,0];break;case"middleLeft":w=!0,m=(Y,Q)=>[0,Q/2],b=(Y,Q)=>[Y,Q/2];break}const x=m(o,l),S=b(o,l);let A=f(...S);const E=Ot._round(s+A[0]),T=Ot._round(a+A[1]);let L=1,I=1,q,O;if(n.fromKeyboard)({deltaX:q,deltaY:O}=n);else{const{screenX:Y,screenY:Q}=n,[W,re]=h(this,bp);[q,O]=this.screenToPageTranslation(Y-W,Q-re),h(this,bp)[0]=Y,h(this,bp)[1]=Q}if([q,O]=v(q/r,O/i),g){const Y=Math.hypot(o,l);L=I=Math.max(Math.min(Math.hypot(S[0]-x[0]-q,S[1]-x[1]-O)/Y,1/o,1/l),c/o,u/l)}else w?L=Os(Math.abs(S[0]-x[0]-q),c,1)/o:I=Os(Math.abs(S[1]-x[1]-O),u,1)/l;const M=Ot._round(o*L),z=Ot._round(l*I);A=f(...b(M,z));const $=E-A[0],G=T-A[1];h(this,va)||C(this,va,[this.x,this.y,this.width,this.height]),this.width=M,this.height=z,this.x=$,this.y=G,this.setDims(),this.fixAndSetPosition(),this._onResizing()},oW=function(){var e;C(this,pu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=h(this,ar))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},lW=function(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=F(this,dt,rA).call(this,this.rotation),o=(E,T)=>[a[0]*E+a[2]*T,a[1]*E+a[3]*T],[l,c]=this.parentDimensions,u=this.x,d=this.y,f=this.width,p=this.height,v=Ot.MIN_SIZE/l,m=Ot.MIN_SIZE/c;s=Math.max(Math.min(s,1/f,1/p),v/f,m/p);const b=Ot._round(f*s),g=Ot._round(p*s);if(b===f&&g===p)return;h(this,va)||C(this,va,[u,d,f,p]);const w=o(f/2,p/2),x=Ot._round(u+w[0]),S=Ot._round(d+w[1]),A=o(b/2,g/2);this.x=x-A[0],this.y=S-A[1],this.width=b,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()},cW=function(){var e;(e=h(this,ar))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),F(this,dt,iA).call(this)},LN=function(e){const{isMac:n}=yi.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},uW=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),C(this,sd,null),C(this,wp,!1),this._uiManager.endDragSession()||F(this,dt,LN).call(this,c),r&&this._onStopDragging()};n&&(C(this,F0,e.clientX),C(this,$0,e.clientY),C(this,sd,e.pointerId),C(this,d2,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:d,pointerId:f}=c;if(f!==h(this,sd)){Nr(c);return}const[p,v]=this.screenToPageTranslation(u-h(this,F0),d-h(this,$0));C(this,F0,u),C(this,$0,d),this._uiManager.dragSelectedEditors(p,v)},a),window.addEventListener("touchmove",Nr,a),window.addEventListener("pointerdown",c=>{c.pointerType===h(this,d2)&&(h(this,_p)||c.isPrimary)&&o(c),Nr(c)},a));const l=c=>{if(!h(this,sd)||h(this,sd)===c.pointerId){o(c);return}Nr(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},IN=function(){if(h(this,ad)||!this.div)return;C(this,ad,new AbortController);const e=this._uiManager.combinedSignal(h(this,ad));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},hW=function(e){Ot._resizerKeyboardManager.exec(this,e)},dW=function(e){var n;h(this,gu)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==h(this,qi)&&F(this,dt,Y1).call(this)},fW=function(e){C(this,f2,h(this,gu)?e:"")},RN=function(e){if(h(this,il))for(const n of h(this,il))n.tabIndex=e},Y1=function(){C(this,gu,!1),F(this,dt,RN).call(this,-1),F(this,dt,iA).call(this)},j(Ot,m2),Se(Ot,"_l10n",null),Se(Ot,"_l10nResizer",null),Se(Ot,"_borderLineWidth",-1),Se(Ot,"_colorManager",new _N),Se(Ot,"_zIndex",1),Se(Ot,"_telemetryTimeout",1e3);let Gn=Ot;class HAe extends Gn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const IF=3285377520,lo=4294901760,Ul=65535;class pW{constructor(e){this.h1=e?e&4294967295:IF,this.h2=e?e&4294967295:IF}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let m=0,b=e.length;m<b;m++){const g=e.charCodeAt(m);g<=255?n[r++]=g:(n[r++]=g>>>8,n[r++]=g&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,f=461845907,p=d&Ul,v=f&Ul;for(let m=0;m<i;m++)m&1?(o=a[m],o=o*d&lo|o*p&Ul,o=o<<15|o>>>17,o=o*f&lo|o*v&Ul,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[m],l=l*d&lo|l*p&Ul,l=l<<15|l>>>17,l=l*f&lo|l*v&Ul,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*d&lo|o*p&Ul,o=o<<15|o>>>17,o=o*f&lo|o*v&Ul,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&lo|e*36045&Ul,n=n*4283543511&lo|((n<<16|e>>>16)*2950163797&lo)>>>16,e^=n>>>1,e=e*444984403&lo|e*60499&Ul,n=n*3301882366&lo|((n<<16|e>>>16)*3120437893&lo)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const MN=Object.freeze({map:null,hash:"",transfer:void 0});var Ap,Sp,mu,Hi,$E,gW;class sR{constructor(){j(this,$E);j(this,Ap,!1);j(this,Sp,null);j(this,mu,null);j(this,Hi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=h(this,Hi).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return h(this,Hi).get(e)}remove(e){const n=h(this,Hi).get(e);if(n!==void 0&&(n instanceof Gn&&h(this,mu).delete(n.annotationElementId),h(this,Hi).delete(e),h(this,Hi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of h(this,Hi).values())if(r instanceof Gn)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=h(this,Hi).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,h(this,Hi).set(e,n);i&&F(this,$E,gW).call(this),n instanceof Gn&&((h(this,mu)||C(this,mu,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return h(this,Hi).has(e)}get size(){return h(this,Hi).size}resetModified(){h(this,Ap)&&(C(this,Ap,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new mW(this)}get serializable(){if(h(this,Hi).size===0)return MN;const e=new Map,n=new pW,r=[],i=Object.create(null);let s=!1;for(const[a,o]of h(this,Hi)){const l=o instanceof Gn?o.serialize(!1,i):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:MN}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const s of h(this,Hi).values()){if(!(s instanceof Gn)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;n.has(o)||n.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,u]of Object.entries(a)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const f=d.get(u)??0;d.set(u,f+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of n)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){C(this,Sp,null)}updateEditor(e,n){var i;const r=(i=h(this,mu))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=h(this,mu))==null?void 0:n.get(e))||null}get modifiedIds(){if(h(this,Sp))return h(this,Sp);const e=[];if(h(this,mu))for(const n of h(this,mu).values())n.serialize()&&e.push(n.annotationElementId);return C(this,Sp,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return h(this,Hi).entries()}}Ap=new WeakMap,Sp=new WeakMap,mu=new WeakMap,Hi=new WeakMap,$E=new WeakSet,gW=function(){h(this,Ap)||(C(this,Ap,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var v2;class mW extends sR{constructor(n){super();j(this,v2);const{map:r,hash:i,transfer:s}=n.serializable,a=structuredClone(r,s?{transfer:s}:null);C(this,v2,{map:a,hash:i,transfer:s})}get print(){Fn("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,v2)}get modifiedIds(){return Et(this,"modifiedIds",{ids:new Set,hash:""})}}v2=new WeakMap;var B0;class WAe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){j(this,B0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,B0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||h(this,B0).has(e.loadedName))){if(Qt(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),h(this,B0).add(i),r==null||r(e)}catch{St(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Fn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw St(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Et(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Et(this,"isSyncFontLoadingSupported",Cs||yi.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(Qt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Et(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(S,A){return S.charCodeAt(A)<<24|S.charCodeAt(A+1)<<16|S.charCodeAt(A+2)<<8|S.charCodeAt(A+3)&255}function i(S,A,E,T){const L=S.substring(0,A),I=S.substring(A+E);return L+T+I}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(S,A){if(++c>30){St("Load test font never loaded."),A();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(u.bind(null,S,A))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const v=16,m=1482184792;let b=r(f,v);for(s=0,a=d.length-3;s<a;s+=4)b=b-m+r(d,s)|0;s<d.length&&(b=b-m+r(d+"XXX",s)|0),f=i(f,v,4,EAe(b));const g=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${d}";src:${g}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const S of[e.loadedName,d]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=S,x.append(A)}this._document.body.append(x),u(d,()=>{x.remove(),n.complete()})}}B0=new WeakMap;var En;class VAe{constructor(e,n=null,r,i){j(this,En);this.compiledGlyphs=Object.create(null),C(this,En,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${IH(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){St(`getPathGenerator - ignoring character: "${a}".`)}const s=jH(i==null?void 0:i.path);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}get black(){return h(this,En).black}get bold(){return h(this,En).bold}get disableFontFace(){return h(this,En).disableFontFace??!1}set disableFontFace(e){Et(this,"disableFontFace",!!e)}get fontExtraProperties(){return h(this,En).fontExtraProperties??!1}get isInvalidPDFjsFont(){return h(this,En).isInvalidPDFjsFont}get isType3Font(){return h(this,En).isType3Font}get italic(){return h(this,En).italic}get missingFile(){return h(this,En).missingFile}get remeasure(){return h(this,En).remeasure}get vertical(){return h(this,En).vertical}get ascent(){return h(this,En).ascent}get defaultWidth(){return h(this,En).defaultWidth}get descent(){return h(this,En).descent}get bbox(){return h(this,En).bbox}set bbox(e){Et(this,"bbox",e)}get fontMatrix(){return h(this,En).fontMatrix}get fallbackName(){return h(this,En).fallbackName}get loadedName(){return h(this,En).loadedName}get mimetype(){return h(this,En).mimetype}get name(){return h(this,En).name}get data(){return h(this,En).data}clearData(){h(this,En).clearData()}get cssFontInfo(){return h(this,En).cssFontInfo}get systemFontInfo(){return h(this,En).systemFontInfo}get defaultVMetrics(){return h(this,En).defaultVMetrics}}En=new WeakMap;var U0,z0,y2,q0,sA;const e0=class e0{constructor(e){j(this,q0);j(this,U0);j(this,z0);j(this,y2);C(this,U0,e),C(this,z0,new DataView(h(this,U0))),C(this,y2,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of e0.strings){const u=n.encode(e[c]);r[c]=u,i+=4+u.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of e0.strings){const u=r[c],d=u.length;o.setUint32(l,d),a.set(u,l+4),l+=4+d}return Qt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return F(this,q0,sA).call(this,0)}get fontWeight(){return F(this,q0,sA).call(this,1)}get italicAngle(){return F(this,q0,sA).call(this,2)}};U0=new WeakMap,z0=new WeakMap,y2=new WeakMap,q0=new WeakSet,sA=function(e){Qt(e<e0.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=h(this,z0).getUint32(n)+4;const r=h(this,z0).getUint32(n);return h(this,y2).decode(new Uint8Array(h(this,U0),n+4,r))},Se(e0,"strings",["fontFamily","fontWeight","italicAngle"]);let vE=e0;var od,tc,Ep,Pp,J1;const t0=class t0{constructor(e){j(this,Pp);j(this,od);j(this,tc);j(this,Ep);C(this,od,e),C(this,tc,new DataView(h(this,od))),C(this,Ep,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const f of t0.strings){const p=n.encode(e[f]);r[f]=p,i+=4+p.length}i+=4;let s,a,o=1+i;e.style&&(s=n.encode(e.style.style),a=n.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;u.setUint8(d++,e.guessFallback?1:0),u.setUint32(d,0),d+=4,i=0;for(const f of t0.strings){const p=r[f],v=p.length;i+=4+v,u.setUint32(d,v),c.set(p,d+4),d+=4+v}return u.setUint32(d-i-4,i),e.style&&(u.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length,u.setUint32(d,a.length),c.set(a,d+4),d+=4+a.length),Qt(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}get guessFallback(){return h(this,tc).getUint8(0)!==0}get css(){return F(this,Pp,J1).call(this,0)}get loadedName(){return F(this,Pp,J1).call(this,1)}get baseFontName(){return F(this,Pp,J1).call(this,2)}get src(){return F(this,Pp,J1).call(this,3)}get style(){let e=1;e+=4+h(this,tc).getUint32(e);const n=h(this,tc).getUint32(e),r=h(this,Ep).decode(new Uint8Array(h(this,od),e+4,n));e+=4+n;const i=h(this,tc).getUint32(e),s=h(this,Ep).decode(new Uint8Array(h(this,od),e+4,i));return{style:r,weight:s}}};od=new WeakMap,tc=new WeakMap,Ep=new WeakMap,Pp=new WeakSet,J1=function(e){Qt(e<t0.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=h(this,tc).getUint32(n)+4;const r=h(this,tc).getUint32(n);return h(this,Ep).decode(new Uint8Array(h(this,od),n+4,r))},Se(t0,"strings",["css","loadedName","baseFontName","src"]);let yE=t0;var H0,W0,V0,G0,ya,nc,b2,Pn,Tr,Zo,aA,Z1;const Rt=class Rt{constructor({data:e,extra:n}){j(this,Tr);j(this,nc);j(this,b2);j(this,Pn);C(this,nc,e),C(this,b2,new TextDecoder),C(this,Pn,new DataView(h(this,nc))),n&&Object.assign(this,n)}get black(){return F(this,Tr,Zo).call(this,0)}get bold(){return F(this,Tr,Zo).call(this,1)}get disableFontFace(){return F(this,Tr,Zo).call(this,2)}get fontExtraProperties(){return F(this,Tr,Zo).call(this,3)}get isInvalidPDFjsFont(){return F(this,Tr,Zo).call(this,4)}get isType3Font(){return F(this,Tr,Zo).call(this,5)}get italic(){return F(this,Tr,Zo).call(this,6)}get missingFile(){return F(this,Tr,Zo).call(this,7)}get remeasure(){return F(this,Tr,Zo).call(this,8)}get vertical(){return F(this,Tr,Zo).call(this,9)}get ascent(){return F(this,Tr,aA).call(this,0)}get defaultWidth(){return F(this,Tr,aA).call(this,1)}get descent(){return F(this,Tr,aA).call(this,2)}get bbox(){let e=h(Rt,W0);if(h(this,Pn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(h(this,Pn).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=h(Rt,V0);if(h(this,Pn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(h(this,Pn).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=h(Rt,G0);if(h(this,Pn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(h(this,Pn).getInt16(e,!0)),e+=2;return r}get fallbackName(){return F(this,Tr,Z1).call(this,0)}get loadedName(){return F(this,Tr,Z1).call(this,1)}get mimetype(){return F(this,Tr,Z1).call(this,2)}get name(){return F(this,Tr,Z1).call(this,3)}get data(){let e=h(Rt,ya);const n=h(this,Pn).getUint32(e);e+=4+n;const r=h(this,Pn).getUint32(e);e+=4+r;const i=h(this,Pn).getUint32(e);e+=4+i;const s=h(this,Pn).getUint32(e);if(s!==0)return new Uint8Array(h(this,nc),e+4,s)}clearData(){let e=h(Rt,ya);const n=h(this,Pn).getUint32(e);e+=4+n;const r=h(this,Pn).getUint32(e);e+=4+r;const i=h(this,Pn).getUint32(e);e+=4+i;const s=h(this,Pn).getUint32(e);new Uint8Array(h(this,nc),e+4,s).fill(0),h(this,Pn).setUint32(e,0)}get cssFontInfo(){let e=h(Rt,ya);const n=h(this,Pn).getUint32(e);e+=4+n;const r=h(this,Pn).getUint32(e);e+=4+r;const i=h(this,Pn).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(h(this,nc),e+4,i)),new vE(s.buffer)}get systemFontInfo(){let e=h(Rt,ya);const n=h(this,Pn).getUint32(e);e+=4+n;const r=h(this,Pn).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(h(this,nc),e+4,r)),new yE(i.buffer)}static write(e){const n=e.systemFontInfo?yE.write(e.systemFontInfo):null,r=e.cssFontInfo?vE.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const m of Rt.strings)s[m]=i.encode(e[m]),a+=4+s[m].length;const o=h(Rt,ya)+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;const f=Rt.bools.length;let p=0,v=0;for(let m=0;m<f;m++){const b=e[Rt.bools[m]];p|=(b===void 0?0:b?2:1)<<v,v+=2,(v===8||m===f-1)&&(u.setUint8(d++,p),p=0,v=0)}Qt(d===h(Rt,H0),"FontInfo.write: Boolean properties offset mismatch");for(const m of Rt.numbers)u.setFloat64(d,e[m]),d+=8;if(Qt(d===h(Rt,W0),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(d++,4);for(const m of e.bbox)u.setInt16(d,m,!0),d+=2}else u.setUint8(d++,0),d+=2*4;if(Qt(d===h(Rt,V0),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(d++,6);for(const m of e.fontMatrix)u.setFloat64(d,m,!0),d+=8}else u.setUint8(d++,0),d+=8*6;if(Qt(d===h(Rt,G0),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(d++,1);for(const m of e.defaultVMetrics)u.setInt16(d,m,!0),d+=2}else u.setUint8(d++,0),d+=3*2;Qt(d===h(Rt,ya),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(h(Rt,ya),0),d+=4;for(const m of Rt.strings){const b=s[m],g=b.length;u.setUint32(d,g),c.set(b,d+4),d+=4+g}if(u.setUint32(h(Rt,ya),d-h(Rt,ya)-4),!n)u.setUint32(d,0),d+=4;else{const m=n.byteLength;u.setUint32(d,m),Qt(d+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),d+4),d+=4+m}if(!r)u.setUint32(d,0),d+=4;else{const m=r.byteLength;u.setUint32(d,m),Qt(d+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),d+4),d+=4+m}return e.data===void 0?(u.setUint32(d,0),d+=4):(u.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),Qt(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}};H0=new WeakMap,W0=new WeakMap,V0=new WeakMap,G0=new WeakMap,ya=new WeakMap,nc=new WeakMap,b2=new WeakMap,Pn=new WeakMap,Tr=new WeakSet,Zo=function(e){Qt(e<Rt.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=h(this,Pn).getUint8(n)>>r&3;return i===0?void 0:i===2},aA=function(e){return Qt(e<Rt.numbers.length,"Invalid number index"),h(this,Pn).getFloat64(h(Rt,H0)+e*8)},Z1=function(e){Qt(e<Rt.strings.length,"Invalid string index");let n=h(Rt,ya)+4;for(let s=0;s<e;s++)n+=h(this,Pn).getUint32(n)+4;const r=h(this,Pn).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(h(this,nc),n+4,r)),h(this,b2).decode(i)},Se(Rt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Se(Rt,"numbers",["ascent","defaultWidth","descent"]),Se(Rt,"strings",["fallbackName","loadedName","mimetype","name"]),j(Rt,H0,Math.ceil(Rt.bools.length*2/8)),j(Rt,W0,h(Rt,H0)+Rt.numbers.length*8),j(Rt,V0,h(Rt,W0)+1+2*4),j(Rt,G0,h(Rt,V0)+1+8*6),j(Rt,ya,h(Rt,G0)+1+2*3);let jN=Rt;var w2,x2,_2,A2,S2,E2,P2,k2;const qn=class qn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],a=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(i.length/2),d=Math.floor(s.length/3),f=a.length,p=o.length;let v=0;for(const A of o)v+=1,v=Math.ceil(v/4)*4,v+=4+A.coords.length*4,v+=4+A.colors.length*4,A.verticesPerRow!==void 0&&(v+=4);const m=20+u*8+d*3+f*8+(r?16:0)+(c?3:0)+v,b=new ArrayBuffer(m),g=new DataView(b),w=new Uint8Array(b);g.setUint8(h(qn,w2),n),g.setUint8(h(qn,x2),r?1:0),g.setUint8(h(qn,_2),c?1:0),g.setUint8(h(qn,A2),l),g.setUint32(h(qn,S2),u,!0),g.setUint32(h(qn,E2),d,!0),g.setUint32(h(qn,P2),f,!0),g.setUint32(h(qn,k2),p,!0);let x=20;new Float32Array(b,x,u*2).set(i),x+=u*8,w.set(s,x),x+=d*3;for(const[A,E]of a)g.setFloat32(x,A,!0),x+=4,g.setUint32(x,parseInt(E.slice(1),16),!0),x+=4;if(r)for(const A of r)g.setFloat32(x,A,!0),x+=4;c&&(w.set(c,x),x+=3);for(let A=0;A<o.length;A++){const E=o[A];g.setUint8(x,E.type),x+=1,x=Math.ceil(x/4)*4,g.setUint32(x,E.coords.length,!0),x+=4,new Int32Array(b,x,E.coords.length).set(E.coords),x+=E.coords.length*4,g.setUint32(x,E.colors.length,!0),x+=4,new Int32Array(b,x,E.colors.length).set(E.colors),x+=E.colors.length*4,E.verticesPerRow!==void 0&&(g.setUint32(x,E.verticesPerRow,!0),x+=4)}return b}getIR(){const e=this.view,n=this.data[h(qn,w2)],r=!!this.data[h(qn,x2)],i=!!this.data[h(qn,_2)],s=e.getUint32(h(qn,S2),!0),a=e.getUint32(h(qn,E2),!0),o=e.getUint32(h(qn,P2),!0),l=e.getUint32(h(qn,k2),!0);let c=20;const u=new Float32Array(this.buffer,c,s*2);c+=s*8;const d=new Uint8Array(this.buffer,c,a*3);c+=a*3;const f=[];for(let b=0;b<o;++b){const g=e.getFloat32(c,!0);c+=4;const w=e.getUint32(c,!0);c+=4,f.push([g,`#${w.toString(16).padStart(6,"0")}`])}let p=null;if(r){p=[];for(let b=0;b<4;++b)p.push(e.getFloat32(c,!0)),c+=4}let v=null;i&&(v=new Uint8Array(this.buffer,c,3),c+=3);const m=[];for(let b=0;b<l;++b){const g=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const w=e.getUint32(c,!0);c+=4;const x=new Int32Array(this.buffer,c,w);c+=w*4;const S=e.getUint32(c,!0);c+=4;const A=new Int32Array(this.buffer,c,S);c+=S*4;const E={type:g,coords:x,colors:A};g===pN.LATTICE&&(E.verticesPerRow=e.getUint32(c,!0),c+=4),m.push(E)}if(n===1)return["RadialAxial","axial",p,f,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",p,f,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(n===3){const b=this.data[h(qn,A2)];let g=null;if(u.length>0){let w=u[0],x=u[0],S=u[1],A=u[1];for(let E=0;E<u.length;E+=2){const T=u[E],L=u[E+1];w=w>T?T:w,S=S>L?L:S,x=x<T?T:x,A=A<L?L:A}g=[w,S,x,A]}return["Mesh",b,u,d,m,g,p,v]}throw new Error(`Unsupported pattern kind: ${n}`)}};w2=new WeakMap,x2=new WeakMap,_2=new WeakMap,A2=new WeakMap,S2=new WeakMap,E2=new WeakMap,P2=new WeakMap,k2=new WeakMap,j(qn,w2,0),j(qn,x2,1),j(qn,_2,2),j(qn,A2,3),j(qn,S2,4),j(qn,E2,8),j(qn,P2,12),j(qn,k2,16);let DN=qn;var K0;class GAe{constructor(e){j(this,K0);C(this,K0,e)}static write(e){let n,r;return yi.isFloat16ArraySupported?(r=new ArrayBuffer(e.length*2),n=new Float16Array(r)):(r=new ArrayBuffer(e.length*4),n=new Float32Array(r)),n.set(e),r}get path(){return yi.isFloat16ArraySupported?new Float16Array(h(this,K0)):new Float32Array(h(this,K0))}}K0=new WeakMap;function KAe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Cs)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function XAe(t){if(Cs&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Kx(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function x5(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const FN=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,YAe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",JAe=OAe.bind(null,FN,YAe);var vu,BE;class ZAe{constructor(){j(this,vu,new Map);j(this,BE,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};h(this,BE).then(()=>{for(const[i]of h(this,vu))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}h(this,vu).set(n,i)}removeEventListener(e,n){const r=h(this,vu).get(n);r==null||r(),h(this,vu).delete(n)}terminate(){for(const[,e]of h(this,vu))e==null||e();h(this,vu).clear()}}vu=new WeakMap,BE=new WeakMap;const _5={DATA:1,ERROR:2},Vr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function RF(){}function Bs(t){if(t instanceof Yd||t instanceof gN||t instanceof PF||t instanceof fE||t instanceof aC)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Fn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Yd(t.message);case"InvalidPDFException":return new gN(t.message);case"PasswordException":return new PF(t.message,t.code);case"ResponseException":return new fE(t.message,t.status,t.missing);case"UnknownErrorException":return new aC(t.message,t.details)}return new aC(t.message,t.toString())}var X0,Lo,vW,yW,bW,oA;class Q1{constructor(e,n,r){j(this,Lo);j(this,X0,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,Lo,vW).bind(this),{signal:h(this,X0).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:Vr.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Qt(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Vr.CANCEL,streamId:s,reason:Bs(c)}),u.promise}},r)}destroy(){var e;(e=h(this,X0))==null||e.abort(),C(this,X0,null)}}X0=new WeakMap,Lo=new WeakSet,vW=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){F(this,Lo,bW).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===_5.DATA)i.resolve(e.data);else if(e.callback===_5.ERROR)i.reject(Bs(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:_5.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:_5.ERROR,callbackId:e.callbackId,reason:Bs(a)})});return}if(e.streamId){F(this,Lo,yW).call(this,e);return}n(e.data)},yW=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Vr.ENQUEUE,streamId:n,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Vr.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){Qt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Vr.ERROR,streamId:n,reason:Bs(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Vr.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Vr.START_COMPLETE,streamId:n,reason:Bs(c)})})},bW=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case Vr.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Bs(e.reason));break;case Vr.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Bs(e.reason));break;case Vr.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:Vr.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||RF).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Vr.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Vr.PULL_COMPLETE,streamId:n,reason:Bs(c)})});break;case Vr.ENQUEUE:if(Qt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Vr.CLOSE:if(Qt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),F(this,Lo,oA).call(this,a,n);break;case Vr.ERROR:Qt(a,"error should have stream controller"),a.controller.error(Bs(e.reason)),F(this,Lo,oA).call(this,a,n);break;case Vr.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Bs(e.reason)),F(this,Lo,oA).call(this,a,n);break;case Vr.CANCEL:if(!o)break;const l=Bs(e.reason);Promise.try(o.onCancel||RF,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Vr.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Vr.CANCEL_COMPLETE,streamId:n,reason:Bs(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},oA=async function(e,n){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var T2;class wW{constructor({enableHWA:e=!1}){j(this,T2,!1);C(this,T2,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!h(this,T2)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Fn("Abstract method `_createCanvas` called.")}}T2=new WeakMap;class QAe extends wW{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class xW{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Fn("Abstract method `_fetch` called.")}}class MF extends xW{async _fetch(e){const n=await Xx(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Kx(n)}}class _W{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}var kp,Y0,yu,bu,fs,Tp,Cp,qe,cs,eb,Pm,lA,km,AW,$N,Tm,tb,nb,BN,rb;class eSe extends _W{constructor({docId:n,ownerDocument:r=globalThis.document}){super();j(this,qe);j(this,kp);j(this,Y0);j(this,yu);j(this,bu);j(this,fs);j(this,Tp);j(this,Cp,0);C(this,bu,n),C(this,fs,r)}addFilter(n){if(!n)return"none";let r=h(this,qe,cs).get(n);if(r)return r;const[i,s,a]=F(this,qe,lA).call(this,n),o=n.length===1?i:`${i}${s}${a}`;if(r=h(this,qe,cs).get(o),r)return h(this,qe,cs).set(n,r),r;const l=`g_${h(this,bu)}_transfer_map_${ai(this,Cp)._++}`,c=F(this,qe,km).call(this,l);h(this,qe,cs).set(n,c),h(this,qe,cs).set(o,c);const u=F(this,qe,Tm).call(this,l);return F(this,qe,nb).call(this,i,s,a,u),c}addHCMFilter(n,r){var v;const i=`${n}-${r}`,s="base";let a=h(this,qe,eb).get(s);if((a==null?void 0:a.key)===i||(a?((v=a.filter)==null||v.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},h(this,qe,eb).set(s,a)),!n||!r))return a.url;const o=F(this,qe,rb).call(this,n);n=ze.makeHexColor(...o);const l=F(this,qe,rb).call(this,r);if(r=ze.makeHexColor(...l),h(this,qe,Pm).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return a.url;const c=new Array(256);for(let m=0;m<=255;m++){const b=m/255;c[m]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const u=c.join(","),d=`g_${h(this,bu)}_hcm_filter`,f=a.filter=F(this,qe,Tm).call(this,d);F(this,qe,nb).call(this,u,u,u,f),F(this,qe,$N).call(this,f);const p=(m,b)=>{const g=o[m]/255,w=l[m]/255,x=new Array(b+1);for(let S=0;S<=b;S++)x[S]=g+S/b*(w-g);return x.join(",")};return F(this,qe,nb).call(this,p(0,5),p(1,5),p(2,5),f),a.url=F(this,qe,km).call(this,d),a.url}addAlphaFilter(n){let r=h(this,qe,cs).get(n);if(r)return r;const[i]=F(this,qe,lA).call(this,[n]),s=`alpha_${i}`;if(r=h(this,qe,cs).get(s),r)return h(this,qe,cs).set(n,r),r;const a=`g_${h(this,bu)}_alpha_map_${ai(this,Cp)._++}`,o=F(this,qe,km).call(this,a);h(this,qe,cs).set(n,o),h(this,qe,cs).set(s,o);const l=F(this,qe,Tm).call(this,a);return F(this,qe,BN).call(this,i,l),o}addLuminosityFilter(n){let r=h(this,qe,cs).get(n||"luminosity");if(r)return r;let i,s;if(n?([i]=F(this,qe,lA).call(this,[n]),s=`luminosity_${i}`):s="luminosity",r=h(this,qe,cs).get(s),r)return h(this,qe,cs).set(n,r),r;const a=`g_${h(this,bu)}_luminosity_map_${ai(this,Cp)._++}`,o=F(this,qe,km).call(this,a);h(this,qe,cs).set(n,o),h(this,qe,cs).set(s,o);const l=F(this,qe,Tm).call(this,a);return F(this,qe,AW).call(this,l),n&&F(this,qe,BN).call(this,i,l),o}addHighlightHCMFilter(n,r,i,s,a){var w;const o=`${r}-${i}-${s}-${a}`;let l=h(this,qe,eb).get(n);if((l==null?void 0:l.key)===o||(l?((w=l.filter)==null||w.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},h(this,qe,eb).set(n,l)),!r||!i))return l.url;const[c,u]=[r,i].map(F(this,qe,rb).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,v]=[s,a].map(F(this,qe,rb).bind(this));f<d&&([d,f,p,v]=[f,d,v,p]),h(this,qe,Pm).style.color="";const m=(x,S,A)=>{const E=new Array(256),T=(f-d)/A,L=x/255,I=(S-x)/(255*A);let q=0;for(let O=0;O<=A;O++){const M=Math.round(d+O*T),z=L+O*I;for(let $=q;$<=M;$++)E[$]=z;q=M+1}for(let O=q;O<256;O++)E[O]=E[q-1];return E.join(",")},b=`g_${h(this,bu)}_hcm_${n}_filter`,g=l.filter=F(this,qe,Tm).call(this,b);return F(this,qe,$N).call(this,g),F(this,qe,nb).call(this,m(p[0],v[0],5),m(p[1],v[1],5),m(p[2],v[2],5),g),l.url=F(this,qe,km).call(this,b),l.url}destroy(n=!1){var r,i,s,a;n&&((r=h(this,Tp))!=null&&r.size)||((i=h(this,yu))==null||i.parentNode.parentNode.remove(),C(this,yu,null),(s=h(this,Y0))==null||s.clear(),C(this,Y0,null),(a=h(this,Tp))==null||a.clear(),C(this,Tp,null),C(this,Cp,0))}}kp=new WeakMap,Y0=new WeakMap,yu=new WeakMap,bu=new WeakMap,fs=new WeakMap,Tp=new WeakMap,Cp=new WeakMap,qe=new WeakSet,cs=function(){return h(this,Y0)||C(this,Y0,new Map)},eb=function(){return h(this,Tp)||C(this,Tp,new Map)},Pm=function(){if(!h(this,yu)){const n=h(this,fs).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=h(this,fs).createElementNS(Yc,"svg");i.setAttribute("width",0),i.setAttribute("height",0),C(this,yu,h(this,fs).createElementNS(Yc,"defs")),n.append(i),i.append(h(this,yu)),h(this,fs).body.append(n)}return h(this,yu)},lA=function(n){if(n.length===1){const c=n[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const d=u.join(",");return[d,d,d]}const[r,i,s]=n,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},km=function(n){if(h(this,kp)===void 0){C(this,kp,"");const r=h(this,fs).URL;r!==h(this,fs).baseURI&&(uk(r)?St('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,kp,OH(r,"")))}return`url(${h(this,kp)}#${n})`},AW=function(n){const r=h(this,fs).createElementNS(Yc,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},$N=function(n){const r=h(this,fs).createElementNS(Yc,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Tm=function(n){const r=h(this,fs).createElementNS(Yc,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),h(this,qe,Pm).append(r),r},tb=function(n,r,i){const s=h(this,fs).createElementNS(Yc,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),n.append(s)},nb=function(n,r,i,s){const a=h(this,fs).createElementNS(Yc,"feComponentTransfer");s.append(a),F(this,qe,tb).call(this,a,"feFuncR",n),F(this,qe,tb).call(this,a,"feFuncG",r),F(this,qe,tb).call(this,a,"feFuncB",i)},BN=function(n,r){const i=h(this,fs).createElementNS(Yc,"feComponentTransfer");r.append(i),F(this,qe,tb).call(this,i,"feFuncA",n)},rb=function(n){return h(this,qe,Pm).style.color=n,Jx(getComputedStyle(h(this,qe,Pm)).getPropertyValue("color"))};class SW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Fn("Abstract method `_fetch` called.")}}class jF extends SW{async _fetch(e){const n=await Xx(e,"arraybuffer");return new Uint8Array(n)}}class EW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Fn("Abstract method `_fetch` called.")}}class DF extends EW{async _fetch(e){const n=await Xx(e,"arraybuffer");return new Uint8Array(n)}}Cs&&St("Please use the `legacy` build in Node.js environments.");async function aR(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class tSe extends _W{}class nSe extends wW{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class rSe extends xW{async _fetch(e){return aR(e)}}class iSe extends SW{async _fetch(e){return aR(e)}}class sSe extends EW{async _fetch(e){return aR(e)}}const mm="__forcedDependency",{floor:FF,ceil:$F}=Math;function A5(t,e,n,r,i,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const UN=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var J0,ld;class aSe{constructor(e,n){j(this,J0);j(this,ld);C(this,J0,e),C(this,ld,n)}get length(){return h(this,J0).length}isEmpty(e){return h(this,J0)[e]===UN}minX(e){return h(this,ld)[e*4+0]/256}minY(e){return h(this,ld)[e*4+1]/256}maxX(e){return(h(this,ld)[e*4+2]+1)/256}maxY(e){return(h(this,ld)[e*4+3]+1)/256}}J0=new WeakMap,ld=new WeakMap;const S5=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var qs,Hs,Op,sl,Np,wu,wn,kn,xu,Ws,C2,Z0,Lp,Ip,_u,ps,rc,O2,zN;class oSe{constructor(e,n,r=!1){j(this,O2);j(this,qs,{__proto__:null});j(this,Hs,{__proto__:null,transform:[],moveText:[],sameLineText:[],[mm]:[]});j(this,Op,new Map);j(this,sl,[]);j(this,Np,[]);j(this,wu,[[1,0,0,1,0,0]]);j(this,wn,[-1/0,-1/0,1/0,1/0]);j(this,kn,new Float64Array([1/0,1/0,-1/0,-1/0]));j(this,xu,-1);j(this,Ws,new Set);j(this,C2,new Map);j(this,Z0,new Map);j(this,Lp);j(this,Ip);j(this,_u);j(this,ps);j(this,rc);C(this,Lp,e.width),C(this,Ip,e.height),F(this,O2,zN).call(this,n),r&&C(this,rc,new Map)}growOperationsCount(e){e>=h(this,ps).length&&F(this,O2,zN).call(this,e,h(this,ps))}save(e){return C(this,qs,{__proto__:h(this,qs)}),C(this,Hs,{__proto__:h(this,Hs),transform:{__proto__:h(this,Hs).transform},moveText:{__proto__:h(this,Hs).moveText},sameLineText:{__proto__:h(this,Hs).sameLineText},[mm]:{__proto__:h(this,Hs)[mm]}}),C(this,wn,{__proto__:h(this,wn)}),h(this,sl).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(h(this,qs));if(n===null)return this;C(this,qs,n),C(this,Hs,Object.getPrototypeOf(h(this,Hs))),C(this,wn,Object.getPrototypeOf(h(this,wn)));const r=h(this,sl).pop();return r!==void 0&&((i=S5(h(this,rc),e))==null||i.dependencies.add(r),h(this,ps)[e]=h(this,ps)[r]),this}recordOpenMarker(e){return h(this,sl).push(e),this}getOpenMarker(){return h(this,sl).length===0?null:h(this,sl).at(-1)}recordCloseMarker(e){var r;const n=h(this,sl).pop();return n!==void 0&&((r=S5(h(this,rc),e))==null||r.dependencies.add(n),h(this,ps)[e]=h(this,ps)[n]),this}beginMarkedContent(e){return h(this,Np).push(e),this}endMarkedContent(e){var r;const n=h(this,Np).pop();return n!==void 0&&((r=S5(h(this,rc),e))==null||r.dependencies.add(n),h(this,ps)[e]=h(this,ps)[n]),this}pushBaseTransform(e){return h(this,wu).push(ze.multiplyByDOMMatrix(h(this,wu).at(-1),e.getTransform())),this}popBaseTransform(){return h(this,wu).length>1&&h(this,wu).pop(),this}recordSimpleData(e,n){return h(this,qs)[e]=n,this}recordIncrementalData(e,n){return h(this,Hs)[e].push(n),this}resetIncrementalData(e,n){return h(this,Hs)[e].length=0,this}recordNamedData(e,n){return h(this,Op).set(e,n),this}recordSimpleDataFromNamed(e,n,r){h(this,qs)[e]=h(this,Op).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(mm,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in h(this,qs)&&this.recordFutureForcedDependency(n,h(this,qs)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of h(this,Ws))this.recordFutureForcedDependency(mm,e);return this}resetBBox(e){return h(this,xu)!==e&&(C(this,xu,e),h(this,kn)[0]=1/0,h(this,kn)[1]=1/0,h(this,kn)[2]=-1/0,h(this,kn)[3]=-1/0),this}recordClipBox(e,n,r,i,s,a){const o=ze.multiplyByDOMMatrix(h(this,wu).at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];ze.axialAlignedBoundingBox([r,s,i,a],o,l);const c=ze.intersect(h(this,wn),l);return c?(h(this,wn)[0]=c[0],h(this,wn)[1]=c[1],h(this,wn)[2]=c[2],h(this,wn)[3]=c[3]):(h(this,wn)[0]=h(this,wn)[1]=1/0,h(this,wn)[2]=h(this,wn)[3]=-1/0),this}recordBBox(e,n,r,i,s,a){const o=h(this,wn);if(o[0]===1/0)return this;const l=ze.multiplyByDOMMatrix(h(this,wu).at(-1),n.getTransform());if(o[0]===-1/0)return ze.axialAlignedBoundingBox([r,s,i,a],l,h(this,kn)),this;const c=[1/0,1/0,-1/0,-1/0];return ze.axialAlignedBoundingBox([r,s,i,a],l,c),h(this,kn)[0]=Math.min(h(this,kn)[0],Math.max(c[0],o[0])),h(this,kn)[1]=Math.min(h(this,kn)[1],Math.max(c[1],o[1])),h(this,kn)[2]=Math.max(h(this,kn)[2],Math.min(c[2],o[2])),h(this,kn)[3]=Math.max(h(this,kn)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,s=0,a=0,o){const l=r.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&h(this,Z0).get(r),c!==!1&&(u=[0,0,0,0],ze.axialAlignedBoundingBox(l,r.fontMatrix,u),(i!==1||s!==0||a!==0)&&ze.scaleMinMax([i,0,0,-i,s,a],u),c)))return this.recordBBox(e,n,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&u&&c===void 0&&(c=u[0]<=s-d.actualBoundingBoxLeft&&u[2]>=s+d.actualBoundingBoxRight&&u[1]<=a-d.actualBoundingBoxAscent&&u[3]>=a+d.actualBoundingBoxDescent,h(this,Z0).set(r,c),c)?this.recordBBox(e,n,u[0],u[2],u[1],u[3]):this.recordBBox(e,n,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return h(this,kn)[0]=Math.max(0,h(this,wn)[0]),h(this,kn)[1]=Math.max(0,h(this,wn)[1]),h(this,kn)[2]=Math.min(h(this,Lp),h(this,wn)[2]),h(this,kn)[3]=Math.min(h(this,Ip),h(this,wn)[3]),this}getSimpleIndex(e){return h(this,qs)[e]}recordDependencies(e,n){const r=h(this,Ws),i=h(this,qs),s=h(this,Hs);for(const a of n)a in h(this,qs)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return h(this,Op).has(n)&&h(this,Ws).add(h(this,Op).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[mm]),h(this,rc)){const r=S5(h(this,rc),e),{dependencies:i}=r;h(this,Ws).forEach(i.add,i),h(this,sl).forEach(i.add,i),h(this,Np).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(h(this,xu)===e){const r=FF(h(this,kn)[0]*256/h(this,Lp)),i=FF(h(this,kn)[1]*256/h(this,Ip)),s=$F(h(this,kn)[2]*256/h(this,Lp)),a=$F(h(this,kn)[3]*256/h(this,Ip));A5(h(this,_u),e,r,i,s,a);for(const o of h(this,Ws))o!==e&&A5(h(this,_u),o,r,i,s,a);for(const o of h(this,sl))o!==e&&A5(h(this,_u),o,r,i,s,a);for(const o of h(this,Np))o!==e&&A5(h(this,_u),o,r,i,s,a);n||(h(this,Ws).clear(),C(this,xu,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(h(this,Ws));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return h(this,xu)===e&&(C(this,xu,-1),h(this,wn)[0]=Math.max(h(this,wn)[0],h(this,kn)[0]),h(this,wn)[1]=Math.max(h(this,wn)[1],h(this,kn)[1]),h(this,wn)[2]=Math.min(h(this,wn)[2],h(this,kn)[2]),h(this,wn)[3]=Math.min(h(this,wn)[3],h(this,kn)[3]),n||h(this,Ws).clear()),this}_takePendingDependencies(){const e=h(this,Ws);return C(this,Ws,new Set),e}_extractOperation(e){const n=h(this,C2).get(e);return h(this,C2).delete(e),n}_pushPendingDependencies(e){for(const n of e)h(this,Ws).add(n)}take(){return h(this,Z0).clear(),new aSe(h(this,ps),h(this,_u))}takeDebugMetadata(){return h(this,rc)}}qs=new WeakMap,Hs=new WeakMap,Op=new WeakMap,sl=new WeakMap,Np=new WeakMap,wu=new WeakMap,wn=new WeakMap,kn=new WeakMap,xu=new WeakMap,Ws=new WeakMap,C2=new WeakMap,Z0=new WeakMap,Lp=new WeakMap,Ip=new WeakMap,_u=new WeakMap,ps=new WeakMap,rc=new WeakMap,O2=new WeakSet,zN=function(e,n){const r=new ArrayBuffer(e*4);C(this,_u,new Uint8ClampedArray(r)),C(this,ps,new Uint32Array(r)),n&&n.length>0?(h(this,ps).set(n),h(this,ps).fill(UN,n.length)):h(this,ps).fill(UN)};var Rn,Ar,al,Q0,ev;const wR=class wR{constructor(e,n,r){j(this,Rn);j(this,Ar);j(this,al);j(this,Q0,0);j(this,ev,0);if(e instanceof wR&&h(e,al)===!!r)return e;C(this,Rn,e),C(this,Ar,n),C(this,al,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ai(this,ev)._++,h(this,Rn).save(h(this,Ar)),this}restore(e){return h(this,ev)>0&&(h(this,Rn).restore(h(this,Ar)),ai(this,ev)._--),this}recordOpenMarker(e){return ai(this,Q0)._++,this}getOpenMarker(){return h(this,Q0)>0?h(this,Ar):h(this,Rn).getOpenMarker()}recordCloseMarker(e){return ai(this,Q0)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return h(this,Rn).pushBaseTransform(e),this}popBaseTransform(){return h(this,Rn).popBaseTransform(),this}recordSimpleData(e,n){return h(this,Rn).recordSimpleData(e,h(this,Ar)),this}recordIncrementalData(e,n){return h(this,Rn).recordIncrementalData(e,h(this,Ar)),this}resetIncrementalData(e,n){return h(this,Rn).resetIncrementalData(e,h(this,Ar)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return h(this,Rn).recordSimpleDataFromNamed(e,n,h(this,Ar)),this}recordFutureForcedDependency(e,n){return h(this,Rn).recordFutureForcedDependency(e,h(this,Ar)),this}inheritSimpleDataAsFutureForcedDependencies(e){return h(this,Rn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return h(this,Rn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return h(this,al)||h(this,Rn).resetBBox(h(this,Ar)),this}recordClipBox(e,n,r,i,s,a){return h(this,al)||h(this,Rn).recordClipBox(h(this,Ar),n,r,i,s,a),this}recordBBox(e,n,r,i,s,a){return h(this,al)||h(this,Rn).recordBBox(h(this,Ar),n,r,i,s,a),this}recordCharacterBBox(e,n,r,i,s,a,o){return h(this,al)||h(this,Rn).recordCharacterBBox(h(this,Ar),n,r,i,s,a,o),this}recordFullPageBBox(e){return h(this,al)||h(this,Rn).recordFullPageBBox(h(this,Ar)),this}getSimpleIndex(e){return h(this,Rn).getSimpleIndex(e)}recordDependencies(e,n){return h(this,Rn).recordDependencies(h(this,Ar),n),this}recordNamedDependency(e,n){return h(this,Rn).recordNamedDependency(h(this,Ar),n),this}recordOperation(e){return h(this,Rn).recordOperation(h(this,Ar),!0),this}recordShowTextOperation(e){return h(this,Rn).recordShowTextOperation(h(this,Ar),!0),this}bboxToClipBoxDropOperation(e){return h(this,al)||h(this,Rn).bboxToClipBoxDropOperation(h(this,Ar),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Rn=new WeakMap,Ar=new WeakMap,al=new WeakMap,Q0=new WeakMap,ev=new WeakMap;let bE=wR;const co={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Xi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function qN(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class oR{isModifyingCurrentTransform(){return!1}getPattern(){Fn("Abstract method `getPattern` called.")}}class lSe extends oR{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,n=null){let r,i=this._p0,s=this._p1;if(n&&(i=i.slice(),s=s.slice(),ze.applyTransform(i,n),ze.applyTransform(s,n)),this._type==="axial")r=e.createLinearGradient(i[0],i[1],s[0],s[1]);else if(this._type==="radial"){let a=this._r0,o=this._r1;if(n){const l=new Float32Array(2);ze.singularValueDecompose2dScale(n,l),a*=l[0],o*=l[0]}r=e.createRadialGradient(i[0],i[1],a,s[0],s[1],o)}for(const a of this._colorStops)r.addColorStop(a[0],a[1]);return r}getPattern(e,n,r,i){let s;if(i===Xi.STROKE||i===Xi.FILL){if(this.isOriginBased()){let f=ze.transform(r,n.baseTransform);this.matrix&&(f=ze.transform(f,this.matrix));const p=.001,v=Math.hypot(f[0],f[1]),m=Math.hypot(f[2],f[3]),b=(f[0]*f[2]+f[1]*f[3])/(v*m);if(Math.abs(b)<p)if(this.isRadial()){if(Math.abs(v-m)<p)return this._createGradient(e,f)}else return this._createGradient(e,f)}const a=n.current.getClippedPathBoundingBox(i,dr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),r=ze.transform(r,[1,0,0,1,a[0],a[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),qN(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else qN(e,this._bbox),s=this._createGradient(e);return s}}function cC(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,u=t.data,d=t.width*4;let f;l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=s,s=a,a=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=a,a=o,o=f),l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=s,s=a,a=f);const p=(l[n]+e.offsetX)*e.scaleX,v=(l[n+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(v>=w)return;const x=c[s],S=c[s+1],A=c[s+2],E=c[a],T=c[a+1],L=c[a+2],I=c[o],q=c[o+1],O=c[o+2],M=Math.round(v),z=Math.round(w);let $,G,Y,Q,W,re,ce,ae;for(let D=M;D<=z;D++){if(D<b){const de=D<v?0:(v-D)/(v-b);$=p-(p-m)*de,G=x-(x-E)*de,Y=S-(S-T)*de,Q=A-(A-L)*de}else{let de;D>w?de=1:b===w?de=0:de=(b-D)/(b-w),$=m-(m-g)*de,G=E-(E-I)*de,Y=T-(T-q)*de,Q=L-(L-O)*de}let K;D<v?K=0:D>w?K=1:K=(v-D)/(v-w),W=p-(p-g)*K,re=x-(x-I)*K,ce=S-(S-q)*K,ae=A-(A-O)*K;const ee=Math.round(Math.min($,W)),se=Math.round(Math.max($,W));let oe=d*D+ee*4;for(let de=ee;de<=se;de++)K=($-de)/($-W),K<0?K=0:K>1&&(K=1),u[oe++]=G-(G-re)*K|0,u[oe++]=Y-(Y-ce)*K|0,u[oe++]=Q-(Q-ae)*K|0,u[oe++]=255}}function cSe(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case pN.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let d=0;d<c;d++,u++)cC(t,n,r[u],r[u+1],r[u+o],i[u],i[u+1],i[u+o]),cC(t,n,r[u+o+1],r[u+1],r[u+o],i[u+o+1],i[u+1],i[u+o])}break;case pN.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)cC(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class uSe extends oR{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/d,v=u/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/v},b=d+2*2,g=f+2*2,w=r.getCanvas("mesh",b,g),x=w.context,S=x.createImageData(d,f);if(n){const E=S.data;for(let T=0,L=E.length;T<L;T+=4)E[T]=n[0],E[T+1]=n[1],E[T+2]=n[2],E[T+3]=255}for(const E of this._figures)cSe(S,E,m);return x.putImageData(S,2,2),{canvas:w.canvas,offsetX:o-2*p,offsetY:l-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){qN(e,this._bbox);const s=new Float32Array(2);if(i===Xi.SHADING)ze.singularValueDecompose2dScale(dr(e),s);else if(this.matrix){ze.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;ze.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=o,s[1]*=l}else ze.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===Xi.SHADING?null:this._background,n.cachedCanvases);return i!==Xi.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class hSe extends oR{getPattern(){return"hotpink"}}function dSe(t){switch(t[0]){case"RadialAxial":return new lSe(t);case"Mesh":return new uSe(t);case"Dummy":return new hSe}throw new Error(`Unknown IR type: ${t[0]}`)}const BF={COLORED:1,UNCOLORED:2},UE=class UE{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var re,ce;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),ck("TilingType: "+a);const d=r[0],f=r[1],p=r[2],v=r[3],m=p-d,b=v-f,g=new Float32Array(2);ze.singularValueDecompose2dScale(this.matrix,g);const[w,x]=g;ze.singularValueDecompose2dScale(this.baseTransform,g);const S=w*g[0],A=x*g[1];let E=m,T=b,L=!1,I=!1;const q=Math.ceil(c*S),O=Math.ceil(u*A),M=Math.ceil(m*S),z=Math.ceil(b*A);q>=M?E=c:L=!0,O>=z?T=u:I=!0;const $=this.getSizeAndScale(E,this.ctx.canvas.width,S),G=this.getSizeAndScale(T,this.ctx.canvas.height,A),Y=e.cachedCanvases.getCanvas("pattern",$.size,G.size),Q=Y.context,W=l.createCanvasGraphics(Q,n);if(W.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(W,s,o),Q.translate(-$.scale*d,-G.scale*f),W.transform(0,$.scale,0,0,G.scale,0,0),Q.save(),(re=W.dependencyTracker)==null||re.save(),this.clipBbox(W,d,f,p,v),W.baseTransform=dr(W.ctx),W.executeOperatorList(i),W.endDrawing(),(ce=W.dependencyTracker)==null||ce.restore(),Q.restore(),L||I){const ae=Y.canvas;L&&(E=c),I&&(T=u);const D=this.getSizeAndScale(E,this.ctx.canvas.width,S),K=this.getSizeAndScale(T,this.ctx.canvas.height,A),ee=D.size,se=K.size,oe=e.cachedCanvases.getCanvas("pattern-workaround",ee,se),de=oe.context,xe=L?Math.floor(m/c):0,ue=I?Math.floor(b/u):0;for(let ye=0;ye<=xe;ye++)for(let _e=0;_e<=ue;_e++)de.drawImage(ae,ee*ye,se*_e,ee,se,0,0,ee,se);return{canvas:oe.canvas,scaleX:D.scale,scaleY:K.scale,offsetX:d,offsetY:f}}return{canvas:Y.canvas,scaleX:$.scale,scaleY:G.scale,offsetX:d,offsetY:f}}getSizeAndScale(e,n,r){const i=Math.max(UE.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,o=s-r;e.ctx.rect(n,r,a,o),ze.axialAlignedBoundingBox([n,r,i,s],dr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case BF.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case BF.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new SAe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,s){let a=r;i!==Xi.SHADING&&(a=ze.transform(a,n.baseTransform),this.matrix&&(a=ze.transform(a,this.matrix)));const o=this.createPatternCanvas(n,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};Se(UE,"MAX_PATTERN_SIZE",3e3);let HN=UE;function fSe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=yi.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=r>>3,d=r&7,f=t.length;n=new Uint32Array(n.buffer);let p=0;for(let v=0;v<i;v++){for(const b=e+u;e<b;e++){const g=e<f?t[e]:255;n[p++]=g&128?c:l,n[p++]=g&64?c:l,n[p++]=g&32?c:l,n[p++]=g&16?c:l,n[p++]=g&8?c:l,n[p++]=g&4?c:l,n[p++]=g&2?c:l,n[p++]=g&1?c:l}if(d===0)continue;const m=e<f?t[e++]:255;for(let b=0;b<d;b++)n[p++]=m&1<<7-b?c:l}return{srcPos:e,destPos:p}}const UF=16,zF=100,pSe=15,qF=10,Ks=16,uC=new DOMMatrix,Da=new Float32Array(2),Jm=new Float32Array([1/0,1/0,-1/0,-1/0]);function gSe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,o){e.transform(n,r,i,s,a,o),this.__originalTransform(n,r,i,s,a,o)},t.setTransform=function(n,r,i,s,a,o){e.setTransform(n,r,i,s,a,o),this.__originalSetTransform(n,r,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,o){e.bezierCurveTo(n,r,i,s,a,o),this.__originalBezierCurveTo(n,r,i,s,a,o)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class mSe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function E5(t,e,n,r,i,s,a,o,l,c){const[u,d,f,p,v,m]=dr(t);if(d===0&&f===0){const w=a*u+v,x=Math.round(w),S=o*p+m,A=Math.round(S),E=(a+l)*u+v,T=Math.abs(Math.round(E)-x)||1,L=(o+c)*p+m,I=Math.abs(Math.round(L)-A)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(p),x,A),t.drawImage(e,n,r,i,s,0,0,T,I),t.setTransform(u,d,f,p,v,m),[T,I]}if(u===0&&p===0){const w=o*f+v,x=Math.round(w),S=a*d+m,A=Math.round(S),E=(o+c)*f+v,T=Math.abs(Math.round(E)-x)||1,L=(a+l)*d+m,I=Math.abs(Math.round(L)-A)||1;return t.setTransform(0,Math.sign(d),Math.sign(f),0,x,A),t.drawImage(e,n,r,i,s,0,0,I,T),t.setTransform(u,d,f,p,v,m),[I,T]}t.drawImage(e,n,r,i,s,a,o,l,c);const b=Math.hypot(u,d),g=Math.hypot(f,p);return[b*l,g*c]}class HF{constructor(e,n,r){Se(this,"alphaIsShape",!1);Se(this,"fontSize",0);Se(this,"fontSizeScale",1);Se(this,"textMatrix",null);Se(this,"textMatrixScale",1);Se(this,"fontMatrix",fN);Se(this,"leading",0);Se(this,"x",0);Se(this,"y",0);Se(this,"lineX",0);Se(this,"lineY",0);Se(this,"charSpacing",0);Se(this,"wordSpacing",0);Se(this,"textHScale",1);Se(this,"textRenderingMode",ci.FILL);Se(this,"textRise",0);Se(this,"fillColor","#000000");Se(this,"strokeColor","#000000");Se(this,"patternFill",!1);Se(this,"patternStroke",!1);Se(this,"fillAlpha",1);Se(this,"strokeAlpha",1);Se(this,"lineWidth",1);Se(this,"activeSMask",null);Se(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=Jm.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Xi.FILL,n=null){const r=this.minMax.slice();if(e===Xi.STROKE){n||Fn("Stroke bounding box must include transform."),ze.singularValueDecompose2dScale(n,Da);const i=Da[0]*this.lineWidth/2,s=Da[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=ze.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Jm,0)}getClippedPathBoundingBox(e=Xi.FILL,n=null){return ze.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function WF(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Ks,s=(n-i)/Ks,a=i===0?s:s+1,o=t.createImageData(r,Ks);let l=0,c;const u=e.data,d=o.data;let f,p,v,m;if(e.kind===Z5.GRAYSCALE_1BPP){const b=u.byteLength,g=new Uint32Array(d.buffer,0,d.byteLength>>2),w=g.length,x=r+7>>3,S=4294967295,A=yi.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(v=f<s?Ks:i,c=0,p=0;p<v;p++){const E=b-l;let T=0;const L=E>x?r:E*8-7,I=L&-8;let q=0,O=0;for(;T<I;T+=8)O=u[l++],g[c++]=O&128?S:A,g[c++]=O&64?S:A,g[c++]=O&32?S:A,g[c++]=O&16?S:A,g[c++]=O&8?S:A,g[c++]=O&4?S:A,g[c++]=O&2?S:A,g[c++]=O&1?S:A;for(;T<L;T++)q===0&&(O=u[l++],q=128),g[c++]=O&q?S:A,q>>=1}for(;c<w;)g[c++]=0;t.putImageData(o,0,f*Ks)}}else if(e.kind===Z5.RGBA_32BPP){for(p=0,m=r*Ks*4,f=0;f<s;f++)d.set(u.subarray(l,l+m)),l+=m,t.putImageData(o,0,p),p+=Ks;f<a&&(m=r*i*4,d.set(u.subarray(l,l+m)),t.putImageData(o,0,p))}else if(e.kind===Z5.RGB_24BPP)for(v=Ks,m=r*v,f=0;f<a;f++){for(f>=s&&(v=i,m=r*v),c=0,p=m;p--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;t.putImageData(o,0,f*Ks)}else throw new Error(`bad image kind: ${e.kind}`)}function VF(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Ks,s=(n-i)/Ks,a=i===0?s:s+1,o=t.createImageData(r,Ks);let l=0;const c=e.data,u=o.data;for(let d=0;d<a;d++){const f=d<s?Ks:i;({srcPos:l}=fSe({src:c,srcPos:l,dest:u,width:r,height:f,nonBlackColor:0})),t.putImageData(o,0,d*Ks)}}function N1(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function P5(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function GF(t,e){if(e)return!0;ze.singularValueDecompose2dScale(t,Da);const n=Math.fround(Ec.pixelRatio*Jd.PDF_TO_CSS_UNITS);return Da[0]<=n&&Da[1]<=n}const vSe=["butt","round","square"],ySe=["miter","round","bevel"],bSe={},KF={};var Pl,WN,VN,GN;const xR=class xR{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,u){j(this,Pl);this.ctx=e,this.current=new HF(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new mSe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...dr(this.compositeCtx))}this.ctx.save(),P5(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=dr(this.ctx)}executeOperatorList(e,n,r,i,s){var g;const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const u=c-l>qF&&typeof r=="function",d=u?Date.now()+pSe:0;let f=0;const p=this.commonObjs,v=this.objs;let m,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(m=o[l],b=a[l]??null,m!==Fw.dependency)b===null?this[m](l):this[m](l,...b);else for(const w of b){(g=this.dependencyTracker)==null||g.recordNamedData(w,l);const x=w.startsWith("g_")?p:v;if(!x.has(w))return x.get(w,r),l}if(l++,l===c)return l;if(u&&++f>qF){if(Date.now()>d)return r(),l;f=0}}}endDrawing(){F(this,Pl,WN).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),F(this,Pl,VN).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,c="prescale1",u,d;for(;s>2&&o>1||a>2&&l>1;){let f=o,p=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),u=this.cachedCanvases.getCanvas(c,f,p),d=u.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,o,l,0,0,f,p),e=u.canvas,o=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,n){var q,O;const r=this.ctx,{width:i,height:s}=n,a=this.current.fillColor,o=this.current.patternFill,l=dr(r);let c,u,d,f;if((n.bitmap||n.data)&&n.count>1){const M=n.bitmap||n.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(M),c||(c=new Map,this._cachedBitmapsMap.set(M,c));const z=c.get(u);if(z&&!o){const $=Math.round(Math.min(l[0],l[2])+l[4]),G=Math.round(Math.min(l[1],l[3])+l[5]);return(q=this.dependencyTracker)==null||q.recordDependencies(e,co.transformAndFill),{canvas:z,offsetX:$,offsetY:G}}d=z}d||(f=this.cachedCanvases.getCanvas("maskCanvas",i,s),VF(f.context,n));let p=ze.transform(l,[1/i,0,0,-1/s,0,0]);p=ze.transform(p,[1,0,0,1,0,-s]);const v=Jm.slice();ze.axialAlignedBoundingBox([0,0,i,s],p,v);const[m,b,g,w]=v,x=Math.round(g-m)||1,S=Math.round(w-b)||1,A=this.cachedCanvases.getCanvas("fillCanvas",x,S),E=A.context,T=m,L=b;E.translate(-T,-L),E.transform(...p),d||(d=this._scaleImage(f.canvas,Bl(E)),d=d.img,c&&o&&c.set(u,d)),E.imageSmoothingEnabled=GF(dr(E),n.interpolate),E5(E,d,0,0,d.width,d.height,0,0,i,s),E.globalCompositeOperation="source-in";const I=ze.transform(Bl(E),[1,0,0,1,-T,-L]);return E.fillStyle=o?a.getPattern(r,this,I,Xi.FILL,e):a,E.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,A.canvas)),(O=this.dependencyTracker)==null||O.recordDependencies(e,co.transformAndFill),{canvas:A.canvas,offsetX:Math.round(T),offsetY:Math.round(L)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=vSe[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=ySe[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,s,a,o;for(const[l,c]of n)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),N1(this.suspendedCtx,a),gSe(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),N1(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,o,l,c,u,d){let f=e.canvas,p=l-u,v=c-d;if(a)if(p<0||v<0||p+r>f.width||v+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),g=b.context;g.drawImage(f,-p,-v),g.globalCompositeOperation="destination-atop",g.fillStyle=a,g.fillRect(0,0,r,i),g.globalCompositeOperation="source-over",f=b.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,v,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,v,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(l,c,r,i),n.clip(m),n.globalCompositeOperation="destination-in",n.drawImage(f,p,v,r,i,l,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&N1(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&N1(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[n](e,s);return}if(this.dependencyTracker!==null){const a=n===Fw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=jH(s)),ze.axialAlignedBoundingBox(i,dr(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Bl(i),Xi.STROKE,e),o){const l=new Path2D;l.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=l}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,co.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Xi.STROKE,dr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,u,d;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const f=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Bl(i),Xi.FILL,e),f){const p=new Path2D;p.addPath(n,i.getTransform().invertSelf().multiplySelf(f)),n=p}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(u=this.dependencyTracker)==null||u.recordDependencies(e,co.fill),o&&(i.restore(),(d=this.dependencyTracker)==null||d.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,co.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=bSe}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=KF}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of n)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var d,f;(d=this.dependencyTracker)==null||d.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),s=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=i.fontMatrix||fN,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&St("Invalid font matrix for font "+n),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((f=i.systemFontInfo)==null?void 0:f.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=r;r<UF?u=UF:r>zF&&(u=zF),this.current.fontSizeScale=r/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,s,a){var g,w,x,S;const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,f=u&ci.FILL_STROKE_MASK,p=!!(u&ci.ADD_TO_PATH_FLAG),v=l.patternFill&&!c.missingFile,m=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||p||v||m)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,n)),b&&(c.disableFontFace||v||m)){o.save(),o.translate(r,i),o.scale(d,-d),(g=this.dependencyTracker)==null||g.recordCharacterBBox(e,o,c);let A;if(f===ci.FILL||f===ci.FILL_STROKE)if(s){A=o.getTransform(),o.setTransform(...s);const E=F(this,Pl,GN).call(this,b,A,s);o.fill(E)}else o.fill(b);if(f===ci.STROKE||f===ci.FILL_STROKE)if(a){A||(A=o.getTransform()),o.setTransform(...a);const{a:E,b:T,c:L,d:I}=A,q=ze.inverseTransform(a),O=ze.transform([E,T,L,I,0,0],q);ze.singularValueDecompose2dScale(O,Da),o.lineWidth*=Math.max(Da[0],Da[1])/d,o.stroke(F(this,Pl,GN).call(this,b,A,a))}else o.lineWidth/=d,o.stroke(b);o.restore()}else(f===ci.FILL||f===ci.FILL_STROKE)&&(o.fillText(n,r,i),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,c,d,r,i,()=>o.measureText(n))),(f===ci.STROKE||f===ci.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,c,d,r,i,()=>o.measureText(n)).recordDependencies(e,co.stroke)),o.strokeText(n,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:dr(o),x:r,y:i,fontSize:d,path:b}),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,c,d,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Et(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var O,M,z,$;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,co.showText).resetBBox(e),this.current.textRenderingMode&ci.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(O=this.dependencyTracker)==null||O.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(M=this.dependencyTracker)==null||M.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,u=r.fontDirection,d=r.textHScale*u,f=n.length,p=i.vertical,v=p?1:-1,m=i.defaultVMetrics,b=s*r.fontMatrix[0],g=r.textRenderingMode===ci.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),u>0?a.scale(d,-1):a.scale(d,1);let w,x;const S=r.textRenderingMode&ci.FILL_STROKE_MASK,A=S===ci.FILL||S===ci.FILL_STROKE,E=S===ci.STROKE||S===ci.FILL_STROKE;if(A&&r.patternFill){a.save();const G=r.fillColor.getPattern(a,this,Bl(a),Xi.FILL,e);w=dr(a),a.restore(),a.fillStyle=G}if(E&&r.patternStroke){a.save();const G=r.strokeColor.getPattern(a,this,Bl(a),Xi.STROKE,e);x=dr(a),a.restore(),a.strokeStyle=G}let T=r.lineWidth;const L=r.textMatrixScale;if(L===0||T===0?E&&(T=this.getSinglePixelWidth()):T/=L,o!==1&&(a.scale(o,o),T/=o),a.lineWidth=T,i.isInvalidPDFjsFont){const G=[];let Y=0;for(const W of n)G.push(W.unicode),Y+=W.width;const Q=G.join("");if(a.fillText(Q,0,0),this.dependencyTracker!==null){const W=a.measureText(Q);this.dependencyTracker.recordBBox(e,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=Y*b*d,a.restore(),this.compose();return}let I=0,q;for(q=0;q<f;++q){const G=n[q];if(typeof G=="number"){I+=v*G*s/1e3;continue}let Y=!1;const Q=(G.isSpace?c:0)+l,W=G.fontChar,re=G.accent;let ce,ae,D=G.width;if(p){const se=G.vmetric||m,oe=-(G.vmetric?se[1]:D*.5)*b,de=se[2]*b;D=se?-se[0]:D,ce=oe/o,ae=(I+de)/o}else ce=I/o,ae=0;let K;if(i.remeasure&&D>0){K=a.measureText(W);const se=K.width*1e3/s*o;if(D<se&&this.isFontSubpixelAAEnabled){const oe=D/se;Y=!0,a.save(),a.scale(oe,1),ce/=oe}else D!==se&&(ce+=(D-se)/2e3*s/o)}if(this.contentVisible&&(G.isInFont||i.missingFile)){if(g&&!re)a.fillText(W,ce,ae),(z=this.dependencyTracker)==null||z.recordCharacterBBox(e,a,K?{bbox:null}:i,s/o,ce,ae,()=>K??a.measureText(W));else if(this.paintChar(e,W,ce,ae,w,x),re){const se=ce+s*re.offset.x/o,oe=ae-s*re.offset.y/o;this.paintChar(e,re.fontChar,se,oe,w,x)}}const ee=p?D*b-Q*u:D*b+Q*u;I+=ee,Y&&a.restore()}p?r.y-=I:r.x+=I*d,a.restore(),this.compose(),($=this.dependencyTracker)==null||$.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,d=i.textHScale*o,f=i.fontMatrix||fN,p=n.length,v=i.textRenderingMode===ci.INVISIBLE;let m,b,g,w;if(v||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(d,o);const x=this.dependencyTracker;for(this.dependencyTracker=x?new bE(x,e):null,m=0;m<p;++m){if(b=n[m],typeof b=="number"){w=l*b*a/1e3,this.ctx.translate(w,0),i.x+=w*d;continue}const S=(b.isSpace?u:0)+c,A=s.charProcOperatorList[b.operatorListId];A?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...f),this.executeOperatorList(A),this.restore()):St(`Type3 character "${b.operatorListId}" is not available.`);const E=[b.width,0];ze.applyTransform(E,f),g=E[0]*a+S,r.translate(g,0),i.x+=g*d}r.restore(),x&&(this.dependencyTracker=x)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,s,a,o){var c;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||dr(this.ctx),s={createCanvasGraphics:(a,o)=>new xR(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new bE(this.dependencyTracker,o,!0):null)};r=new HN(n,this.ctx,s,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=dSe(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,Bl(r),Xi.SHADING,e);const s=Bl(r);if(s){const{width:o,height:l}=r.canvas,c=Jm.slice();ze.axialAlignedBoundingBox([0,0,o,l],s,c);const[u,d,f,p]=c;this.ctx.fillRect(u,d,f-u,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,co.transform).recordDependencies(e,co.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Fn("Should not call beginInlineImage")}beginImageData(){Fn("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=dr(this.ctx),r)){ze.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,c=new Path2D;c.rect(s,a,o-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var x;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||ck("TODO: Support non-isolated groups."),n.knockout&&St("Knockout groups not supported.");const i=dr(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=Jm.slice();ze.axialAlignedBoundingBox(n.bbox,dr(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=ze.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;n.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,c,u),p=f.context;p.translate(-o,-l),p.transform(...i);let v=new Path2D;const[m,b,g,w]=n.bbox;if(v.rect(m,b,g-m,w-b),n.matrix){const S=new Path2D;S.addPath(v,new DOMMatrix(n.matrix)),v=S}p.clip(v),n.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),N1(r,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=dr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Jm.slice();ze.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,s,a){if(F(this,Pl,WN).call(this),P5(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,ze.singularValueDecompose2dScale(dr(this.ctx),Da);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(n,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Da[0],0,0,-Da[1],0,l*Da[1]),P5(this.ctx)}else{P5(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new HF(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),F(this,Pl,VN).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var o;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,s=this._createMaskCanvas(e,n),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,s=0,a,o){var d,f,p;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=dr(l);l.transform(r,i,s,a,0,0);const u=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(d=this.dependencyTracker)==null||d.resetBBox(e);for(let v=0,m=o.length;v<m;v+=2){const b=ze.transform(c,[r,i,s,a,o[v],o[v+1]]);l.drawImage(u.canvas,b[4],b[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,b[4],b[4]+u.canvas.width,b[5],b[5]+u.canvas.height)}l.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,co.transformAndFill);for(const c of n){const{data:u,width:d,height:f,transform:p}=c,v=this.cachedCanvases.getCanvas("maskCanvas",d,f),m=v.context;m.save();const b=this.getObject(e,u,c);VF(m,b),m.globalCompositeOperation="source-in",m.fillStyle=s?i.getPattern(m,this,Bl(r),Xi.FILL,e):i,m.fillRect(0,0,d,f),m.restore(),r.save(),r.transform(...p),r.scale(1,-1),E5(r,v.canvas,0,0,d,f,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,d,0,f),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){St("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,d=s.length;u<d;u+=2)c.push({transform:[r,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const d=this.cachedCanvases.getCanvas("inlineImage",r,i).context;WF(d,n),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,Bl(s));s.imageSmoothingEnabled=GF(dr(s),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,co.imageXObject).recordOperation(e),E5(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const c=n.width,u=n.height,f=this.cachedCanvases.getCanvas("inlineImage",c,u).context;WF(f,n),s=this.applyTransferMapsToCanvas(f)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),E5(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,co.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===KF?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,d=c*e;a=u<1?1/u:1,o=d<1?1/d:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),u=Math.hypot(i,s);if(e===0)a=u/l,o=c/l;else{const d=e*l;a=u>d?u/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(s,a),uC.a=1/s,uC.d=1/a;const l=new Path2D;if(l.addPath(e,uC),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Pl=new WeakSet,WN=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},VN=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},GN=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let p0=xR;for(const t in Fw)p0.prototype[t]!==void 0&&(p0.prototype[Fw[t]]=p0.prototype[t]);var N2,L2;class gc{static get workerPort(){return h(this,N2)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");C(this,N2,e)}static get workerSrc(){return h(this,L2)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");C(this,L2,e)}}N2=new WeakMap,L2=new WeakMap,j(gc,N2,null),j(gc,L2,"");var tv,I2;class wSe{constructor({parsedData:e,rawData:n}){j(this,tv);j(this,I2);C(this,tv,e),C(this,I2,n)}getRaw(){return h(this,I2)}get(e){return h(this,tv).get(e)??null}[Symbol.iterator](){return h(this,tv).entries()}}tv=new WeakMap,I2=new WeakMap;const Cm=Symbol("INTERNAL");var R2,M2,j2,nv;class xSe{constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){j(this,R2,!1);j(this,M2,!1);j(this,j2,!1);j(this,nv,!0);C(this,R2,!!(e&Ra.DISPLAY)),C(this,M2,!!(e&Ra.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(h(this,j2))return h(this,nv);if(!h(this,nv))return!1;const{print:e,view:n}=this.usage;return h(this,R2)?(n==null?void 0:n.viewState)!=="OFF":h(this,M2)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Cm&&Fn("Internal method `_setVisible` called."),C(this,j2,r),C(this,nv,n)}}R2=new WeakMap,M2=new WeakMap,j2=new WeakMap,nv=new WeakMap;var cd,Tn,rv,iv,D2,KN;class _Se{constructor(e,n=Ra.DISPLAY){j(this,D2);j(this,cd,null);j(this,Tn,new Map);j(this,rv,null);j(this,iv,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,C(this,iv,e.order);for(const r of e.groups)h(this,Tn).set(r.id,new xSe(n,r));if(e.baseState==="OFF")for(const r of h(this,Tn).values())r._setVisible(Cm,!1);for(const r of e.on)h(this,Tn).get(r)._setVisible(Cm,!0);for(const r of e.off)h(this,Tn).get(r)._setVisible(Cm,!1);C(this,rv,this.getHash())}}isVisible(e){if(h(this,Tn).size===0)return!0;if(!e)return ck("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,Tn).has(e.id)?h(this,Tn).get(e.id).visible:(St(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return F(this,D2,KN).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!h(this,Tn).has(n))return St(`Optional content group not found: ${n}`),!0;if(h(this,Tn).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!h(this,Tn).has(n))return St(`Optional content group not found: ${n}`),!0;if(!h(this,Tn).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!h(this,Tn).has(n))return St(`Optional content group not found: ${n}`),!0;if(!h(this,Tn).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!h(this,Tn).has(n))return St(`Optional content group not found: ${n}`),!0;if(h(this,Tn).get(n).visible)return!1}return!0}return St(`Unknown optional content policy ${e.policy}.`),!0}return St(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var s;const i=h(this,Tn).get(e);if(!i){St(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=h(this,Tn).get(o))==null||s._setVisible(Cm,!1,!0));i._setVisible(Cm,!!n,!0),C(this,cd,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=h(this,Tn).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}C(this,cd,null)}get hasInitialVisibility(){return h(this,rv)===null||this.getHash()===h(this,rv)}getOrder(){return h(this,Tn).size?h(this,iv)?h(this,iv).slice():[...h(this,Tn).keys()]:null}getGroup(e){return h(this,Tn).get(e)||null}getHash(){if(h(this,cd)!==null)return h(this,cd);const e=new pW;for(const[n,r]of h(this,Tn))e.update(`${n}:${r.visible}`);return C(this,cd,e.hexdigest())}[Symbol.iterator](){return h(this,Tn).entries()}}cd=new WeakMap,Tn=new WeakMap,rv=new WeakMap,iv=new WeakMap,D2=new WeakSet,KN=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=F(this,D2,KN).call(this,s);else if(h(this,Tn).has(s))a=h(this,Tn).get(s).visible;else return St(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class ASe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){Qt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Qt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,s;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Qt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new SSe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new ESe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class SSe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=iR(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ESe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function PSe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let u=o(n);return u=unescape(u),u=l(u),u=c(u),s(u)}if(n=a(t),n){const u=c(n);return s(u)}if(n=r("filename","i").exec(t),n){n=n[1];let u=o(n);return u=c(u),s(u)}function r(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(u,{fatal:!0}),p=Kx(d);d=f.decode(p),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,m,b,g]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[b,g]}const v=[];for(let m=0;m<d.length&&m in d;++m){let[b,g]=d[m];g=o(g),b&&(g=unescape(g),m===0&&(g=l(g))),v.push(g)}return v.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const f=u.slice(0,d),v=u.slice(d+1).replace(/^[^']*'/,"");return i(f,v)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,b){return String.fromCharCode(parseInt(b,16))}),i(f,v);try{v=atob(v)}catch{}return i(f,v)})}return""}function PW(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function hk(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function kW({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function TW(t){const e=t.get("Content-Disposition");if(e){let n=PSe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(iR(n))return n}return null}function Qx(t,e){return new fE(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function CW(t){return t===200||t===206}function OW(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function NW(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(St(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class kSe{constructor(e){Se(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=PW(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new TSe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new CSe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class TSe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,OW(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=hk(s.url),!CW(s.status))throw Qx(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=kW({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=TW(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Yd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:NW(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class CSe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,OW(s,this._withCredentials,this._abortController)).then(o=>{const l=hk(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!CW(o.status))throw Qx(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:NW(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const hC=200,dC=206;function OSe(t){const e=t.response;return typeof e!="string"?e:Kx(e).buffer}class NSe{constructor({url:e,httpHeaders:n,withCredentials:r}){Se(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=PW(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=dC):i.expectedStatus=hC,n.responseType="arraybuffer",Qt(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||hC;if(!(s===hC&&r.expectedStatus===dC)&&s!==r.expectedStatus){r.onError(i.status);return}const o=OSe(i);if(s===dC){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(St('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class LSe{constructor(e){this._source=e,this._manager=new NSe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Qt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ISe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new RSe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class ISe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=hk(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=kW({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=TW(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Qx(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class RSe{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=hk((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Qx(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const MSe=/^[a-z][a-z0-9\-+.]+:/i;function jSe(t){if(MSe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class DSe{constructor(e){this.source=e,this.url=jSe(e.url),Qt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new FSe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new $Se(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class FSe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Qx(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Yd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $Se{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const L1=Symbol("INITIAL_DATA");var ba,F2,XN;class LW{constructor(){j(this,F2);j(this,ba,Object.create(null))}get(e,n=null){if(n){const i=F(this,F2,XN).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=h(this,ba)[e];if(!r||r.data===L1)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=h(this,ba)[e];return!!n&&n.data!==L1}delete(e){const n=h(this,ba)[e];return!n||n.data===L1?!1:(delete h(this,ba)[e],!0)}resolve(e,n=null){const r=F(this,F2,XN).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in h(this,ba)){const{data:r}=h(this,ba)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}C(this,ba,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,ba)){const{data:n}=h(this,ba)[e];n!==L1&&(yield[e,n])}}}ba=new WeakMap,F2=new WeakSet,XN=function(e){var n;return(n=h(this,ba))[e]||(n[e]={...Promise.withResolvers(),data:L1})};const BSe=1e5,XF=30;var pB,ud,wa,$2,B2,Rp,Au,U2,z2,Mp,q2,sv,hd,av,H2,ov,jp,W2,V2,lv,Dp,G2,cv,uv,oh,IW,RW,YN,Wa,cA,JN,MW,jW;const Ui=class Ui{constructor({textContentSource:e,container:n,viewport:r}){j(this,oh);j(this,ud,Promise.withResolvers());j(this,wa,null);j(this,$2,!1);j(this,B2,!!((pB=globalThis.FontInspector)!=null&&pB.enabled));j(this,Rp,null);j(this,Au,null);j(this,U2,0);j(this,z2,0);j(this,Mp,null);j(this,q2,null);j(this,sv,0);j(this,hd,0);j(this,av,Object.create(null));j(this,H2,[]);j(this,ov,null);j(this,jp,[]);j(this,W2,new WeakMap);j(this,V2,null);var l;if(e instanceof ReadableStream)C(this,ov,e);else if(typeof e=="object")C(this,ov,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,wa,C(this,q2,n)),C(this,hd,r.scale*Ec.pixelRatio),C(this,sv,r.rotation),C(this,Au,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;C(this,V2,[1,0,0,-1,-a,o+s]),C(this,z2,i),C(this,U2,s),F(l=Ui,Wa,MW).call(l),n.style.setProperty("--min-font-size",h(Ui,cv)),Ig(n,r),h(this,ud).promise.finally(()=>{h(Ui,uv).delete(this),C(this,Au,null),C(this,av,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=yi.platform;return Et(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,Mp).read().then(({value:n,done:r})=>{if(r){h(this,ud).resolve();return}h(this,Rp)??C(this,Rp,n.lang),Object.assign(h(this,av),n.styles),F(this,oh,IW).call(this,n.items),e()},h(this,ud).reject)};return C(this,Mp,h(this,ov).getReader()),h(Ui,uv).add(this),e(),h(this,ud).promise}update({viewport:e,onBefore:n=null}){var s;const r=e.scale*Ec.pixelRatio,i=e.rotation;if(i!==h(this,sv)&&(n==null||n(),C(this,sv,i),Ig(h(this,q2),{rotation:i})),r!==h(this,hd)){n==null||n(),C(this,hd,r);const a={div:null,properties:null,ctx:F(s=Ui,Wa,cA).call(s,h(this,Rp))};for(const o of h(this,jp))a.properties=h(this,W2).get(o),a.div=o,F(this,oh,YN).call(this,a)}}cancel(){var n;const e=new Yd("TextLayer task cancelled.");(n=h(this,Mp))==null||n.cancel(e).catch(()=>{}),C(this,Mp,null),h(this,ud).reject(e)}get textDivs(){return h(this,jp)}get textContentItemsStr(){return h(this,H2)}static cleanup(){if(!(h(this,uv).size>0)){h(this,lv).clear();for(const{canvas:e}of h(this,Dp).values())e.remove();h(this,Dp).clear()}}};ud=new WeakMap,wa=new WeakMap,$2=new WeakMap,B2=new WeakMap,Rp=new WeakMap,Au=new WeakMap,U2=new WeakMap,z2=new WeakMap,Mp=new WeakMap,q2=new WeakMap,sv=new WeakMap,hd=new WeakMap,av=new WeakMap,H2=new WeakMap,ov=new WeakMap,jp=new WeakMap,W2=new WeakMap,V2=new WeakMap,lv=new WeakMap,Dp=new WeakMap,G2=new WeakMap,cv=new WeakMap,uv=new WeakMap,oh=new WeakSet,IW=function(e){var i,s;if(h(this,$2))return;(s=h(this,Au)).ctx??(s.ctx=F(i=Ui,Wa,cA).call(i,h(this,Rp)));const n=h(this,jp),r=h(this,H2);for(const a of e){if(n.length>BSe){St("Ignoring additional textDivs for performance reasons."),C(this,$2,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=h(this,wa);C(this,wa,document.createElement("span")),h(this,wa).classList.add("markedContent"),a.id&&h(this,wa).setAttribute("id",`${a.id}`),o.append(h(this,wa))}else a.type==="endMarkedContent"&&C(this,wa,h(this,wa).parentNode);continue}r.push(a.str),F(this,oh,RW).call(this,a)}},RW=function(e){var v;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,jp).push(n);const i=ze.transform(h(this,V2),e.transform);let s=Math.atan2(i[1],i[0]);const a=h(this,av)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=h(this,B2)&&a.fontSubstitution||a.fontFamily;o=Ui.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*F(v=Ui,Wa,jW).call(v,o,a,h(this,Rp));let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const f=n.style;f.left=`${(100*u/h(this,z2)).toFixed(2)}%`,f.top=`${(100*d/h(this,U2)).toFixed(2)}%`,f.setProperty("--font-height",`${l.toFixed(2)}px`),f.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,h(this,B2)&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const m=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);m!==b&&Math.max(m,b)/Math.min(m,b)>1.5&&(p=!0)}if(p&&(r.canvasWidth=a.vertical?e.height:e.width),h(this,W2).set(n,r),h(this,Au).div=n,h(this,Au).properties=r,F(this,oh,YN).call(this,h(this,Au)),r.hasText&&h(this,wa).append(n),r.hasEOL){const m=document.createElement("br");m.setAttribute("role","presentation"),h(this,wa).append(m)}},YN=function(e){var a;const{div:n,properties:r,ctx:i}=e,{style:s}=n;if(r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=r;F(a=Ui,Wa,JN).call(a,i,c*h(this,hd),o);const{width:u}=i.measureText(n.textContent);u>0&&s.setProperty("--scale-x",l*h(this,hd)/u)}r.angle!==0&&s.setProperty("--rotate",`${r.angle}deg`)},Wa=new WeakSet,cA=function(e=null){let n=h(this,Dp).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Dp).set(e,n),h(this,G2).set(n,{size:0,family:""})}return n},JN=function(e,n,r){const i=h(this,G2).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},MW=function(){if(h(this,cv)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),C(this,cv,e.getBoundingClientRect().height),e.remove()},jW=function(e,n,r){const i=h(this,lv).get(e);if(i)return i;const s=F(this,Wa,cA).call(this,r);s.canvas.width=s.canvas.height=XF,F(this,Wa,JN).call(this,s,XF,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(yi.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),h(this,lv).set(e,c),c},j(Ui,Wa),j(Ui,lv,new Map),j(Ui,Dp,new Map),j(Ui,G2,new WeakMap),j(Ui,cv,null),j(Ui,uv,new Set);let Bw=Ui;const USe=100;function DW(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new ZN,{docId:n}=e,r=t.url?KAe(t.url):null,i=t.data?XAe(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof FW?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let u=t.worker instanceof Uw?t.worker:null;const d=t.verbosity,f=typeof t.docBaseUrl=="string"&&!uk(t.docBaseUrl)?t.docBaseUrl:null,p=x5(t.cMapUrl),v=t.cMapPacked!==!1,m=t.CMapReaderFactory||(Cs?rSe:MF),b=x5(t.iccUrl),g=x5(t.standardFontDataUrl),w=t.StandardFontDataFactory||(Cs?iSe:jF),x=x5(t.wasmUrl),S=t.WasmFactory||(Cs?sSe:DF),A=t.stopAtErrors!==!0,E=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,T=t.isEvalSupported!==!1,L=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Cs,I=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Cs&&(yi.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,O=typeof t.disableFontFace=="boolean"?t.disableFontFace:Cs,M=t.fontExtraProperties===!0,z=t.enableXfa===!0,$=t.ownerDocument||globalThis.document,G=t.disableRange===!0,Y=t.disableStream===!0,Q=t.disableAutoFetch===!0,W=t.pdfBug===!0,re=t.CanvasFactory||(Cs?nSe:QAe),ce=t.FilterFactory||(Cs?tSe:eSe),ae=t.enableHWA===!0,D=t.useWasm!==!1,K=l?l.length:t.length??NaN,ee=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Cs&&!O,se=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(m===MF&&w===jF&&S===DF&&p&&g&&x&&W1(p,document.baseURI)&&W1(g,document.baseURI)&&W1(x,document.baseURI)),oe=null;xAe(d);const de={canvasFactory:new re({ownerDocument:$,enableHWA:ae}),filterFactory:new ce({docId:n,ownerDocument:$}),cMapReaderFactory:se?null:new m({baseUrl:p,isCompressed:v}),standardFontDataFactory:se?null:new w({baseUrl:g}),wasmFactory:se?null:new S({baseUrl:x})};u||(u=Uw.create({verbosity:d,port:gc.workerPort}),e._worker=u);const xe={docId:n,apiVersion:"5.4.530",data:i,password:o,disableAutoFetch:Q,rangeChunkSize:c,length:K,docBaseUrl:f,enableXfa:z,evaluatorOptions:{maxImageSize:E,disableFontFace:O,ignoreErrors:A,isEvalSupported:T,isOffscreenCanvasSupported:L,isImageDecoderSupported:I,canvasMaxAreaInBytes:q,fontExtraProperties:M,useSystemFonts:ee,useWasm:D,useWorkerFetch:se,cMapUrl:p,iccUrl:b,standardFontDataUrl:g,wasmUrl:x}},ue={ownerDocument:$,pdfBug:W,styleElement:oe,loadingParams:{disableAutoFetch:Q,enableXfa:z}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ye=u.messageHandler.sendWithPromise("GetDocRequest",xe,i?[i.buffer]:null);let _e;if(l)_e=new ASe(l,{disableRange:G,disableStream:Y});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const me=W1(r)?kSe:Cs?DSe:LSe;_e=new me({url:r,length:K,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:G,disableStream:Y})}return ye.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ie=new Q1(n,me,u.port),De=new HSe(Ie,e,_e,ue,de,ae);e._transport=De,Ie.send("Ready",null)})}).catch(e._capability.reject),e}var zE;const qE=class qE{constructor(){Se(this,"_capability",Promise.withResolvers());Se(this,"_transport",null);Se(this,"_worker",null);Se(this,"docId",`d${ai(qE,zE)._++}`);Se(this,"destroyed",!1);Se(this,"onPassword",null);Se(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};zE=new WeakMap,j(qE,zE,0);let ZN=qE;var Fp,K2,X2,Y2,J2;class FW{constructor(e,n,r=!1,i=null){j(this,Fp,Promise.withResolvers());j(this,K2,[]);j(this,X2,[]);j(this,Y2,[]);j(this,J2,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){h(this,J2).push(e)}addProgressListener(e){h(this,Y2).push(e)}addProgressiveReadListener(e){h(this,X2).push(e)}addProgressiveDoneListener(e){h(this,K2).push(e)}onDataRange(e,n){for(const r of h(this,J2))r(e,n)}onDataProgress(e,n){h(this,Fp).promise.then(()=>{for(const r of h(this,Y2))r(e,n)})}onDataProgressiveRead(e){h(this,Fp).promise.then(()=>{for(const n of h(this,X2))n(e)})}onDataProgressiveDone(){h(this,Fp).promise.then(()=>{for(const e of h(this,K2))e()})}transportReady(){h(this,Fp).resolve()}requestDataRange(e,n){Fn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Fp=new WeakMap,K2=new WeakMap,X2=new WeakMap,Y2=new WeakMap,J2=new WeakMap;class zSe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Et(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Su,$p,ib;class qSe{constructor(e,n,r,i=!1){j(this,$p);j(this,Su,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new TF:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new LW,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Yx({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Et(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:s=zh.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:v=null}){var I,q,O;(I=this._stats)==null||I.time("Overall");const m=this._transport.getRenderingIntent(i,s,d,f),{renderingIntent:b,cacheKey:g}=m;C(this,Su,!1),l||(l=this._transport.getOptionalContentConfig(b));let w=this._intentStates.get(g);w||(w=Object.create(null),this._intentStates.set(g,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const x=!!(b&Ra.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(q=this._stats)==null||q.time("Page Request"),this._pumpOperatorList(m));const S=!!(this._pdfBug&&((O=globalThis.StepperManager)!=null&&O.enabled)),A=!this.recordedBBoxes&&(p||S),E=M=>{var z,$;if(w.renderTasks.delete(T),A){const G=(z=T.gfx)==null?void 0:z.dependencyTracker.take();G&&(T.stepper&&T.stepper.setOperatorBBoxes(G,T.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=G))}x&&C(this,Su,!0),F(this,$p,ib).call(this),M?(T.capability.reject(M),this._abortOperatorList({intentState:w,reason:M instanceof Error?M:new Error(M)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),($=globalThis.Stats)!=null&&$.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new QN({callback:E,params:{canvas:n,canvasContext:e,dependencyTracker:A?new oSe(n,w.operatorList.length,S):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:v});(w.renderTasks||(w.renderTasks=new Set)).add(T);const L=T.task;return Promise.all([w.displayReadyCapability.promise,l]).then(([M,z])=>{var $;if(this.destroyed){E();return}if(($=this._stats)==null||$.time("Rendering"),!(z.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:M,optionalContentConfig:z}),T.operatorListChanged()}).catch(E),L}getOperatorList({intent:e="display",annotationMode:n=zh.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>$w.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),C(this,Su,!1),Promise.all(e)}cleanup(e=!1){C(this,Su,!0);const n=F(this,$p,ib).call(this);return e&&n&&this._stats&&(this._stats=new TF),n}_startRenderPage(e,n){var i,s;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&F(this,$p,ib).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();F(this,$p,ib).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof rR){let i=USe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Yd(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Su=new WeakMap,$p=new WeakSet,ib=function(){if(!h(this,Su)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,Su,!1),!0};var dd,ol,Eu,Bp,HE,Up,zp,Is,uA,$W,BW,sb,hv,hA;const sr=class sr{constructor({name:e=null,port:n=null,verbosity:r=_Ae()}={}){j(this,Is);j(this,dd,Promise.withResolvers());j(this,ol,null);j(this,Eu,null);j(this,Bp,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(h(sr,zp).has(n))throw new Error("Cannot use more than one PDFWorker per port.");h(sr,zp).set(n,this),F(this,Is,$W).call(this,n)}else F(this,Is,BW).call(this)}get promise(){return h(this,dd).promise}get port(){return h(this,Eu)}get messageHandler(){return h(this,ol)}destroy(){var e,n;this.destroyed=!0,(e=h(this,Bp))==null||e.terminate(),C(this,Bp,null),h(sr,zp).delete(h(this,Eu)),C(this,Eu,null),(n=h(this,ol))==null||n.destroy(),C(this,ol,null)}static create(e){const n=h(this,zp).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new sr(e)}static get workerSrc(){if(gc.workerSrc)return gc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Et(this,"_setupFakeWorkerGlobal",(async()=>h(this,hv,hA)?h(this,hv,hA):(await import(this.workerSrc)).WorkerMessageHandler)())}};dd=new WeakMap,ol=new WeakMap,Eu=new WeakMap,Bp=new WeakMap,HE=new WeakMap,Up=new WeakMap,zp=new WeakMap,Is=new WeakSet,uA=function(){h(this,dd).resolve(),h(this,ol).send("configure",{verbosity:this.verbosity})},$W=function(e){C(this,Eu,e),C(this,ol,new Q1("main","worker",e)),h(this,ol).on("ready",()=>{}),F(this,Is,uA).call(this)},BW=function(){if(h(sr,Up)||h(sr,hv,hA)){F(this,Is,sb).call(this);return}let{workerSrc:e}=sr;try{sr._isSameOrigin(window.location,e)||(e=sr._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Q1("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?h(this,dd).reject(new Error("Worker was destroyed")):F(this,Is,sb).call(this)},s=new AbortController;n.addEventListener("error",()=>{h(this,Bp)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}C(this,ol,r),C(this,Eu,n),C(this,Bp,n),F(this,Is,uA).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{F(this,Is,sb).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{ck("The worker has been disabled.")}F(this,Is,sb).call(this)},sb=function(){h(sr,Up)||(St("Setting up fake worker."),C(sr,Up,!0)),sr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){h(this,dd).reject(new Error("Worker was destroyed"));return}const n=new ZAe;C(this,Eu,n);const r=`fake${ai(sr,HE)._++}`,i=new Q1(r+"_worker",r,n);e.setup(i,n),C(this,ol,new Q1(r,r+"_worker",n)),F(this,Is,uA).call(this)}).catch(e=>{h(this,dd).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},hv=new WeakSet,hA=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},j(sr,hv),j(sr,HE,0),j(sr,Up,!1),j(sr,zp,new WeakMap),Cs&&(C(sr,Up,!0),gc.workerSrc||(gc.workerSrc="./pdf.worker.mjs")),sr._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},sr._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},sr.fromPort=e=>{if(RAe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return sr.create(e)};let Uw=sr;var Pu,ic,dv,fv,ku,qp,ab;class HSe{constructor(e,n,r,i,s,a){j(this,qp);j(this,Pu,new Map);j(this,ic,new Map);j(this,dv,new Map);j(this,fv,new Map);j(this,ku,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new LW,this.fontLoader=new WAe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Et(this,"annotationStorage",new sR)}getRenderingIntent(e,n=zh.ENABLE,r=null,i=!1,s=!1){let a=Ra.DISPLAY,o=MN;switch(e){case"any":a=Ra.ANY;break;case"display":break;case"print":a=Ra.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Ra.PRINT&&r instanceof mW?r:this.annotationStorage;switch(n){case zh.DISABLE:a+=Ra.ANNOTATIONS_DISABLE;break;case zh.ENABLE:break;case zh.ENABLE_FORMS:a+=Ra.ANNOTATIONS_FORMS;break;case zh.ENABLE_STORAGE:a+=Ra.ANNOTATIONS_STORAGE,o=l.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=Ra.IS_EDITING),s&&(a+=Ra.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[a,o.hash,u];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=h(this,ku))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of h(this,ic).values())e.push(i._destroy());h(this,ic).clear(),h(this,dv).clear(),h(this,fv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Pu).clear(),this.filterFactory.destroy(),Bw.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Yd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{Qt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Qt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Qt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Qt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new zSe(r,this))}),e.on("DocException",r=>{n._capability.reject(Bs(r))}),e.on("PasswordRequest",r=>{C(this,ku,Promise.withResolvers());try{if(!n.onPassword)throw Bs(r);const i=s=>{s instanceof Error?h(this,ku).reject(s):h(this,ku).resolve({password:s})};n.onPassword(i,r.code)}catch(i){h(this,ku).reject(i)}return h(this,ku).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;h(this,ic).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const f=s.error;St(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const o=new jN(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,c=new VAe(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:u}=s;Qt(u,"The imageRef must be defined.");for(const f of h(this,ic).values())for(const[,p]of f.objs)if((p==null?void 0:p.ref)===u)return p.dataLen?(this.commonObjs.resolve(r,structuredClone(p)),p.dataLen):null;break;case"FontPath":this.commonObjs.resolve(r,new GAe(s));break;case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const d=new DN(s);this.commonObjs.resolve(r,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=h(this,ic).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=h(this,dv).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,fv).set(s.refStr,e);const a=new qSe(n,s,this,this._params.pdfBug);return h(this,ic).set(n,a),a});return h(this,dv).set(n,i),i}getPageIndex(e){return FN(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return F(this,qp,ab).call(this,"GetFieldObjects")}hasJSActions(){return F(this,qp,ab).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return F(this,qp,ab).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return F(this,qp,ab).call(this,"GetOptionalContentConfig").then(n=>new _Se(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=h(this,Pu).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new wSe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return h(this,Pu).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of h(this,ic).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,Pu).clear(),this.filterFactory.destroy(!0),Bw.cleanup()}}cachedPageNumber(e){if(!FN(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,fv).get(n)??null}}Pu=new WeakMap,ic=new WeakMap,dv=new WeakMap,fv=new WeakMap,ku=new WeakMap,qp=new WeakSet,ab=function(e,n=null){const r=h(this,Pu).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return h(this,Pu).set(e,i),i};var fd;class WSe{constructor(e){j(this,fd,null);Se(this,"onContinue",null);Se(this,"onError",null);C(this,fd,e)}get promise(){return h(this,fd).capability.promise}cancel(e=0){h(this,fd).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,fd).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=h(this,fd);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}fd=new WeakMap;var pd,Hp;const Vf=class Vf{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:v=null}){j(this,pd,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new WSe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var l,c;if(this.cancelled)return;if(this._canvas){if(h(Vf,Hp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Vf,Hp).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new p0(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),h(this,pd)&&(window.cancelAnimationFrame(h(this,pd)),C(this,pd,null)),h(Vf,Hp).delete(this._canvas),e||(e=new rR(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,pd,window.requestAnimationFrame(()=>{C(this,pd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Vf,Hp).delete(this._canvas),this.callback())))}};pd=new WeakMap,Hp=new WeakMap,j(Vf,Hp,new WeakSet);let QN=Vf;const VSe="5.4.530",GSe="50cc4adac";var xa,Wp,pv,fi,Z2,gv,Tu,Q2,gd,ll,ex,On,e4,t4,n4,Df,UW,Ih;const Us=class Us{constructor({editor:e=null,uiManager:n=null}){j(this,On);j(this,xa,null);j(this,Wp,null);j(this,pv);j(this,fi,null);j(this,Z2,!1);j(this,gv,!1);j(this,Tu,null);j(this,Q2);j(this,gd,null);j(this,ll,null);var r,i;e?(C(this,gv,!1),C(this,Tu,e)):C(this,gv,!0),C(this,ll,(e==null?void 0:e._uiManager)||n),C(this,Q2,h(this,ll)._eventBus),C(this,pv,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=h(this,ll))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(Us,ex)||C(Us,ex,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Et(this,"_keyboardManager",new Zx([[["Escape","mac+Escape"],Us.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Us.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Us.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Us.prototype._moveToPrevious],[["Home","mac+Home"],Us.prototype._moveToBeginning],[["End","mac+End"],Us.prototype._moveToEnd]]))}renderButton(){const e=C(this,xa,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",h(this,Tu)&&(e.ariaControls=`${h(this,Tu).id}_colorpicker_dropdown`);const n=h(this,ll)._signal;e.addEventListener("click",F(this,On,Df).bind(this),{signal:n}),e.addEventListener("keydown",F(this,On,n4).bind(this),{signal:n});const r=C(this,Wp,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=h(this,pv),e.append(r),e}renderMainDropdown(){const e=C(this,fi,F(this,On,e4).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===h(this,xa)){F(this,On,Df).call(this,e);return}const n=e.target.getAttribute("data-color");n&&F(this,On,t4).call(this,n,e)}_moveToNext(e){var n,r;if(!h(this,On,Ih)){F(this,On,Df).call(this,e);return}if(e.target===h(this,xa)){(n=h(this,fi).firstElementChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=h(this,fi))==null?void 0:n.firstElementChild)||e.target===h(this,xa)){h(this,On,Ih)&&this._hideDropdownFromKeyboard();return}h(this,On,Ih)||F(this,On,Df).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!h(this,On,Ih)){F(this,On,Df).call(this,e);return}(n=h(this,fi).firstElementChild)==null||n.focus()}_moveToEnd(e){var n;if(!h(this,On,Ih)){F(this,On,Df).call(this,e);return}(n=h(this,fi).lastElementChild)==null||n.focus()}hideDropdown(){var e,n;(e=h(this,fi))==null||e.classList.add("hidden"),h(this,xa).ariaExpanded="false",(n=h(this,gd))==null||n.abort(),C(this,gd,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,gv)){if(!h(this,On,Ih)){(e=h(this,Tu))==null||e.unselect();return}this.hideDropdown(),h(this,xa).focus({preventScroll:!0,focusVisible:h(this,Z2)})}}updateColor(e){if(h(this,Wp)&&(h(this,Wp).style.backgroundColor=e),!h(this,fi))return;const n=h(this,ll).highlightColors.values();for(const r of h(this,fi).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=h(this,xa))==null||e.remove(),C(this,xa,null),C(this,Wp,null),(n=h(this,fi))==null||n.remove(),C(this,fi,null)}};xa=new WeakMap,Wp=new WeakMap,pv=new WeakMap,fi=new WeakMap,Z2=new WeakMap,gv=new WeakMap,Tu=new WeakMap,Q2=new WeakMap,gd=new WeakMap,ll=new WeakMap,ex=new WeakMap,On=new WeakSet,e4=function(){const e=document.createElement("div"),n=h(this,ll)._signal;e.addEventListener("contextmenu",jo,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),h(this,Tu)&&(e.id=`${h(this,Tu).id}_colorpicker_dropdown`);for(const[r,i]of h(this,ll).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",h(Us,ex)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===h(this,pv),s.addEventListener("click",F(this,On,t4).bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",F(this,On,n4).bind(this),{signal:n}),e},t4=function(e,n){n.stopPropagation(),h(this,Q2).dispatch("switchannotationeditorparams",{source:this,type:Zt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},n4=function(e){Us._keyboardManager.exec(this,e)},Df=function(e){if(h(this,On,Ih)){this.hideDropdown();return}if(C(this,Z2,e.detail===0),h(this,gd)||(C(this,gd,new AbortController),window.addEventListener("pointerdown",F(this,On,UW).bind(this),{signal:h(this,ll).combinedSignal(h(this,gd))})),h(this,xa).ariaExpanded="true",h(this,fi)){h(this,fi).classList.remove("hidden");return}const n=C(this,fi,F(this,On,e4).call(this));h(this,xa).append(n)},UW=function(e){var n;(n=h(this,fi))!=null&&n.contains(e.target)||this.hideDropdown()},Ih=function(){return h(this,fi)&&!h(this,fi).classList.contains("hidden")},j(Us,ex,null);let wE=Us;var sc,tx,mv,nx;const Gf=class Gf{constructor(e){j(this,sc,null);j(this,tx,null);j(this,mv,null);C(this,tx,e),C(this,mv,e._uiManager),h(Gf,nx)||C(Gf,nx,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(h(this,sc))return h(this,sc);const{editorType:e,colorType:n,color:r}=h(this,tx),i=C(this,sc,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",h(Gf,nx)[e]),i.addEventListener("input",()=>{h(this,mv).updateParams(n,i.value)},{signal:h(this,mv)._signal}),i}update(e){h(this,sc)&&(h(this,sc).value=e)}destroy(){var e;(e=h(this,sc))==null||e.remove(),C(this,sc,null)}hideDropdown(){}};sc=new WeakMap,tx=new WeakMap,mv=new WeakMap,nx=new WeakMap,j(Gf,nx,null);let xE=Gf;function YF(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function I1(t){return Math.max(0,Math.min(255,255*t))}class JF{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=I1(e),[e,e,e]}static G_HTML([e]){const n=YF(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(I1)}static RGB_HTML(e){return`#${e.map(YF).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[I1(1-Math.min(1,e+i)),I1(1-Math.min(1,r+i)),I1(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class KSe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Fn("Abstract method `_createSVG` called.")}}class _E extends KSe{_createSVG(e){return document.createElementNS(Yc,e)}}const XSe=9,Mg=new WeakSet,YSe=new Date().getTimezoneOffset()*60*1e3;class fC{static create(e){switch(e.data.annotationType){case Gr.LINK:return new lR(e);case Gr.TEXT:return new ZSe(e);case Gr.WIDGET:switch(e.data.fieldType){case"Tx":return new QSe(e);case"Btn":return e.data.radioButton?new HW(e):e.data.checkBox?new tEe(e):new nEe(e);case"Ch":return new rEe(e);case"Sig":return new eEe(e)}return new Wg(e);case Gr.POPUP:return new i4(e);case Gr.FREETEXT:return new XW(e);case Gr.LINE:return new sEe(e);case Gr.SQUARE:return new aEe(e);case Gr.CIRCLE:return new oEe(e);case Gr.POLYLINE:return new YW(e);case Gr.CARET:return new cEe(e);case Gr.INK:return new cR(e);case Gr.POLYGON:return new lEe(e);case Gr.HIGHLIGHT:return new JW(e);case Gr.UNDERLINE:return new uEe(e);case Gr.SQUIGGLY:return new hEe(e);case Gr.STRIKEOUT:return new dEe(e);case Gr.STAMP:return new ZW(e);case Gr.FILEATTACHMENT:return new fEe(e);default:return new vr(e)}}}var Vp,vv,wo,rx,r4;const _R=class _R{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){j(this,rx);j(this,Vp,null);j(this,vv,!1);j(this,wo,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return _R._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((n==null?void 0:n.length)>=8){for(let l=0;l<n.length;l+=8)n[l+1]>a?(a=n[l+1],s=n[l+2]):n[l+1]===a&&(s=Math.max(s,n[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${Dw}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Dw}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=h(this,wo))==null?void 0:e.popup)||this.popup)==null||n.remove(),C(this,wo,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(h(this,Vp)||C(this,Vp,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&F(this,rx,r4).call(this,n);let i=((s=h(this,wo))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=h(this,wo).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),C(this,wo,null),this.popup=null))}resetEdited(){var e;h(this,Vp)&&(F(this,rx,r4).call(this,h(this,Vp).rect),(e=h(this,wo))==null||e.popup.resetEdited(),C(this,Vp,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof Wg)&&!(this instanceof lR)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof i4){const{rotation:m}=n;return!n.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const m=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(m>0||b>0){const w=`calc(${m}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof HW){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=w}switch(n.borderStyle.style){case Sm.SOLID:a.borderStyle="solid";break;case Sm.DASHED:a.borderStyle="dashed";break;case Sm.BEVELED:St("Unimplemented border style: beveled");break;case Sm.INSET:St("Unimplemented border style: inset");break;case Sm.UNDERLINE:a.borderBottomStyle="solid";break}const g=n.borderColor||null;g?(C(this,vv,!0),a.borderColor=ze.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):a.borderWidth=0}const c=ze.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:d,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(c[0]-f)/u}%`,a.top=`${100*(c[1]-p)/d}%`;const{rotation:v}=n;return n.hasOwnCanvas||v===0?(a.width=`${100*o/u}%`,a.height=`${100*l/d}%`):this.setRotation(v,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],o=s.slice(1);i.target.style[r]=JF[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:JF[`${a}_rgb`](o)})};return Et(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const s=e[i]||r[i];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,b,g,w]=e.subarray(2,6);if(i===m&&s===b&&n===g&&r===w)return}const{style:a}=this.container;let o;if(h(this,vv)){const{borderColor:m,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=u.createElement("defs");d.append(f);const p=u.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,b=e.length;m<b;m+=8){const g=e[m],w=e[m+1],x=e[m+2],S=e[m+3],A=u.createElement("rect"),E=(x-n)/l,T=(s-w)/c,L=(g-x)/l,I=(w-S)/c;A.setAttribute("x",E),A.setAttribute("y",T),A.setAttribute("width",L),A.setAttribute("height",I),p.append(A),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${T}" width="${L}" height="${I}"/>`)}h(this,vv)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),C(this,wo,new i4({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(h(this,wo)||this.popup||this.data.popupRef)}get extraPopupElement(){return h(this,wo)}render(){Fn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Mg.has(c)){St(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&Mg.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Vp=new WeakMap,vv=new WeakMap,wo=new WeakMap,rx=new WeakSet,r4=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-o)/s}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let vr=_R;class JSe extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Fa,Ff,zW,qW;class lR extends vr{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});j(this,Fa);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let s=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),s=!0):n.attachment?(F(this,Fa,zW).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),s=!0):n.setOCGState?(F(this,Fa,qW).call(this,i,n.setOCGState,n.overlaidText),s=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),s=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,Fa,Ff).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),F(this,Fa,Ff).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(n[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),F(this,Fa,Ff).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),F(this,Fa,Ff).call(this),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const v=this._fieldObjects[p]||[];for(const{id:m}of v)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const v of p)f.has(v.id)===o&&l.push(v)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;c.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!Mg.has(v)){St(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Fa=new WeakSet,Ff=function(){this.container.setAttribute("data-internal-link","")},zW=function(n,r,i="",s=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},F(this,Fa,Ff).call(this)},qW=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),F(this,Fa,Ff).call(this)};class ZSe extends vr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Wg extends vr{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return yi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,n,r,i){var s,a,o;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":ze.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||XSe,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(sC*i))||1,d=c/u;a=Math.min(i,l(d/sC))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/sC))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=ze.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class QSe extends Wg{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Mg.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:p}=this.data,v=!!f&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",b=>{e.setValue(n,{value:b.target.value}),this.setPropertyOnSiblings(r,"value",b.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",b=>{const g=this.data.defaultFieldValue??"";r.value=u.userValue=g,u.formattedValue=null});let m=b=>{const{formattedValue:g}=u;g!=null&&(b.target.value=g),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",g=>{var x;if(u.focused)return;const{target:w}=g;if(v&&(w.type=f,p&&(w.step=p)),u.userValue){const S=u.userValue;if(v)if(f==="time"){const A=new Date(S),E=[A.getHours(),A.getMinutes(),A.getSeconds()];w.value=E.map(T=>T.toString().padStart(2,"0")).join(":")}else w.value=new Date(S-YSe).toISOString().split(f==="date"?"T":".",1)[0];else w.value=S}u.lastCommittedValue=w.value,u.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const w={value(x){u.userValue=x.detail.value??"",v||e.setValue(n,{value:u.userValue.toString()}),x.target.value=u.userValue},formattedValue(x){const{formattedValue:S}=x.detail;u.formattedValue=S,S!=null&&x.target!==document.activeElement&&(x.target.value=S);const A={formattedValue:S};v&&(A.value=S),e.setValue(n,A)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var T;const{charLimit:S}=x.detail,{target:A}=x;if(S===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",S);let E=u.userValue;!E||E.length<=S||(E=E.slice(0,S),A.value=u.userValue=E,e.setValue(n,{value:E}),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(w,g)}),r.addEventListener("keydown",g=>{var S;u.commitKey=1;let w=-1;if(g.key==="Escape"?w=0:g.key==="Enter"&&!this.data.multiLine?w=2:g.key==="Tab"&&(u.commitKey=3),w===-1)return;const{value:x}=g.target;u.lastCommittedValue!==x&&(u.lastCommittedValue=x,u.userValue=x,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const b=m;m=null,r.addEventListener("blur",g=>{var S,A;if(!u.focused||!g.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(u.focused=!1);const{target:w}=g;let{value:x}=w;if(v){if(x&&f==="time"){const E=x.split(":").map(T=>parseInt(T,10));x=new Date(2e3,0,1,E[0],E[1],E[2]||0).valueOf(),w.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();w.type="text"}u.userValue=x,u.lastCommittedValue!==x&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:u.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),b(g)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",g=>{var I;u.lastCommittedValue=null;const{data:w,target:x}=g,{value:S,selectionStart:A,selectionEnd:E}=x;let T=A,L=E;switch(g.inputType){case"deleteWordBackward":{const q=S.substring(0,A).match(/\w*[^\w]*$/);q&&(T-=q[0].length);break}case"deleteWordForward":{const q=S.substring(A).match(/^[^\w]*\w*/);q&&(L+=q[0].length);break}case"deleteContentBackward":A===E&&(T-=1);break;case"deleteContentForward":A===E&&(L+=1);break}g.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,change:w||"",willCommit:!1,selStart:T,selEnd:L}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(m&&r.addEventListener("blur",m),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class eEe extends Wg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class tEe extends Wg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Mg.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const u=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class HW extends Wg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Mg.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=u&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class nEe extends lR{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class rEe extends Wg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Mg.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,r.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=o(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(f){a==null||a();const p=f.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=v.has(m.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,v=f.detail.remove;p[v].selected=!1,i.remove(v),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:v,exportValue:m}=f.detail.insert,b=i.children[p],g=document.createElement("option");g.textContent=v,g.value=m,b?b.before(g):i.append(g),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const v of p){const{displayValue:m,exportValue:b}=v,g=document.createElement("option");g.textContent=m,g.value=b,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const v of f.target.options)v.selected=p.has(v.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var p;const d=o(!0),f=o(!1);e.setValue(n,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var ix,s4;class i4 extends vr{constructor(n){const{data:r,elements:i,parent:s}=n,a=!!s._commentManager;super(n,{isRenderable:!a&&vr._hasPopupData(r)});j(this,ix);if(this.elements=i,a&&vr._hasPopupData(r)){const o=this.popup=F(this,ix,s4).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=F(this,ix,s4).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${Ym}${s}`).join(",")),this.container}}ix=new WeakSet,s4=function(){return new iEe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var _a,md,WE,VE,yv,bv,Sr,ac,vd,Gp,wv,xv,oc,Aa,Cu,Ou,Er,Nu,yd,sx,Lu,_v,Kp,bd,_i,wd,Ft,dA,a4,o4,l4,fA,c4,WW,VW,GW,KW,pA,gA,u4;class iEe{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:d,commentManager:f=null}){j(this,Ft);j(this,_a,null);j(this,md,F(this,Ft,GW).bind(this));j(this,WE,F(this,Ft,u4).bind(this));j(this,VE,F(this,Ft,gA).bind(this));j(this,yv,F(this,Ft,pA).bind(this));j(this,bv,null);j(this,Sr,null);j(this,ac,null);j(this,vd,null);j(this,Gp,null);j(this,wv,null);j(this,xv,null);j(this,oc,!1);j(this,Aa,null);j(this,Cu,null);j(this,Ou,null);j(this,Er,null);j(this,Nu,null);j(this,yd,null);j(this,sx,null);j(this,Lu,null);j(this,_v,null);j(this,Kp,null);j(this,bd,!1);j(this,_i,null);j(this,wd,null);C(this,Sr,e),C(this,_v,i),C(this,ac,a),C(this,Lu,o),C(this,wv,l),C(this,bv,n),C(this,sx,c),C(this,xv,u),C(this,Gp,r),C(this,_a,f),C(this,_i,r[0]),C(this,vd,pE.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),f||(F(this,Ft,dA).call(this),h(this,Sr).hidden=!0,d&&F(this,Ft,pA).call(this))}renderCommentButton(){if(h(this,Er)){h(this,Er).parentNode||h(this,_i).container.after(h(this,Er));return}if(h(this,Nu)||F(this,Ft,a4).call(this),!h(this,Nu))return;const{signal:e}=C(this,Cu,new AbortController),n=h(this,_i).hasOwnCommentButton,r=()=>{h(this,_a).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{h(this,_a).toggleCommentPopup(this,!1,!0,!n)},s=()=>{h(this,_a).toggleCommentPopup(this,!1,!1)};if(n){C(this,Er,h(this,_i).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",h(this,md),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=C(this,Er,document.createElement("button"));a.className="annotationCommentButton";const o=h(this,_i).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),F(this,Ft,l4).call(this),F(this,Ft,o4).call(this),a.addEventListener("keydown",h(this,md),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:n}=h(this,_i).commentData;return e?h(this,wv)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=h(this,Er))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}=h(this,_i).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return h(this,Er)}get comment(){return h(this,wd)||C(this,wd,h(this,_i).commentText),h(this,wd)}set comment(e){e!==this.comment&&(h(this,_i).commentText=C(this,wd,e))}focus(){var e;(e=h(this,_i).container)==null||e.focus()}get parentBoundingClientRect(){return h(this,_i).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){h(this,Er)&&(h(this,Er).classList.toggle("selected",e),h(this,Er).ariaExpanded=n)}setSelectedCommentButton(e){h(this,Er).classList.toggle("selected",e)}get commentPopupPosition(){if(h(this,yd))return h(this,yd);const{x:e,y:n,height:r}=h(this,Er).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=h(this,_i).layer.getBoundingClientRect();return[(e-i)/a,(n+r-s)/o]}set commentPopupPosition(e){C(this,yd,e)}hasDefaultPopupPosition(){return h(this,yd)===null}get commentButtonPosition(){return h(this,Nu)}get commentButtonWidth(){return h(this,Er).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=h(this,yd)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;h(this,_a).showDialog(null,this,s+n*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(h(this,Aa))return;const e=C(this,Aa,document.createElement("div"));if(e.className="popup",h(this,bv)){const s=e.style.outlineColor=ze.makeHexColor(...h(this,bv));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=h(this,_v))!=null&&r.str){const s=document.createElement("span");s.className="title",n.append(s),{dir:s.dir,str:s.textContent}=h(this,_v)}if(e.append(n),h(this,vd)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,vd).valueOf()})),s.dateTime=h(this,vd).toISOString(),n.append(s)}MH({html:h(this,Ft,fA)||h(this,ac).str,dir:(i=h(this,ac))==null?void 0:i.dir,className:"popupContent"},e),h(this,Sr).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(h(this,_a)){r?(this.remove(),C(this,wd,null)):n&&(n.deleted?this.remove():(F(this,Ft,l4).call(this),C(this,wd,n.text))),e&&(C(this,Nu,null),F(this,Ft,a4).call(this),F(this,Ft,o4).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}F(this,Ft,dA).call(this),h(this,Kp)||C(this,Kp,{contentsObj:h(this,ac),richText:h(this,Lu)}),e&&C(this,Ou,null),n&&n.text&&(C(this,Lu,F(this,Ft,VW).call(this,n.text)),C(this,vd,pE.toDateObject(n.date)),C(this,ac,null)),(i=h(this,Aa))==null||i.remove(),C(this,Aa,null)}resetEdited(){var e;h(this,Kp)&&({contentsObj:ai(this,ac)._,richText:ai(this,Lu)._}=h(this,Kp),C(this,Kp,null),(e=h(this,Aa))==null||e.remove(),C(this,Aa,null),C(this,Ou,null))}remove(){var e,n,r;if((e=h(this,Cu))==null||e.abort(),C(this,Cu,null),(n=h(this,Aa))==null||n.remove(),C(this,Aa,null),C(this,bd,!1),C(this,oc,!1),(r=h(this,Er))==null||r.remove(),C(this,Er,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){C(this,bd,this.isVisible),h(this,bd)&&(h(this,Sr).hidden=!0)}maybeShow(){h(this,_a)||(F(this,Ft,dA).call(this),h(this,bd)&&(h(this,Aa)||F(this,Ft,gA).call(this),C(this,bd,!1),h(this,Sr).hidden=!1))}get isVisible(){return h(this,_a)?!1:h(this,Sr).hidden===!1}}_a=new WeakMap,md=new WeakMap,WE=new WeakMap,VE=new WeakMap,yv=new WeakMap,bv=new WeakMap,Sr=new WeakMap,ac=new WeakMap,vd=new WeakMap,Gp=new WeakMap,wv=new WeakMap,xv=new WeakMap,oc=new WeakMap,Aa=new WeakMap,Cu=new WeakMap,Ou=new WeakMap,Er=new WeakMap,Nu=new WeakMap,yd=new WeakMap,sx=new WeakMap,Lu=new WeakMap,_v=new WeakMap,Kp=new WeakMap,bd=new WeakMap,_i=new WeakMap,wd=new WeakMap,Ft=new WeakSet,dA=function(){var n;if(h(this,Cu))return;C(this,Cu,new AbortController);const{signal:e}=h(this,Cu);for(const r of this.trigger)r.addEventListener("click",h(this,yv),{signal:e}),r.addEventListener("pointerenter",h(this,VE),{signal:e}),r.addEventListener("pointerleave",h(this,WE),{signal:e}),r.classList.add("popupTriggerArea");for(const r of h(this,Gp))(n=r.container)==null||n.addEventListener("keydown",h(this,md),{signal:e})},a4=function(){const e=h(this,Gp).find(n=>n.hasCommentButton);e&&C(this,Nu,e._normalizePoint(e.commentButtonPosition))},o4=function(){if(h(this,_i).extraPopupElement&&!h(this,_i).editor)return;h(this,Er)||this.renderCommentButton();const[e,n]=h(this,Nu),{style:r}=h(this,Er);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},l4=function(){h(this,_i).extraPopupElement||(h(this,Er)||this.renderCommentButton(),h(this,Er).style.backgroundColor=this.commentButtonColor||"")},fA=function(){const e=h(this,Lu),n=h(this,ac);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&h(this,Lu).html||null},c4=function(){var e,n,r;return((r=(n=(e=h(this,Ft,fA))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},WW=function(){var e,n,r;return((r=(n=(e=h(this,Ft,fA))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},VW=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:h(this,Ft,WW),fontSize:h(this,Ft,c4)?`calc(${h(this,Ft,c4)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r},GW=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,oc))&&F(this,Ft,pA).call(this)},KW=function(){if(h(this,Ou)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=h(this,wv);let a=!!h(this,xv),o=a?h(this,xv):h(this,sx);for(const v of h(this,Gp))if(!o||ze.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const l=ze.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,d=l[0]+u,f=l[1];C(this,Ou,[100*(d-i)/n,100*(f-s)/r]);const{style:p}=h(this,Sr);p.left=`${h(this,Ou)[0]}%`,p.top=`${h(this,Ou)[1]}%`},pA=function(){if(h(this,_a)){h(this,_a).toggleCommentPopup(this,!1);return}C(this,oc,!h(this,oc)),h(this,oc)?(F(this,Ft,gA).call(this),h(this,Sr).addEventListener("click",h(this,yv)),h(this,Sr).addEventListener("keydown",h(this,md))):(F(this,Ft,u4).call(this),h(this,Sr).removeEventListener("click",h(this,yv)),h(this,Sr).removeEventListener("keydown",h(this,md)))},gA=function(){h(this,Aa)||this.render(),this.isVisible?h(this,oc)&&h(this,Sr).classList.add("focused"):(F(this,Ft,KW).call(this),h(this,Sr).hidden=!1,h(this,Sr).style.zIndex=parseInt(h(this,Sr).style.zIndex)+1e3)},u4=function(){h(this,Sr).classList.remove("focused"),!(h(this,oc)||!this.isVisible)&&(h(this,Sr).hidden=!0,h(this,Sr).style.zIndex=parseInt(h(this,Sr).style.zIndex)-1e3)};class XW extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var ax;class sEe extends vr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,ax,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=C(this,ax,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),a.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),a.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),a.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),a.setAttribute("stroke-width",n.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,ax)}addHighlightArea(){this.container.classList.add("highlightArea")}}ax=new WeakMap;var ox;class aEe extends vr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,ox,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,o=C(this,ox,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,ox)}addHighlightArea(){this.container.classList.add("highlightArea")}}ox=new WeakMap;var lx;class oEe extends vr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,lx,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,o=C(this,lx,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,lx)}addHighlightArea(){this.container.classList.add("highlightArea")}}lx=new WeakMap;var cx;class YW extends vr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,cx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let d=0,f=r.length;d<f;d+=2){const p=r[d]-n[0],v=n[3]-r[d+1];c.push(`${p},${v}`)}c=c.join(" ");const u=C(this,cx,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,cx)}addHighlightArea(){this.container.classList.add("highlightArea")}}cx=new WeakMap;class lEe extends YW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class cEe extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var ux,Xp,hx,h4;class cR extends vr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,hx);j(this,ux,null);j(this,Xp,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:c}=F(this,hx,h4).call(this,r,n),u=this.svgFactory.create(l,c,!0),d=C(this,ux,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let f=0,p=i.length;f<p;f++){const v=this.svgFactory.createElement(this.svgElementName);h(this,Xp).push(v),v.setAttribute("points",i[f].join(",")),d.append(v)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:s}=n,a=h(this,ux);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=h(this,Xp).length;o<l;o++)h(this,Xp)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:c}=F(this,hx,h4).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return h(this,Xp)}addHighlightArea(){this.container.classList.add("highlightArea")}}ux=new WeakMap,Xp=new WeakMap,hx=new WeakSet,h4=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class JW extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class uEe extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class hEe extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class dEe extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class ZW extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var dx,fx,d4;class fEe extends vr{constructor(n){var i;super(n,{isRenderable:!0});j(this,fx);j(this,dx,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",F(this,fx,d4).bind(this)),C(this,dx,i);const{isMac:s}=yi.platform;return n.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&F(this,fx,d4).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return h(this,dx)}addHighlightArea(){this.container.classList.add("highlightArea")}}dx=new WeakMap,fx=new WeakSet,d4=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Yp,Jp,Av,xd,px,Zp,Sa,gx,Yu,mA,p4;const AR=class AR{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}){j(this,Yu);j(this,Yp,null);j(this,Jp,null);j(this,Av,null);j(this,xd,new Map);j(this,px,null);j(this,Zp,null);j(this,Sa,[]);j(this,gx,!1);this.div=e,C(this,Yp,n),C(this,Jp,r),C(this,px,o||null),C(this,Zp,c||null),C(this,Av,u||new sR),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return h(this,xd).size>0}async render(e){var o;const{annotations:n}=e,r=this.div;Ig(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:h(this,Zp),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new _E,annotationStorage:h(this,Av),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of n){if(l.noHTML)continue;const c=l.annotationType===Gr.POPUP;if(c){const f=i.get(l.id);if(!f)continue;if(!this._commentManager){s.push(l);continue}a.elements=f}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const u=fC.create(a);if(!u.isRenderable)continue;if(!c&&(h(this,Sa).push(u),l.popupRef)){const f=i.get(l.popupRef);f?f.push(u):i.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),u._isEditable&&(h(this,xd).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}await F(this,Yu,mA).call(this);for(const l of s){const c=a.elements=i.get(l.id);a.data=l;const u=fC.create(a);if(!u.isRenderable)continue;const d=u.render();u.contentElement.id=`${Ym}${l.id}`,l.hidden&&(d.style.visibility="hidden"),c.at(-1).container.after(d)}F(this,Yu,p4).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:h(this,Zp),svgFactory:new _E,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=AR._defaultBorderStyle),n.data=r;const i=fC.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${Ym}${r.id}`,h(this,Sa).push(i))}await F(this,Yu,mA).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,Ig(n,{rotation:e.rotation}),F(this,Yu,p4).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(h(this,xd).values())}getEditableAnnotation(e){return h(this,xd).get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,s=new JSe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:h(this,Zp),annotationStorage:h(this,Av)});return s.render(),s.contentElement.id=`${Ym}${r}`,s.createOrUpdatePopup(),h(this,Sa).push(s),s}removeAnnotation(e){var i;const n=h(this,Sa).findIndex(s=>s.data.id===e);if(n<0)return;const[r]=h(this,Sa).splice(n,1);(i=h(this,Yp))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);F(this,Yu,mA).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Et(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Sm.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Yp=new WeakMap,Jp=new WeakMap,Av=new WeakMap,xd=new WeakMap,px=new WeakMap,Zp=new WeakMap,Sa=new WeakMap,gx=new WeakMap,Yu=new WeakSet,mA=async function(){var r,i,s;if(h(this,Sa).length===0)return;this.div.replaceChildren();const e=[];if(!h(this,gx)){C(this,gx,!0);for(const{contentElement:a,data:{id:o}}of h(this,Sa)){const l=a.id=`${Ym}${o}`;e.push((r=h(this,px))==null?void 0:r.getAriaAttributes(l).then(c=>{if(c)for(const[u,d]of c)a.setAttribute(u,d)}))}}h(this,Sa).sort(({data:{rect:[a,o,l,c]}},{data:{rect:[u,d,f,p]}})=>{if(a===l&&o===c)return 1;if(u===f&&d===p)return-1;const v=c,m=o,b=(o+c)/2,g=p,w=d,x=(d+p)/2;if(b>=g&&x<=m)return-1;if(x>=v&&b<=w)return 1;const S=(a+l)/2,A=(u+f)/2;return S-A});const n=document.createDocumentFragment();for(const a of h(this,Sa))n.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&n.append(a.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),h(this,Yp))for(const a of h(this,Sa))h(this,Yp).addPointerInTextLayer(a.contentElement,!1)},p4=function(){var n;if(!h(this,Jp))return;const e=this.div;for(const[r,i]of h(this,Jp)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=h(this,xd).get(r);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}h(this,Jp).clear()};let f4=AR;const k5=/\r\n?|\n/g;var Ea,mx,Qp,Pa,Qr,QW,eV,tV,vA,Ju,yA,bA,nV,m4,rV;const Jn=class Jn extends Gn{constructor(n){super({...n,name:"freeTextEditor"});j(this,Qr);j(this,Ea,"");j(this,mx,`${this.id}-editor`);j(this,Qp,null);j(this,Pa);Se(this,"_colorPicker",null);this.color=n.color||Jn._defaultColor||Gn._defaultLineColor,C(this,Pa,n.fontSize||Jn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const n=Jn.prototype,r=a=>a.isEmpty(),i=Rg.TRANSLATE_SMALL,s=Rg.TRANSLATE_BIG;return Et(this,"_keyboardManager",new Zx([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(n,r){Gn.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Zt.FREETEXT_SIZE:Jn._defaultFontSize=r;break;case Zt.FREETEXT_COLOR:Jn._defaultColor=r;break}}updateParams(n,r){switch(n){case Zt.FREETEXT_SIZE:F(this,Qr,QW).call(this,r);break;case Zt.FREETEXT_COLOR:F(this,Qr,eV).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Zt.FREETEXT_SIZE,Jn._defaultFontSize],[Zt.FREETEXT_COLOR,Jn._defaultColor||Gn._defaultLineColor]]}get propertiesToUpdate(){return[[Zt.FREETEXT_SIZE,h(this,Pa)],[Zt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new xE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Zt.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-Jn._internalPadding*n,-(Jn._internalPadding+h(this,Pa))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,Qp,new AbortController);const n=this._uiManager.combinedSignal(h(this,Qp));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,mx)),this._isDraggable=!0,(n=h(this,Qp))==null||n.abort(),C(this,Qp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=h(this,Ea),r=C(this,Ea,F(this,Qr,tV).call(this).trimEnd());if(n===r)return;const i=s=>{if(C(this,Ea,s),!s){this.remove();return}F(this,Qr,bA).call(this),this._uiManager.rebuild(this),F(this,Qr,vA).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),F(this,Qr,vA).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Jn._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,mx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,Pa)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let v,m;switch(this.rotation){case 0:v=n+(o[0]-f)/u,m=r+this.height-(o[1]-p)/d;break;case 90:v=n+(o[0]-f)/u,m=r-(o[1]-p)/d,[l,c]=[c,-l];break;case 180:v=n-this.width+(o[0]-f)/u,m=r-(o[1]-p)/d,[l,c]=[-l,-c];break;case 270:v=n+(o[0]-f-this.height*d)/u,m=r+(o[1]-p-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(v*s,m*a,l,c)}else this._moveAfterPaste(n,r);F(this,Qr,bA).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var v,m,b;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const s=F(v=Jn,Ju,m4).call(v,r.getData("text")||"").replaceAll(k5,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(k5,"")),g!==this.editorDiv){let w=u;for(const x of this.editorDiv.childNodes){if(x===g){w=d;continue}w.push(F(m=Jn,Ju,yA).call(m,x))}}u.push(l.nodeValue.slice(0,c).replaceAll(k5,""))}else if(l===this.editorDiv){let g=u,w=0;for(const x of this.editorDiv.childNodes)w++===c&&(g=d),g.push(F(b=Jn,Ju,yA).call(b,x))}C(this,Ea,`${u.join(`
`)}${s}${d.join(`
`)}`),F(this,Qr,bA).call(this);const f=new Range;let p=Math.sumPrecise(u.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const w=g.nodeValue.length;if(p<=w){f.setStart(g,p),f.setEnd(g,p);break}p-=w}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=Jn._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var o;let s=null;if(n instanceof XW){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:f,popupRef:p,richText:v,contentsObj:m,creationDate:b,modificationDate:g},textContent:w,textPosition:x,parent:{page:{pageNumber:S}}}=n;if(!w||w.length===0)return null;s=n={annotationType:Nt.FREETEXT,color:Array.from(c),fontSize:l,value:w.join(`
`),position:x,pageIndex:S-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(m==null?void 0:m.str)||null,richText:v,creationDate:b,modificationDate:g}}const a=await super.deserialize(n,r,i);return C(a,Pa,n.fontSize),a.color=ze.makeHexColor(...n.color),C(a,Ea,F(o=Jn,Ju,m4).call(o,n.value)),a._initialData=s,n.comment&&a.setCommentData(n),a}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Gn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:h(this,Pa),value:F(this,Qr,nV).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!F(this,Qr,rV).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${h(this,Pa)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of h(this,Ea).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:h(this,Ea)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Ea=new WeakMap,mx=new WeakMap,Qp=new WeakMap,Pa=new WeakMap,Qr=new WeakSet,QW=function(n){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-h(this,Pa))*this.parentScale),C(this,Pa,s),F(this,Qr,vA).call(this)},i=h(this,Pa);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},eV=function(n){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},tV=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(n.push(F(i=Jn,Ju,yA).call(i,s)),r=s);return n.join(`
`)},vA=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Ju=new WeakSet,yA=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(k5,"")},bA=function(){if(this.editorDiv.replaceChildren(),!!h(this,Ea))for(const n of h(this,Ea).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},nV=function(){return h(this,Ea).replaceAll(""," ")},m4=function(n){return n.replaceAll(" ","")},rV=function(n){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,l)=>o!==s[l])||n.pageIndex!==a},j(Jn,Ju),Se(Jn,"_freeTextDefaultContent",""),Se(Jn,"_internalPadding",0),Se(Jn,"_defaultColor",null),Se(Jn,"_defaultFontSize",10),Se(Jn,"_type","freetext"),Se(Jn,"_editorType",Nt.FREETEXT);let g4=Jn;class He{toSVGPath(){Fn("Abstract method `toSVGPath` must be implemented.")}get box(){Fn("Abstract getter `box` must be implemented.")}serialize(e,n){Fn("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}Se(He,"PRECISION",1e-4);var ka,cl,Sv,Ev,lc,qt,eg,tg,vx,yx,Pv,kv,_d,bx,GE,KE,vi,ob,iV,sV,aV,oV,lV,cV;const ru=class ru{constructor({x:e,y:n},r,i,s,a,o=0){j(this,vi);j(this,ka);j(this,cl,[]);j(this,Sv);j(this,Ev);j(this,lc,[]);j(this,qt,new Float32Array(18));j(this,eg);j(this,tg);j(this,vx);j(this,yx);j(this,Pv);j(this,kv);j(this,_d,[]);C(this,ka,r),C(this,kv,s*i),C(this,Ev,a),h(this,qt).set([NaN,NaN,NaN,NaN,e,n],6),C(this,Sv,o),C(this,yx,h(ru,bx)*i),C(this,vx,h(ru,KE)*i),C(this,Pv,i),h(this,_d).push(e,n)}isEmpty(){return isNaN(h(this,qt)[8])}add({x:e,y:n}){var I;C(this,eg,e),C(this,tg,n);const[r,i,s,a]=h(this,ka);let[o,l,c,u]=h(this,qt).subarray(8,12);const d=e-c,f=n-u,p=Math.hypot(d,f);if(p<h(this,vx))return!1;const v=p-h(this,yx),m=v/p,b=m*d,g=m*f;let w=o,x=l;o=c,l=u,c+=b,u+=g,(I=h(this,_d))==null||I.push(e,n);const S=-g/v,A=b/v,E=S*h(this,kv),T=A*h(this,kv);return h(this,qt).set(h(this,qt).subarray(2,8),0),h(this,qt).set([c+E,u+T],4),h(this,qt).set(h(this,qt).subarray(14,18),12),h(this,qt).set([c-E,u-T],16),isNaN(h(this,qt)[6])?(h(this,lc).length===0&&(h(this,qt).set([o+E,l+T],2),h(this,lc).push(NaN,NaN,NaN,NaN,(o+E-r)/s,(l+T-i)/a),h(this,qt).set([o-E,l-T],14),h(this,cl).push(NaN,NaN,NaN,NaN,(o-E-r)/s,(l-T-i)/a)),h(this,qt).set([w,x,o,l,c,u],6),!this.isEmpty()):(h(this,qt).set([w,x,o,l,c,u],6),Math.abs(Math.atan2(x-l,w-o)-Math.atan2(g,b))<Math.PI/2?([o,l,c,u]=h(this,qt).subarray(2,6),h(this,lc).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+u)/2-i)/a),[o,l,w,x]=h(this,qt).subarray(14,18),h(this,cl).push(NaN,NaN,NaN,NaN,((w+o)/2-r)/s,((x+l)/2-i)/a),!0):([w,x,o,l,c,u]=h(this,qt).subarray(0,6),h(this,lc).push(((w+5*o)/6-r)/s,((x+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+u)/6-i)/a,((o+c)/2-r)/s,((l+u)/2-i)/a),[c,u,o,l,w,x]=h(this,qt).subarray(12,18),h(this,cl).push(((w+5*o)/6-r)/s,((x+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+u)/6-i)/a,((o+c)/2-r)/s,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,lc),n=h(this,cl);if(isNaN(h(this,qt)[6])&&!this.isEmpty())return F(this,vi,iV).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);F(this,vi,aV).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return F(this,vi,sV).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,s,a){return new uV(e,n,r,i,s,a)}getOutlines(){var d;const e=h(this,lc),n=h(this,cl),r=h(this,qt),[i,s,a,o]=h(this,ka),l=new Float32Array((((d=h(this,_d))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(h(this,_d)[f]-i)/a,l[f+1]=(h(this,_d)[f+1]-s)/o;if(l[l.length-2]=(h(this,eg)-i)/a,l[l.length-1]=(h(this,tg)-s)/o,isNaN(r[6])&&!this.isEmpty())return F(this,vi,oV).call(this,l);const c=new Float32Array(h(this,lc).length+24+h(this,cl).length);let u=e.length;for(let f=0;f<u;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}u=F(this,vi,cV).call(this,c,u);for(let f=n.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(n[f+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=n[f+p],c[u+1]=n[f+p+1],u+=2}return F(this,vi,lV).call(this,c,u),this.newFreeDrawOutline(c,l,h(this,ka),h(this,Pv),h(this,Sv),h(this,Ev))}};ka=new WeakMap,cl=new WeakMap,Sv=new WeakMap,Ev=new WeakMap,lc=new WeakMap,qt=new WeakMap,eg=new WeakMap,tg=new WeakMap,vx=new WeakMap,yx=new WeakMap,Pv=new WeakMap,kv=new WeakMap,_d=new WeakMap,bx=new WeakMap,GE=new WeakMap,KE=new WeakMap,vi=new WeakSet,ob=function(){const e=h(this,qt).subarray(4,6),n=h(this,qt).subarray(16,18),[r,i,s,a]=h(this,ka);return[(h(this,eg)+(e[0]-n[0])/2-r)/s,(h(this,tg)+(e[1]-n[1])/2-i)/a,(h(this,eg)+(n[0]-e[0])/2-r)/s,(h(this,tg)+(n[1]-e[1])/2-i)/a]},iV=function(){const[e,n,r,i]=h(this,ka),[s,a,o,l]=F(this,vi,ob).call(this);return`M${(h(this,qt)[2]-e)/r} ${(h(this,qt)[3]-n)/i} L${(h(this,qt)[4]-e)/r} ${(h(this,qt)[5]-n)/i} L${s} ${a} L${o} ${l} L${(h(this,qt)[16]-e)/r} ${(h(this,qt)[17]-n)/i} L${(h(this,qt)[14]-e)/r} ${(h(this,qt)[15]-n)/i} Z`},sV=function(e){const n=h(this,cl);e.push(`L${n[4]} ${n[5]} Z`)},aV=function(e){const[n,r,i,s]=h(this,ka),a=h(this,qt).subarray(4,6),o=h(this,qt).subarray(16,18),[l,c,u,d]=F(this,vi,ob).call(this);e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${l} ${c} L${u} ${d} L${(o[0]-n)/i} ${(o[1]-r)/s}`)},oV=function(e){const n=h(this,qt),[r,i,s,a]=h(this,ka),[o,l,c,u]=F(this,vi,ob).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(d,e,h(this,ka),h(this,Pv),h(this,Sv),h(this,Ev))},lV=function(e,n){const r=h(this,cl);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},cV=function(e,n){const r=h(this,qt).subarray(4,6),i=h(this,qt).subarray(16,18),[s,a,o,l]=h(this,ka),[c,u,d,f]=F(this,vi,ob).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],n),n+=24},j(ru,bx,8),j(ru,GE,2),j(ru,KE,h(ru,bx)+h(ru,GE));let AE=ru;var Tv,ng,Iu,wx,Ta,xx,Fr,XE,hV;class uV extends He{constructor(n,r,i,s,a,o){super();j(this,XE);j(this,Tv);j(this,ng,new Float32Array(4));j(this,Iu);j(this,wx);j(this,Ta);j(this,xx);j(this,Fr);C(this,Fr,n),C(this,Ta,r),C(this,Tv,i),C(this,xx,s),C(this,Iu,a),C(this,wx,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],F(this,XE,hV).call(this,o);const[l,c,u,d]=h(this,ng);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/u,n[f+1]=(n[f+1]-c)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/u,r[f+1]=(r[f+1]-c)/d}toSVGPath(){const n=[`M${h(this,Fr)[4]} ${h(this,Fr)[5]}`];for(let r=6,i=h(this,Fr).length;r<i;r+=6){if(isNaN(h(this,Fr)[r])){n.push(`L${h(this,Fr)[r+4]} ${h(this,Fr)[r+5]}`);continue}n.push(`C${h(this,Fr)[r]} ${h(this,Fr)[r+1]} ${h(this,Fr)[r+2]} ${h(this,Fr)[r+3]} ${h(this,Fr)[r+4]} ${h(this,Fr)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,s],a){const o=i-n,l=s-r;let c,u;switch(a){case 0:c=He._rescale(h(this,Fr),n,s,o,-l),u=He._rescale(h(this,Ta),n,s,o,-l);break;case 90:c=He._rescaleAndSwap(h(this,Fr),n,r,o,l),u=He._rescaleAndSwap(h(this,Ta),n,r,o,l);break;case 180:c=He._rescale(h(this,Fr),i,r,-o,l),u=He._rescale(h(this,Ta),i,r,-o,l);break;case 270:c=He._rescaleAndSwap(h(this,Fr),i,s,-o,-l),u=He._rescaleAndSwap(h(this,Ta),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return h(this,ng)}newOutliner(n,r,i,s,a,o=0){return new AE(n,r,i,s,a,o)}getNewOutline(n,r){const[i,s,a,o]=h(this,ng),[l,c,u,d]=h(this,Tv),f=a*u,p=o*d,v=i*u+l,m=s*d+c,b=this.newOutliner({x:h(this,Ta)[0]*f+v,y:h(this,Ta)[1]*p+m},h(this,Tv),h(this,xx),n,h(this,wx),r??h(this,Iu));for(let g=2;g<h(this,Ta).length;g+=2)b.add({x:h(this,Ta)[g]*f+v,y:h(this,Ta)[g+1]*p+m});return b.getOutlines()}}Tv=new WeakMap,ng=new WeakMap,Iu=new WeakMap,wx=new WeakMap,Ta=new WeakMap,xx=new WeakMap,Fr=new WeakMap,XE=new WeakSet,hV=function(n){const r=h(this,Fr);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,c=i,u=s;const d=n?Math.max:Math.min,f=new Float32Array(4);for(let v=6,m=r.length;v<m;v+=6){const b=r[v+4],g=r[v+5];isNaN(r[v])?(ze.pointBoundingBox(b,g,a),l>g?(o=b,l=g):l===g&&(o=d(o,b)),u<g?(c=b,u=g):u===g&&(c=d(c,b))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,ze.bezierBoundingBox(i,s,...r.slice(v,v+6),f),ze.rectBoundingBox(f[0],f[1],f[2],f[3],a),l>f[1]?(o=f[0],l=f[1]):l===f[1]&&(o=d(o,f[0])),u<f[3]?(c=f[2],u=f[3]):u===f[3]&&(c=d(c,f[2]))),i=b,s=g}const p=h(this,ng);p[0]=a[0]-h(this,Iu),p[1]=a[1]-h(this,Iu),p[2]=a[2]-a[0]+2*h(this,Iu),p[3]=a[3]-a[1]+2*h(this,Iu),this.firstPoint=[o,l],this.lastPoint=[c,u]};var _x,Ax,Sx,Ad,ul,Ms,dV,wA,fV,pV,y4;class v4{constructor(e,n=0,r=0,i=!0){j(this,Ms);j(this,_x);j(this,Ax);j(this,Sx);j(this,Ad,[]);j(this,ul,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:m,y:b,width:g,height:w}of e){const x=Math.floor((m-n)/a)*a,S=Math.ceil((m+g+n)/a)*a,A=Math.floor((b-n)/a)*a,E=Math.ceil((b+w+n)/a)*a,T=[x,A,E,!0],L=[S,A,E,!1];h(this,Ad).push(T,L),ze.rectBoundingBox(x,A,S,E,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,u=s[1]-r;let d=i?-1/0:1/0,f=1/0;const p=h(this,Ad).at(i?-1:-2),v=[p[0],p[2]];for(const m of h(this,Ad)){const[b,g,w,x]=m;!x&&i?g<f?(f=g,d=b):g===f&&(d=Math.max(d,b)):x&&!i&&(g<f?(f=g,d=b):g===f&&(d=Math.min(d,b))),m[0]=(b-c)/o,m[1]=(g-u)/l,m[2]=(w-u)/l}C(this,_x,new Float32Array([c,u,o,l])),C(this,Ax,[d,f]),C(this,Sx,v)}getOutlines(){h(this,Ad).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of h(this,Ad))n[3]?(e.push(...F(this,Ms,y4).call(this,n)),F(this,Ms,fV).call(this,n)):(F(this,Ms,pV).call(this,n),e.push(...F(this,Ms,y4).call(this,n)));return F(this,Ms,dV).call(this,e)}}_x=new WeakMap,Ax=new WeakMap,Sx=new WeakMap,Ad=new WeakMap,ul=new WeakMap,Ms=new WeakSet,dV=function(e){const n=[],r=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,u,d]=a;r.delete(a);let f=o,p=l;for(s=[o,c],i.push(s);;){let v;if(r.has(u))v=u;else if(r.has(d))v=d;else break;r.delete(v),[o,l,c,u,d]=v,f!==o&&(s.push(f,p,o,p===l?l:c),f=o),p=p===l?c:l}s.push(f,p)}return new pEe(i,h(this,_x),h(this,Ax),h(this,Sx))},wA=function(e){const n=h(this,ul);let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},fV=function([,e,n]){const r=F(this,Ms,wA).call(this,e);h(this,ul).splice(r,0,[e,n])},pV=function([,e,n]){const r=F(this,Ms,wA).call(this,e);for(let i=r;i<h(this,ul).length;i++){const[s,a]=h(this,ul)[i];if(s!==e)break;if(s===e&&a===n){h(this,ul).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=h(this,ul)[i];if(s!==e)break;if(s===e&&a===n){h(this,ul).splice(i,1);return}}},y4=function(e){const[n,r,i]=e,s=[[n,r,i]],a=F(this,Ms,wA).call(this,i);for(let o=0;o<a;o++){const[l,c]=h(this,ul)[o];for(let u=0,d=s.length;u<d;u++){const[,f,p]=s[u];if(!(c<=f||p<=l)){if(f>=l){if(p>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,p>c&&s.push([n,c,p])}}}return s};var Ex,Cv;class pEe extends He{constructor(n,r,i,s){super();j(this,Ex);j(this,Cv);C(this,Cv,n),C(this,Ex,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const n=[];for(const r of h(this,Cv)){let[i,s]=r;n.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(n.push(`V${l}`),s=l):l===s&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,s],a){const o=[],l=i-n,c=s-r;for(const u of h(this,Cv)){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=n+u[f]*l,d[f+1]=s-u[f+1]*c;o.push(d)}return o}get box(){return h(this,Ex)}get classNamesForOutlining(){return["highlightOutline"]}}Ex=new WeakMap,Cv=new WeakMap;class b4 extends AE{newFreeDrawOutline(e,n,r,i,s,a){return new gEe(e,n,r,i,s,a)}}class gEe extends uV{newOutliner(e,n,r,i,s,a=0){return new b4(e,n,r,i,s,a)}}var Ov,Px,Ru,rg,kx,Vs,Tx,Cx,ig,Ca,Oa,Wi,Nv,Lv,gs,Iv,xo,Ox,Dt,w4,xA,gV,mV,vV,x4,$f,Po,Om,yV,_A,AA,bV,wV,xV,_V,AV;const dn=class dn extends Gn{constructor(n){super({...n,name:"highlightEditor"});j(this,Dt);j(this,Ov,null);j(this,Px,0);j(this,Ru);j(this,rg,null);j(this,kx,null);j(this,Vs,null);j(this,Tx,null);j(this,Cx,0);j(this,ig,null);j(this,Ca,null);j(this,Oa,null);j(this,Wi,!1);j(this,Nv,null);j(this,Lv,null);j(this,gs,null);j(this,Iv,"");j(this,xo);j(this,Ox,"");this.color=n.color||dn._defaultColor,C(this,xo,n.thickness||dn._defaultThickness),this.opacity=n.opacity||dn._defaultOpacity,C(this,Ru,n.boxes||null),C(this,Ox,n.methodOfCreation||""),C(this,Iv,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(C(this,Wi,!0),F(this,Dt,xA).call(this,n),F(this,Dt,$f).call(this)):h(this,Ru)&&(C(this,Ov,n.anchorNode),C(this,Px,n.anchorOffset),C(this,Tx,n.focusNode),C(this,Cx,n.focusOffset),F(this,Dt,w4).call(this),F(this,Dt,$f).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=dn.prototype;return Et(this,"_keyboardManager",new Zx([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Wi)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:h(this,xo),methodOfCreation:h(this,Ox)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;Gn.initialize(n,r),dn._defaultColor||(dn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Zt.HIGHLIGHT_COLOR:dn._defaultColor=r;break;case Zt.HIGHLIGHT_THICKNESS:dn._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return h(this,Lv)}get commentButtonPosition(){return h(this,Nv)}updateParams(n,r){switch(n){case Zt.HIGHLIGHT_COLOR:F(this,Dt,gV).call(this,r);break;case Zt.HIGHLIGHT_THICKNESS:F(this,Dt,mV).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Zt.HIGHLIGHT_COLOR,dn._defaultColor],[Zt.HIGHLIGHT_THICKNESS,dn._defaultThickness]]}get propertiesToUpdate(){return[[Zt.HIGHLIGHT_COLOR,this.color||dn._defaultColor],[Zt.HIGHLIGHT_THICKNESS,h(this,xo)||dn._defaultThickness],[Zt.HIGHLIGHT_FREE,h(this,Wi)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(h(this,Oa),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=h(this,kx))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",C(this,kx,new wE({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,Dt,AA).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,F(this,Dt,AA).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){F(this,Dt,x4).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,Dt,$f).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?F(this,Dt,x4).call(this):n&&(F(this,Dt,$f).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var s,a,o;const{drawLayer:r}=this.parent;let i;h(this,Wi)?(n=(n-this.rotation+360)%360,i=F(s=dn,Po,Om).call(s,h(this,Ca).box,n)):i=F(a=dn,Po,Om).call(a,[this.x,this.y,this.width,this.height],n),r.updateProperties(h(this,Oa),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(h(this,gs),{bbox:F(o=dn,Po,Om).call(o,h(this,Vs).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();h(this,Iv)&&(n.setAttribute("aria-label",h(this,Iv)),n.setAttribute("role","mark")),h(this,Wi)?n.classList.add("free"):this.div.addEventListener("keydown",F(this,Dt,yV).bind(this),{signal:this._uiManager._signal});const r=C(this,ig,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=h(this,rg),this.setDims(),zH(this,h(this,ig),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(h(this,gs),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(h(this,gs),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:F(this,Dt,_A).call(this,!0);break;case 1:case 3:F(this,Dt,_A).call(this,!1);break}}select(){var n;super.select(),h(this,gs)&&((n=this.parent)==null||n.drawLayer.updateProperties(h(this,gs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),h(this,gs)&&((n=this.parent)==null||n.drawLayer.updateProperties(h(this,gs),{rootClass:{selected:!1}}),h(this,Wi)||F(this,Dt,_A).call(this,!1))}get _mustFixPosition(){return!h(this,Wi)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(h(this,Oa),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(h(this,gs),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,f=n.combinedSignal(d),p=v=>{d.abort(),F(this,Po,_V).call(this,n,v)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Nr,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",jo,{signal:f}),i.addEventListener("pointermove",F(this,Po,xV).bind(this,n),{signal:f}),this._freeHighlight=new b4({x:s,y:a},[o,l,c,u],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var m,b,g,w;let s=null;if(n instanceof JW){const{data:{quadPoints:x,rect:S,rotation:A,id:E,color:T,opacity:L,popupRef:I,richText:q,contentsObj:O,creationDate:M,modificationDate:z},parent:{page:{pageNumber:$}}}=n;s=n={annotationType:Nt.HIGHLIGHT,color:Array.from(T),opacity:L,quadPoints:x,boxes:null,pageIndex:$-1,rect:S.slice(0),rotation:A,annotationElementId:E,id:E,deleted:!1,popupRef:I,richText:q,comment:(O==null?void 0:O.str)||null,creationDate:M,modificationDate:z}}else if(n instanceof cR){const{data:{inkLists:x,rect:S,rotation:A,id:E,color:T,borderStyle:{rawWidth:L},popupRef:I,richText:q,contentsObj:O,creationDate:M,modificationDate:z},parent:{page:{pageNumber:$}}}=n;s=n={annotationType:Nt.HIGHLIGHT,color:Array.from(T),thickness:L,inkLists:x,boxes:null,pageIndex:$-1,rect:S.slice(0),rotation:A,annotationElementId:E,id:E,deleted:!1,popupRef:I,richText:q,comment:(O==null?void 0:O.str)||null,creationDate:M,modificationDate:z}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=n,u=await super.deserialize(n,r,i);u.color=ze.makeHexColor(...a),u.opacity=c||1,l&&C(u,xo,n.thickness),u._initialData=s,n.comment&&u.setCommentData(n);const[d,f]=u.pageDimensions,[p,v]=u.pageTranslation;if(o){const x=C(u,Ru,[]);for(let S=0;S<o.length;S+=8)x.push({x:(o[S]-p)/d,y:1-(o[S+1]-v)/f,width:(o[S+2]-o[S])/d,height:(o[S+1]-o[S+5])/f});F(m=u,Dt,w4).call(m),F(b=u,Dt,$f).call(b),u.rotate(u.rotation)}else if(l){C(u,Wi,!0);const x=l[0],S={x:x[0]-p,y:f-(x[1]-v)},A=new b4(S,[0,0,d,f],1,h(u,xo)/2,!0,.001);for(let L=0,I=x.length;L<I;L+=2)S.x=x[L]-p,S.y=f-(x[L+1]-v),A.add(S);const{id:E,clipPathId:T}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);F(g=u,Dt,xA).call(g,{highlightOutlines:A.getOutlines(),highlightId:E,clipPathId:T}),F(w=u,Dt,$f).call(w),u.rotate(u.parentRotation)}return u}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=Gn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:h(this,xo),quadPoints:F(this,Dt,bV).call(this),outlines:F(this,Dt,wV).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!F(this,Dt,AV).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ov=new WeakMap,Px=new WeakMap,Ru=new WeakMap,rg=new WeakMap,kx=new WeakMap,Vs=new WeakMap,Tx=new WeakMap,Cx=new WeakMap,ig=new WeakMap,Ca=new WeakMap,Oa=new WeakMap,Wi=new WeakMap,Nv=new WeakMap,Lv=new WeakMap,gs=new WeakMap,Iv=new WeakMap,xo=new WeakMap,Ox=new WeakMap,Dt=new WeakSet,w4=function(){const n=new v4(h(this,Ru),.001);C(this,Ca,n.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,Ca).box;const r=new v4(h(this,Ru),.0025,.001,this._uiManager.direction==="ltr");C(this,Vs,r.getOutlines());const{firstPoint:i}=h(this,Ca);C(this,Nv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=h(this,Vs);C(this,Lv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},xA=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var f,p;if(C(this,Ca,n),C(this,Vs,n.getNewOutline(h(this,xo)/2+1.5,.0025)),r>=0)C(this,Oa,r),C(this,rg,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),C(this,gs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,Vs).box,path:{d:h(this,Vs).toSVGPath()}},!0));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,Oa),{bbox:F(f=dn,Po,Om).call(f,h(this,Ca).box,(v-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,gs),{bbox:F(p=dn,Po,Om).call(p,h(this,Vs).box,v),path:{d:h(this,Vs).toSVGPath()}})}const[a,o,l,c]=n.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[v,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*m/v,this.height=c*v/m;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[v,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*m/v,this.height=c*v/m;break}}const{firstPoint:u}=n;C(this,Nv,[(u[0]-a)/l,(u[1]-o)/c]);const{lastPoint:d}=h(this,Vs);C(this,Lv,[(d[0]-a)/l,(d[1]-o)/c])},gV=function(n){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,n,dn._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},mV=function(n){const r=h(this,xo),i=s=>{C(this,xo,s),F(this,Dt,vV).call(this,s)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},vV=function(n){h(this,Wi)&&(F(this,Dt,xA).call(this,{highlightOutlines:h(this,Ca).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims())},x4=function(){h(this,Oa)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Oa)),C(this,Oa,null),this.parent.drawLayer.remove(h(this,gs)),C(this,gs,null))},$f=function(n=this.parent){h(this,Oa)===null&&({id:ai(this,Oa)._,clipPathId:ai(this,rg)._}=n.drawLayer.draw({bbox:h(this,Ca).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:h(this,Wi)},path:{d:h(this,Ca).toSVGPath()}},!1,!0),C(this,gs,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,Wi)},bbox:h(this,Vs).box,path:{d:h(this,Vs).toSVGPath()}},h(this,Wi))),h(this,ig)&&(h(this,ig).style.clipPath=h(this,rg)))},Po=new WeakSet,Om=function([n,r,i,s],a){switch(a){case 90:return[1-r-s,n,s,i];case 180:return[1-n-i,1-r-s,i,s];case 270:return[r,1-n-i,s,i]}return[n,r,i,s]},yV=function(n){dn._keyboardManager.exec(this,n)},_A=function(n){if(!h(this,Ov))return;const r=window.getSelection();n?r.setPosition(h(this,Ov),h(this,Px)):r.setPosition(h(this,Tx),h(this,Cx))},AA=function(){return h(this,Wi)?this.rotation:0},bV=function(){if(h(this,Wi))return null;const[n,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=h(this,Ru),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:d,height:f}of a){const p=c*n+i,v=(1-u)*r+s;o[l]=o[l+4]=p,o[l+1]=o[l+3]=v,o[l+2]=o[l+6]=p+d*n,o[l+5]=o[l+7]=v-f*r,l+=8}return o},wV=function(n){return h(this,Ca).serialize(n,F(this,Dt,AA).call(this))},xV=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},_V=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},AV=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,s)=>i!==r[s])},j(dn,Po),Se(dn,"_defaultColor",null),Se(dn,"_defaultOpacity",1),Se(dn,"_defaultThickness",12),Se(dn,"_type","highlight"),Se(dn,"_editorType",Nt.HIGHLIGHT),Se(dn,"_freeHighlightId",-1),Se(dn,"_freeHighlight",null),Se(dn,"_freeHighlightClipId","");let SE=dn;var sg;class SV{constructor(){j(this,sg,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){h(this,sg)[e]=n}toSVGProperties(){const e=h(this,sg);return C(this,sg,Object.create(null)),{root:e}}reset(){C(this,sg,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Fn("Not implemented")}}sg=new WeakMap;var Na,Rv,Ai,ag,og,on,_4,A4,S4,lb,EV,SA,cb,Nm;const Gt=class Gt extends Gn{constructor(n){super(n);j(this,on);j(this,Na,null);j(this,Rv);Se(this,"_colorPicker",null);Se(this,"_drawId",null);C(this,Rv,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(F(this,on,_4).call(this,n),F(this,on,lb).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(n[s],a):n[s]=a;return n}static getDefaultDrawingOptions(n){Fn("Not implemented")}static get typesMap(){Fn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(h(Gt,Ai).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)n.push([i,r[s]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)n.push([i,r[s]]);return n}_updateProperty(n,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var u;s.updateProperty(r,l);const c=h(this,Na).updateProperty(r,l);c&&F(this,on,cb).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Gt._mergeSVGProperties(h(this,Na).getPathResizingSVGProperties(F(this,on,SA).call(this)),{bbox:F(this,on,Nm).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Gt._mergeSVGProperties(h(this,Na).getPathResizedSVGProperties(F(this,on,SA).call(this)),{bbox:F(this,on,Nm).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:F(this,on,Nm).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Gt._mergeSVGProperties(h(this,Na).getPathTranslatedSVGProperties(F(this,on,SA).call(this),this.parentDimensions),{bbox:F(this,on,Nm).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,Rv)&&(C(this,Rv,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){F(this,on,S4).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,on,lb).call(this),F(this,on,cb).call(this,h(this,Na).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),F(this,on,S4).call(this)):n&&(this._uiManager.addShouldRescale(this),F(this,on,lb).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Gt._mergeSVGProperties({bbox:F(this,on,Nm).call(this)},h(this,Na).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&F(this,on,cb).call(this,h(this,Na).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,s,a){Fn("Not implemented")}static startDrawing(n,r,i,s){var b;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=s;if(us.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:d}}=n,{width:f,height:p}=a.getBoundingClientRect(),v=C(Gt,ag,new AbortController),m=n.combinedSignal(v);if(us.setPointer(u,c),window.addEventListener("pointerup",g=>{us.isSamePointerIdOrRemove(g.pointerId)&&this._endDraw(g)},{signal:m}),window.addEventListener("pointercancel",g=>{us.isSamePointerIdOrRemove(g.pointerId)&&this._currentParent.endDrawingSession()},{signal:m}),window.addEventListener("pointerdown",g=>{us.isSamePointerType(g.pointerType)&&(us.initializeAndAddPointerId(g.pointerId),h(Gt,Ai).isCancellable()&&(h(Gt,Ai).removeLastElement(),h(Gt,Ai).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",jo,{signal:m}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),a.addEventListener("touchmove",g=>{us.isSameTimeStamp(g.timeStamp)&&Nr(g)},{signal:m}),n.toggleDrawing(),(b=r._editorUndoBar)==null||b.hide(),h(Gt,Ai)){n.drawLayer.updateProperties(this._currentDrawId,h(Gt,Ai).startNew(o,l,f,p,d));return}r.updateUIForDefaultProperties(this),C(Gt,Ai,this.createDrawerInstance(o,l,f,p,d)),C(Gt,og,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(h(Gt,og).toSVGProperties(),h(Gt,Ai).defaultSVGProperties),!0,!1)}static _drawMove(n){if(us.isSameTimeStamp(n.timeStamp),!h(Gt,Ai))return;const{offsetX:r,offsetY:i,pointerId:s}=n;if(us.isSamePointerId(s)){if(us.isUsingMultiplePointers()){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(Gt,Ai).add(r,i)),us.setTimeStamp(n.timeStamp),Nr(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,C(Gt,Ai,null),C(Gt,og,null),us.clearTimeStamp()),h(Gt,ag)&&(h(Gt,ag).abort(),C(Gt,ag,null),us.clearPointerIds())}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,h(Gt,Ai).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=h(Gt,Ai),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Zt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Zt.DRAW_STEP),!h(Gt,Ai).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(Gt,Ai).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:h(Gt,og),mustBeCommitted:!n});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,s,a,o){Fn("Not implemented")}static async deserialize(n,r,i){var d,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,c=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,n),u=await super.deserialize(n,r,i);return u.createDrawingOptions(n),F(d=u,on,_4).call(d,{drawOutlines:c}),F(f=u,on,lb).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(n){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return h(this,Na).serialize([r,i,s,a],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Na=new WeakMap,Rv=new WeakMap,Ai=new WeakMap,ag=new WeakMap,og=new WeakMap,on=new WeakSet,_4=function({drawOutlines:n,drawId:r,drawingOptions:i}){C(this,Na,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=F(this,on,A4).call(this,n,this.parent),F(this,on,cb).call(this,n.box)},A4=function(n,r){const{id:i}=r.drawLayer.draw(Gt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},S4=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},lb=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=F(this,on,A4).call(this,h(this,Na),n)}},EV=function([n,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-n,i*(o/a),s*(a/o)];case 180:return[1-n,1-r,i,s];case 270:return[1-r,n,i*(o/a),s*(a/o)];default:return[n,r,i,s]}},SA=function(){const{x:n,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,n,i*(a/o),s*(o/a)];case 180:return[1-n,1-r,i,s];case 270:return[r,1-n,i*(a/o),s*(o/a)];default:return[n,r,i,s]}},cb=function(n){[this.x,this.y,this.width,this.height]=F(this,on,EV).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Nm=function(){const{x:n,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-r-s,n,s,i];case 2:return[1-n-i,1-r-s,i,s];case 3:return[r,1-n-i,s,i];case 4:return[n,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,n,i*(l/c),s*(c/l)];case 6:return[1-n-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-n-s*(c/l),i*(l/c),s*(c/l)];case 8:return[n-i,r-s,i,s];case 9:return[1-r,n-i,s,i];case 10:return[1-n,1-r,i,s];case 11:return[r-s,1-n,s,i];case 12:return[n-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),n-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-n,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-n,i*(l/c),s*(c/l)];default:return[n,r,i,s]}},Se(Gt,"_currentDrawId",-1),Se(Gt,"_currentParent",null),j(Gt,Ai,null),j(Gt,ag,null),j(Gt,og,null),Se(Gt,"_INNER_MARGIN",3);let EE=Gt;var cc,Si,Ei,lg,Mv,Ps,Vi,_o,cg,ug,hg,jv,EA;class mEe{constructor(e,n,r,i,s,a){j(this,jv);j(this,cc,new Float64Array(6));j(this,Si);j(this,Ei);j(this,lg);j(this,Mv);j(this,Ps);j(this,Vi,"");j(this,_o,0);j(this,cg,new e_);j(this,ug);j(this,hg);C(this,ug,r),C(this,hg,i),C(this,lg,s),C(this,Mv,a),[e,n]=F(this,jv,EA).call(this,e,n);const o=C(this,Si,[NaN,NaN,NaN,NaN,e,n]);C(this,Ps,[e,n]),C(this,Ei,[{line:o,points:h(this,Ps)}]),h(this,cc).set(o,0)}updateProperty(e,n){e==="stroke-width"&&C(this,Mv,n)}isEmpty(){return!h(this,Ei)||h(this,Ei).length===0}isCancellable(){return h(this,Ps).length<=10}add(e,n){[e,n]=F(this,jv,EA).call(this,e,n);const[r,i,s,a]=h(this,cc).subarray(2,6),o=e-s,l=n-a;return Math.hypot(h(this,ug)*o,h(this,hg)*l)<=2?null:(h(this,Ps).push(e,n),isNaN(r)?(h(this,cc).set([s,a,e,n],2),h(this,Si).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(h(this,cc)[0])&&h(this,Si).splice(6,6),h(this,cc).set([r,i,s,a,e,n],0),h(this,Si).push(...He.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(h(this,Ps).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){C(this,ug,r),C(this,hg,i),C(this,lg,s),[e,n]=F(this,jv,EA).call(this,e,n);const a=C(this,Si,[NaN,NaN,NaN,NaN,e,n]);C(this,Ps,[e,n]);const o=h(this,Ei).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),h(this,Ei).push({line:a,points:h(this,Ps)}),h(this,cc).set(a,0),C(this,_o,0),this.toSVGPath(),null}getLastElement(){return h(this,Ei).at(-1)}setLastElement(e){return h(this,Ei)?(h(this,Ei).push(e),C(this,Si,e.line),C(this,Ps,e.points),C(this,_o,0),{path:{d:this.toSVGPath()}}):h(this,cg).setLastElement(e)}removeLastElement(){if(!h(this,Ei))return h(this,cg).removeLastElement();h(this,Ei).pop(),C(this,Vi,"");for(let e=0,n=h(this,Ei).length;e<n;e++){const{line:r,points:i}=h(this,Ei)[e];C(this,Si,r),C(this,Ps,i),C(this,_o,0),this.toSVGPath()}return{path:{d:h(this,Vi)}}}toSVGPath(){const e=He.svgRound(h(this,Si)[4]),n=He.svgRound(h(this,Si)[5]);if(h(this,Ps).length===2)return C(this,Vi,`${h(this,Vi)} M ${e} ${n} Z`),h(this,Vi);if(h(this,Ps).length<=6){const i=h(this,Vi).lastIndexOf("M");C(this,Vi,`${h(this,Vi).slice(0,i)} M ${e} ${n}`),C(this,_o,6)}if(h(this,Ps).length===4){const i=He.svgRound(h(this,Si)[10]),s=He.svgRound(h(this,Si)[11]);return C(this,Vi,`${h(this,Vi)} L ${i} ${s}`),C(this,_o,12),h(this,Vi)}const r=[];h(this,_o)===0&&(r.push(`M ${e} ${n}`),C(this,_o,6));for(let i=h(this,_o),s=h(this,Si).length;i<s;i+=6){const[a,o,l,c,u,d]=h(this,Si).slice(i,i+6).map(He.svgRound);r.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}return C(this,Vi,h(this,Vi)+r.join(" ")),C(this,_o,h(this,Si).length),h(this,Vi)}getOutlines(e,n,r,i){const s=h(this,Ei).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),h(this,cg).build(h(this,Ei),e,n,r,h(this,lg),h(this,Mv),i),C(this,cc,null),C(this,Si,null),C(this,Ei,null),C(this,Vi,null),h(this,cg)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}cc=new WeakMap,Si=new WeakMap,Ei=new WeakMap,lg=new WeakMap,Mv=new WeakMap,Ps=new WeakMap,Vi=new WeakMap,_o=new WeakMap,cg=new WeakMap,ug=new WeakMap,hg=new WeakMap,jv=new WeakSet,EA=function(e,n){return He._normalizePoint(e,n,h(this,ug),h(this,hg),h(this,lg))};var ks,Nx,Lx,La,uc,hc,Dv,Fv,dg,Yi,Zc,PV,kV,TV;class e_ extends He{constructor(){super(...arguments);j(this,Yi);j(this,ks);j(this,Nx,0);j(this,Lx);j(this,La);j(this,uc);j(this,hc);j(this,Dv);j(this,Fv);j(this,dg)}build(n,r,i,s,a,o,l){C(this,uc,r),C(this,hc,i),C(this,Dv,s),C(this,Fv,a),C(this,dg,o),C(this,Lx,l??0),C(this,La,n),F(this,Yi,kV).call(this)}get thickness(){return h(this,dg)}setLastElement(n){return h(this,La).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,La).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of h(this,La)){if(n.push(`M${He.svgRound(r[4])} ${He.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${He.svgRound(r[10])} ${He.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,c,u,d]=r.subarray(i,i+6).map(He.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}}return n.join("")}serialize([n,r,i,s],a){const o=[],l=[],[c,u,d,f]=F(this,Yi,PV).call(this);let p,v,m,b,g,w,x,S,A;switch(h(this,Fv)){case 0:A=He._rescale,p=n,v=r+s,m=i,b=-s,g=n+c*i,w=r+(1-u-f)*s,x=n+(c+d)*i,S=r+(1-u)*s;break;case 90:A=He._rescaleAndSwap,p=n,v=r,m=i,b=s,g=n+u*i,w=r+c*s,x=n+(u+f)*i,S=r+(c+d)*s;break;case 180:A=He._rescale,p=n+i,v=r,m=-i,b=s,g=n+(1-c-d)*i,w=r+u*s,x=n+(1-c)*i,S=r+(u+f)*s;break;case 270:A=He._rescaleAndSwap,p=n+i,v=r+s,m=-i,b=-s,g=n+(1-u-f)*i,w=r+(1-c-d)*s,x=n+(1-u)*i,S=r+(1-c)*s;break}for(const{line:E,points:T}of h(this,La))o.push(A(E,p,v,m,b,a?new Array(E.length):null)),l.push(A(T,p,v,m,b,a?new Array(T.length):null));return{lines:o,points:l,rect:[g,w,x,S]}}static deserialize(n,r,i,s,a,{paths:{lines:o,points:l},rotation:c,thickness:u}){const d=[];let f,p,v,m,b;switch(c){case 0:b=He._rescale,f=-n/i,p=r/s+1,v=1/i,m=-1/s;break;case 90:b=He._rescaleAndSwap,f=-r/s,p=-n/i,v=1/s,m=1/i;break;case 180:b=He._rescale,f=n/i+1,p=-r/s,v=-1/i,m=1/s;break;case 270:b=He._rescaleAndSwap,f=r/s+1,p=n/i+1,v=-1/s,m=-1/i;break}if(!o){o=[];for(const w of l){const x=w.length;if(x===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const S=new Float32Array(3*(x-2));o.push(S);let[A,E,T,L]=w.subarray(0,4);S.set([NaN,NaN,NaN,NaN,A,E],0);for(let I=4;I<x;I+=2){const q=w[I],O=w[I+1];S.set(He.createBezierPoints(A,E,T,L,q,O),(I-2)*3),[A,E,T,L]=[T,L,q,O]}}}for(let w=0,x=o.length;w<x;w++)d.push({line:b(o[w].map(S=>S??NaN),f,p,v,m),points:b(l[w].map(S=>S??NaN),f,p,v,m)});const g=new this.prototype.constructor;return g.build(d,i,s,1,c,u,a),g}get box(){return h(this,ks)}updateProperty(n,r){return n==="stroke-width"?F(this,Yi,TV).call(this,r):null}updateParentDimensions([n,r],i){const[s,a]=F(this,Yi,Zc).call(this);C(this,uc,n),C(this,hc,r),C(this,Dv,i);const[o,l]=F(this,Yi,Zc).call(this),c=o-s,u=l-a,d=h(this,ks);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(n){return C(this,Nx,n),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,ks).map(He.svgRound).join(" ")}get defaultProperties(){const[n,r]=h(this,ks);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${He.svgRound(n)} ${He.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=h(this,ks);let i=0,s=0,a=0,o=0,l=0,c=0;switch(h(this,Nx)){case 90:s=r/n,a=-n/r,l=n;break;case 180:i=-1,o=-1,l=n,c=r;break;case 270:s=-r/n,a=n/r,c=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${He.svgRound(l)} ${He.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,s]){const[a,o]=F(this,Yi,Zc).call(this),[l,c,u,d]=h(this,ks);if(Math.abs(u-a)<=He.PRECISION||Math.abs(d-o)<=He.PRECISION){const b=n+i/2-(l+u/2),g=r+s/2-(c+d/2);return{path:{"transform-origin":`${He.svgRound(n)} ${He.svgRound(r)}`,transform:`${this.rotationTransform} translate(${b} ${g})`}}}const f=(i-2*a)/(u-2*a),p=(s-2*o)/(d-2*o),v=u/i,m=d/s;return{path:{"transform-origin":`${He.svgRound(l)} ${He.svgRound(c)}`,transform:`${this.rotationTransform} scale(${v} ${m}) translate(${He.svgRound(a)} ${He.svgRound(o)}) scale(${f} ${p}) translate(${He.svgRound(-a)} ${He.svgRound(-o)})`}}}getPathResizedSVGProperties([n,r,i,s]){const[a,o]=F(this,Yi,Zc).call(this),l=h(this,ks),[c,u,d,f]=l;if(l[0]=n,l[1]=r,l[2]=i,l[3]=s,Math.abs(d-a)<=He.PRECISION||Math.abs(f-o)<=He.PRECISION){const g=n+i/2-(c+d/2),w=r+s/2-(u+f/2);for(const{line:x,points:S}of h(this,La))He._translate(x,g,w,x),He._translate(S,g,w,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${He.svgRound(n)} ${He.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(d-2*a),v=(s-2*o)/(f-2*o),m=-p*(c+a)+n+a,b=-v*(u+o)+r+o;if(p!==1||v!==1||m!==0||b!==0)for(const{line:g,points:w}of h(this,La))He._rescale(g,m,b,p,v,g),He._rescale(w,m,b,p,v,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${He.svgRound(n)} ${He.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[s,a]=i,o=h(this,ks),l=n-o[0],c=r-o[1];if(h(this,uc)===s&&h(this,hc)===a)for(const{line:u,points:d}of h(this,La))He._translate(u,l,c,u),He._translate(d,l,c,d);else{const u=h(this,uc)/s,d=h(this,hc)/a;C(this,uc,s),C(this,hc,a);for(const{line:f,points:p}of h(this,La))He._rescale(f,l,c,u,d,f),He._rescale(p,l,c,u,d,p);o[2]*=u,o[3]*=d}return o[0]=n,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${He.svgRound(n)} ${He.svgRound(r)}`}}}get defaultSVGProperties(){const n=h(this,ks);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${He.svgRound(n[0])} ${He.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}ks=new WeakMap,Nx=new WeakMap,Lx=new WeakMap,La=new WeakMap,uc=new WeakMap,hc=new WeakMap,Dv=new WeakMap,Fv=new WeakMap,dg=new WeakMap,Yi=new WeakSet,Zc=function(n=h(this,dg)){const r=h(this,Lx)+n/2*h(this,Dv);return h(this,Fv)%180===0?[r/h(this,uc),r/h(this,hc)]:[r/h(this,hc),r/h(this,uc)]},PV=function(){const[n,r,i,s]=h(this,ks),[a,o]=F(this,Yi,Zc).call(this,0);return[n+a,r+o,i-2*a,s-2*o]},kV=function(){const n=C(this,ks,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of h(this,La)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)ze.pointBoundingBox(s[l],s[l+1],n);continue}let a=s[4],o=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,d,f,p,v,m]=s.subarray(l,l+6);ze.bezierBoundingBox(a,o,u,d,f,p,v,m,n),a=v,o=m}}const[r,i]=F(this,Yi,Zc).call(this);n[0]=Os(n[0]-r,0,1),n[1]=Os(n[1]-i,0,1),n[2]=Os(n[2]+r,0,1),n[3]=Os(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},TV=function(n){const[r,i]=F(this,Yi,Zc).call(this);C(this,dg,n);const[s,a]=F(this,Yi,Zc).call(this),[o,l]=[s-r,a-i],c=h(this,ks);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class dk extends SV{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Gn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new dk(this._viewParameters);return e.updateAll(this),e}}var YE,CV;const n0=class n0 extends EE{constructor(n){super({...n,name:"inkEditor"});j(this,YE);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){Gn.initialize(n,r),this._defaultDrawingOptions=new dk(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Et(this,"typesMap",new Map([[Zt.INK_THICKNESS,"stroke-width"],[Zt.INK_COLOR,"stroke"],[Zt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,s,a){return new mEe(n,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,s,a,o){return e_.deserialize(n,r,i,s,a,o)}static async deserialize(n,r,i){let s=null;if(n instanceof cR){const{data:{inkLists:o,rect:l,rotation:c,id:u,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:v,richText:m,contentsObj:b,creationDate:g,modificationDate:w},parent:{page:{pageNumber:x}}}=n;s=n={annotationType:Nt.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:x-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:v,richText:m,comment:(b==null?void 0:b.str)||null,creationDate:g,modificationDate:w}}const a=await super.deserialize(n,r,i);return a._initialData=s,n.comment&&a.setCommentData(n),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new xE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Zt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=n0.getDefaultDrawingOptions({stroke:ze.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(n),{color:Gn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),n?(l.isCopy=!0,l):this.annotationElementId&&!F(this,YE,CV).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};YE=new WeakSet,CV=function(n){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((o,l)=>o!==r[l])||n.thickness!==i||n.opacity!==s||n.pageIndex!==a},Se(n0,"_type","ink"),Se(n0,"_editorType",Nt.INK),Se(n0,"_defaultDrawingOptions",null);let E4=n0;class P4 extends e_{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const T5=8,R1=3;var fg,mn,k4,hl,OV,NV,T4,PA,LV,IV,RV,C4,O4,MV;class Bu{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,f=u.font=`${r} ${i} ${d}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:m,actualBoundingBoxDescent:b,fontBoundingBoxAscent:g,fontBoundingBoxDescent:w,width:x}=u.measureText(e),S=1.5,A=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,x)*S),E=Math.ceil(Math.max(Math.abs(m)+Math.abs(b)||d,Math.abs(g)+Math.abs(w)||d)*S);c=new OffscreenCanvas(A,E),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,A,E),u.fillStyle="black",u.fillText(e,A*(S-1)/2,E*(3-S)/2);const T=F(this,mn,C4).call(this,u.getImageData(0,0,A,E).data),L=F(this,mn,RV).call(this,T),I=F(this,mn,O4).call(this,L),q=F(this,mn,T4).call(this,T,A,E,I);return this.processDrawnLines({lines:{curves:q,width:A,height:E},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,o,l]=F(this,mn,MV).call(this,e),[c,u]=F(this,mn,IV).call(this,a,o,l,Math.hypot(o,l)*h(this,fg).sigmaSFactor,h(this,fg).sigmaR,h(this,fg).kernelSize),d=F(this,mn,O4).call(this,u),f=F(this,mn,T4).call(this,c,o,l,d);return this.processDrawnLines({lines:{curves:f,width:o,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,f=[],p=Math.min(n/c,r/u),v=p/n,m=p/r,b=[];for(const{points:w}of l){const x=a?F(this,mn,LV).call(this,w):w;if(!x)continue;b.push(x);const S=x.length,A=new Float32Array(S),E=new Float32Array(3*(S===2?2:S-2));if(f.push({line:E,points:A}),S===2){A[0]=x[0]*v,A[1]=x[1]*m,E.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[T,L,I,q]=x;T*=v,L*=m,I*=v,q*=m,A.set([T,L,I,q],0),E.set([NaN,NaN,NaN,NaN,T,L],0);for(let O=4;O<S;O+=2){const M=A[O]=x[O]*v,z=A[O+1]=x[O+1]*m;E.set(He.createBezierPoints(T,L,I,q,M,z),(O-2)*3),[T,L,I,q]=[I,q,M,z]}}if(f.length===0)return null;const g=o?new P4:new e_;return g.build(f,n,r,1,i,o?0:d,s),{outline:g,newCurves:b,areContours:o,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const x of e){l+=x.length;for(let S=2,A=x.length;S<A;S++){const E=x[S]-x[S-2];a=Math.min(a,E),o=Math.max(o,E)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=T5+R1*u,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=s,f[p++]=n?0:1,f[p++]=Math.max(0,Math.floor(r??0)),f[p++]=u,f[p++]=c.BYTES_PER_ELEMENT;for(const x of e)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const v=new CompressionStream("deflate-raw"),m=v.writable.getWriter();await m.ready,m.write(f);const b=c.prototype.constructor;for(const x of e){const S=new b(x.length-2);for(let A=2,E=x.length;A<E;A++)S[A-2]=x[A]-x[A-2];m.write(S)}m.close();const g=await new Response(v.readable).arrayBuffer(),w=new Uint8Array(g);return IH(w)}static async decompressSignature(e){try{const n=NAe(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const x of r)a||(a=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),a.set(x,o),o+=x.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],f=l[4]===0,p=l[5],v=l[6],m=l[7],b=[],g=(T5+R1*v)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(m){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,g);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,g);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,g);break}o=0;for(let x=0;x<v;x++){const S=l[R1*x+T5],A=new Float32Array(S+2);b.push(A);for(let E=0;E<R1-1;E++)A[E]=l[R1*x+T5+E+1];for(let E=0;E<S;E++)A[E+2]=A[E]+w[o++]}return{areContours:f,thickness:p,outlines:b,width:u,height:d}}catch(n){return St(`decompressSignature: ${n}`),null}}}fg=new WeakMap,mn=new WeakSet,k4=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},hl=new WeakMap,OV=function(e,n,r,i,s,a,o){const l=F(this,mn,k4).call(this,r,i,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,d=h(this,hl)[2*u],f=h(this,hl)[2*u+1];if(e[(r+d)*n+(i+f)]!==0)return u}return-1},NV=function(e,n,r,i,s,a,o){const l=F(this,mn,k4).call(this,r,i,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,d=h(this,hl)[2*u],f=h(this,hl)[2*u+1];if(e[(r+d)*n+(i+f)]!==0)return u}return-1},T4=function(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)a[u*n]=a[u*n+n-1]=0;for(let u=0;u<n;u++)a[u]=a[n*r-1-u]=0;let o=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let d=1;d<n-1;d++){const f=u*n+d,p=a[f];if(p===0)continue;let v=u,m=d;if(p===1&&a[f-1]===0)o+=1,m-=1;else if(p>=1&&a[f+1]===0)o+=1,m+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const b=[d,u],g=m===d+1,w={isHole:g,points:b,id:o,parent:0};c.push(w);let x;for(const O of c)if(O.id===l){x=O;break}x?x.isHole?w.parent=g?x.parent:l:w.parent=g?l:x.parent:w.parent=g?l:0;const S=F(this,mn,OV).call(this,a,n,u,d,v,m,0);if(S===-1){a[f]=-o,a[f]!==1&&(l=Math.abs(a[f]));continue}let A=h(this,hl)[2*S],E=h(this,hl)[2*S+1];const T=u+A,L=d+E;v=T,m=L;let I=u,q=d;for(;;){const O=F(this,mn,NV).call(this,a,n,I,q,v,m,1);A=h(this,hl)[2*O],E=h(this,hl)[2*O+1];const M=I+A,z=q+E;b.push(z,M);const $=I*n+q;if(a[$+1]===0?a[$]=-o:a[$]===1&&(a[$]=o),M===u&&z===d&&I===T&&q===L){a[f]!==1&&(l=Math.abs(a[f]));break}else v=I,m=q,I=M,q=z}}}return c},PA=function(e,n,r,i){if(r-n<=4){for(let T=n;T<r-2;T+=2)i.push(e[T],e[T+1]);return}const s=e[n],a=e[n+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),u=o/c,d=l/c,f=u*a-d*s,p=l/o,v=1/c,m=Math.atan(p),b=Math.cos(m),g=Math.sin(m),w=v*(Math.abs(b)+Math.abs(g)),x=v*(1-w+w**2),S=Math.max(Math.atan(Math.abs(g+b)*x),Math.atan(Math.abs(g-b)*x));let A=0,E=n;for(let T=n+2;T<r-2;T+=2){const L=Math.abs(f-u*e[T+1]+d*e[T]);L>A&&(E=T,A=L)}A>(c*S)**2?(F(this,mn,PA).call(this,e,n,E+2,i),F(this,mn,PA).call(this,e,E,r,i)):i.push(s,a)},LV=function(e){const n=[],r=e.length;return F(this,mn,PA).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},IV=function(e,n,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let m=0;m<a;m++){const b=(m-c)**2;for(let g=0;g<a;g++)o[m*a+g]=Math.exp((b+(g-c)**2)/l)}const u=new Float32Array(256),d=-2*s**2;for(let m=0;m<256;m++)u[m]=Math.exp(m**2/d);const f=e.length,p=new Uint8Array(f),v=new Uint32Array(256);for(let m=0;m<r;m++)for(let b=0;b<n;b++){const g=m*n+b,w=e[g];let x=0,S=0;for(let E=0;E<a;E++){const T=m+E-c;if(!(T<0||T>=r))for(let L=0;L<a;L++){const I=b+L-c;if(I<0||I>=n)continue;const q=e[T*n+I],O=o[E*a+L]*u[Math.abs(q-w)];x+=q*O,S+=O}}const A=p[g]=Math.round(x/S);v[A]++}return[p,v]},RV=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},C4=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},O4=function(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,o=n-1),r=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},MV=function(e){const n=e,{width:r,height:i}=e,{maxDim:s}=h(this,fg);let a=r,o=i;if(r>s||i>s){let f=r,p=i,v=Math.log2(Math.max(r,i)/s);const m=Math.floor(v);v=v===m?m-1:m;for(let g=0;g<v;g++){a=Math.ceil(f/2),o=Math.ceil(p/2);const w=new OffscreenCanvas(a,o);w.getContext("2d").drawImage(e,0,0,f,p,0,0,a,o),f=a,p=o,e!==n&&e.close(),e=w.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[F(this,mn,C4).call(this,u),a,o]},j(Bu,mn),j(Bu,fg,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),j(Bu,hl,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class uR extends SV{constructor(){super(),super.updateProperties({fill:Gn._defaultLineColor,"stroke-width":0})}clone(){const e=new uR;return e.updateAll(this),e}}class hR extends dk{constructor(e){super(e),super.updateProperties({stroke:Gn._defaultLineColor,"stroke-width":1})}clone(){const e=new hR(this._viewParameters);return e.updateAll(this),e}}var Sd,dc,Ed,pg;const fa=class fa extends EE{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});j(this,Sd,!1);j(this,dc,null);j(this,Ed,null);j(this,pg,null);this._willKeepAspectRatio=!0,C(this,Ed,n.signatureData||null),C(this,dc,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){Gn.initialize(n,r),this._defaultDrawingOptions=new uR,this._defaultDrawnSignatureOptions=new hR(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Et(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!h(this,dc)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(h(this,Ed)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:u}=h(this,Ed),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,v=Bu.processDrawnLines({lines:s,pageWidth:d,pageHeight:f,rotation:p,innerMargin:fa._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(v,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:h(this,dc)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){C(this,pg,n),this.addEditToolbar()}getUuid(){return h(this,pg)}get description(){return h(this,dc)}set description(n){C(this,dc,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:s,height:a}=h(this,Ed),o=Math.max(s,a),l=Bu.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,s){const{x:a,y:o}=this,{outline:l}=C(this,Ed,n);C(this,Sd,l instanceof P4),this.description=i;let c;h(this,Sd)?c=fa.getDefaultDrawingOptions():(c=fa._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let d=r/u;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Bu.process(n,r,i,s,fa._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Bu.extractContoursFromText(n,r,i,s,a,fa._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Bu.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:s,innerMargin:fa._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=fa.getDefaultDrawingOptions():(this._drawingOptions=fa._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(n),{isSignature:!0,areContours:h(this,Sd),color:[0,0,0],thickness:h(this,Sd)?0:s});return this.addComment(a),n?(a.paths={lines:r,points:i},a.uuid=h(this,pg),a.isCopy=!0):a.lines=r,h(this,dc)&&(a.accessibilityData={type:"Figure",alt:h(this,dc)}),a}static deserializeDraw(n,r,i,s,a,o){return o.areContours?P4.deserialize(n,r,i,s,a,o):e_.deserialize(n,r,i,s,a,o)}static async deserialize(n,r,i){var a;const s=await super.deserialize(n,r,i);return C(s,Sd,n.areContours),s.description=((a=n.accessibilityData)==null?void 0:a.alt)||"",C(s,pg,n.uuid),s}};Sd=new WeakMap,dc=new WeakMap,Ed=new WeakMap,pg=new WeakMap,Se(fa,"_type","signature"),Se(fa,"_editorType",Nt.SIGNATURE),Se(fa,"_defaultDrawingOptions",null);let N4=fa;var or,Pi,Pd,Mu,kd,$v,ju,gg,fc,Ia,Bv,cn,ub,hb,kA,TA,CA,I4,OA,jV;class L4 extends Gn{constructor(n){super({...n,name:"stampEditor"});j(this,cn);j(this,or,null);j(this,Pi,null);j(this,Pd,null);j(this,Mu,null);j(this,kd,null);j(this,$v,"");j(this,ju,null);j(this,gg,!1);j(this,fc,null);j(this,Ia,!1);j(this,Bv,!1);C(this,Mu,n.bitmapUrl),C(this,kd,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){Gn.initialize(n,r)}static isHandlingMimeForPasting(n){return vN.includes(n)}static paste(n,r){r.pasteEditor({mode:Nt.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;h(this,Pi)&&(C(this,or,null),this._uiManager.imageManager.deleteId(h(this,Pi)),(n=h(this,ju))==null||n.remove(),C(this,ju,null),h(this,fc)&&(clearTimeout(h(this,fc)),C(this,fc,null))),super.remove()}rebuild(){if(!this.parent){h(this,Pi)&&F(this,cn,kA).call(this);return}super.rebuild(),this.div!==null&&(h(this,Pi)&&h(this,ju)===null&&F(this,cn,kA).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(h(this,Pd)||h(this,or)||h(this,Mu)||h(this,kd)||h(this,Pi)||h(this,gg))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),h(this,gg)||(h(this,or)?F(this,cn,TA).call(this):F(this,cn,kA).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(C(this,Pi,i),s&&C(this,or,s),C(this,gg,!1),F(this,cn,TA).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,fc)!==null&&clearTimeout(h(this,fc)),C(this,fc,setTimeout(()=>{C(this,fc,null),F(this,cn,I4).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:s,height:a}=h(this,or),o=new Ec;let l=h(this,or),c=s,u=a,d=null;if(r){if(s>r||a>r){const T=Math.min(r/s,r/a);c=Math.floor(s*T),u=Math.floor(a*T)}d=document.createElement("canvas");const p=d.width=Math.ceil(c*o.sx),v=d.height=Math.ceil(u*o.sy);h(this,Ia)||(l=F(this,cn,CA).call(this,p,v));const m=d.getContext("2d");m.filter=this._uiManager.hcmFilter;let b="white",g="#cfcfd8";this._uiManager.hcmFilter!=="none"?g="black":DAe.isDarkMode&&(b="#8f8f9d",g="#42414d");const w=15,x=w*o.sx,S=w*o.sy,A=new OffscreenCanvas(x*2,S*2),E=A.getContext("2d");E.fillStyle=b,E.fillRect(0,0,x*2,S*2),E.fillStyle=g,E.fillRect(0,0,x,S),E.fillRect(x,S,x,S),m.fillStyle=m.createPattern(A,"repeat"),m.fillRect(0,0,p,v),m.drawImage(l,0,0,l.width,l.height,0,0,p,v)}let f=null;if(i){let p,v;if(o.symmetric&&l.width<n&&l.height<n)p=l.width,v=l.height;else if(l=h(this,or),s>n||a>n){const g=Math.min(n/s,n/a);p=Math.floor(s*g),v=Math.floor(a*g),h(this,Ia)||(l=F(this,cn,CA).call(this,p,v))}const b=new OffscreenCanvas(p,v).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,p,v),f={width:p,height:v,data:b.getImageData(0,0,p,v).data}}return{canvas:d,width:c,height:u,imageData:f}}static async deserialize(n,r,i){var b;let s=null,a=!1;if(n instanceof ZW){const{data:{rect:g,rotation:w,id:x,structParent:S,popupRef:A,richText:E,contentsObj:T,creationDate:L,modificationDate:I},container:q,parent:{page:{pageNumber:O}},canvas:M}=n;let z,$;M?(delete n.canvas,{id:z,bitmap:$}=i.imageManager.getFromCanvas(q.id,M),M.remove()):(a=!0,n._hasNoCanvas=!0);const G=((b=await r._structTree.getAriaAttributes(`${Ym}${x}`))==null?void 0:b.get("aria-label"))||"";s=n={annotationType:Nt.STAMP,bitmapId:z,bitmap:$,pageIndex:O-1,rect:g.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:S,popupRef:A,richText:E,comment:(T==null?void 0:T.str)||null,creationDate:L,modificationDate:I}}const o=await super.deserialize(n,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:f,accessibilityData:p}=n;a?(i.addMissingCanvas(n.id,o),C(o,gg,!0)):d&&i.imageManager.isValidId(d)?(C(o,Pi,d),c&&C(o,or,c)):C(o,Mu,u),C(o,Ia,f);const[v,m]=o.pageDimensions;return o.width=(l[2]-l[0])/v,o.height=(l[3]-l[1])/m,p&&(o.altTextData=p),o._initialData=s,n.comment&&o.setCommentData(n),C(o,Bv,!!s),o}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:h(this,Pi),isSvg:h(this,Ia)});if(this.addComment(i),n)return i.bitmapUrl=F(this,cn,OA).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=F(this,cn,jV).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=h(this,Ia)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(h(this,Pi)))r.stamps.set(h(this,Pi),{area:o,serialized:i}),i.bitmap=F(this,cn,OA).call(this,!1);else if(h(this,Ia)){const l=r.stamps.get(h(this,Pi));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=F(this,cn,OA).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}or=new WeakMap,Pi=new WeakMap,Pd=new WeakMap,Mu=new WeakMap,kd=new WeakMap,$v=new WeakMap,ju=new WeakMap,gg=new WeakMap,fc=new WeakMap,Ia=new WeakMap,Bv=new WeakMap,cn=new WeakSet,ub=function(n,r=!1){if(!n){this.remove();return}C(this,or,n.bitmap),r||(C(this,Pi,n.id),C(this,Ia,n.isSvg)),n.file&&C(this,$v,n.file.name),F(this,cn,TA).call(this)},hb=function(){if(C(this,Pd,null),this._uiManager.enableWaiting(!1),!!h(this,ju)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,or)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,or)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},kA=function(){if(h(this,Pi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Pi)).then(i=>F(this,cn,ub).call(this,i,!0)).finally(()=>F(this,cn,hb).call(this));return}if(h(this,Mu)){const i=h(this,Mu);C(this,Mu,null),this._uiManager.enableWaiting(!0),C(this,Pd,this._uiManager.imageManager.getFromUrl(i).then(s=>F(this,cn,ub).call(this,s)).finally(()=>F(this,cn,hb).call(this)));return}if(h(this,kd)){const i=h(this,kd);C(this,kd,null),this._uiManager.enableWaiting(!0),C(this,Pd,this._uiManager.imageManager.getFromFile(i).then(s=>F(this,cn,ub).call(this,s)).finally(()=>F(this,cn,hb).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=vN.join(",");const r=this._uiManager._signal;C(this,Pd,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,cn,ub).call(this,s)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>F(this,cn,hb).call(this))),n.click()},TA=function(){var c;const{div:n}=this;let{width:r,height:i}=h(this,or);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const u=Math.min(o*s/r,o*a/i);r*=u,i*=u}this._uiManager.enableWaiting(!1);const l=C(this,ju,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),F(this,cn,I4).call(this),h(this,Bv)||(this.parent.addUndoableEditor(this),C(this,Bv,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,$v)&&this.div.setAttribute("aria-description",h(this,$v)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},CA=function(n,r){const{width:i,height:s}=h(this,or);let a=i,o=s,l=h(this,or);for(;a>2*n||o>2*r;){const c=a,u=o;a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(l,0,0,c,u,0,0,a,o),l=d.transferToImageBitmap()}return l},I4=function(){const[n,r]=this.parentDimensions,{width:i,height:s}=this,a=new Ec,o=Math.ceil(i*n*a.sx),l=Math.ceil(s*r*a.sy),c=h(this,ju);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=h(this,Ia)?h(this,or):F(this,cn,CA).call(this,o,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,l)},OA=function(n){if(n){if(h(this,Ia)){const s=this._uiManager.imageManager.getSvgUrl(h(this,Pi));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=h(this,or),r.getContext("2d").drawImage(h(this,or),0,0),r.toDataURL()}if(h(this,Ia)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Jd.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Jd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(h(this,or),0,0,h(this,or).width,h(this,or).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(h(this,or))},jV=function(n){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=n.pageIndex===r,a=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Se(L4,"_type","stamp"),Se(L4,"_editorType",Nt.STAMP);var mg,Uv,Td,Cd,Du,Gs,Od,zv,qv,dl,Fu,ki,$u,Nd,Hv,Ze,Ld,jn,M4,DV,ql,j4,D4,NA;const Qo=class Qo{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){j(this,jn);j(this,mg);j(this,Uv,!1);j(this,Td,null);j(this,Cd,null);j(this,Du,null);j(this,Gs,new Map);j(this,Od,!1);j(this,zv,!1);j(this,qv,!1);j(this,dl,null);j(this,Fu,null);j(this,ki,null);j(this,$u,null);j(this,Nd,null);j(this,Hv,-1);j(this,Ze);const d=[...h(Qo,Ld).values()];if(!Qo._initialized){Qo._initialized=!0;for(const f of d)f.initialize(u,e)}e.registerEditorTypes(d),C(this,Ze,e),this.pageIndex=n,this.div=r,C(this,mg,s),C(this,Td,a),this.viewport=c,C(this,ki,l),this.drawLayer=o,this._structTree=i,h(this,Ze).addLayer(this)}get isEmpty(){return h(this,Gs).size===0}get isInvisible(){return this.isEmpty&&h(this,Ze).getMode()===Nt.NONE}updateToolbar(e){h(this,Ze).updateToolbar(e)}updateMode(e=h(this,Ze).getMode()){switch(F(this,jn,NA).call(this),e){case Nt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Nt.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of h(Qo,Ld).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=h(this,ki))==null?void 0:n.div)}setEditingState(e){h(this,Ze).setEditingState(e)}addCommands(e){h(this,Ze).addCommands(e)}cleanUndoStack(e){h(this,Ze).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=h(this,Td))==null||n.togglePointerEvents(e)}async enable(){var r;C(this,qv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=h(this,Nd))==null||r.abort(),C(this,Nd,null);const e=new Set;for(const i of h(this,jn,M4))i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,Ze).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=h(this,Td);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),h(this,Ze).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}C(this,qv,!1),h(this,Ze)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(C(this,zv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),h(this,ki)&&!h(this,Nd)){C(this,Nd,new AbortController);const s=h(this,Ze).combinedSignal(h(this,Nd));h(this,ki).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:u}=a,d=h(this,Hv);if(u-d>500){C(this,Hv,u);return}C(this,Hv,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(l,c);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let v;const m=new RegExp(`^${Dw}[0-9]+$`);for(const g of p)if(m.test(g.id)){v=g.id;break}if(!v)return;const b=h(this,Gs).get(v);(b==null?void 0:b.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:s,capture:!0})}const e=h(this,Td),n=[];if(e){const s=new Map,a=new Map;for(const l of h(this,jn,M4)){if(l.disableEditing(),!l.annotationElementId){n.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(h(this,Ze).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=a.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=s.get(c),u&&(h(this,Ze).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}F(this,jn,NA).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of h(Qo,Ld).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(n),C(this,zv,!1)}getEditableAnnotation(e){var n;return((n=h(this,Td))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,Ze).getActive()!==e&&h(this,Ze).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,ki))!=null&&e.div&&!h(this,$u)){C(this,$u,new AbortController);const n=h(this,Ze).combinedSignal(h(this,$u));h(this,ki).div.addEventListener("pointerdown",F(this,jn,DV).bind(this),{signal:n}),h(this,ki).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,ki))!=null&&e.div&&h(this,$u)&&(h(this,$u).abort(),C(this,$u,null),h(this,ki).div.classList.remove("highlighting"))}enableClick(){if(h(this,Cd))return;C(this,Cd,new AbortController);const e=h(this,Ze).combinedSignal(h(this,Cd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=h(this,Cd))==null||e.abort(),C(this,Cd,null)}attach(e){h(this,Gs).set(e.id,e);const{annotationElementId:n}=e;n&&h(this,Ze).isDeletedAnnotationElement(n)&&h(this,Ze).removeDeletedAnnotationElement(e)}detach(e){var n;h(this,Gs).delete(e.id),(n=h(this,mg))==null||n.removePointerInTextLayer(e.contentDiv),!h(this,zv)&&e.annotationElementId&&h(this,Ze).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,Ze).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,Ze).addDeletedAnnotationElement(e),Gn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,Ze).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!h(this,qv)),h(this,Ze).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!h(this,Du)&&(e._focusEventsAllowed=!1,C(this,Du,setTimeout(()=>{C(this,Du,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,Ze)._signal}),n.focus())},0))),e._structTreeParentId=(r=h(this,mg))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of h(this,Gs).values())if(n.uid===e)return n;return null}getNextId(){return h(this,Ze).getId()}combinedSignal(e){return h(this,Ze).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,jn,ql))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await h(this,Ze).updateMode(e.mode);const{offsetX:r,offsetY:i}=F(this,jn,D4).call(this),s=this.getNextId(),a=F(this,jn,j4).call(this,{parent:this,id:s,x:r,y:i,uiManager:h(this,Ze),isCentered:!0,...n});a&&this.add(a)}async deserialize(e){var n;return await((n=h(Qo,Ld).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,h(this,Ze)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=F(this,jn,j4).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:h(this,Ze),isCentered:n,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(F(this,jn,D4).call(this),!0,e)}setSelected(e){h(this,Ze).setSelected(e)}toggleSelected(e){h(this,Ze).toggleSelected(e)}unselect(e){h(this,Ze).unselect(e)}pointerup(e){var i;const{isMac:n}=yi.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!h(this,Od)||(C(this,Od,!1),(i=h(this,jn,ql))!=null&&i.isDrawer&&h(this,jn,ql).supportMultipleDrawings))return;if(!h(this,Uv)){C(this,Uv,!0);return}const r=h(this,Ze).getMode();if(r===Nt.STAMP||r===Nt.SIGNATURE){h(this,Ze).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(h(this,Ze).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),h(this,Od)){C(this,Od,!1);return}const{isMac:n}=yi.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(C(this,Od,!0),(i=h(this,jn,ql))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=h(this,Ze).getActive();C(this,Uv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),h(this,dl)){h(this,jn,ql).startDrawing(this,h(this,Ze),!1,e);return}h(this,Ze).setCurrentDrawingSession(this),C(this,dl,new AbortController);const n=h(this,Ze).combinedSignal(h(this,dl));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(C(this,Fu,null),this.commitOrRemove())},{signal:n}),h(this,jn,ql).startDrawing(this,h(this,Ze),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&C(this,Fu,n);return}h(this,Fu)&&setTimeout(()=>{var n;(n=h(this,Fu))==null||n.focus(),C(this,Fu,null)},0)}endDrawingSession(e=!1){return h(this,dl)?(h(this,Ze).setCurrentDrawingSession(null),h(this,dl).abort(),C(this,dl,null),C(this,Fu,null),h(this,jn,ql).endDrawing(e)):null}findNewParent(e,n,r){const i=h(this,Ze).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return h(this,dl)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,dl)&&h(this,jn,ql).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=h(this,Ze).getActive())==null?void 0:e.parent)===this&&(h(this,Ze).commitOrRemove(),h(this,Ze).setActiveEditor(null)),h(this,Du)&&(clearTimeout(h(this,Du)),C(this,Du,null));for(const r of h(this,Gs).values())(n=h(this,mg))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,h(this,Gs).clear(),h(this,Ze).removeLayer(this)}render({viewport:e}){this.viewport=e,Ig(this.div,e);for(const n of h(this,Ze).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){h(this,Ze).commitOrRemove(),F(this,jn,NA).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Ig(this.div,{rotation:r}),n!==r)for(const i of h(this,Gs).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return h(this,Ze).viewParameters.realScale}};mg=new WeakMap,Uv=new WeakMap,Td=new WeakMap,Cd=new WeakMap,Du=new WeakMap,Gs=new WeakMap,Od=new WeakMap,zv=new WeakMap,qv=new WeakMap,dl=new WeakMap,Fu=new WeakMap,ki=new WeakMap,$u=new WeakMap,Nd=new WeakMap,Hv=new WeakMap,Ze=new WeakMap,Ld=new WeakMap,jn=new WeakSet,M4=function(){return h(this,Gs).size!==0?h(this,Gs).values():h(this,Ze).getEditors(this.pageIndex)},DV=function(e){h(this,Ze).unselectAll();const{target:n}=e;if(n===h(this,ki).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&h(this,ki).div.contains(n)){const{isMac:r}=yi.platform;if(e.button!==0||e.ctrlKey&&r)return;h(this,Ze).showAllEditors("highlight",!0,!0),h(this,ki).div.classList.add("free"),this.toggleDrawing(),SE.startHighlighting(this,h(this,Ze).direction==="ltr",{target:h(this,ki).div,x:e.x,y:e.y}),h(this,ki).div.addEventListener("pointerup",()=>{h(this,ki).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,Ze)._signal}),e.preventDefault()}},ql=function(){return h(Qo,Ld).get(h(this,Ze).getMode())},j4=function(e){const n=h(this,jn,ql);return n?new n.prototype.constructor(e):null},D4=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+o)/2-e,u=(a+l)/2-n,[d,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:f}},NA=function(){for(const e of h(this,Gs).values())e.isEmpty()&&e.remove()},Se(Qo,"_initialized",!1),j(Qo,Ld,new Map([g4,E4,L4,SE,N4].map(e=>[e._editorType,e])));let R4=Qo;var fl,Ts,vg,Ix,JE,FV,Pc,$4,$V,B4;const hi=class hi{constructor({pageIndex:e}){j(this,Pc);j(this,fl,null);j(this,Ts,new Map);j(this,vg,new Map);this.pageIndex=e}setParent(e){if(!h(this,fl)){C(this,fl,e);return}if(h(this,fl)!==e){if(h(this,Ts).size>0)for(const n of h(this,Ts).values())n.remove(),e.append(n);C(this,fl,e)}}static get _svgFactory(){return Et(this,"_svgFactory",new _E)}draw(e,n=!1,r=!1){const i=ai(hi,Ix)._++,s=F(this,Pc,$4).call(this),a=hi._svgFactory.createElement("defs");s.append(a);const o=hi._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&h(this,vg).set(i,o);const c=r?F(this,Pc,$V).call(this,a,l):null,u=hi._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),h(this,Ts).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=ai(hi,Ix)._++,i=F(this,Pc,$4).call(this),s=hi._svgFactory.createElement("defs");i.append(s);const a=hi._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const d=hi._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=hi._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=hi._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=hi._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),h(this,Ts).set(r,i),r}finalizeDraw(e,n){h(this,vg).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,o=typeof e=="number"?h(this,Ts).get(e):e;if(o){if(r&&F(this,Pc,B4).call(this,o,r),i&&F(l=hi,JE,FV).call(l,o,i),s){const{classList:c}=o;for(const[u,d]of Object.entries(s))c.toggle(u,d)}if(a){const u=o.firstElementChild.firstElementChild;F(this,Pc,B4).call(this,u,a)}}}updateParent(e,n){if(n===this)return;const r=h(this,Ts).get(e);r&&(h(n,fl).append(r),h(this,Ts).delete(e),h(n,Ts).set(e,r))}remove(e){h(this,vg).delete(e),h(this,fl)!==null&&(h(this,Ts).get(e).remove(),h(this,Ts).delete(e))}destroy(){C(this,fl,null);for(const e of h(this,Ts).values())e.remove();h(this,Ts).clear(),h(this,vg).clear()}};fl=new WeakMap,Ts=new WeakMap,vg=new WeakMap,Ix=new WeakMap,JE=new WeakSet,FV=function(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Pc=new WeakSet,$4=function(){const e=hi._svgFactory.create(1,1,!0);return h(this,fl).append(e),e.setAttribute("aria-hidden",!0),e},$V=function(e,n){const r=hi._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=hi._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i},B4=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},j(hi,JE),j(hi,Ix,0);let F4=hi;globalThis._pdfjsTestingUtils={HighlightOutliner:v4};globalThis.pdfjsLib={AbortException:Yd,AnnotationEditorLayer:R4,AnnotationEditorParamsType:Zt,AnnotationEditorType:Nt,AnnotationEditorUIManager:Rg,AnnotationLayer:f4,AnnotationMode:zh,AnnotationType:Gr,applyOpacity:$Ae,build:GSe,ColorPicker:wE,createValidAbsoluteUrl:CH,CSSConstants:FAe,DOMSVGFactory:_E,DrawLayer:F4,FeatureTest:yi,fetchData:Xx,findContrastColor:BAe,getDocument:DW,getFilenameFromUrl:LAe,getPdfFilenameFromUrl:IAe,getRGB:Jx,getUuid:LH,getXfaPageViewport:MAe,GlobalWorkerOptions:gc,ImageKind:Z5,InvalidPDFException:gN,isDataScheme:uk,isPdfFile:iR,isValidExplicitDest:JAe,MathClamp:Os,noContextMenu:jo,normalizeUnicode:CAe,OPS:Fw,OutputScale:Ec,PasswordResponses:wAe,PDFDataRangeTransport:FW,PDFDateString:pE,PDFWorker:Uw,PermissionFlag:bAe,PixelsPerInch:Jd,RenderingCancelledException:rR,renderRichText:MH,ResponseException:fE,setLayerDimensions:Ig,shadow:Et,SignatureExtractor:Bu,stopEvent:Nr,SupportedImageMimeTypes:vN,TextLayer:Bw,TouchManager:mE,updateUrlHash:OH,Util:ze,VerbosityLevel:ok,version:VSe,XfaLayer:RH};const BV="5.4.530",vEe=`https://unpkg.com/pdfjs-dist@${BV}/build/pdf.worker.min.mjs`,yEe=`https://unpkg.com/pdfjs-dist@${BV}/standard_fonts/`;gc.workerSrc=vEe;class Fh extends Error{constructor(n,r,i){super(n);Se(this,"code");Se(this,"originalError");this.name="PdfExtractionError",this.code=r,this.originalError=i,Error.captureStackTrace&&Error.captureStackTrace(this,Fh)}}function bEe(t){return"str"in t&&typeof t.str=="string"}async function wEe(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{r.result instanceof ArrayBuffer?e(r.result):n(new Error("Failed to read file as ArrayBuffer"))},r.onerror=()=>{var i;n(new Error(`FileReader error: ${((i=r.error)==null?void 0:i.message)||"Unknown error"}`))},r.readAsArrayBuffer(t)})}function ZF(t){if(!t)return null;const e=t.match(/D:(\d{4})(\d{2})(\d{2})(\d{2})?(\d{2})?(\d{2})?/);if(e){const[,r,i,s,a="00",o="00",l="00"]=e;return new Date(parseInt(r),parseInt(i)-1,parseInt(s),parseInt(a),parseInt(o),parseInt(l))}const n=new Date(t);return isNaN(n.getTime())?null:n}function xEe(t,e){return e.normalizeWhitespace?t.replace(/[^\S\n]+/g," ").replace(/\n{3,}/g,`

`).split(`
`).map(n=>n.trim()).join(`
`).trim():t}function _Ee(t){return t.split(/\s+/).filter(e=>e.length>0).length}async function AEe(t,e){const n=await t.getTextContent(),r=[];let i=null;for(const s of n.items)if(bEe(s)){const a=s.transform[5];i!==null&&Math.abs(a-i)>5?r.push(e):r.length>0&&!r[r.length-1].endsWith(" ")&&r.push(" "),r.push(s.str),i=a}return r.join("")}async function SEe(t){try{const n=(await t.getMetadata()).info||{};return{title:n.Title||null,author:n.Author||null,subject:n.Subject||null,keywords:n.Keywords||null,creator:n.Creator||null,producer:n.Producer||null,creationDate:ZF(n.CreationDate),modificationDate:ZF(n.ModDate),pageCount:t.numPages,isEncrypted:n.IsEncrypted||!1,pdfVersion:n.PDFFormatVersion||null}}catch{return{title:null,author:null,subject:null,keywords:null,creator:null,producer:null,creationDate:null,modificationDate:null,pageCount:t.numPages,isEncrypted:!1,pdfVersion:null}}}function EEe(t){const e=(t==null?void 0:t.message)||String(t);return e.includes("Invalid PDF structure")||e.includes("Invalid XRef")?{code:"CORRUPTED_FILE",message:"The PDF file appears to be corrupted or has an invalid structure."}:e.includes("password")?e.includes("incorrect")||e.includes("wrong")?{code:"INCORRECT_PASSWORD",message:"The provided password is incorrect."}:{code:"PASSWORD_REQUIRED",message:"This PDF is password-protected. Please provide the password."}:e.includes("not a PDF")||e.includes("Invalid header")?{code:"INVALID_FILE",message:"The file does not appear to be a valid PDF document."}:e.includes("Worker")?{code:"WORKER_ERROR",message:"PDF processing worker failed to initialize."}:{code:"EXTRACTION_FAILED",message:`Failed to extract text from PDF: ${e}`}}async function PEe(t,e={}){var s,a,o,l;const n=performance.now(),r={password:e.password,maxPages:e.maxPages,skipEmptyPages:e.skipEmptyPages??!1,includePageNumbers:e.includePageNumbers??!1,pageSeparator:e.pageSeparator??`

`,lineSeparator:e.lineSeparator??`
`,normalizeWhitespace:e.normalizeWhitespace??!0,onProgress:e.onProgress};if((s=r.onProgress)==null||s.call(r,{currentPage:0,totalPages:0,percentage:0,status:"loading",message:"Loading PDF document..."}),!t)throw new Fh("No file provided","INVALID_FILE");if(t.type&&t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf"))throw new Fh("The provided file does not appear to be a PDF","INVALID_FILE");let i=null;try{const c=await wEe(t);if(c.byteLength===0)throw new Fh("The PDF file is empty","EMPTY_DOCUMENT");i=await DW({data:c,password:r.password,disableFontFace:!0,useSystemFonts:!1,standardFontDataUrl:yEe}).promise;const d=i.numPages,f=r.maxPages?Math.min(d,r.maxPages):d;if(d===0)throw new Fh("The PDF document has no pages","EMPTY_DOCUMENT");const p=await SEe(i),v=[],m=[];for(let A=1;A<=f;A++){(a=r.onProgress)==null||a.call(r,{currentPage:A,totalPages:f,percentage:Math.round(A/f*100),status:"extracting",message:`Extracting page ${A} of ${f}...`});try{const E=await i.getPage(A),T=E.getViewport({scale:1}),L=await AEe(E,r.lineSeparator),I={pageNumber:A,text:L,wordCount:_Ee(L),charCount:L.length,hasText:L.trim().length>0,width:T.width,height:T.height};v.push(I),(I.hasText||!r.skipEmptyPages)&&(r.includePageNumbers?m.push(`[Page ${A}]${r.lineSeparator}${L}`):m.push(L))}catch(E){console.warn(`Warning: Failed to extract text from page ${A}:`,E),v.push({pageNumber:A,text:"",wordCount:0,charCount:0,hasText:!1,width:0,height:0})}}let b=m.join(r.pageSeparator);b=xEe(b,r);const g=v.filter(A=>A.hasText).length,w=v.reduce((A,E)=>A+E.wordCount,0),x=v.reduce((A,E)=>A+E.charCount,0),S={totalPages:f,pagesWithText:g,pagesWithoutText:f-g,totalWords:w,totalCharacters:x,extractionTimeMs:Math.round(performance.now()-n),averageWordsPerPage:f>0?Math.round(w/f):0};return(o=r.onProgress)==null||o.call(r,{currentPage:f,totalPages:f,percentage:100,status:"complete",message:`Extraction complete. Found ${w} words across ${g} pages.`}),{text:b,metadata:p,pages:v,stats:S}}catch(c){if((l=r.onProgress)==null||l.call(r,{currentPage:0,totalPages:0,percentage:0,status:"error",message:c instanceof Error?c.message:"Unknown error occurred"}),c instanceof Fh)throw c;const{code:u,message:d}=EEe(c);throw new Fh(d,u,c instanceof Error?c:void 0)}finally{if(i)try{await i.destroy()}catch(c){console.warn("Warning: Failed to cleanup PDF document:",c)}}}async function UV(t){return(await PEe(t,{normalizeWhitespace:!0,skipEmptyPages:!0})).text}class kEe extends Error{constructor(n,r){super(n);Se(this,"code");this.name="ArbitrageError",this.code=r}}const zV=[{id:"firm-001",name:"Deloitte",tier:"big4",avgPremium:.12,winRate:.35,specializations:["R&D","ERC","179D","WOTC"],minDealSize:5e4,maxDealSize:1e7,isActive:!0},{id:"firm-002",name:"KPMG",tier:"big4",avgPremium:.1,winRate:.32,specializations:["R&D","ERC","State Credits"],minDealSize:75e3,maxDealSize:1e7,isActive:!0},{id:"firm-003",name:"EY",tier:"big4",avgPremium:.11,winRate:.3,specializations:["R&D","ERC","Green Energy"],minDealSize:5e4,maxDealSize:1e7,isActive:!0},{id:"firm-004",name:"PwC",tier:"big4",avgPremium:.13,winRate:.28,specializations:["R&D","ERC","M&A Credits"],minDealSize:1e5,maxDealSize:1e7,isActive:!0},{id:"firm-005",name:"RSM",tier:"national",avgPremium:.08,winRate:.42,specializations:["R&D","ERC","WOTC"],minDealSize:25e3,maxDealSize:2e6,isActive:!0},{id:"firm-006",name:"BDO",tier:"national",avgPremium:.07,winRate:.38,specializations:["R&D","ERC","Manufacturing"],minDealSize:25e3,maxDealSize:2e6,isActive:!0},{id:"firm-007",name:"Grant Thornton",tier:"national",avgPremium:.09,winRate:.36,specializations:["R&D","ERC","179D"],minDealSize:3e4,maxDealSize:3e6,isActive:!0},{id:"firm-008",name:"Moss Adams",tier:"regional",avgPremium:.06,winRate:.45,specializations:["R&D","Tech Credits"],minDealSize:15e3,maxDealSize:1e6,isActive:!0},{id:"firm-009",name:"CLA",tier:"regional",avgPremium:.05,winRate:.48,specializations:["R&D","ERC","Agriculture"],minDealSize:1e4,maxDealSize:1e6,isActive:!0},{id:"firm-010",name:"Plante Moran",tier:"regional",avgPremium:.055,winRate:.44,specializations:["R&D","Manufacturing"],minDealSize:15e3,maxDealSize:15e5,isActive:!0},{id:"firm-011",name:"Armanino",tier:"regional",avgPremium:.065,winRate:.4,specializations:["R&D","Tech","Startups"],minDealSize:1e4,maxDealSize:5e5,isActive:!0},{id:"firm-012",name:"Marcum",tier:"regional",avgPremium:.058,winRate:.41,specializations:["R&D","Real Estate"],minDealSize:2e4,maxDealSize:1e6,isActive:!0}];function TEe(t="GF"){const e=Date.now().toString(36).toUpperCase(),n=Math.random().toString(36).substring(2,8).toUpperCase();return`${t}-${e}-${n}`}function pC(t,e){return Math.random()*(e-t)+t}function LA(t,e){return Math.floor(Math.random()*(e-t+1))+t}function CEe(t){const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}function OEe(t){return zV.filter(e=>e.isActive&&t>=e.minDealSize&&t<=e.maxDealSize)}function NEe(){const t=LA(24,72);return new Date(Date.now()+t*60*60*1e3).toISOString()}function LEe(t,e){return t>=5e5&&(e==="big4"||e==="national")?"urgent":t>=2e5?"high":t>=5e4?"standard":"low"}function IEe(t,e={}){if(t<=0)throw new kEe("Deal value must be greater than 0","VALIDATION_ERROR");const{minBids:n=3,maxBids:r=5,minBidPercentage:i=.03,maxBidPercentage:s=.08,dealId:a=null,costBasis:o=t*.008}=e;let l=OEe(t);l.length===0&&(l=zV.filter(v=>v.isActive));const c=CEe(l),u=Math.min(LA(n,r),c.length),d=c.slice(0,u),f=new Date().toISOString();return d.map(v=>{const m=pC(i,s),b=v.avgPremium*pC(.5,1.5),g=Math.min(s*1.2,m+b),w=Math.round(t*g),x=w-o,S=o>0?x/o*100:0,A=TEe("BID");return{id:A,bidId:A,dealId:a,firmId:v.id,firmName:v.name,firmTier:v.tier,bidAmount:w,bidPercentage:Math.round(g*1e4)/100,status:"OPEN",priority:LEe(t,v.tier),expiresAt:NEe(),createdAt:f,metadata:{dealValue:t,spread:x,spreadPercentage:Math.round(S*100)/100,firmRating:Math.round(pC(3.5,5)*10)/10,estimatedCloseTime:v.tier==="big4"?LA(5,14):LA(3,10),terms:["Standard engagement letter required","Audit defense included for 3 years"]}}}).sort((v,m)=>m.bidAmount-v.bidAmount)}function PE(t){return t>=1e6?`$${(t/1e6).toFixed(2)}M`:t>=1e3?`$${(t/1e3).toFixed(1)}K`:`$${t.toLocaleString()}`}function REe(t){switch(t){case"big4":return"text-amber-400";case"national":return"text-cyan-400";case"regional":return"text-emerald-400";case"boutique":return"text-purple-400";default:return"text-slate-400"}}function MEe(t){switch(t){case"big4":return"BIG4";case"national":return"NATL";case"regional":return"RGNL";case"boutique":return"BTQE"}}const jEe="modulepreload",DEe=function(t){return"/"+t},QF={},gC=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=DEe(l),l in QF)return;QF[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":jEe,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function xn(t){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(t)}var El=Uint8Array,qa=Uint16Array,dR=Int32Array,fR=new El([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pR=new El([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e$=new El([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qV=function(t,e){for(var n=new qa(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new dR(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},HV=qV(fR,2),FEe=HV.b,U4=HV.r;FEe[28]=258,U4[258]=28;var $Ee=qV(pR,0),t$=$Ee.r,z4=new qa(32768);for(var er=0;er<32768;++er){var Oh=(er&43690)>>1|(er&21845)<<1;Oh=(Oh&52428)>>2|(Oh&13107)<<2,Oh=(Oh&61680)>>4|(Oh&3855)<<4,z4[er]=((Oh&65280)>>8|(Oh&255)<<8)>>1}var Cb=function(t,e,n){for(var r=t.length,i=0,s=new qa(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new qa(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new qa(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=a[t[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)o[z4[d]>>l]=c}else for(o=new qa(r),i=0;i<r;++i)t[i]&&(o[i]=z4[a[t[i]-1]++]>>15-t[i]);return o},jg=new El(288);for(var er=0;er<144;++er)jg[er]=8;for(var er=144;er<256;++er)jg[er]=9;for(var er=256;er<280;++er)jg[er]=7;for(var er=280;er<288;++er)jg[er]=8;var kE=new El(32);for(var er=0;er<32;++er)kE[er]=5;var BEe=Cb(jg,9,0),UEe=Cb(kE,5,0),WV=function(t){return(t+7)/8|0},zEe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new El(t.subarray(e,n))},Kc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},M1=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},mC=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:GV,l:0};if(i==1){var a=new El(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(A,E){return A.f-E.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=s[0].s,r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var p=new qa(f+1),v=q4(n[u-1],p,0);if(v>e){var r=0,m=0,b=v-e,g=1<<b;for(s.sort(function(E,T){return p[T.s]-p[E.s]||E.f-T.f});r<i;++r){var w=s[r].s;if(p[w]>e)m+=g-(1<<v-p[w]),p[w]=e;else break}for(m>>=b;m>0;){var x=s[r].s;p[x]<e?m-=1<<e-p[x]++-1:++r}for(;r>=0&&m;--r){var S=s[r].s;p[S]==e&&(--p[S],++m)}v=e}return{t:new El(p),l:v}},q4=function(t,e,n){return t.s==-1?Math.max(q4(t.l,e,n+1),q4(t.r,e,n+1)):e[t.s]=n},n$=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new qa(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},j1=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},VV=function(t,e,n){var r=n.length,i=WV(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},r$=function(t,e,n,r,i,s,a,o,l,c,u){Kc(e,u++,n),++i[256];for(var d=mC(i,15),f=d.t,p=d.l,v=mC(s,15),m=v.t,b=v.l,g=n$(f),w=g.c,x=g.n,S=n$(m),A=S.c,E=S.n,T=new qa(19),L=0;L<w.length;++L)++T[w[L]&31];for(var L=0;L<A.length;++L)++T[A[L]&31];for(var I=mC(T,7),q=I.t,O=I.l,M=19;M>4&&!q[e$[M-1]];--M);var z=c+5<<3,$=j1(i,jg)+j1(s,kE)+a,G=j1(i,f)+j1(s,m)+a+14+3*M+j1(T,q)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&z<=$&&z<=G)return VV(e,u,t.subarray(l,l+c));var Y,Q,W,re;if(Kc(e,u,1+(G<$)),u+=2,G<$){Y=Cb(f,p,0),Q=f,W=Cb(m,b,0),re=m;var ce=Cb(q,O,0);Kc(e,u,x-257),Kc(e,u+5,E-1),Kc(e,u+10,M-4),u+=14;for(var L=0;L<M;++L)Kc(e,u+3*L,q[e$[L]]);u+=3*M;for(var ae=[w,A],D=0;D<2;++D)for(var K=ae[D],L=0;L<K.length;++L){var ee=K[L]&31;Kc(e,u,ce[ee]),u+=q[ee],ee>15&&(Kc(e,u,K[L]>>5&127),u+=K[L]>>12)}}else Y=BEe,Q=jg,W=UEe,re=kE;for(var L=0;L<o;++L){var se=r[L];if(se>255){var ee=se>>18&31;M1(e,u,Y[ee+257]),u+=Q[ee+257],ee>7&&(Kc(e,u,se>>23&31),u+=fR[ee]);var oe=se&31;M1(e,u,W[oe]),u+=re[oe],oe>3&&(M1(e,u,se>>5&8191),u+=pR[oe])}else M1(e,u,Y[se]),u+=Q[se]}return M1(e,u,Y[256]),u+Q[256]},qEe=new dR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),GV=new El(0),HEe=function(t,e,n,r,i,s){var a=s.z||t.length,o=new El(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=qEe[e-1],f=d>>13,p=d&8191,v=(1<<n)-1,m=s.p||new qa(32768),b=s.h||new qa(v+1),g=Math.ceil(n/3),w=2*g,x=function(De){return(t[De]^t[De+1]<<g^t[De+2]<<w)&v},S=new dR(25e3),A=new qa(288),E=new qa(32),T=0,L=0,I=s.i||0,q=0,O=s.w||0,M=0;I+2<a;++I){var z=x(I),$=I&32767,G=b[z];if(m[$]=G,b[z]=$,O<=I){var Y=a-I;if((T>7e3||q>24576)&&(Y>423||!c)){u=r$(t,l,0,S,A,E,L,q,M,I-M,u),q=T=L=0,M=I;for(var Q=0;Q<286;++Q)A[Q]=0;for(var Q=0;Q<30;++Q)E[Q]=0}var W=2,re=0,ce=p,ae=$-G&32767;if(Y>2&&z==x(I-ae))for(var D=Math.min(f,Y)-1,K=Math.min(32767,I),ee=Math.min(258,Y);ae<=K&&--ce&&$!=G;){if(t[I+W]==t[I+W-ae]){for(var se=0;se<ee&&t[I+se]==t[I+se-ae];++se);if(se>W){if(W=se,re=ae,se>D)break;for(var oe=Math.min(ae,se-2),de=0,Q=0;Q<oe;++Q){var xe=I-ae+Q&32767,ue=m[xe],ye=xe-ue&32767;ye>de&&(de=ye,G=xe)}}}$=G,G=m[$],ae+=$-G&32767}if(re){S[q++]=268435456|U4[W]<<18|t$[re];var _e=U4[W]&31,me=t$[re]&31;L+=fR[_e]+pR[me],++A[257+_e],++E[me],O=I+W,++T}else S[q++]=t[I],++A[t[I]]}}for(I=Math.max(I,O);I<a;++I)S[q++]=t[I],++A[t[I]];u=r$(t,l,c,S,A,E,L,q,M,I-M,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=b,s.p=m,s.i=I,s.w=O)}else{for(var I=s.w||0;I<a+c;I+=65535){var Ie=I+65535;Ie>=a&&(l[u/8|0]=c,Ie=a),u=VV(l,u+1,t.subarray(I,Ie))}s.i=a}return zEe(o,0,r+WV(u)+i)},KV=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},WEe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new El(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return HEe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},XV=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},VEe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=KV();i.p(e.dictionary),XV(t,2,i.d())}};function H4(t,e){e||(e={});var n=KV();n.p(t);var r=WEe(t,e,e.dictionary?6:2,4);return VEe(r,e),XV(r,r.length-4,n.d()),r}var GEe=typeof TextDecoder<"u"&&new TextDecoder,KEe=0;try{GEe.decode(GV,{stream:!0}),KEe=1}catch{}function XEe(t){if(Array.isArray(t))return t}function YEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function i$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function JEe(t,e){if(t){if(typeof t=="string")return i$(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i$(t,e):void 0}}function ZEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$(t,e){return XEe(t)||YEe(t,e)||JEe(t,e)||ZEe()}function a$(t,e="utf8"){return new TextDecoder(e).decode(t)}const QEe=new TextEncoder;function ePe(t){return QEe.encode(t)}const tPe=1024*8,nPe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),vC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class gR{constructor(e=tPe,n={}){Se(this,"buffer");Se(this,"byteLength");Se(this,"byteOffset");Se(this,"length");Se(this,"offset");Se(this,"lastWrittenByte");Se(this,"littleEndian");Se(this,"_data");Se(this,"_mark");Se(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof gR)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=vC[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===nPe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new vC[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new vC[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return a$(this.readBytes(e))}decodeText(e=1,n="utf8"){return a$(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(ePe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dy(t){let e=t.length;for(;--e>=0;)t[e]=0}const rPe=3,iPe=258,YV=29,sPe=256,aPe=sPe+1+YV,JV=30,oPe=512,lPe=new Array((aPe+2)*2);Dy(lPe);const cPe=new Array(JV*2);Dy(cPe);const uPe=new Array(oPe);Dy(uPe);const hPe=new Array(iPe-rPe+1);Dy(hPe);const dPe=new Array(YV);Dy(dPe);const fPe=new Array(JV);Dy(fPe);const pPe=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var W4=pPe;const gPe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},mPe=new Uint32Array(gPe()),vPe=(t,e,n,r)=>{const i=mPe,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var zl=vPe,V4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ZV={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const yPe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var bPe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)yPe(n,r)&&(t[r]=n[r])}}return t},wPe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},QV={assign:bPe,flattenChunks:wPe};let eG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{eG=!1}const zw=new Uint8Array(256);for(let t=0;t<256;t++)zw[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;zw[254]=zw[254]=1;var xPe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const _Pe=(t,e)=>{if(e<65534&&t.subarray&&eG)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var APe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=zw[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return _Pe(s,i)},SPe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+zw[t[n]]>e?n:e},G4={string2buf:xPe,buf2string:APe,utf8border:SPe};function EPe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var PPe=EPe;const C5=16209,kPe=16191;var TPe=function(e,n){let r,i,s,a,o,l,c,u,d,f,p,v,m,b,g,w,x,S,A,E,T,L,I,q;const O=e.state;r=e.next_in,I=e.input,i=r+(e.avail_in-5),s=e.next_out,q=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=O.dmax,c=O.wsize,u=O.whave,d=O.wnext,f=O.window,p=O.hold,v=O.bits,m=O.lencode,b=O.distcode,g=(1<<O.lenbits)-1,w=(1<<O.distbits)-1;e:do{v<15&&(p+=I[r++]<<v,v+=8,p+=I[r++]<<v,v+=8),x=m[p&g];t:for(;;){if(S=x>>>24,p>>>=S,v-=S,S=x>>>16&255,S===0)q[s++]=x&65535;else if(S&16){A=x&65535,S&=15,S&&(v<S&&(p+=I[r++]<<v,v+=8),A+=p&(1<<S)-1,p>>>=S,v-=S),v<15&&(p+=I[r++]<<v,v+=8,p+=I[r++]<<v,v+=8),x=b[p&w];n:for(;;){if(S=x>>>24,p>>>=S,v-=S,S=x>>>16&255,S&16){if(E=x&65535,S&=15,v<S&&(p+=I[r++]<<v,v+=8,v<S&&(p+=I[r++]<<v,v+=8)),E+=p&(1<<S)-1,E>l){e.msg="invalid distance too far back",O.mode=C5;break e}if(p>>>=S,v-=S,S=s-a,E>S){if(S=E-S,S>u&&O.sane){e.msg="invalid distance too far back",O.mode=C5;break e}if(T=0,L=f,d===0){if(T+=c-S,S<A){A-=S;do q[s++]=f[T++];while(--S);T=s-E,L=q}}else if(d<S){if(T+=c+d-S,S-=d,S<A){A-=S;do q[s++]=f[T++];while(--S);if(T=0,d<A){S=d,A-=S;do q[s++]=f[T++];while(--S);T=s-E,L=q}}}else if(T+=d-S,S<A){A-=S;do q[s++]=f[T++];while(--S);T=s-E,L=q}for(;A>2;)q[s++]=L[T++],q[s++]=L[T++],q[s++]=L[T++],A-=3;A&&(q[s++]=L[T++],A>1&&(q[s++]=L[T++]))}else{T=s-E;do q[s++]=q[T++],q[s++]=q[T++],q[s++]=q[T++],A-=3;while(A>2);A&&(q[s++]=q[T++],A>1&&(q[s++]=q[T++]))}}else if(S&64){e.msg="invalid distance code",O.mode=C5;break e}else{x=b[(x&65535)+(p&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){O.mode=kPe;break e}else{e.msg="invalid literal/length code",O.mode=C5;break e}else{x=m[(x&65535)+(p&(1<<S)-1)];continue t}break}}while(r<i&&s<o);A=v>>3,r-=A,v-=A<<3,p&=(1<<v)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),O.hold=p,O.bits=v};const vm=15,o$=852,l$=592,c$=0,yC=1,u$=2,CPe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),OPe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),NPe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),LPe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),IPe=(t,e,n,r,i,s,a,o)=>{const l=o.bits;let c=0,u=0,d=0,f=0,p=0,v=0,m=0,b=0,g=0,w=0,x,S,A,E,T,L=null,I;const q=new Uint16Array(vm+1),O=new Uint16Array(vm+1);let M=null,z,$,G;for(c=0;c<=vm;c++)q[c]=0;for(u=0;u<r;u++)q[e[n+u]]++;for(p=l,f=vm;f>=1&&q[f]===0;f--);if(p>f&&(p=f),f===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<f&&q[d]===0;d++);for(p<d&&(p=d),b=1,c=1;c<=vm;c++)if(b<<=1,b-=q[c],b<0)return-1;if(b>0&&(t===c$||f!==1))return-1;for(O[1]=0,c=1;c<vm;c++)O[c+1]=O[c]+q[c];for(u=0;u<r;u++)e[n+u]!==0&&(a[O[e[n+u]]++]=u);if(t===c$?(L=M=a,I=20):t===yC?(L=CPe,M=OPe,I=257):(L=NPe,M=LPe,I=0),w=0,u=0,c=d,T=s,v=p,m=0,A=-1,g=1<<p,E=g-1,t===yC&&g>o$||t===u$&&g>l$)return 1;for(;;){z=c-m,a[u]+1<I?($=0,G=a[u]):a[u]>=I?($=M[a[u]-I],G=L[a[u]-I]):($=96,G=0),x=1<<c-m,S=1<<v,d=S;do S-=x,i[T+(w>>m)+S]=z<<24|$<<16|G|0;while(S!==0);for(x=1<<c-1;w&x;)x>>=1;if(x!==0?(w&=x-1,w+=x):w=0,u++,--q[c]===0){if(c===f)break;c=e[n+a[u]]}if(c>p&&(w&E)!==A){for(m===0&&(m=p),T+=d,v=c-m,b=1<<v;v+m<f&&(b-=q[v+m],!(b<=0));)v++,b<<=1;if(g+=1<<v,t===yC&&g>o$||t===u$&&g>l$)return 1;A=w&E,i[A]=p<<24|v<<16|T-s|0}}return w!==0&&(i[T+w]=c-m<<24|64<<16|0),o.bits=p,0};var Ob=IPe;const RPe=0,tG=1,nG=2,{Z_FINISH:h$,Z_BLOCK:MPe,Z_TREES:O5,Z_OK:Dg,Z_STREAM_END:jPe,Z_NEED_DICT:DPe,Z_STREAM_ERROR:Do,Z_DATA_ERROR:rG,Z_MEM_ERROR:iG,Z_BUF_ERROR:FPe,Z_DEFLATED:d$}=ZV,fk=16180,f$=16181,p$=16182,g$=16183,m$=16184,v$=16185,y$=16186,b$=16187,w$=16188,x$=16189,TE=16190,Xc=16191,bC=16192,_$=16193,wC=16194,A$=16195,S$=16196,E$=16197,P$=16198,N5=16199,L5=16200,k$=16201,T$=16202,C$=16203,O$=16204,N$=16205,xC=16206,L$=16207,I$=16208,ir=16209,sG=16210,aG=16211,$Pe=852,BPe=592,UPe=15,zPe=UPe,R$=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function qPe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<fk||e.mode>aG?1:0},oG=t=>{if(Vg(t))return Do;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=fk,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array($Pe),e.distcode=e.distdyn=new Int32Array(BPe),e.sane=1,e.back=-1,Dg},lG=t=>{if(Vg(t))return Do;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,oG(t)},cG=(t,e)=>{let n;if(Vg(t))return Do;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Do:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,lG(t))},uG=(t,e)=>{if(!t)return Do;const n=new qPe;t.state=n,n.strm=t,n.window=null,n.mode=fk;const r=cG(t,e);return r!==Dg&&(t.state=null),r},HPe=t=>uG(t,zPe);let M$=!0,_C,AC;const WPe=t=>{if(M$){_C=new Int32Array(512),AC=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ob(tG,t.lens,0,288,_C,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ob(nG,t.lens,0,32,AC,0,t.work,{bits:5}),M$=!1}t.lencode=_C,t.lenbits=9,t.distcode=AC,t.distbits=5},hG=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},VPe=(t,e)=>{let n,r,i,s,a,o,l,c,u,d,f,p,v,m,b=0,g,w,x,S,A,E,T,L;const I=new Uint8Array(4);let q,O;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vg(t)||!t.output||!t.input&&t.avail_in!==0)return Do;n=t.state,n.mode===Xc&&(n.mode=bC),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,d=o,f=l,L=Dg;e:for(;;)switch(n.mode){case fk:if(n.wrap===0){n.mode=bC;break}for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,I[0]=c&255,I[1]=c>>>8&255,n.check=zl(n.check,I,2,0),c=0,u=0,n.mode=f$;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=ir;break}if((c&15)!==d$){t.msg="unknown compression method",n.mode=ir;break}if(c>>>=4,u-=4,T=(c&15)+8,n.wbits===0&&(n.wbits=T),T>15||T>n.wbits){t.msg="invalid window size",n.mode=ir;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?x$:Xc,c=0,u=0;break;case f$:for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==d$){t.msg="unknown compression method",n.mode=ir;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ir;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=zl(n.check,I,2,0)),c=0,u=0,n.mode=p$;case p$:for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,n.check=zl(n.check,I,4,0)),c=0,u=0,n.mode=g$;case g$:for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=zl(n.check,I,2,0)),c=0,u=0,n.mode=m$;case m$:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=zl(n.check,I,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=v$;case v$:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),T)),n.flags&512&&n.wrap&4&&(n.check=zl(n.check,r,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=y$;case y$:if(n.flags&2048){if(o===0)break e;p=0;do T=r[s+p++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T));while(T&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=zl(n.check,r,p,s)),o-=p,s+=p,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=b$;case b$:if(n.flags&4096){if(o===0)break e;p=0;do T=r[s+p++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T));while(T&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=zl(n.check,r,p,s)),o-=p,s+=p,T)break e}else n.head&&(n.head.comment=null);n.mode=w$;case w$:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ir;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Xc;break;case x$:for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}t.adler=n.check=R$(c),c=0,u=0,n.mode=TE;case TE:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=u,DPe;t.adler=n.check=1,n.mode=Xc;case Xc:if(e===MPe||e===O5)break e;case bC:if(n.last){c>>>=u&7,u-=u&7,n.mode=xC;break}for(;u<3;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=_$;break;case 1:if(WPe(n),n.mode=N5,e===O5){c>>>=2,u-=2;break e}break;case 2:n.mode=S$;break;case 3:t.msg="invalid block type",n.mode=ir}c>>>=2,u-=2;break;case _$:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ir;break}if(n.length=c&65535,c=0,u=0,n.mode=wC,e===O5)break e;case wC:n.mode=A$;case A$:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,n.length-=p;break}n.mode=Xc;break;case S$:for(;u<14;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ir;break}n.have=0,n.mode=E$;case E$:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.lens[M[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},L=Ob(RPe,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,L){t.msg="invalid code lengths set",n.mode=ir;break}n.have=0,n.mode=P$;case P$:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[c&(1<<n.lenbits)-1],g=b>>>24,w=b>>>16&255,x=b&65535,!(g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(x<16)c>>>=g,u-=g,n.lens[n.have++]=x;else{if(x===16){for(O=g+2;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(c>>>=g,u-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=ir;break}T=n.lens[n.have-1],p=3+(c&3),c>>>=2,u-=2}else if(x===17){for(O=g+3;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,T=0,p=3+(c&7),c>>>=3,u-=3}else{for(O=g+7;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,T=0,p=11+(c&127),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ir;break}for(;p--;)n.lens[n.have++]=T}}if(n.mode===ir)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ir;break}if(n.lenbits=9,q={bits:n.lenbits},L=Ob(tG,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,L){t.msg="invalid literal/lengths set",n.mode=ir;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},L=Ob(nG,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,L){t.msg="invalid distances set",n.mode=ir;break}if(n.mode=N5,e===O5)break e;case N5:n.mode=L5;case L5:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=u,TPe(t,f),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,n.mode===Xc&&(n.back=-1);break}for(n.back=0;b=n.lencode[c&(1<<n.lenbits)-1],g=b>>>24,w=b>>>16&255,x=b&65535,!(g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(w&&!(w&240)){for(S=g,A=w,E=x;b=n.lencode[E+((c&(1<<S+A)-1)>>S)],g=b>>>24,w=b>>>16&255,x=b&65535,!(S+g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=g,u-=g,n.back+=g,n.length=x,w===0){n.mode=N$;break}if(w&32){n.back=-1,n.mode=Xc;break}if(w&64){t.msg="invalid literal/length code",n.mode=ir;break}n.extra=w&15,n.mode=k$;case k$:if(n.extra){for(O=n.extra;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=T$;case T$:for(;b=n.distcode[c&(1<<n.distbits)-1],g=b>>>24,w=b>>>16&255,x=b&65535,!(g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(!(w&240)){for(S=g,A=w,E=x;b=n.distcode[E+((c&(1<<S+A)-1)>>S)],g=b>>>24,w=b>>>16&255,x=b&65535,!(S+g<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=g,u-=g,n.back+=g,w&64){t.msg="invalid distance code",n.mode=ir;break}n.offset=x,n.extra=w&15,n.mode=C$;case C$:if(n.extra){for(O=n.extra;u<O;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ir;break}n.mode=O$;case O$:if(l===0)break e;if(p=f-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ir;break}p>n.wnext?(p-=n.wnext,v=n.wsize-p):v=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=i,v=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[a++]=m[v++];while(--p);n.length===0&&(n.mode=L5);break;case N$:if(l===0)break e;i[a++]=n.length,l--,n.mode=L5;break;case xC:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[s++]<<u,u+=8}if(f-=l,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?zl(n.check,i,f,a-f):W4(n.check,i,f,a-f)),f=l,n.wrap&4&&(n.flags?c:R$(c))!==n.check){t.msg="incorrect data check",n.mode=ir;break}c=0,u=0}n.mode=L$;case L$:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ir;break}c=0,u=0}n.mode=I$;case I$:L=jPe;break e;case ir:L=rG;break e;case sG:return iG;case aG:default:return Do}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=u,(n.wsize||f!==t.avail_out&&n.mode<ir&&(n.mode<xC||e!==h$))&&hG(t,t.output,t.next_out,f-t.avail_out),d-=t.avail_in,f-=t.avail_out,t.total_in+=d,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?zl(n.check,i,f,t.next_out-f):W4(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Xc?128:0)+(n.mode===N5||n.mode===wC?256:0),(d===0&&f===0||e===h$)&&L===Dg&&(L=FPe),L},GPe=t=>{if(Vg(t))return Do;let e=t.state;return e.window&&(e.window=null),t.state=null,Dg},KPe=(t,e)=>{if(Vg(t))return Do;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Dg):Do},XPe=(t,e)=>{const n=e.length;let r,i,s;return Vg(t)||(r=t.state,r.wrap!==0&&r.mode!==TE)?Do:r.mode===TE&&(i=1,i=W4(i,e,n,0),i!==r.check)?rG:(s=hG(t,e,n,n),s?(r.mode=sG,iG):(r.havedict=1,Dg))};var YPe=lG,JPe=cG,ZPe=oG,QPe=HPe,eke=uG,tke=VPe,nke=GPe,rke=KPe,ike=XPe,ske="pako inflate (from Nodeca project)",su={inflateReset:YPe,inflateReset2:JPe,inflateResetKeep:ZPe,inflateInit:QPe,inflateInit2:eke,inflate:tke,inflateEnd:nke,inflateGetHeader:rke,inflateSetDictionary:ike,inflateInfo:ske};function ake(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var oke=ake;const dG=Object.prototype.toString,{Z_NO_FLUSH:lke,Z_FINISH:cke,Z_OK:qw,Z_STREAM_END:SC,Z_NEED_DICT:EC,Z_STREAM_ERROR:uke,Z_DATA_ERROR:j$,Z_MEM_ERROR:hke}=ZV;function t_(t){this.options=QV.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PPe,this.strm.avail_out=0;let n=su.inflateInit2(this.strm,e.windowBits);if(n!==qw)throw new Error(V4[n]);if(this.header=new oke,su.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=G4.string2buf(e.dictionary):dG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=su.inflateSetDictionary(this.strm,e.dictionary),n!==qw)))throw new Error(V4[n])}t_.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?cke:lke,dG.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=su.inflate(n,a),s===EC&&i&&(s=su.inflateSetDictionary(n,i),s===qw?s=su.inflate(n,a):s===j$&&(s=EC));n.avail_in>0&&s===SC&&n.state.wrap>0&&t[n.next_in]!==0;)su.inflateReset(n),s=su.inflate(n,a);switch(s){case uke:case j$:case EC:case hke:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===SC))if(this.options.to==="string"){let l=G4.utf8border(n.output,n.next_out),c=n.next_out-l,u=G4.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===qw&&o===0)){if(s===SC)return s=su.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};t_.prototype.onData=function(t){this.chunks.push(t)};t_.prototype.onEnd=function(t){t===qw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=QV.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function dke(t,e){const n=new t_(e);if(n.push(t),n.err)throw n.msg||V4[n.err];return n.result}var fke=t_,pke=dke,gke={Inflate:fke,inflate:pke};const{Inflate:mke,inflate:vke}=gke;var D$=mke,yke=vke;const fG=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;fG[t]=e}const F$=4294967295;function bke(t,e,n){let r=t;for(let i=0;i<n;i++)r=fG[(r^e[i])&255]^r>>>8;return r}function wke(t,e){return(bke(F$,t,e)^F$)>>>0}function $$(t,e,n){const r=t.readUint32(),i=wke(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function pG(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function gG(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function mG(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function vG(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function yG(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+xke(e[s-i],n[s],n[s-i])&255}}function xke(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function _ke(t,e,n,r,i,s){switch(t){case 0:pG(e,n,i);break;case 1:gG(e,n,i,s);break;case 2:mG(e,n,r,i);break;case 3:vG(e,n,r,i,s);break;case 4:yG(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Ake=new Uint16Array([255]),Ske=new Uint8Array(Ake.buffer),Eke=Ske[0]===255;function Pke(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const d=a[u],f=Math.ceil((n-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(f<=0||p<=0)continue;const v=f*o,m=new Uint8Array(v);for(let b=0;b<p;b++){const g=e[c++],w=e.subarray(c,c+v);c+=v;const x=new Uint8Array(v);_ke(g,w,x,m,v,o),m.set(x);for(let S=0;S<f;S++){const A=d.x+S*d.xStep,E=d.y+b*d.yStep;if(!(A>=n||E>=r))for(let T=0;T<o;T++)l[(E*n+A)*o+T]=x[S*o+T]}}}if(s===16){const u=new Uint16Array(l.buffer);if(Eke)for(let d=0;d<u.length;d++)u[d]=kke(u[d]);return u}else return l}function kke(t){return(t&255)<<8|t>>8&255}const Tke=new Uint16Array([255]),Cke=new Uint8Array(Tke.buffer),Oke=Cke[0]===255,Nke=new Uint8Array(0);function B$(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let c=Nke,u=0,d,f;for(let p=0;p<r;p++){switch(d=e.subarray(u+1,u+1+o),f=l.subarray(p*o,(p+1)*o),e[u]){case 0:pG(d,f,o);break;case 1:gG(d,f,o,a);break;case 2:mG(d,f,c,o);break;case 3:vG(d,f,c,o,a);break;case 4:yG(d,f,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=f,u+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(Oke)for(let v=0;v<p.length;v++)p[v]=Lke(p[v]);return p}else return l}function Lke(t){return(t&255)<<8|t>>8&255}const IA=Uint8Array.of(137,80,78,71,13,10,26,10);function U$(t){if(!Ike(t.readBytes(IA.length)))throw new Error("wrong PNG signature")}function Ike(t){if(t.length<IA.length)return!1;for(let e=0;e<IA.length;e++)if(t[e]!==IA[e])return!1;return!0}const Rke="tEXt",Mke=0,bG=new TextDecoder("latin1");function jke(t){if(Fke(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Dke=/^[\u0000-\u00FF]*$/;function Fke(t){if(!Dke.test(t))throw new Error("invalid latin1 text")}function $ke(t,e,n){const r=wG(e);t[r]=Bke(e,n-r.length-1)}function wG(t){for(t.mark();t.readByte()!==Mke;);const e=t.offset;t.reset();const n=bG.decode(t.readBytes(e-t.offset-1));return t.skip(1),jke(n),n}function Bke(t,e){return bG.decode(t.readBytes(e))}const ha={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},PC={UNKNOWN:-1,DEFLATE:0},z$={UNKNOWN:-1,ADAPTIVE:0},kC={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},I5={NONE:0,BACKGROUND:1,PREVIOUS:2},TC={SOURCE:0,OVER:1};class Uke extends gR{constructor(n,r={}){super(n);Se(this,"_checkCrc");Se(this,"_inflator");Se(this,"_png");Se(this,"_apng");Se(this,"_end");Se(this,"_hasPalette");Se(this,"_palette");Se(this,"_hasTransparency");Se(this,"_transparency");Se(this,"_compressionMethod");Se(this,"_filterMethod");Se(this,"_interlaceMethod");Se(this,"_colorType");Se(this,"_isAnimated");Se(this,"_numberOfFrames");Se(this,"_numberOfPlays");Se(this,"_frames");Se(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new D$,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=PC.UNKNOWN,this._filterMethod=z$.UNKNOWN,this._interlaceMethod=kC.UNKNOWN,this._colorType=ha.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(U$(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(U$(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Rke:$ke(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?$$(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?$$(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=zke(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case ha.GREYSCALE:i=1;break;case ha.TRUECOLOUR:i=3;break;case ha.INDEXED_COLOUR:i=1;break;case ha.GREYSCALE_ALPHA:i=2;break;case ha.TRUECOLOUR_ALPHA:i=4;break;case ha.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==PC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ha.GREYSCALE:case ha.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case ha.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ha.UNKNOWN:case ha.GREYSCALE_ALPHA:case ha.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=wG(this),i=this.readUint8();if(i!==PC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:yke(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=B$({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case I5.NONE:break;case I5.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case I5.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case TC.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case TC.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/i,f=u%(this._png.channels-1)===0?1:r.data[c+u],p=Math.floor(d*f+(1-d)*n.data[l+u]);n.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==z$.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===kC.NO_INTERLACE)this._png.data=B$({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===kC.ADAM7)this._png.data=Pke({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:I5.NONE,blendOp:TC.SOURCE,data:n}),this._inflator=new D$,this._writingDataChunks=!1}}function zke(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var q$;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(q$||(q$={}));function qke(t,e){return new Uke(t,e).decode()}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function CC(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var Mn={log:CC,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):CC.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):CC(t))}};function OC(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Bf(r.response,e,n)},r.onerror=function(){Mn.error("could not download file")},r.send()}function H$(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function R5(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Bf=wt.saveAs||((typeof window>"u"?"undefined":xn(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=wt.URL||wt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?H$(i.href)?OC(t,e,n):R5(i,i.target="_blank"):R5(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){R5(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(H$(t))OC(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){R5(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:xn(s)!=="object"&&(Mn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return OC(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(wt.HTMLElement)||wt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":xn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xG(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var RA=wt.atob.bind(wt),W$=wt.btoa.bind(wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function NC(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=ss(n,r,i,s,e[0],7,-680876936),s=ss(s,n,r,i,e[1],12,-389564586),i=ss(i,s,n,r,e[2],17,606105819),r=ss(r,i,s,n,e[3],22,-1044525330),n=ss(n,r,i,s,e[4],7,-176418897),s=ss(s,n,r,i,e[5],12,1200080426),i=ss(i,s,n,r,e[6],17,-1473231341),r=ss(r,i,s,n,e[7],22,-45705983),n=ss(n,r,i,s,e[8],7,1770035416),s=ss(s,n,r,i,e[9],12,-1958414417),i=ss(i,s,n,r,e[10],17,-42063),r=ss(r,i,s,n,e[11],22,-1990404162),n=ss(n,r,i,s,e[12],7,1804603682),s=ss(s,n,r,i,e[13],12,-40341101),i=ss(i,s,n,r,e[14],17,-1502002290),n=as(n,r=ss(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=as(s,n,r,i,e[6],9,-1069501632),i=as(i,s,n,r,e[11],14,643717713),r=as(r,i,s,n,e[0],20,-373897302),n=as(n,r,i,s,e[5],5,-701558691),s=as(s,n,r,i,e[10],9,38016083),i=as(i,s,n,r,e[15],14,-660478335),r=as(r,i,s,n,e[4],20,-405537848),n=as(n,r,i,s,e[9],5,568446438),s=as(s,n,r,i,e[14],9,-1019803690),i=as(i,s,n,r,e[3],14,-187363961),r=as(r,i,s,n,e[8],20,1163531501),n=as(n,r,i,s,e[13],5,-1444681467),s=as(s,n,r,i,e[2],9,-51403784),i=as(i,s,n,r,e[7],14,1735328473),n=os(n,r=as(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=os(s,n,r,i,e[8],11,-2022574463),i=os(i,s,n,r,e[11],16,1839030562),r=os(r,i,s,n,e[14],23,-35309556),n=os(n,r,i,s,e[1],4,-1530992060),s=os(s,n,r,i,e[4],11,1272893353),i=os(i,s,n,r,e[7],16,-155497632),r=os(r,i,s,n,e[10],23,-1094730640),n=os(n,r,i,s,e[13],4,681279174),s=os(s,n,r,i,e[0],11,-358537222),i=os(i,s,n,r,e[3],16,-722521979),r=os(r,i,s,n,e[6],23,76029189),n=os(n,r,i,s,e[9],4,-640364487),s=os(s,n,r,i,e[12],11,-421815835),i=os(i,s,n,r,e[15],16,530742520),n=ls(n,r=os(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ls(s,n,r,i,e[7],10,1126891415),i=ls(i,s,n,r,e[14],15,-1416354905),r=ls(r,i,s,n,e[5],21,-57434055),n=ls(n,r,i,s,e[12],6,1700485571),s=ls(s,n,r,i,e[3],10,-1894986606),i=ls(i,s,n,r,e[10],15,-1051523),r=ls(r,i,s,n,e[1],21,-2054922799),n=ls(n,r,i,s,e[8],6,1873313359),s=ls(s,n,r,i,e[15],10,-30611744),i=ls(i,s,n,r,e[6],15,-1560198380),r=ls(r,i,s,n,e[13],21,1309151649),n=ls(n,r,i,s,e[4],6,-145523070),s=ls(s,n,r,i,e[11],10,-1120210379),i=ls(i,s,n,r,e[2],15,718787259),r=ls(r,i,s,n,e[9],21,-343485551),t[0]=Dd(n,t[0]),t[1]=Dd(r,t[1]),t[2]=Dd(i,t[2]),t[3]=Dd(s,t[3])}function pk(t,e,n,r,i,s){return e=Dd(Dd(e,t),Dd(r,s)),Dd(e<<i|e>>>32-i,n)}function ss(t,e,n,r,i,s,a){return pk(e&n|~e&r,t,e,i,s,a)}function as(t,e,n,r,i,s,a){return pk(e&r|n&~r,t,e,i,s,a)}function os(t,e,n,r,i,s,a){return pk(e^n^r,t,e,i,s,a)}function ls(t,e,n,r,i,s,a){return pk(n^(e|~r),t,e,i,s,a)}function _G(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)NC(r,Hke(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(NC(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,NC(r,i),r}function Hke(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var V$="0123456789abcdef".split("");function Wke(t){for(var e="",n=0;n<4;n++)e+=V$[t>>8*n+4&15]+V$[t>>8*n&15];return e}function Vke(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function K4(t){return _G(t).map(Vke).join("")}var Gke=function(t){for(var e=0;e<t.length;e++)t[e]=Wke(t[e]);return t.join("")}(_G("hello"))!="5d41402abc4b2a76b9719d911017c592";function Dd(t,e){if(Gke){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function X4(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var d=e.length,f=0,p=0,v="";for(l=0;l<d;l++)p=(p+(u=o[f=(f+1)%256]))%256,o[f]=o[p],o[p]=u,a=o[(o[f]+o[p])%256],v+=String.fromCharCode(e.charCodeAt(l)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var G$={print:4,modify:8,copy:16,"annot-forms":32};function Lm(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(G$.perm!==void 0)throw new Error("Invalid permission: "+o);i+=G$[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=K4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=X4(this.encryptionKey,this.padding)}function Im(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function K$(t){if(xn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){wt.console&&Mn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function CE(t){if(!(this instanceof CE))return new CE(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function AG(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function qf(t,e,n,r,i){if(!(this instanceof qf))return new qf(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,AG.call(this,r,i)}function Zm(t,e,n,r,i){if(!(this instanceof Zm))return new Zm(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,AG.call(this,r,i)}function at(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;xn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=K$;var v="1.3",m=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(P){v=P};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var g=p.__private__.getPageFormat=function(P){return b[P]};i=i||"a4";var w="compat",x="advanced",S=w;function A(){this.saveGraphicsState(),Z(new pt(Lt,0,0,-Lt,0,yf()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),c="n",S=x}function E(){this.restoreGraphicsState(),c="S",S=w}var T=p.__private__.combineFontStyleAndFontWeight=function(P,B){if(P=="bold"&&B=="normal"||P=="bold"&&B==400||P=="normal"&&B=="italic"||P=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(P=B==400||B==="normal"?P==="italic"?"italic":"normal":B!=700&&B!=="bold"||P!=="normal"?(B==700?"bold":B)+""+P:"bold"),P};p.advancedAPI=function(P){var B=S===w;return B&&A.call(this),typeof P!="function"||(P(this),B&&E.call(this)),this},p.compatAPI=function(P){var B=S===x;return B&&E.call(this),typeof P!="function"||(P(this),B&&A.call(this)),this},p.isAdvancedAPI=function(){return S===x};var L,I=function(P){if(S!==x)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=p.roundToPrecision=p.__private__.roundToPrecision=function(P,B){var ie=e||B;if(isNaN(P)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ie).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return q(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return q(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return q(P,16)};var O=p.f2=p.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return q(P,2)},M=p.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return q(P,3)},z=p.scale=p.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return S===w?P*Lt:S===x?P:void 0},$=function(P){return z(function(B){return S===w?yf()-B:S===x?B:void 0}(P))};p.__private__.setPrecision=p.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var G,Y="00000000000000000000000000000000",Q=p.__private__.getFileId=function(){return Y},W=p.__private__.setFileId=function(P){return Y=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ei=new Lm(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};p.setFileId=function(P){return W(P),this},p.getFileId=function(){return Q()};var re=p.__private__.convertDateToPDFDate=function(P){var B=P.getTimezoneOffset(),ie=B<0?"+":"-",le=Math.floor(Math.abs(B/60)),ge=Math.abs(B%60),Te=[ie,ee(le),"'",ee(ge),"'"].join("");return["D:",P.getFullYear(),ee(P.getMonth()+1),ee(P.getDate()),ee(P.getHours()),ee(P.getMinutes()),ee(P.getSeconds()),Te].join("")},ce=p.__private__.convertPDFDateToDate=function(P){var B=parseInt(P.substr(2,4),10),ie=parseInt(P.substr(6,2),10)-1,le=parseInt(P.substr(8,2),10),ge=parseInt(P.substr(10,2),10),Te=parseInt(P.substr(12,2),10),Ne=parseInt(P.substr(14,2),10);return new Date(B,ie,le,ge,Te,Ne,0)},ae=p.__private__.setCreationDate=function(P){var B;if(P===void 0&&(P=new Date),P instanceof Date)B=re(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=P}return G=B},D=p.__private__.getCreationDate=function(P){var B=G;return P==="jsDate"&&(B=ce(G)),B};p.setCreationDate=function(P){return ae(P),this},p.getCreationDate=function(P){return D(P)};var K,ee=p.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},se=p.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},oe=0,de=[],xe=[],ue=0,ye=[],_e=[],me=!1,Ie=xe;p.__private__.setCustomOutputDestination=function(P){me=!0,Ie=P};var De=function(P){me||(Ie=P)};p.__private__.resetCustomOutputDestination=function(){me=!1,Ie=xe};var Z=p.__private__.out=function(P){return P=P.toString(),ue+=P.length+1,Ie.push(P),Ie},Me=p.__private__.write=function(P){return Z(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},ut=p.__private__.getArrayBuffer=function(P){for(var B=P.length,ie=new ArrayBuffer(B),le=new Uint8Array(ie);B--;)le[B]=P.charCodeAt(B);return ie},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Qe};var Oe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(P){return Oe=S===x?P/Lt:P,this};var ct,Ue=p.__private__.getFontSize=p.getFontSize=function(){return S===w?Oe:Oe*Lt},et=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(P){return et=P,this},p.__private__.getR2L=p.getR2L=function(){return et};var rt,tn=p.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ct=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ct=P}else ct=parseInt(P,10)};p.__private__.getZoomMode=function(){return ct};var $t,kt=p.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');rt=P};p.__private__.getPageMode=function(){return rt};var Yt=p.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');$t=P};p.__private__.getLayoutMode=function(){return $t},p.__private__.setDisplayMode=p.setDisplayMode=function(P,B,ie){return tn(P),Yt(B),kt(ie),this};var Vt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(P){if(Object.keys(Vt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vt[P]},p.__private__.getDocumentProperties=function(){return Vt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(P){for(var B in Vt)Vt.hasOwnProperty(B)&&P[B]&&(Vt[B]=P[B]);return this},p.__private__.setDocumentProperty=function(P,B){if(Object.keys(Vt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vt[P]=B};var tt,Lt,ot,Lr,nn,Bt={},Ut={},nr=[],ht={},$n={},yt={},Tt={},rr=null,zt=0,ft=[],fn=new K$(p),uf=t.hotfixes||[],ts={},Cc={},Ol=[],pt=function P(B,ie,le,ge,Te,Ne){if(!(this instanceof P))return new P(B,ie,le,ge,Te,Ne);isNaN(B)&&(B=1),isNaN(ie)&&(ie=0),isNaN(le)&&(le=0),isNaN(ge)&&(ge=1),isNaN(Te)&&(Te=0),isNaN(Ne)&&(Ne=0),this._matrix=[B,ie,le,ge,Te,Ne]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(P)},pt.prototype.multiply=function(P){var B=P.sx*this.sx+P.shy*this.shx,ie=P.sx*this.shy+P.shy*this.sy,le=P.shx*this.sx+P.sy*this.shx,ge=P.shx*this.shy+P.sy*this.sy,Te=P.tx*this.sx+P.ty*this.shx+this.tx,Ne=P.tx*this.shy+P.ty*this.sy+this.ty;return new pt(B,ie,le,ge,Te,Ne)},pt.prototype.decompose=function(){var P=this.sx,B=this.shy,ie=this.shx,le=this.sy,ge=this.tx,Te=this.ty,Ne=Math.sqrt(P*P+B*B),Xe=(P/=Ne)*ie+(B/=Ne)*le;ie-=P*Xe,le-=B*Xe;var nt=Math.sqrt(ie*ie+le*le);return Xe/=nt,P*(le/=nt)<B*(ie/=nt)&&(P=-P,B=-B,Xe=-Xe,Ne=-Ne),{scale:new pt(Ne,0,0,nt,0,0),translate:new pt(1,0,0,1,ge,Te),rotate:new pt(P,B,-B,P,0,0),skew:new pt(1,0,Xe,1,0,0)}},pt.prototype.toString=function(P){return this.join(" ")},pt.prototype.inversed=function(){var P=this.sx,B=this.shy,ie=this.shx,le=this.sy,ge=this.tx,Te=this.ty,Ne=1/(P*le-B*ie),Xe=le*Ne,nt=-B*Ne,xt=-ie*Ne,It=P*Ne;return new pt(Xe,nt,xt,It,-Xe*ge-xt*Te,-nt*ge-It*Te)},pt.prototype.applyToPoint=function(P){var B=P.x*this.sx+P.y*this.shx+this.tx,ie=P.x*this.shy+P.y*this.sy+this.ty;return new jc(B,ie)},pt.prototype.applyToRectangle=function(P){var B=this.applyToPoint(P),ie=this.applyToPoint(new jc(P.x+P.w,P.y+P.h));return new Vy(B.x,B.y,ie.x-B.x,ie.y-B.y)},pt.prototype.clone=function(){var P=this.sx,B=this.shy,ie=this.shx,le=this.sy,ge=this.tx,Te=this.ty;return new pt(P,B,ie,le,ge,Te)},p.Matrix=pt;var Oc=p.matrixMult=function(P,B){return B.multiply(P)},Nc=new pt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Nc;var Ya=function(P,B){if(!$n[P]){var ie=(B instanceof qf?"Sh":"P")+(Object.keys(ht).length+1).toString(10);B.id=ie,$n[P]=ie,ht[ie]=B,fn.publish("addPattern",B)}};p.ShadingPattern=qf,p.TilingPattern=Zm,p.addShadingPattern=function(P,B){return I("addShadingPattern()"),Ya(P,B),this},p.beginTilingPattern=function(P){I("beginTilingPattern()"),Gy(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},p.endTilingPattern=function(P,B){I("endTilingPattern()"),B.stream=_e[K].join(`
`),Ya(P,B),fn.publish("endTilingPattern",B),Ol.pop().restore()};var Ja,br=p.__private__.newObject=function(){var P=wi();return Ii(P,!0),P},wi=p.__private__.newObjectDeferred=function(){return oe++,de[oe]=function(){return ue},oe},Ii=function(P,B){return B=typeof B=="boolean"&&B,de[P]=ue,B&&Z(P+" 0 obj"),P},hf=p.__private__.newAdditionalObject=function(){var P={objId:wi(),content:""};return ye.push(P),P},fh=wi(),Bo=wi(),Nl=p.__private__.decodeColorString=function(P){var B=P.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ie=parseFloat(B[0]);B=[ie,ie,ie,"r"]}for(var le="#",ge=0;ge<3;ge++)le+=("0"+Math.floor(255*parseFloat(B[ge])).toString(16)).slice(-2);return le},Uo=p.__private__.encodeColorString=function(P){var B;typeof P=="string"&&(P={ch1:P});var ie=P.ch1,le=P.ch2,ge=P.ch3,Te=P.ch4,Ne=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Xe=new xG(ie);if(Xe.ok)ie=Xe.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var nt=parseInt(ie.substr(1),16);ie=nt>>16&255,le=nt>>8&255,ge=255&nt}if(le===void 0||Te===void 0&&ie===le&&le===ge)B=typeof ie=="string"?ie+" "+Ne[0]:P.precision===2?O(ie/255)+" "+Ne[0]:M(ie/255)+" "+Ne[0];else if(Te===void 0||xn(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",Ne[1]].join(" ");B=typeof ie=="string"?[ie,le,ge,Ne[1]].join(" "):P.precision===2?[O(ie/255),O(le/255),O(ge/255),Ne[1]].join(" "):[M(ie/255),M(le/255),M(ge/255),Ne[1]].join(" ")}else B=typeof ie=="string"?[ie,le,ge,Te,Ne[2]].join(" "):P.precision===2?[O(ie),O(le),O(ge),O(Te),Ne[2]].join(" "):[M(ie),M(le),M(ge),M(Te),Ne[2]].join(" ");return B},zo=p.__private__.getFilters=function(){return a},Za=p.__private__.putStream=function(P){var B=(P=P||{}).data||"",ie=P.filters||zo(),le=P.alreadyAppliedFilters||[],ge=P.addLength1||!1,Te=B.length,Ne=P.objectId,Xe=function(ti){return ti};if(u!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Xe=ei.encryptor(Ne,0));var nt={};ie===!0&&(ie=["FlateEncode"]);var xt=P.additionalKeyValues||[],It=(nt=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(B,ie):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(nt.data.length!==0&&(xt.push({key:"Length",value:nt.data.length}),ge===!0&&xt.push({key:"Length1",value:Te})),It.length!=0)if(It.split("/").length-1==1)xt.push({key:"Filter",value:It});else{xt.push({key:"Filter",value:"["+It+"]"});for(var rn=0;rn<xt.length;rn+=1)if(xt[rn].key==="DecodeParms"){for(var ur=[],Hr=0;Hr<nt.reverseChain.split("/").length-1;Hr+=1)ur.push("null");ur.push(xt[rn].value),xt[rn].value="["+ur.join(" ")+"]"}}Z("<<");for(var Bn=0;Bn<xt.length;Bn++)Z("/"+xt[Bn].key+" "+xt[Bn].value);Z(">>"),nt.data.length!==0&&(Z("stream"),Z(Xe(nt.data)),Z("endstream"))},df=p.__private__.putPage=function(P){var B=P.number,ie=P.data,le=P.objId,ge=P.contentsObjId;Ii(le,!0),Z("<</Type /Page"),Z("/Parent "+P.rootDictionaryObjId+" 0 R"),Z("/Resources "+P.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(L(P.mediaBox.bottomLeftX))+" "+parseFloat(L(P.mediaBox.bottomLeftY))+" "+L(P.mediaBox.topRightX)+" "+L(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&Z("/CropBox ["+L(P.cropBox.bottomLeftX)+" "+L(P.cropBox.bottomLeftY)+" "+L(P.cropBox.topRightX)+" "+L(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&Z("/BleedBox ["+L(P.bleedBox.bottomLeftX)+" "+L(P.bleedBox.bottomLeftY)+" "+L(P.bleedBox.topRightX)+" "+L(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&Z("/TrimBox ["+L(P.trimBox.bottomLeftX)+" "+L(P.trimBox.bottomLeftY)+" "+L(P.trimBox.topRightX)+" "+L(P.trimBox.topRightY)+"]"),P.artBox!==null&&Z("/ArtBox ["+L(P.artBox.bottomLeftX)+" "+L(P.artBox.bottomLeftY)+" "+L(P.artBox.topRightX)+" "+L(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&Z("/UserUnit "+P.userUnit),fn.publish("putPage",{objId:le,pageContext:ft[B],pageNumber:B,page:ie}),Z("/Contents "+ge+" 0 R"),Z(">>"),Z("endobj");var Te=ie.join(`
`);return S===x&&(Te+=`
Q`),Ii(ge,!0),Za({data:Te,filters:zo(),objectId:ge}),Z("endobj"),le},Ll=p.__private__.putPages=function(){var P,B,ie=[];for(P=1;P<=zt;P++)ft[P].objId=wi(),ft[P].contentsObjId=wi();for(P=1;P<=zt;P++)ie.push(df({number:P,data:_e[P],objId:ft[P].objId,contentsObjId:ft[P].contentsObjId,mediaBox:ft[P].mediaBox,cropBox:ft[P].cropBox,bleedBox:ft[P].bleedBox,trimBox:ft[P].trimBox,artBox:ft[P].artBox,userUnit:ft[P].userUnit,rootDictionaryObjId:fh,resourceDictionaryObjId:Bo}));Ii(fh,!0),Z("<</Type /Pages");var le="/Kids [";for(B=0;B<zt;B++)le+=ie[B]+" 0 R ";Z(le+"]"),Z("/Count "+zt),Z(">>"),Z("endobj"),fn.publish("postPutPages")},ff=function(P){fn.publish("putFont",{font:P,out:Z,newObject:br,putStream:Za}),P.isAlreadyPutted!==!0&&(P.objectNumber=br(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Im(P.postScriptName)),Z("/Subtype /Type1"),typeof P.encoding=="string"&&Z("/Encoding /"+P.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Kg=function(P){P.objectNumber=br();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[L(P.x),L(P.y),L(P.x+P.width),L(P.y+P.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ie=P.pages[1].join(`
`);Za({data:ie,additionalKeyValues:B,objectId:P.objectNumber}),Z("endobj")},Xg=function(P,B){B||(B=21);var ie=br(),le=function(Ne,Xe){var nt,xt=[],It=1/(Xe-1);for(nt=0;nt<1;nt+=It)xt.push(nt);if(xt.push(1),Ne[0].offset!=0){var rn={offset:0,color:Ne[0].color};Ne.unshift(rn)}if(Ne[Ne.length-1].offset!=1){var ur={offset:1,color:Ne[Ne.length-1].color};Ne.push(ur)}for(var Hr="",Bn=0,ti=0;ti<xt.length;ti++){for(nt=xt[ti];nt>Ne[Bn+1].offset;)Bn++;var Wr=Ne[Bn].offset,Ri=(nt-Wr)/(Ne[Bn+1].offset-Wr),$c=Ne[Bn].color,Ho=Ne[Bn+1].color;Hr+=se(Math.round((1-Ri)*$c[0]+Ri*Ho[0]).toString(16))+se(Math.round((1-Ri)*$c[1]+Ri*Ho[1]).toString(16))+se(Math.round((1-Ri)*$c[2]+Ri*Ho[2]).toString(16))}return Hr.trim()}(P.colors,B),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+B+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Za({data:le,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),Z("endobj"),P.objectNumber=br(),Z("<< /ShadingType "+P.type),Z("/ColorSpace /DeviceRGB");var Te="/Coords ["+L(parseFloat(P.coords[0]))+" "+L(parseFloat(P.coords[1]))+" ";P.type===2?Te+=L(parseFloat(P.coords[2]))+" "+L(parseFloat(P.coords[3])):Te+=L(parseFloat(P.coords[2]))+" "+L(parseFloat(P.coords[3]))+" "+L(parseFloat(P.coords[4]))+" "+L(parseFloat(P.coords[5])),Z(Te+="]"),P.matrix&&Z("/Matrix ["+P.matrix.toString()+"]"),Z("/Function "+ie+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Yg=function(P,B){var ie=wi(),le=br();B.push({resourcesOid:ie,objectOid:le}),P.objectNumber=le;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+P.boundingBox.map(L).join(" ")+"]"}),ge.push({key:"XStep",value:L(P.xStep)}),ge.push({key:"YStep",value:L(P.yStep)}),ge.push({key:"Resources",value:ie+" 0 R"}),P.matrix&&ge.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Za({data:P.stream,additionalKeyValues:ge,objectId:P.objectNumber}),Z("endobj")},gk=function(P){for(var B in P.objectNumber=br(),Z("<<"),P)switch(B){case"opacity":Z("/ca "+O(P[B]));break;case"stroke-opacity":Z("/CA "+O(P[B]))}Z(">>"),Z("endobj")},Fy=function(P){Ii(P.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var B in Z("/Font <<"),Bt)Bt.hasOwnProperty(B)&&(d===!1||d===!0&&f.hasOwnProperty(B))&&Z("/"+B+" "+Bt[B].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(ht).length>0){for(var B in Z("/Shading <<"),ht)ht.hasOwnProperty(B)&&ht[B]instanceof qf&&ht[B].objectNumber>=0&&Z("/"+B+" "+ht[B].objectNumber+" 0 R");fn.publish("putShadingPatternDict"),Z(">>")}}(),function(B){if(Object.keys(ht).length>0){for(var ie in Z("/Pattern <<"),ht)ht.hasOwnProperty(ie)&&ht[ie]instanceof p.TilingPattern&&ht[ie].objectNumber>=0&&ht[ie].objectNumber<B&&Z("/"+ie+" "+ht[ie].objectNumber+" 0 R");fn.publish("putTilingPatternDict"),Z(">>")}}(P.objectOid),function(){if(Object.keys(yt).length>0){var B;for(B in Z("/ExtGState <<"),yt)yt.hasOwnProperty(B)&&yt[B].objectNumber>=0&&Z("/"+B+" "+yt[B].objectNumber+" 0 R");fn.publish("putGStateDict"),Z(">>")}}(),function(){for(var B in Z("/XObject <<"),ts)ts.hasOwnProperty(B)&&ts[B].objectNumber>=0&&Z("/"+B+" "+ts[B].objectNumber+" 0 R");fn.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},n_=function(P){Ut[P.fontName]=Ut[P.fontName]||{},Ut[P.fontName][P.fontStyle]=P.id},r_=function(P,B,ie,le,ge){var Te={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:P,fontName:B,fontStyle:ie,encoding:le,isStandardFont:ge||!1,metadata:{}};return fn.publish("addFont",{font:Te,instance:this}),Bt[Te.id]=Te,n_(Te),Te.id},Qa=p.__private__.pdfEscape=p.pdfEscape=function(P,B){return function(ie,le){var ge,Te,Ne,Xe,nt,xt,It,rn,ur;if(Ne=(le=le||{}).sourceEncoding||"Unicode",nt=le.outputEncoding,(le.autoencode||nt)&&Bt[tt].metadata&&Bt[tt].metadata[Ne]&&Bt[tt].metadata[Ne].encoding&&(Xe=Bt[tt].metadata[Ne].encoding,!nt&&Bt[tt].encoding&&(nt=Bt[tt].encoding),!nt&&Xe.codePages&&(nt=Xe.codePages[0]),typeof nt=="string"&&(nt=Xe[nt]),nt)){for(It=!1,xt=[],ge=0,Te=ie.length;ge<Te;ge++)(rn=nt[ie.charCodeAt(ge)])?xt.push(String.fromCharCode(rn)):xt.push(ie[ge]),xt[ge].charCodeAt(0)>>8&&(It=!0);ie=xt.join("")}for(ge=ie.length;It===void 0&&ge!==0;)ie.charCodeAt(ge-1)>>8&&(It=!0),ge--;if(!It)return ie;for(xt=le.noBOM?[]:[254,255],ge=0,Te=ie.length;ge<Te;ge++){if((ur=(rn=ie.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(ur),xt.push(rn-(ur<<8))}return String.fromCharCode.apply(void 0,xt)}(P,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$y=p.__private__.beginPage=function(P){_e[++zt]=[],ft[zt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},s_(zt),De(_e[K])},i_=function(P,B){var ie,le,ge;switch(n=B||n,typeof P=="string"&&(ie=g(P.toLowerCase()),Array.isArray(ie)&&(le=ie[0],ge=ie[1])),Array.isArray(P)&&(le=P[0]*Lt,ge=P[1]*Lt),isNaN(le)&&(le=i[0],ge=i[1]),(le>14400||ge>14400)&&(Mn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ge=Math.min(14400,ge)),i=[le,ge],n.substr(0,1)){case"l":ge>le&&(i=[ge,le]);break;case"p":le>ge&&(i=[ge,le])}$y(i),_t(zy),Z(em),Hy!==0&&Z(Hy+" J"),Wy!==0&&Z(Wy+" j"),fn.publish("addPage",{pageNumber:zt})},By=function(P){P>0&&P<=zt&&(_e.splice(P,1),ft.splice(P,1),zt--,K>zt&&(K=zt),this.setPage(K))},s_=function(P){P>0&&P<=zt&&(K=P)},a_=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return _e.length-1},o_=function(P,B,ie){var le,ge=void 0;return ie=ie||{},P=P!==void 0?P:Bt[tt].fontName,B=B!==void 0?B:Bt[tt].fontStyle,le=P.toLowerCase(),Ut[le]!==void 0&&Ut[le][B]!==void 0?ge=Ut[le][B]:Ut[P]!==void 0&&Ut[P][B]!==void 0?ge=Ut[P][B]:ie.disableWarning===!1&&Mn.warn("Unable to look up font label for font '"+P+"', '"+B+"'. Refer to getFontList() for available fonts."),ge||ie.noFallback||(ge=Ut.times[B])==null&&(ge=Ut.times.normal),ge},Il=p.__private__.putInfo=function(){var P=br(),B=function(le){return le};for(var ie in u!==null&&(B=ei.encryptor(P,0)),Z("<<"),Z("/Producer ("+Qa(B("jsPDF "+at.version))+")"),Vt)Vt.hasOwnProperty(ie)&&Vt[ie]&&Z("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Qa(B(Vt[ie]))+")");Z("/CreationDate ("+Qa(B(G))+")"),Z(">>"),Z("endobj")},Jg=p.__private__.putCatalog=function(P){var B=(P=P||{}).rootDictionaryObjId||fh;switch(br(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+B+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+ct;ie.substr(ie.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+O(ct)+"]")}switch($t||($t="continuous"),$t){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}rt&&Z("/PageMode /"+rt),fn.publish("putCatalog"),Z(">>"),Z("endobj")},mk=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(oe+1)),Z("/Root "+oe+" 0 R"),Z("/Info "+(oe-1)+" 0 R"),u!==null&&Z("/Encrypt "+ei.oid+" 0 R"),Z("/ID [ <"+Y+"> <"+Y+"> ]"),Z(">>")},qr=p.__private__.putHeader=function(){Z("%PDF-"+v),Z("%")},l_=p.__private__.putXRef=function(){var P="0000000000";Z("xref"),Z("0 "+(oe+1)),Z("0000000000 65535 f ");for(var B=1;B<=oe;B++)typeof de[B]=="function"?Z((P+de[B]()).slice(-10)+" 00000 n "):de[B]!==void 0?Z((P+de[B]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Rl=p.__private__.buildDocument=function(){var P;oe=0,ue=0,xe=[],de=[],ye=[],fh=wi(),Bo=wi(),De(xe),fn.publish("buildDocument"),qr(),Ll(),function(){fn.publish("putAdditionalObjects");for(var ie=0;ie<ye.length;ie++){var le=ye[ie];Ii(le.objId,!0),Z(le.content),Z("endobj")}fn.publish("postPutAdditionalObjects")}(),P=[],function(){for(var ie in Bt)Bt.hasOwnProperty(ie)&&(d===!1||d===!0&&f.hasOwnProperty(ie))&&ff(Bt[ie])}(),function(){var ie;for(ie in yt)yt.hasOwnProperty(ie)&&gk(yt[ie])}(),function(){for(var ie in ts)ts.hasOwnProperty(ie)&&Kg(ts[ie])}(),function(ie){var le;for(le in ht)ht.hasOwnProperty(le)&&(ht[le]instanceof qf?Xg(ht[le]):ht[le]instanceof Zm&&Yg(ht[le],ie))}(P),fn.publish("putResources"),P.forEach(Fy),Fy({resourcesOid:Bo,objectOid:Number.MAX_SAFE_INTEGER}),fn.publish("postPutResources"),u!==null&&(ei.oid=br(),Z("<<"),Z("/Filter /Standard"),Z("/V "+ei.v),Z("/R "+ei.r),Z("/U <"+ei.toHexString(ei.U)+">"),Z("/O <"+ei.toHexString(ei.O)+">"),Z("/P "+ei.P),Z(">>"),Z("endobj")),Il(),Jg();var B=ue;return l_(),mk(),Z("startxref"),Z(""+B),Z("%%EOF"),De(_e[K]),xe.join(`
`)},Zg=p.__private__.getBlob=function(P){return new Blob([ut(P)],{type:"application/pdf"})},c_=p.output=p.__private__.output=(Ja=function(P,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",P){case void 0:return Rl();case"save":p.save(B.filename);break;case"arraybuffer":return ut(Rl());case"blob":return Zg(Rl());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(Zg(Rl()))||void 0;Mn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",le=Rl();try{ie=W$(le)}catch{ie=W$(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+B.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(ge=B.pdfObjectUrl,Te="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Xe=wt.open();return Xe!==null&&Xe.document.write(Ne),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',xt=wt.open();if(xt!==null){xt.document.write(nt);var It=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=B.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',ur=wt.open();if(ur!==null&&(ur.document.write(rn),ur.document.title=B.filename),ur||typeof safari>"u")return ur;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",B);default:return null}},Ja.foo=function(){try{return Ja.apply(this,arguments)}catch(ie){var P=ie.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var B="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ie.message;if(!wt.console)throw new Error(B);wt.console.error(B,ie),wt.alert&&alert(B)}},Ja.foo.bar=Ja,Ja.foo),eo=function(P){return Array.isArray(uf)===!0&&uf.indexOf(P)>-1};switch(r){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=eo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Lt=r}var ei=null;ae(),W();var Lc=p.__private__.getPageInfo=p.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[P].objId,pageNumber:P,pageContext:ft[P]}},u_=p.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in ft)if(ft[B].objId===P)break;return Lc(B)},vk=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ft[K].objId,pageNumber:K,pageContext:ft[K]}};p.addPage=function(){return i_.apply(this,arguments),this},p.setPage=function(){return s_.apply(this,arguments),De.call(this,_e[K]),this},p.insertPage=function(P){return this.addPage(),this.movePage(K,P),this},p.movePage=function(P,B){var ie,le;if(P>B){ie=_e[P],le=ft[P];for(var ge=P;ge>B;ge--)_e[ge]=_e[ge-1],ft[ge]=ft[ge-1];_e[B]=ie,ft[B]=le,this.setPage(B)}else if(P<B){ie=_e[P],le=ft[P];for(var Te=P;Te<B;Te++)_e[Te]=_e[Te+1],ft[Te]=ft[Te+1];_e[B]=ie,ft[B]=le,this.setPage(B)}return this},p.deletePage=function(){return By.apply(this,arguments),this},p.__private__.text=p.text=function(P,B,ie,le,ge){var Te,Ne,Xe,nt,xt,It,rn,ur,Hr,Bn=(le=le||{}).scope||this;if(typeof P=="number"&&typeof B=="number"&&(typeof ie=="string"||Array.isArray(ie))){var ti=ie;ie=B,B=P,P=ti}if(arguments[3]instanceof pt==0?(Xe=arguments[4],nt=arguments[5],xn(rn=arguments[3])==="object"&&rn!==null||(typeof Xe=="string"&&(nt=Xe,Xe=null),typeof rn=="string"&&(nt=rn,rn=null),typeof rn=="number"&&(Xe=rn,rn=null),le={flags:rn,angle:Xe,align:nt})):(I("The transform parameter of text() with a Matrix value"),Hr=ge),isNaN(B)||isNaN(ie)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return Bn;var Wr,Ri="",$c=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:gf,Ho=Bn.internal.scaleFactor;function Bc(pn){return pn=pn.split("	").join(Array(le.TabLen||9).join(" ")),Qa(pn,rn)}function Xy(pn){for(var Nn,Rr=pn.concat(),ni=[],qc=Rr.length;qc--;)typeof(Nn=Rr.shift())=="string"?ni.push(Nn):Array.isArray(pn)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?ni.push(Nn[0]):ni.push([Nn[0],Nn[1],Nn[2]]);return ni}function nm(pn,Nn){var Rr;if(typeof pn=="string")Rr=Nn(pn)[0];else if(Array.isArray(pn)){for(var ni,qc,s1=pn.concat(),sm=[],x_=s1.length;x_--;)typeof(ni=s1.shift())=="string"?sm.push(Nn(ni)[0]):Array.isArray(ni)&&typeof ni[0]=="string"&&(qc=Nn(ni[0],ni[1],ni[2]),sm.push([qc[0],qc[1],qc[2]]));Rr=sm}return Rr}var ph=!1,bf=!0;if(typeof P=="string")ph=!0;else if(Array.isArray(P)){var wf=P.concat();Ne=[];for(var gh,Mi=wf.length;Mi--;)(typeof(gh=wf.shift())!="string"||Array.isArray(gh)&&typeof gh[0]!="string")&&(bf=!1);ph=bf}if(ph===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var xf=Oe/Bn.internal.scaleFactor,_f=xf*($c-1);switch(le.baseline){case"bottom":ie-=_f;break;case"top":ie+=xf-_f;break;case"hanging":ie+=xf-2*_f;break;case"middle":ie+=xf/2-_f}if((It=le.maxWidth||0)>0&&(typeof P=="string"?P=Bn.splitTextToSize(P,It):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(pn,Nn){return pn.concat(Bn.splitTextToSize(Nn,It))},[]))),Te={text:P,x:B,y:ie,options:le,mutex:{pdfEscape:Qa,activeFontKey:tt,fonts:Bt,activeFontSize:Oe}},fn.publish("preProcessText",Te),P=Te.text,Xe=(le=Te.options).angle,Hr instanceof pt==0&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,le.rotationDirection===0&&(Xe=-Xe),S===x&&(Xe=-Xe);var Yy=Math.cos(Xe),Jy=Math.sin(Xe);Hr=new pt(Yy,Jy,-Jy,Yy,0,0)}else Xe&&Xe instanceof pt&&(Hr=Xe);S!==x||Hr||(Hr=Nc),(xt=le.charSpace||Mc)!==void 0&&(Ri+=L(z(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ur=le.horizontalScale)!==void 0&&(Ri+=L(100*ur)+` Tz
`),le.lang;var ws=-1,Uc=le.renderingMode!==void 0?le.renderingMode:le.stroke,rm=Bn.internal.getCurrentPageInfo().pageContext;switch(Uc){case 0:case!1:case"fill":ws=0;break;case 1:case!0:case"stroke":ws=1;break;case 2:case"fillThenStroke":ws=2;break;case 3:case"invisible":ws=3;break;case 4:case"fillAndAddForClipping":ws=4;break;case 5:case"strokeAndAddPathForClipping":ws=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ws=6;break;case 7:case"addToPathForClipping":ws=7}var b_=rm.usedRenderingMode!==void 0?rm.usedRenderingMode:-1;ws!==-1?Ri+=ws+` Tr
`:b_!==-1&&(Ri+=`0 Tr
`),ws!==-1&&(rm.usedRenderingMode=ws),nt=le.align||"left";var to,Af=Oe*$c,Zy=Bn.internal.pageSize.getWidth(),Qy=Bt[tt];xt=le.charSpace||Mc,It=le.maxWidth||0,rn=Object.assign({autoencode:!0,noBOM:!0},le.flags);var mh=[],Sf=function(pn){return Bn.getStringUnitWidth(pn,{font:Qy,charSpace:xt,fontSize:Oe,doKerning:!1})*Oe/Ho};if(Object.prototype.toString.call(P)==="[object Array]"){var ra;Ne=Xy(P),nt!=="left"&&(to=Ne.map(Sf));var ia,vh=0;if(nt==="right"){B-=to[0],P=[],Mi=Ne.length;for(var zc=0;zc<Mi;zc++)zc===0?(ia=Ic(B),ra=Rc(ie)):(ia=z(vh-to[zc]),ra=-Af),P.push([Ne[zc],ia,ra]),vh=to[zc]}else if(nt==="center"){B-=to[0]/2,P=[],Mi=Ne.length;for(var yh=0;yh<Mi;yh++)yh===0?(ia=Ic(B),ra=Rc(ie)):(ia=z((vh-to[yh])/2),ra=-Af),P.push([Ne[yh],ia,ra]),vh=to[yh]}else if(nt==="left"){P=[],Mi=Ne.length;for(var e1=0;e1<Mi;e1++)P.push(Ne[e1])}else if(nt==="justify"&&Qy.encoding==="Identity-H"){P=[],Mi=Ne.length,It=It!==0?It:Zy;for(var im=0,Ir=0;Ir<Mi;Ir++)if(ra=Ir===0?Rc(ie):-Af,ia=Ir===0?Ic(B):im,Ir<Mi-1){var w_=z((It-to[Ir])/(Ne[Ir].split(" ").length-1)),jl=Ne[Ir].split(" ");P.push([jl[0]+" ",ia,ra]),im=0;for(var Dl=1;Dl<jl.length;Dl++){var t1=(Sf(jl[Dl-1]+" "+jl[Dl])-Sf(jl[Dl]))*Ho+w_;Dl==jl.length-1?P.push([jl[Dl],t1,0]):P.push([jl[Dl]+" ",t1,0]),im-=t1}}else P.push([Ne[Ir],ia,ra]);P.push(["",im,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Mi=Ne.length,It=It!==0?It:Zy,Ir=0;Ir<Mi;Ir++){ra=Ir===0?Rc(ie):-Af,ia=Ir===0?Ic(B):0;var n1=Ne[Ir].split(" ").length-1,r1=n1>0?(It-to[Ir])/n1:0;Ir<Mi-1?mh.push(L(z(r1))):mh.push(0),P.push([Ne[Ir],ia,ra])}}}(typeof le.R2L=="boolean"?le.R2L:et)===!0&&(P=nm(P,function(pn,Nn,Rr){return[pn.split("").reverse().join(""),Nn,Rr]})),Te={text:P,x:B,y:ie,options:le,mutex:{pdfEscape:Qa,activeFontKey:tt,fonts:Bt,activeFontSize:Oe}},fn.publish("postProcessText",Te),P=Te.text,Wr=Te.mutex.isHex||!1;var i1=Bt[tt].encoding;i1!=="WinAnsiEncoding"&&i1!=="StandardEncoding"||(P=nm(P,function(pn,Nn,Rr){return[Bc(pn),Nn,Rr]})),Ne=Xy(P),P=[];for(var bh,wh,xh,Ef=Array.isArray(Ne[0])?1:0,_h="",Pf=function(pn,Nn,Rr){var ni="";return Rr instanceof pt?(Rr=typeof le.angle=="number"?Oc(Rr,new pt(1,0,0,1,pn,Nn)):Oc(new pt(1,0,0,1,pn,Nn),Rr),S===x&&(Rr=Oc(new pt(1,0,0,-1,0,0),Rr)),ni=Rr.join(" ")+` Tm
`):ni=L(pn)+" "+L(Nn)+` Td
`,ni},no=0;no<Ne.length;no++){switch(_h="",Ef){case 1:xh=(Wr?"<":"(")+Ne[no][0]+(Wr?">":")"),bh=parseFloat(Ne[no][1]),wh=parseFloat(Ne[no][2]);break;case 0:xh=(Wr?"<":"(")+Ne[no]+(Wr?">":")"),bh=Ic(B),wh=Rc(ie)}mh!==void 0&&mh[no]!==void 0&&(_h=mh[no]+` Tw
`),no===0?P.push(_h+Pf(bh,wh,Hr)+xh):Ef===0?P.push(_h+xh):Ef===1&&P.push(_h+Pf(bh,wh,Hr)+xh)}P=Ef===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Fl=`BT
/`;return Fl+=tt+" "+Oe+` Tf
`,Fl+=L(Oe*$c)+` TL
`,Fl+=mf+`
`,Fl+=Ri,Fl+=P,Z(Fl+="ET"),f[tt]=!0,Bn};var yk=p.__private__.clip=p.clip=function(P){return Z(P==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return yk("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var Ml=p.__private__.isValidStyle=function(P){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(B=!0),B};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(P){return Ml(P)&&(c=P),this};var h_=p.__private__.getStyle=p.getStyle=function(P){var B=c;switch(P){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=P}return B},d_=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(P){return Qg("f",P),this},p.fillEvenOdd=function(P){return Qg("f*",P),this},p.fillStroke=function(P){return Qg("B",P),this},p.fillStrokeEvenOdd=function(P){return Qg("B*",P),this};var Qg=function(P,B){xn(B)==="object"?wk(B,P):Z(P)},pf=function(P){P===null||S===x&&P===void 0||(P=h_(P),Z(P))};function bk(P,B,ie,le,ge){var Te=new Zm(B||this.boundingBox,ie||this.xStep,le||this.yStep,this.gState,ge||this.matrix);Te.stream=this.stream;var Ne=P+"$$"+this.cloneIndex+++"$$";return Ya(Ne,Te),Te}var wk=function(P,B){var ie=$n[P.key],le=ht[ie];if(le instanceof qf)Z("q"),Z(xk(B)),le.gState&&p.setGState(le.gState),Z(P.matrix.toString()+" cm"),Z("/"+ie+" sh"),Z("Q");else if(le instanceof Zm){var ge=new pt(1,0,0,-1,0,yf());P.matrix&&(ge=ge.multiply(P.matrix||Nc),ie=bk.call(le,P.key,P.boundingBox,P.xStep,P.yStep,ge).id),Z("q"),Z("/Pattern cs"),Z("/"+ie+" scn"),le.gState&&p.setGState(le.gState),Z(B),Z("Q")}},xk=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Uy=p.moveTo=function(P,B){return Z(L(z(P))+" "+L($(B))+" m"),this},f_=p.lineTo=function(P,B){return Z(L(z(P))+" "+L($(B))+" l"),this},qo=p.curveTo=function(P,B,ie,le,ge,Te){return Z([L(z(P)),L($(B)),L(z(ie)),L($(le)),L(z(ge)),L($(Te)),"c"].join(" ")),this};p.__private__.line=p.line=function(P,B,ie,le,ge){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||!Ml(ge))throw new Error("Invalid arguments passed to jsPDF.line");return S===w?this.lines([[ie-P,le-B]],P,B,[1,1],ge||"S"):this.lines([[ie-P,le-B]],P,B,[1,1]).stroke()},p.__private__.lines=p.lines=function(P,B,ie,le,ge,Te){var Ne,Xe,nt,xt,It,rn,ur,Hr,Bn,ti,Wr,Ri;if(typeof P=="number"&&(Ri=ie,ie=B,B=P,P=Ri),le=le||[1,1],Te=Te||!1,isNaN(B)||isNaN(ie)||!Array.isArray(P)||!Array.isArray(le)||!Ml(ge)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uy(B,ie),Ne=le[0],Xe=le[1],xt=P.length,ti=B,Wr=ie,nt=0;nt<xt;nt++)(It=P[nt]).length===2?(ti=It[0]*Ne+ti,Wr=It[1]*Xe+Wr,f_(ti,Wr)):(rn=It[0]*Ne+ti,ur=It[1]*Xe+Wr,Hr=It[2]*Ne+ti,Bn=It[3]*Xe+Wr,ti=It[4]*Ne+ti,Wr=It[5]*Xe+Wr,qo(rn,ur,Hr,Bn,ti,Wr));return Te&&d_(),pf(ge),this},p.path=function(P){for(var B=0;B<P.length;B++){var ie=P[B],le=ie.c;switch(ie.op){case"m":Uy(le[0],le[1]);break;case"l":f_(le[0],le[1]);break;case"c":qo.apply(this,le);break;case"h":d_()}}return this},p.__private__.rect=p.rect=function(P,B,ie,le,ge){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||!Ml(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w&&(le=-le),Z([L(z(P)),L($(B)),L(z(ie)),L(z(le)),"re"].join(" ")),pf(ge),this},p.__private__.triangle=p.triangle=function(P,B,ie,le,ge,Te,Ne){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||isNaN(ge)||isNaN(Te)||!Ml(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-P,le-B],[ge-ie,Te-le],[P-ge,B-Te]],P,B,[1,1],Ne,!0),this},p.__private__.roundedRect=p.roundedRect=function(P,B,ie,le,ge,Te,Ne){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||isNaN(ge)||isNaN(Te)||!Ml(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*ie),Te=Math.min(Te,.5*le),this.lines([[ie-2*ge,0],[ge*Xe,0,ge,Te-Te*Xe,ge,Te],[0,le-2*Te],[0,Te*Xe,-ge*Xe,Te,-ge,Te],[2*ge-ie,0],[-ge*Xe,0,-ge,-Te*Xe,-ge,-Te],[0,2*Te-le],[0,-Te*Xe,ge*Xe,-Te,ge,-Te]],P+ge,B,[1,1],Ne,!0),this},p.__private__.ellipse=p.ellipse=function(P,B,ie,le,ge){if(isNaN(P)||isNaN(B)||isNaN(ie)||isNaN(le)||!Ml(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*ie,Ne=4/3*(Math.SQRT2-1)*le;return Uy(P+ie,B),qo(P+ie,B-Ne,P+Te,B-le,P,B-le),qo(P-Te,B-le,P-ie,B-Ne,P-ie,B),qo(P-ie,B+Ne,P-Te,B+le,P,B+le),qo(P+Te,B+le,P+ie,B+Ne,P+ie,B),pf(ge),this},p.__private__.circle=p.circle=function(P,B,ie,le){if(isNaN(P)||isNaN(B)||isNaN(ie)||!Ml(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,B,ie,ie,le)},p.setFont=function(P,B,ie){return ie&&(B=T(B,ie)),tt=o_(P,B,{disableWarning:!1}),this};var _k=p.__private__.getFont=p.getFont=function(){return Bt[o_.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var P,B,ie={};for(P in Ut)if(Ut.hasOwnProperty(P))for(B in ie[P]=[],Ut[P])Ut[P].hasOwnProperty(B)&&ie[P].push(B);return ie},p.addFont=function(P,B,ie,le,ge){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(ie=T(ie,le)),r_.call(this,P,B,ie,ge=ge||"Identity-H")};var gf,zy=t.lineWidth||.200025,Ak=p.__private__.getLineWidth=p.getLineWidth=function(){return zy},_t=p.__private__.setLineWidth=p.setLineWidth=function(P){return zy=P,Z(L(z(P))+" w"),this};p.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(P,B){if(P=P||[],B=B||0,isNaN(B)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ie){return L(z(ie))}).join(" "),B=L(z(B)),Z("["+P+"] "+B+" d"),this};var Sk=p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*gf};p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*gf};var Ek=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(gf=P),this},Pk=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return gf};Ek(t.lineHeight);var Ic=p.__private__.getHorizontalCoordinate=function(P){return z(P)},Rc=p.__private__.getVerticalCoordinate=function(P){return S===x?P:ft[K].mediaBox.topRightY-ft[K].mediaBox.bottomLeftY-z(P)},kk=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(P){return L(Ic(P))},Tk=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(P){return L(Rc(P))},em=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Nl(em)},p.__private__.setStrokeColor=p.setDrawColor=function(P,B,ie,le){return em=Uo({ch1:P,ch2:B,ch3:ie,ch4:le,pdfColorType:"draw",precision:2}),Z(em),this};var qy=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Nl(qy)},p.__private__.setFillColor=p.setFillColor=function(P,B,ie,le){return qy=Uo({ch1:P,ch2:B,ch3:ie,ch4:le,pdfColorType:"fill",precision:2}),Z(qy),this};var mf=t.textColor||"0 g",Ck=p.__private__.getTextColor=p.getTextColor=function(){return Nl(mf)};p.__private__.setTextColor=p.setTextColor=function(P,B,ie,le){return mf=Uo({ch1:P,ch2:B,ch3:ie,ch4:le,pdfColorType:"text",precision:3}),this};var Mc=t.charSpace,Ok=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Mc||0)};p.__private__.setCharSpace=p.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mc=P,this};var Hy=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(P){var B=p.CapJoinStyles[P];if(B===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hy=B,Z(B+" J"),this};var Wy=0;p.__private__.setLineJoin=p.setLineJoin=function(P){var B=p.CapJoinStyles[P];if(B===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wy=B,Z(B+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(L(z(P))+" M"),this},p.GState=CE,p.setGState=function(P){(P=typeof P=="string"?yt[Tt[P]]:p_(null,P)).equals(rr)||(Z("/"+P.id+" gs"),rr=P)};var p_=function(P,B){if(!P||!Tt[P]){var ie=!1;for(var le in yt)if(yt.hasOwnProperty(le)&&yt[le].equals(B)){ie=!0;break}if(ie)B=yt[le];else{var ge="GS"+(Object.keys(yt).length+1).toString(10);yt[ge]=B,B.id=ge}return P&&(Tt[P]=B.id),fn.publish("addGState",B),B}};p.addGState=function(P,B){return p_(P,B),this},p.saveGraphicsState=function(){return Z("q"),nr.push({key:tt,size:Oe,color:mf}),this},p.restoreGraphicsState=function(){Z("Q");var P=nr.pop();return tt=P.key,Oe=P.size,mf=P.color,rr=null,this},p.setCurrentTransformationMatrix=function(P){return Z(P.toString()+" cm"),this},p.comment=function(P){return Z("#"+P),this};var jc=function(P,B){var ie=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Te){isNaN(Te)||(ie=parseFloat(Te))}});var le=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Te){isNaN(Te)||(le=parseFloat(Te))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Te){ge=Te.toString()}}),this},Vy=function(P,B,ie,le){jc.call(this,P,B),this.type="rect";var ge=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Ne){isNaN(Ne)||(ge=parseFloat(Ne))}});var Te=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Ne){isNaN(Ne)||(Te=parseFloat(Ne))}}),this},tm=function(){this.page=zt,this.currentPage=K,this.pages=_e.slice(0),this.pagesContext=ft.slice(0),this.x=ot,this.y=Lr,this.matrix=nn,this.width=Ky(K),this.height=m_(K),this.outputDestination=Ie,this.id="",this.objectNumber=-1};tm.prototype.restore=function(){zt=this.page,K=this.currentPage,ft=this.pagesContext,_e=this.pages,ot=this.x,Lr=this.y,nn=this.matrix,g_(K,this.width),Dc(K,this.height),Ie=this.outputDestination};var Gy=function(P,B,ie,le,ge){Ol.push(new tm),zt=K=0,_e=[],ot=P,Lr=B,nn=ge,$y([ie,le])};for(var vf in p.beginFormObject=function(P,B,ie,le,ge){return Gy(P,B,ie,le,ge),this},p.endFormObject=function(P){return function(B){if(Cc[B])Ol.pop().restore();else{var ie=new tm,le="Xo"+(Object.keys(ts).length+1).toString(10);ie.id=le,Cc[B]=le,ts[le]=ie,fn.publish("addFormObject",ie),Ol.pop().restore()}}(P),this},p.doFormObject=function(P,B){var ie=ts[Cc[P]];return Z("q"),Z(B.toString()+" cm"),Z("/"+ie.id+" Do"),Z("Q"),this},p.getFormObject=function(P){var B=ts[Cc[P]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},p.save=function(P,B){return P=P||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Bf(Zg(Rl()),P),typeof Bf.unload=="function"&&wt.setTimeout&&setTimeout(Bf.unload,911),this):new Promise(function(ie,le){try{var ge=Bf(Zg(Rl()),P);typeof Bf.unload=="function"&&wt.setTimeout&&setTimeout(Bf.unload,911),ie(ge)}catch(Te){le(Te.message)}})},at.API)at.API.hasOwnProperty(vf)&&(vf==="events"&&at.API.events.length?function(P,B){var ie,le,ge;for(ge=B.length-1;ge!==-1;ge--)ie=B[ge][0],le=B[ge][1],P.subscribe.apply(P,[ie].concat(typeof le=="function"?[le]:le))}(fn,at.API.events):p[vf]=at.API[vf]);function Ky(P){return ft[P].mediaBox.topRightX-ft[P].mediaBox.bottomLeftX}function g_(P,B){ft[P].mediaBox.topRightX=B+ft[P].mediaBox.bottomLeftX}function m_(P){return ft[P].mediaBox.topRightY-ft[P].mediaBox.bottomLeftY}function Dc(P,B){ft[P].mediaBox.topRightY=B+ft[P].mediaBox.bottomLeftY}var Fc=p.getPageWidth=function(P){return Ky(P=P||K)/Lt},v_=p.setPageWidth=function(P,B){g_(P,B*Lt)},yf=p.getPageHeight=function(P){return m_(P=P||K)/Lt},y_=p.setPageHeight=function(P,B){Dc(P,B*Lt)};return p.internal={pdfEscape:Qa,getStyle:h_,getFont:_k,getFontSize:Ue,getCharSpace:Ok,getTextColor:Ck,getLineHeight:Sk,getLineHeightFactor:Pk,getLineWidth:Ak,write:Me,getHorizontalCoordinate:Ic,getVerticalCoordinate:Rc,getCoordinateString:kk,getVerticalCoordinateString:Tk,collections:{},newObject:br,newAdditionalObject:hf,newObjectDeferred:wi,newObjectDeferredBegin:Ii,getFilters:zo,putStream:Za,events:fn,scaleFactor:Lt,pageSize:{getWidth:function(){return Fc(K)},setWidth:function(P){v_(K,P)},getHeight:function(){return yf(K)},setHeight:function(P){y_(K,P)}},encryptionOptions:u,encryption:ei,getEncryptor:function(P){return u!==null?ei.encryptor(P,0):function(B){return B}},output:c_,getNumberOfPages:a_,get pages(){return _e},out:Z,f2:O,f3:M,getPageInfo:Lc,getPageInfoByObjId:u_,getCurrentPageInfo:vk,getPDFVersion:m,Point:jc,Rectangle:Vy,Matrix:pt,hasHotfix:eo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Fc(K)},set:function(P){v_(K,P)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return yf(K)},set:function(P){y_(K,P)},enumerable:!0,configurable:!0}),(function(P){for(var B=0,ie=Qe.length;B<ie;B++){var le=r_.call(this,P[B][0],P[B][1],P[B][2],Qe[B][3],!0);d===!1&&(f[le]=!0);var ge=P[B][0].split("-");n_({id:le,fontName:ge[0],fontStyle:ge[1]||""})}fn.publish("addFonts",{fonts:Bt,dictionary:Ut})}).call(p,Qe),tt="F1",i_(i,n),fn.publish("initialized"),p}Lm.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Lm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lm.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Lm.prototype.processOwnerPassword=function(t,e){return X4(K4(e).substr(0,5),t)},Lm.prototype.encryptor=function(t,e){var n=K4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return X4(n,r)}},CE.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||xn(t)!==xn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},at.API={events:[]},at.version="3.0.4";var Pr=at.API,mR=1,Gg=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ym=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},Nh=function(t){return t.toFixed(5)};Pr.__acroform__={};var na=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},X$=function(t){return t*mR},Hl=function(t){var e=new EG,n=Ke.internal.getHeight(t)||0,r=Ke.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(r)),Number(At(n))],e},Kke=Pr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Xke=Pr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Yke=Pr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Br=Pr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Yke(t,e-1)},Ur=Pr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Kke(t,e-1)},zr=Pr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Xke(t,e-1)},Jke=Pr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},Zke=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Y4(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+At(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Hl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Y4=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=n,a=Ke.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ke.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(O,M,z){if(O+1<i.length){var $=M+" "+i[O+1][0];return M5($,t,z).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=M5("3",t,s).height,f=t.multiline?a-s:(a-d)/2,p=f+=2,v=0,m=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+M5(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var g="",w=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var S=!1;if(i[x].length!==1&&b!==i[x].length-1){if((d+2)*(w+2)+2>a)continue e;g+=i[x][b],S=!0,m=x,x--}else{g=(g+=i[x][b]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var A=parseInt(x),E=l(A,g,s),T=x>=i.length-1;if(E&&!T){g+=" ",b=0;continue}if(E||T){if(T)m=A;else if(t.multiline&&(d+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(d+2)*(w+2)+2>a)continue e;m=A}}for(var L="",I=v;I<=m;I++){var q=i[I];if(t.multiline){if(I===m){L+=q[b]+" ",b=(b+1)%q.length;continue}if(I===v){L+=q[q.length-1]+" ";continue}}L+=q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=M5(L,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=At(c)+" "+At(p)+` Td
`,e+="("+Gg(L)+`) Tj
`,e+=-At(c)+` 0 Td
`,p=-(s+2),u=0,v=S?m:m+1,w++,g=""}break}return r.text=e,r.fontSize=s,r},M5=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Qke={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eTe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},tTe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Tl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Qke)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mR=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new PG,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&eTe(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Jke(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ke.createDefaultAppearanceStream(o),xn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=Zke(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var p=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var v=p[a];typeof v=="function"&&(v=v.call(i,o)),d+="/"+a+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(i,o)),d+="/"+a+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(m,b){for(var g in m)if(m.hasOwnProperty(g)){var w=g,x=m[g];b.internal.newObjectDeferredBegin(x.objId,!0),xn(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete m[w]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},SG=Pr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),xn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Gg(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},LC=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Gg(r(t))+")"},yc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};yc.prototype.toString=function(){return this.objId+" 0 R"},yc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},yc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:SG(i,this.objId,this.scope)}):i instanceof yc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var EG=function(){yc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};na(EG,yc);var PG=function(){yc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Gg(n(t))+")"}},set:function(n){t=n}})};na(PG,yc);var Tl=function t(){yc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Br(e,3)},set:function(g){g?this.F=Ur(e,3):this.F=zr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof OE)return;s="FieldObject"+t.FieldNum++}var g=function(w){return w};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Gg(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/mR:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof OE||this instanceof Ag))return LC(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Oi==0?LC(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof Oi==0?g.substr(0,1)==="("?ym(g.substr(1,g.length-2)):ym(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi==1?ym(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Oi==1?"/"+g:g}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Oi==0?LC(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Oi==0?g.substr(0,1)==="("?ym(g.substr(1,g.length-2)):ym(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi==1?ym(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Oi==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,1)},set:function(g){g?this.Ff=Ur(this.Ff,1):this.Ff=zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,2)},set:function(g){g?this.Ff=Ur(this.Ff,2):this.Ff=zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,3)},set:function(g){g?this.Ff=Ur(this.Ff,3):this.Ff=zr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');b=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(b){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};na(Tl,yc);var g0=function(){Tl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return SG(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,18)},set:function(n){n?this.Ff=Ur(this.Ff,18):this.Ff=zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ur(this.Ff,19):this.Ff=zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,20)},set:function(n){n?(this.Ff=Ur(this.Ff,20),e.sort()):this.Ff=zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,22)},set:function(n){n?this.Ff=Ur(this.Ff,22):this.Ff=zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,23)},set:function(n){n?this.Ff=Ur(this.Ff,23):this.Ff=zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,27)},set:function(n){n?this.Ff=Ur(this.Ff,27):this.Ff=zr(this.Ff,27)}}),this.hasAppearanceStream=!1};na(g0,Tl);var m0=function(){g0.call(this),this.fontName="helvetica",this.combo=!1};na(m0,g0);var v0=function(){m0.call(this),this.combo=!0};na(v0,m0);var MA=function(){v0.call(this),this.edit=!0};na(MA,v0);var Oi=function(){Tl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,15)},set:function(n){n?this.Ff=Ur(this.Ff,15):this.Ff=zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,16)},set:function(n){n?this.Ff=Ur(this.Ff,16):this.Ff=zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,17)},set:function(n){n?this.Ff=Ur(this.Ff,17):this.Ff=zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,26)},set:function(n){n?this.Ff=Ur(this.Ff,26):this.Ff=zr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Gg(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){xn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};na(Oi,Tl);var jA=function(){Oi.call(this),this.pushButton=!0};na(jA,Oi);var y0=function(){Oi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};na(y0,Oi);var OE=function(){var t,e;Tl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Gg(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){xn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};na(OE,Tl),y0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},y0.prototype.createOption=function(t){var e=new OE;return e.Parent=this,e.optionName=t,this.Kids.push(e),nTe.call(this.scope,e),e};var DA=function(){Oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};na(DA,Oi);var Ag=function(){Tl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,13)},set:function(e){e?this.Ff=Ur(this.Ff,13):this.Ff=zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,21)},set:function(e){e?this.Ff=Ur(this.Ff,21):this.Ff=zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,23)},set:function(e){e?this.Ff=Ur(this.Ff,23):this.Ff=zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,24)},set:function(e){e?this.Ff=Ur(this.Ff,24):this.Ff=zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,25)},set:function(e){e?this.Ff=Ur(this.Ff,25):this.Ff=zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,26)},set:function(e){e?this.Ff=Ur(this.Ff,26):this.Ff=zr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};na(Ag,Tl);var FA=function(){Ag.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,14)},set:function(t){t?this.Ff=Ur(this.Ff,14):this.Ff=zr(this.Ff,14)}}),this.password=!0};na(FA,Ag);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Hl(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Y4(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+At(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Hl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ke.internal.getHeight(t),a=Ke.internal.getWidth(t),o=Y4(t,t.caption);return i.push("1 g"),i.push("0 0 "+At(a)+" "+At(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+At(a-1)+" "+At(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+At(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Hl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Circle.YesNormal,e.D[t]=Ke.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Hl(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ke.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Nh(Ke.internal.getWidth(t)/2)+" "+Nh(Ke.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Hl(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5)),a=Number((r*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nh(Ke.internal.getWidth(t)/2)+" "+Nh(Ke.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Nh(Ke.internal.getWidth(t)/2)+" "+Nh(Ke.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Hl(t);e.scope=t.scope;var n=[],r=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ke.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nh(Ke.internal.getWidth(t)/2)+" "+Nh(Ke.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Cross.YesNormal,e.D[t]=Ke.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Hl(t);e.scope=t.scope;var n=[],r=Ke.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+At(Ke.internal.getWidth(t)-2)+" "+At(Ke.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Hl(t);e.scope=t.scope;var n=Ke.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+At(Ke.internal.getWidth(t)-2)+" "+At(Ke.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Hl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ke.internal.getWidth(t),n=Ke.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ke.internal.getWidth=function(t){var e=0;return xn(t)==="object"&&(e=X$(t.Rect[2])),e},Ke.internal.getHeight=function(t){var e=0;return xn(t)==="object"&&(e=X$(t.Rect[3])),e};var nTe=Pr.addField=function(t){if(tTe(this,t),!(t instanceof Tl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Pr.AcroFormChoiceField=g0,Pr.AcroFormListBox=m0,Pr.AcroFormComboBox=v0,Pr.AcroFormEditBox=MA,Pr.AcroFormButton=Oi,Pr.AcroFormPushButton=jA,Pr.AcroFormRadioButton=y0,Pr.AcroFormCheckBox=DA,Pr.AcroFormTextField=Ag,Pr.AcroFormPasswordField=FA,Pr.AcroFormAppearance=Ke,Pr.AcroForm={ChoiceField:g0,ListBox:m0,ComboBox:v0,EditBox:MA,Button:Oi,PushButton:jA,RadioButton:y0,CheckBox:DA,TextField:Ag,PasswordField:FA,Appearance:Ke},at.AcroForm={ChoiceField:g0,ListBox:m0,ComboBox:v0,EditBox:MA,Button:Oi,PushButton:jA,RadioButton:y0,CheckBox:DA,TextField:Ag,PasswordField:FA,Appearance:Ke};at.AcroForm;function kG(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(O,M){var z,$,G,Y,Q,W=n;if((M=M||n)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(E(O))for(Q in r)for(G=r[Q],z=0;z<G.length;z+=1){for(Y=!0,$=0;$<G[z].length;$+=1)if(G[z][$]!==void 0&&G[z][$]!==O[$]){Y=!1;break}if(Y===!0){W=Q;break}}else for(Q in r)for(G=r[Q],z=0;z<G.length;z+=1){for(Y=!0,$=0;$<G[z].length;$+=1)if(G[z][$]!==void 0&&G[z][$]!==O.charCodeAt($)){Y=!1;break}if(Y===!0){W=Q;break}}return W===n&&M!==n&&(W=M),W},s=function O(M){for(var z=this.internal.write,$=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:M.width}),Y.push({key:"Height",value:M.height}),M.colorSpace===g.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===g.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var Q="",W=0,re=M.transparency.length;W<re;W++)Q+=M.transparency[W]+" "+M.transparency[W]+" ";Y.push({key:"Mask",value:"["+Q+"]"})}M.sMask!==void 0&&Y.push({key:"SMask",value:M.objectId+1+" 0 R"});var ce=M.filter!==void 0?["/"+M.filter]:void 0;if($({data:M.data,additionalKeyValues:Y,alreadyAppliedFilters:ce,objectId:M.objectId}),z("endobj"),"sMask"in M&&M.sMask!==void 0){var ae,D=(ae=M.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:M.bitsPerComponent,K={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:M.sMask};"filter"in M&&(K.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(M.width),K.filter=M.filter),O.call(this,K)}if(M.colorSpace===g.INDEXED){var ee=this.internal.newObject();$({data:L(new Uint8Array(M.palette)),objectId:ee}),z("endobj")}},a=function(){var O=this.internal.collections[e+"images"];for(var M in O)s.call(this,O[M])},o=function(){var O,M=this.internal.collections[e+"images"],z=this.internal.write;for(var $ in M)z("/I"+(O=M[$]).index,O.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var O=this.internal.collections[e+"images"];return l.call(this),O},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(O){return typeof t["process"+O.toUpperCase()]=="function"},f=function(O){return xn(O)==="object"&&O.nodeType===1},p=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var z=""+O.getAttribute("src");if(z.indexOf("data:image/")===0)return RA(unescape(z).split("base64,").pop());var $=t.loadFile(z,!0);if($!==void 0)return $}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var G;switch(M){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return RA(O.toDataURL(G,1).split("base64,").pop())}},v=function(O){var M=this.internal.collections[e+"images"];if(M){for(var z in M)if(O===M[z].alias)return M[z]}},m=function(O,M,z){return O||M||(O=-96,M=-96),O<0&&(O=-1*z.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*z.height*72/M/this.internal.scaleFactor),O===0&&(O=M*z.width/z.height),M===0&&(M=O*z.height/z.width),[O,M]},b=function(O,M,z,$,G,Y){var Q=m.call(this,z,$,G),W=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,ce=c.call(this);if(z=Q[0],$=Q[1],ce[G.index]=G,Y){Y*=Math.PI/180;var ae=Math.cos(Y),D=Math.sin(Y),K=function(se){return se.toFixed(4)},ee=[K(ae),K(D),K(-1*D),K(ae),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,W(O),re(M+$),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([W(z),"0","0",W($),"0","0","cm"].join(" "))):this.internal.write([W(z),"0","0",W($),W(O),re(M+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(O){var M,z,$=0;if(typeof O=="string")for(z=O.length,M=0;M<z;M++)$=($<<5)-$+O.charCodeAt(M),$|=0;else if(E(O))for(z=O.byteLength/2,M=0;M<z;M++)$=($<<5)-$+O[M],$|=0;return $},S=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},A=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var M=O.indexOf(",");return M<0?null:O.substring(0,M).trim().endsWith("base64")?O.substring(M+1):null};t.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var E=t.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},T=t.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,z=new Uint8Array(M),$=0;$<M;$++)z[$]=O.charCodeAt($);return z},L=t.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",z=E(O)?O:new Uint8Array(O),$=0;$<z.length;$+=8192)M+=String.fromCharCode.apply(null,z.subarray($,$+8192));return M};t.addImage=function(){var O,M,z,$,G,Y,Q,W,re;if(typeof arguments[1]=="number"?(M=n,z=arguments[1],$=arguments[2],G=arguments[3],Y=arguments[4],Q=arguments[5],W=arguments[6],re=arguments[7]):(M=arguments[1],z=arguments[2],$=arguments[3],G=arguments[4],Y=arguments[5],Q=arguments[6],W=arguments[7],re=arguments[8]),xn(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var ce=O;O=ce.imageData,M=ce.format||M||n,z=ce.x||z||0,$=ce.y||$||0,G=ce.w||ce.width||G,Y=ce.h||ce.height||Y,Q=ce.alias||Q,W=ce.compression||W,re=ce.rotation||ce.angle||re}var ae=this.internal.getFilters();if(W===void 0&&ae.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(z)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=I.call(this,O,M,Q,W);return b.call(this,z,$,G,Y,D,re),this};var I=function(O,M,z,$){var G,Y,Q;if(typeof O=="string"&&i(O)===n){O=unescape(O);var W=q(O,!1);(W!==""||(W=t.loadFile(O,!0))!==void 0)&&(O=W)}if(f(O)&&(O=p(O,M)),M=i(O,M),!d(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((Q=z)==null||Q.length===0)&&(z=function(re){return typeof re=="string"||E(re)?x(re):E(re.data)?x(re.data):null}(O)),(G=v.call(this,z))||(O instanceof Uint8Array||M==="RGBA"||(Y=O,O=T(O)),G=this["process"+M.toUpperCase()](O,u.call(this),z,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:w.NONE}($),Y)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},q=t.__addimage__.convertBase64ToBinaryString=function(O,M){M=typeof M!="boolean"||M;var z,$="";if(typeof O=="string"){var G;z=(G=A(O))!==null&&G!==void 0?G:O;try{$=RA(z)}catch(Y){if(M)throw S(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(O){var M,z,$="";if(f(O)&&(O=p(O)),typeof O=="string"&&i(O)===n&&(($=q(O,!1))===""&&($=t.loadFile(O)||""),O=$),z=i(O),!d(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(O instanceof Uint8Array||(O=T(O)),!(M=this["process"+z.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=z,M}})(at.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){r=c[f];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(g(r.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(g(w))+") >>",m.content=s;var x=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(m.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var S=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(v(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var E=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+E+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(n,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(m){var b=0,g=n,w="",x=0;for(b=0;b<m.length;b+=1)g[m.charCodeAt(b)]!==void 0?(x++,typeof(g=g[m.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(g),g=n,x=0),b===m.length-1&&(g=n,w+=m.charAt(b-(x-1)),b-=x-1,x=0)):(g=n,w+=m.charAt(b-x),b-=x,x=0);return w};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(m,b,g){return a(m)?s(m)===!1?-1:!c(m)||!a(b)&&!a(g)||!a(g)&&o(b)||o(m)&&!a(b)||o(m)&&l(b)||o(m)&&o(b)?0:u(m)&&a(b)&&!o(b)&&a(g)&&c(g)?3:o(m)||!a(g)?1:2:-1},p=function(m){var b=0,g=0,w=0,x="",S="",A="",E=(m=m||"").split("\\s+"),T=[];for(b=0;b<E.length;b+=1){for(T.push(""),g=0;g<E[b].length;g+=1)x=E[b][g],S=E[b][g-1],A=E[b][g+1],a(x)?(w=f(x,S,A),T[b]+=w!==-1?String.fromCharCode(e[x.charCodeAt(0)][w]):x):T[b]+=x;T[b]=d(T[b])}return T.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var m,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(b)){var w=0;for(g=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?g.push([p(b[w][0]),b[w][1],b[w][2]]):g.push([p(b[w])]);m=g}else m=p(b);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",v])}(at.API),at.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,p=0,v=0,m=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,S){return x.concat(b.splitTextToSize(S,g))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(m=this.getStringUnitWidth(l[w],{font:d})*u)&&(p=m);return p!==0&&(v=l.length),{w:p/=f,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,f){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,v,m,b,g=[],w=[],x=[],S={},A={},E=[],T=[],L=(f=f||{}).autoSize||!1,I=f.printHeaders!==!1,q=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,O=f.margins||Object.assign({width:this.getPageWidth()},e),M=typeof f.padding=="number"?f.padding:3,z=f.headerBackgroundColor||"#c8c8c8",$=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=$,this.setFontSize(q),d==null)w=g=Object.keys(u[0]),x=g.map(function(){return"left"});else if(Array.isArray(d)&&xn(d[0])==="object")for(g=d.map(function(ce){return ce.name}),w=d.map(function(ce){return ce.prompt||ce.name||""}),x=d.map(function(ce){return ce.align||"left"}),p=0;p<d.length;p+=1)A[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&typeof d[0]=="string"&&(w=g=d,x=g.map(function(){return"left"}));if(L||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<g.length;p+=1){for(S[b=g[p]]=u.map(function(ce){return ce[b]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=S[b],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)E.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[b]=Math.max.apply(null,E)+M+M,E=[]}if(I){var G={};for(p=0;p<g.length;p+=1)G[g[p]]={},G[g[p]].text=w[p],G[g[p]].align=x[p];var Y=o.call(this,G,A);T=g.map(function(ce){return new s(l,c,A[ce],Y,G[ce].text,void 0,G[ce].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var Q=d.reduce(function(ce,ae){return ce[ae.name]=ae.align,ce},{});for(p=0;p<u.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:u[p]},this);var W=o.call(this,u[p],A);for(m=0;m<g.length;m+=1){var re=u[p][g[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:m,data:re},this),a.call(this,new s(l,c,A[g[m]],W,re,p+2,Q[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/f+u+u},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(v)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(at.API);var TG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},CG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J4=kG(CG),OG=[100,200,300,400,500,600,700,800,900],rTe=kG(OG);function IC(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return TG[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof J4[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Y$(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var iTe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},J$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Z$(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Q$(t){return t.trimLeft()}function sTe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function aTe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var j5,eB,tB,bm,D5,nB,rB,iB,RC=["times"];function sB(t,e,n,r,i){var s=4,a=oB;switch(i){case at.API.image_compression.FAST:s=1,a=aB;break;case at.API.image_compression.MEDIUM:s=6,a=lB;break;case at.API.image_compression.SLOW:s=9,a=cB}t=function(l,c,u,d){for(var f,p=l.length/c,v=new Uint8Array(l.length+p),m=[oTe,aB,oB,lB,cB],b=0;b<p;b+=1){var g=b*c,w=l.subarray(g,g+c);if(d)v.set(d(w,u,f),g+b);else{for(var x=m.length,S=[],A=0;A<x;A+=1)S[A]=m[A](w,u,f);var E=cTe(S.concat());v.set(S[E],g+b)}f=w}return v}(t,e,Math.ceil(n*r/8),a);var o=H4(t,{level:s});return at.API.__addimage__.arrayBufferToBinaryString(o)}function oTe(t){var e=Array.apply([],t);return e.unshift(0),e}function aB(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function oB(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function lB(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function cB(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=lTe(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function lTe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function cTe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function MC(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return NG(t,i)>>s&a}function uB(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var f=d>>8&255;c.setUint8(u,f)}})(t,s,NG(t,s)&~(o<<a)&65535|l)}function NG(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function uTe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],d=0,f=null,p=0,v=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],1&m||(f=null),p=m>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++],A=S>>6&1,E=1<<1+(7&S),T=o,L=l,I=!1;S>>7&&(I=!0,T=e,L=E,e+=3*E);var q=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}u.push({x:b,y:g,width:w,height:x,has_local_palette:I,palette_offset:T,palette_size:L,data_offset:q,data_length:e-q,transparent_index:f,interlaced:!!A,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,z){var $=this.frameInfo(M),G=$.width*$.height,Y=new Uint8Array(G);hB(t,$.data_offset,Y,G);var Q=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var re=$.width,ce=n-re,ae=re,D=4*($.y*n+$.x),K=4*(($.y+$.height)*n+$.x),ee=D,se=4*ce;$.interlaced===!0&&(se+=4*n*7);for(var oe=8,de=0,xe=Y.length;de<xe;++de){var ue=Y[de];if(ae===0&&(ae=re,(ee+=se)>=K&&(se=4*ce+4*n*(oe-1),ee=D+(re+ce)*(oe<<1),oe>>=1)),ue===W)ee+=4;else{var ye=t[Q+3*ue],_e=t[Q+3*ue+1],me=t[Q+3*ue+2];z[ee++]=me,z[ee++]=_e,z[ee++]=ye,z[ee++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(M,z){var $=this.frameInfo(M),G=$.width*$.height,Y=new Uint8Array(G);hB(t,$.data_offset,Y,G);var Q=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var re=$.width,ce=n-re,ae=re,D=4*($.y*n+$.x),K=4*(($.y+$.height)*n+$.x),ee=D,se=4*ce;$.interlaced===!0&&(se+=4*n*7);for(var oe=8,de=0,xe=Y.length;de<xe;++de){var ue=Y[de];if(ae===0&&(ae=re,(ee+=se)>=K&&(se=4*ce+4*n*(oe-1),ee=D+(re+ce)*(oe<<1),oe>>=1)),ue===W)ee+=4;else{var ye=t[Q+3*ue],_e=t[Q+3*ue+1],me=t[Q+3*ue+2];z[ee++]=ye,z[ee++]=_e,z[ee++]=me,z[ee++]=255}--ae}}}function hB(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,d=0,f=0,p=t[e++],v=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)d|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var b=d&c;if(d>>=l,u-=l,b!==s){if(b===a)break;for(var g=b<o?b:m,w=0,x=g;x>s;)x=v[x]>>8,++w;var S=x;if(f+w+(g!==b?1:0)>r)return void Mn.log("Warning, gif stream longer than expected.");n[f++]=S;var A=f+=w;for(g!==b&&(n[f++]=S),x=g;w--;)x=v[x],n[--A]=255&x,x>>=8;m!==null&&o<4096&&(v[o++]=m<<8|S,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=b}else o=a+1,c=(1<<(l=i+1))-1,m=null}return f!==r&&Mn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jC(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),p=new Array(64),v=new Array(64),m=[],b=0,g=7,w=new Array(64),x=new Array(64),S=new Array(64),A=new Array(256),E=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(D,K){for(var ee=0,se=0,oe=new Array,de=1;de<=16;de++){for(var xe=1;xe<=D[de];xe++)oe[K[se]]=[],oe[K[se]][0]=ee,oe[K[se]][1]=de,se++,ee++;ee*=2}return oe}function Q(D){for(var K=D[0],ee=D[1]-1;ee>=0;)K&1<<ee&&(b|=1<<g),ee--,--g<0&&(b==255?(W(255),W(0)):W(b),g=7,b=0)}function W(D){m.push(D)}function re(D){W(D>>8&255),W(255&D)}function ce(D,K,ee,se,oe){for(var de,xe=oe[0],ue=oe[240],ye=function(Oe,ct){var Ue,et,rt,tn,$t,kt,Yt,Vt,tt,Lt,ot=0;for(tt=0;tt<8;++tt){Ue=Oe[ot],et=Oe[ot+1],rt=Oe[ot+2],tn=Oe[ot+3],$t=Oe[ot+4],kt=Oe[ot+5],Yt=Oe[ot+6];var Lr=Ue+(Vt=Oe[ot+7]),nn=Ue-Vt,Bt=et+Yt,Ut=et-Yt,nr=rt+kt,ht=rt-kt,$n=tn+$t,yt=tn-$t,Tt=Lr+$n,rr=Lr-$n,zt=Bt+nr,ft=Bt-nr;Oe[ot]=Tt+zt,Oe[ot+4]=Tt-zt;var fn=.707106781*(ft+rr);Oe[ot+2]=rr+fn,Oe[ot+6]=rr-fn;var uf=.382683433*((Tt=yt+ht)-(ft=Ut+nn)),ts=.5411961*Tt+uf,Cc=1.306562965*ft+uf,Ol=.707106781*(zt=ht+Ut),pt=nn+Ol,Oc=nn-Ol;Oe[ot+5]=Oc+ts,Oe[ot+3]=Oc-ts,Oe[ot+1]=pt+Cc,Oe[ot+7]=pt-Cc,ot+=8}for(ot=0,tt=0;tt<8;++tt){Ue=Oe[ot],et=Oe[ot+8],rt=Oe[ot+16],tn=Oe[ot+24],$t=Oe[ot+32],kt=Oe[ot+40],Yt=Oe[ot+48];var Nc=Ue+(Vt=Oe[ot+56]),Ya=Ue-Vt,Ja=et+Yt,br=et-Yt,wi=rt+kt,Ii=rt-kt,hf=tn+$t,fh=tn-$t,Bo=Nc+hf,Nl=Nc-hf,Uo=Ja+wi,zo=Ja-wi;Oe[ot]=Bo+Uo,Oe[ot+32]=Bo-Uo;var Za=.707106781*(zo+Nl);Oe[ot+16]=Nl+Za,Oe[ot+48]=Nl-Za;var df=.382683433*((Bo=fh+Ii)-(zo=br+Ya)),Ll=.5411961*Bo+df,ff=1.306562965*zo+df,Kg=.707106781*(Uo=Ii+br),Xg=Ya+Kg,Yg=Ya-Kg;Oe[ot+40]=Yg+Ll,Oe[ot+24]=Yg-Ll,Oe[ot+8]=Xg+ff,Oe[ot+56]=Xg-ff,ot++}for(tt=0;tt<64;++tt)Lt=Oe[tt]*ct[tt],p[tt]=Lt>0?Lt+.5|0:Lt-.5|0;return p}(D,K),_e=0;_e<64;++_e)v[T[_e]]=ye[_e];var me=v[0]-ee;ee=v[0],me==0?Q(se[0]):(Q(se[f[de=32767+me]]),Q(d[de]));for(var Ie=63;Ie>0&&v[Ie]==0;)Ie--;if(Ie==0)return Q(xe),ee;for(var De,Z=1;Z<=Ie;){for(var Me=Z;v[Z]==0&&Z<=Ie;)++Z;var ut=Z-Me;if(ut>=16){De=ut>>4;for(var Qe=1;Qe<=De;++Qe)Q(ue);ut&=15}de=32767+v[Z],Q(oe[(ut<<4)+f[de]]),Q(d[de]),Z++}return Ie!=63&&Q(xe),ee}function ae(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(K){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var oe=a((ee[se]*K+50)/100);oe=Math.min(Math.max(oe,1),255),o[T[se]]=oe}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ue=a((de[xe]*K+50)/100);ue=Math.min(Math.max(ue,1),255),l[T[xe]]=ue}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,me=0;me<8;me++)for(var Ie=0;Ie<8;Ie++)c[_e]=1/(o[T[_e]]*ye[me]*ye[Ie]*8),u[_e]=1/(l[T[_e]]*ye[me]*ye[Ie]*8),_e++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,K){K&&ae(K),m=new Array,b=0,g=7,re(65496),re(65504),re(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),re(1),re(1),W(0),W(0),function(){re(65499),re(132),W(0);for(var et=0;et<64;et++)W(o[et]);W(1);for(var rt=0;rt<64;rt++)W(l[rt])}(),function(et,rt){re(65472),re(17),W(8),re(rt),re(et),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(D.width,D.height),function(){re(65476),re(418),W(0);for(var et=0;et<16;et++)W(L[et+1]);for(var rt=0;rt<=11;rt++)W(I[rt]);W(16);for(var tn=0;tn<16;tn++)W(q[tn+1]);for(var $t=0;$t<=161;$t++)W(O[$t]);W(1);for(var kt=0;kt<16;kt++)W(M[kt+1]);for(var Yt=0;Yt<=11;Yt++)W(z[Yt]);W(17);for(var Vt=0;Vt<16;Vt++)W($[Vt+1]);for(var tt=0;tt<=161;tt++)W(G[tt])}(),re(65498),re(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var ee=0,se=0,oe=0;b=0,g=7,this.encode.displayName="_encode_";for(var de,xe,ue,ye,_e,me,Ie,De,Z,Me=D.data,ut=D.width,Qe=D.height,Oe=4*ut,ct=0;ct<Qe;){for(de=0;de<Oe;){for(_e=Oe*ct+de,Ie=-1,De=0,Z=0;Z<64;Z++)me=_e+(De=Z>>3)*Oe+(Ie=4*(7&Z)),ct+De>=Qe&&(me-=Oe*(ct+1+De-Qe)),de+Ie>=Oe&&(me-=de+Ie-Oe+4),xe=Me[me++],ue=Me[me++],ye=Me[me++],w[Z]=(E[xe]+E[ue+256|0]+E[ye+512|0]>>16)-128,x[Z]=(E[xe+768|0]+E[ue+1024|0]+E[ye+1280|0]>>16)-128,S[Z]=(E[xe+1280|0]+E[ue+1536|0]+E[ye+1792|0]>>16)-128;ee=ce(w,c,ee,e,r),se=ce(x,u,se,n,i),oe=ce(S,u,oe,n,i),de+=32}ct+=8}if(g>=0){var Ue=[];Ue[1]=g+1,Ue[0]=(1<<g+1)-1,Q(Ue)}return re(65497),new Uint8Array(m)},t=t||50,function(){for(var D=String.fromCharCode,K=0;K<256;K++)A[K]=D(K)}(),e=Y(L,I),n=Y(M,z),r=Y(q,O),i=Y($,G),function(){for(var D=1,K=2,ee=1;ee<=15;ee++){for(var se=D;se<K;se++)f[32767+se]=ee,d[32767+se]=[],d[32767+se][1]=ee,d[32767+se][0]=se;for(var oe=-(K-1);oe<=-D;oe++)f[32767+oe]=ee,d[32767+oe]=[],d[32767+oe][1]=ee,d[32767+oe][0]=K-1+oe;D<<=1,K<<=1}}(),function(){for(var D=0;D<256;D++)E[D]=19595*D,E[D+256|0]=38470*D,E[D+512|0]=7471*D+32768,E[D+768|0]=-11059*D,E[D+1024|0]=-21709*D,E[D+1280|0]=32768*D+8421375,E[D+1536|0]=-27439*D,E[D+1792|0]=-5329*D}(),ae(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Yo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dB(t){function e(I){if(!I)throw Error("assert :P")}function n(I,q,O){for(var M=0;4>M;M++)if(I[q+M]!=O.charCodeAt(M))return!0;return!1}function r(I,q,O,M,z){for(var $=0;$<z;$++)I[q+$]=O[M+$]}function i(I,q,O,M){for(var z=0;z<M;z++)I[q+z]=O}function s(I){return new Int32Array(I)}function a(I,q){for(var O=[],M=0;M<I;M++)O.push(new q);return O}function o(I,q){var O=[];return function M(z,$,G){for(var Y=G[$],Q=0;Q<Y&&(z.push(G.length>$+1?[]:new q),!(G.length<$+1));Q++)M(z[Q],$+1,G)}(O,0,I),O}var l=function(){var I=this;function q(y,_){for(var k=1<<_-1>>>0;y&k;)k>>>=1;return k?(y&k-1)+k:y}function O(y,_,k,R,U){e(!(R%k));do y[_+(R-=k)]=U;while(0<R)}function M(y,_,k,R,U){if(e(2328>=U),512>=U)var H=s(512);else if((H=s(U))==null)return 0;return function(V,X,J,te,he,we){var ne,fe,ve=X,Ee=1<<J,be=s(16),ke=s(16);for(e(he!=0),e(te!=null),e(V!=null),e(0<J),fe=0;fe<he;++fe){if(15<te[fe])return 0;++be[te[fe]]}if(be[0]==he)return 0;for(ke[1]=0,ne=1;15>ne;++ne){if(be[ne]>1<<ne)return 0;ke[ne+1]=ke[ne]+be[ne]}for(fe=0;fe<he;++fe)ne=te[fe],0<te[fe]&&(we[ke[ne]++]=fe);if(ke[15]==1)return(te=new z).g=0,te.value=we[0],O(V,ve,1,Ee,te),Ee;var Ce,Re=-1,Le=Ee-1,it=0,Ge=1,Mt=1,Ye=1<<J;for(fe=0,ne=1,he=2;ne<=J;++ne,he<<=1){if(Ge+=Mt<<=1,0>(Mt-=be[ne]))return 0;for(;0<be[ne];--be[ne])(te=new z).g=ne,te.value=we[fe++],O(V,ve+it,he,Ye,te),it=q(it,ne)}for(ne=J+1,he=2;15>=ne;++ne,he<<=1){if(Ge+=Mt<<=1,0>(Mt-=be[ne]))return 0;for(;0<be[ne];--be[ne]){if(te=new z,(it&Le)!=Re){for(ve+=Ye,Ce=1<<(Re=ne)-J;15>Re&&!(0>=(Ce-=be[Re]));)++Re,Ce<<=1;Ee+=Ye=1<<(Ce=Re-J),V[X+(Re=it&Le)].g=Ce+J,V[X+Re].value=ve-X-Re}te.g=ne-J,te.value=we[fe++],O(V,ve+(it>>J),he,Ye,te),it=q(it,ne)}}return Ge!=2*ke[15]-1?0:Ee}(y,_,k,R,U,H)}function z(){this.value=this.g=0}function $(){this.value=this.g=0}function G(){this.G=a(5,z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Sf,$)}function Y(y,_,k,R){e(y!=null),e(_!=null),e(2147483648>R),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=k,y.Jd=_,y.Yc=k+R,y.Zc=4<=R?k+R-4+1:k,xe(y)}function Q(y,_){for(var k=0;0<_--;)k|=ye(y,128)<<_;return k}function W(y,_){var k=Q(y,_);return ue(y)?-k:k}function re(y,_,k,R){var U,H=0;for(e(y!=null),e(_!=null),e(4294967288>R),y.Sb=R,y.Ra=0,y.u=0,y.h=0,4<R&&(R=4),U=0;U<R;++U)H+=_[k+U]<<8*U;y.Ra=H,y.bb=R,y.oa=_,y.pa=k}function ce(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<vh-8>>>0,++y.bb,y.u-=8;se(y)&&(y.h=1,y.u=0)}function ae(y,_){if(e(0<=_),!y.h&&_<=ia){var k=ee(y)&ra[_];return y.u+=_,ce(y),k}return y.h=1,y.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(y){return y.Ra>>>(y.u&vh-1)>>>0}function se(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>vh}function oe(y,_){y.u=_,y.h=se(y)}function de(y){y.u>=zc&&(e(y.u>=zc),ce(y))}function xe(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ue(y){return Q(y,1)}function ye(y,_){var k=y.Ca;0>y.b&&xe(y);var R=y.b,U=k*_>>>8,H=(y.I>>>R>U)+0;for(H?(k-=U,y.I-=U+1<<R>>>0):k=U+1,R=k,U=0;256<=R;)U+=8,R>>=8;return R=7^U+yh[R],y.b-=R,y.Ca=(k<<R)-1,H}function _e(y,_,k){y[_+0]=k>>24&255,y[_+1]=k>>16&255,y[_+2]=k>>8&255,y[_+3]=255&k}function me(y,_){return y[_+0]|y[_+1]<<8}function Ie(y,_){return me(y,_)|y[_+2]<<16}function De(y,_){return me(y,_)|me(y,_+2)<<16}function Z(y,_){var k=1<<_;return e(y!=null),e(0<_),y.X=s(k),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function Me(y,_){e(y!=null),e(_!=null),e(y.Xa==_.Xa),r(_.X,0,y.X,0,1<<_.Xa)}function ut(){this.X=[],this.Xa=this.Mb=0}function Qe(y,_,k,R){e(k!=null),e(R!=null);var U=k[0],H=R[0];return U==0&&(U=(y*H+_/2)/_),H==0&&(H=(_*U+y/2)/y),0>=U||0>=H?0:(k[0]=U,R[0]=H,1)}function Oe(y,_){return y+(1<<_)-1>>>_}function ct(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function Ue(y,_){I[_]=function(k,R,U,H,V,X,J){var te;for(te=0;te<V;++te){var he=I[y](X[J+te-1],U,H+te);X[J+te]=ct(k[R+te],he)}}}function et(){this.ud=this.hd=this.jd=0}function rt(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function tn(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function $t(y,_){return tn(y+(y-_+.5>>1))}function kt(y,_,k){return Math.abs(_-k)-Math.abs(y-k)}function Yt(y,_,k,R,U,H,V){for(R=H[V-1],k=0;k<U;++k)H[V+k]=R=ct(y[_+k],R)}function Vt(y,_,k,R,U){var H;for(H=0;H<k;++H){var V=y[_+H],X=V>>8&255,J=16711935&(J=(J=16711935&V)+((X<<16)+X));R[U+H]=(4278255360&V)+J>>>0}}function tt(y,_){_.jd=255&y,_.hd=y>>8&255,_.ud=y>>16&255}function Lt(y,_,k,R,U,H){var V;for(V=0;V<R;++V){var X=_[k+V],J=X>>>8,te=X,he=255&(he=(he=X>>>16)+((y.jd<<24>>24)*(J<<24>>24)>>>5));te=255&(te=(te+=(y.hd<<24>>24)*(J<<24>>24)>>>5)+((y.ud<<24>>24)*(he<<24>>24)>>>5)),U[H+V]=(4278255360&X)+(he<<16)+te}}function ot(y,_,k,R,U){I[_]=function(H,V,X,J,te,he,we,ne,fe){for(J=we;J<ne;++J)for(we=0;we<fe;++we)te[he++]=U(X[R(H[V++])])},I[y]=function(H,V,X,J,te,he,we){var ne=8>>H.b,fe=H.Ea,ve=H.K[0],Ee=H.w;if(8>ne)for(H=(1<<H.b)-1,Ee=(1<<ne)-1;V<X;++V){var be,ke=0;for(be=0;be<fe;++be)be&H||(ke=R(J[te++])),he[we++]=U(ve[ke&Ee]),ke>>=ne}else I["VP8LMapColor"+k](J,te,ve,Ee,he,we,V,X,fe)}}function Lr(y,_,k,R,U){for(k=_+k;_<k;){var H=y[_++];R[U++]=H>>16&255,R[U++]=H>>8&255,R[U++]=255&H}}function nn(y,_,k,R,U){for(k=_+k;_<k;){var H=y[_++];R[U++]=H>>16&255,R[U++]=H>>8&255,R[U++]=255&H,R[U++]=H>>24&255}}function Bt(y,_,k,R,U){for(k=_+k;_<k;){var H=(V=y[_++])>>16&240|V>>12&15,V=240&V|V>>28&15;R[U++]=H,R[U++]=V}}function Ut(y,_,k,R,U){for(k=_+k;_<k;){var H=(V=y[_++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;R[U++]=H,R[U++]=V}}function nr(y,_,k,R,U){for(k=_+k;_<k;){var H=y[_++];R[U++]=255&H,R[U++]=H>>8&255,R[U++]=H>>16&255}}function ht(y,_,k,R,U,H){if(H==0)for(k=_+k;_<k;)_e(R,((H=y[_++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),U+=32;else r(R,U,y,_,k)}function $n(y,_){I[_][0]=I[y+"0"],I[_][1]=I[y+"1"],I[_][2]=I[y+"2"],I[_][3]=I[y+"3"],I[_][4]=I[y+"4"],I[_][5]=I[y+"5"],I[_][6]=I[y+"6"],I[_][7]=I[y+"7"],I[_][8]=I[y+"8"],I[_][9]=I[y+"9"],I[_][10]=I[y+"10"],I[_][11]=I[y+"11"],I[_][12]=I[y+"12"],I[_][13]=I[y+"13"],I[_][14]=I[y+"0"],I[_][15]=I[y+"0"]}function yt(y){return y==Ik||y==Rk||y==k_||y==Mk}function Tt(){this.eb=[],this.size=this.A=this.fb=0}function rr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tt,this.f.kb=new rr,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function uf(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function ts(y,_){var k=y.T,R=_.ba.f.RGBA,U=R.eb,H=R.fb+y.ka*R.A,V=io[_.ba.S],X=y.y,J=y.O,te=y.f,he=y.N,we=y.ea,ne=y.W,fe=_.cc,ve=_.dc,Ee=_.Mc,be=_.Nc,ke=y.ka,Ce=y.ka+y.T,Re=y.U,Le=Re+1>>1;for(ke==0?V(X,J,null,null,te,he,we,ne,te,he,we,ne,U,H,null,null,Re):(V(_.ec,_.fc,X,J,fe,ve,Ee,be,te,he,we,ne,U,H-R.A,U,H,Re),++k);ke+2<Ce;ke+=2)fe=te,ve=he,Ee=we,be=ne,he+=y.Rc,ne+=y.Rc,H+=2*R.A,V(X,(J+=2*y.fa)-y.fa,X,J,fe,ve,Ee,be,te,he,we,ne,U,H-R.A,U,H,Re);return J+=y.fa,y.j+Ce<y.o?(r(_.ec,_.fc,X,J,Re),r(_.cc,_.dc,te,he,Le),r(_.Mc,_.Nc,we,ne,Le),k--):1&Ce||V(X,J,null,null,te,he,we,ne,te,he,we,ne,U,H+R.A,null,null,Re),k}function Cc(y,_,k){var R=y.F,U=[y.J];if(R!=null){var H=y.U,V=_.ba.S,X=V==P_||V==k_;_=_.ba.f.RGBA;var J=[0],te=y.ka;J[0]=y.T,y.Kb&&(te==0?--J[0]:(--te,U[0]-=y.width),y.j+y.ka+y.T==y.o&&(J[0]=y.o-y.j-te));var he=_.eb;te=_.fb+te*_.A,y=NR(R,U[0],y.width,H,J,he,te+(X?0:3),_.A),e(k==J),y&&yt(V)&&a1(he,te,X,H,J,_.A)}return 0}function Ol(y){var _=y.ma,k=_.ba.S,R=11>k,U=k==S_||k==E_||k==P_||k==Lk||k==12||yt(k);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Zy(_.Oa,y,U?11:12))return 0;if(U&&yt(k)&&Xy(),y.da)alert("todo:use_scaling");else{if(R){if(_.Ib=uf,y.Kb){if(k=y.U+1>>1,_.memory=s(y.U+2*k),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+k,_.Ib=ts,Xy()}}else alert("todo:EmitYUV");U&&(_.Jb=Cc,R&&Ho())}if(R&&!GR){for(y=0;256>y;++y)ZG[y]=89858*(y-128)+C_>>T_,tK[y]=-22014*(y-128)+C_,eK[y]=-45773*(y-128),QG[y]=113618*(y-128)+C_>>T_;for(y=l1;y<Fk;++y)_=76283*(y-16)+C_>>T_,nK[y-l1]=Il(_,255),rK[y-l1]=Il(_+8>>4,15);GR=1}return 1}function pt(y){var _=y.ma,k=y.U,R=y.T;return e(!(1&y.ka)),0>=k||0>=R?0:(k=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,k),_.Dc+=k,1)}function Oc(y){y.ma.memory=null}function Nc(y,_,k,R){return ae(y,8)!=47?0:(_[0]=ae(y,14)+1,k[0]=ae(y,14)+1,R[0]=ae(y,1),ae(y,3)!=0?0:!y.h)}function Ya(y,_){if(4>y)return y+1;var k=y-2>>1;return(2+(1&y)<<k)+ae(_,k)+1}function Ja(y,_){return 120<_?_-120:1<=(k=((k=FG[_-1])>>4)*y+(8-(15&k)))?k:1;var k}function br(y,_,k){var R=ee(k),U=y[_+=255&R].g-8;return 0<U&&(oe(k,k.u+8),R=ee(k),_+=y[_].value,_+=R&(1<<U)-1),oe(k,k.u+y[_].g),y[_].value}function wi(y,_,k){return k.g+=y.g,k.value+=y.value<<_>>>0,e(8>=k.g),y.g}function Ii(y,_,k){var R=y.xc;return e((_=R==0?0:y.vc[y.md*(k>>R)+(_>>R)])<y.Wb),y.Ya[_]}function hf(y,_,k,R){var U=y.ab,H=y.c*_,V=y.C;_=V+_;var X=k,J=R;for(R=y.Ta,k=y.Ua;0<U--;){var te=y.gc[U],he=V,we=_,ne=X,fe=J,ve=(J=R,X=k,te.Ea);switch(e(he<we),e(we<=te.nc),te.hc){case 2:Ir(ne,fe,(we-he)*ve,J,X);break;case 0:var Ee=he,be=we,ke=J,Ce=X,Re=(Ye=te).Ea;Ee==0&&(e1(ne,fe,null,null,1,ke,Ce),Yt(ne,fe+1,0,0,Re-1,ke,Ce+1),fe+=Re,Ce+=Re,++Ee);for(var Le=1<<Ye.b,it=Le-1,Ge=Oe(Re,Ye.b),Mt=Ye.K,Ye=Ye.w+(Ee>>Ye.b)*Ge;Ee<be;){var Jt=Mt,ri=Ye,jt=1;for(im(ne,fe,ke,Ce-Re,1,ke,Ce);jt<Re;){var Je=(jt&~it)+Le;Je>Re&&(Je=Re),(0,n1[Jt[ri++]>>8&15])(ne,fe+ +jt,ke,Ce+jt-Re,Je-jt,ke,Ce+jt),jt=Je}fe+=Re,Ce+=Re,++Ee&it||(Ye+=Ge)}we!=te.nc&&r(J,X-ve,J,X+(we-he-1)*ve,ve);break;case 1:for(ve=ne,be=fe,Re=(ne=te.Ea)-(Ce=ne&~(ke=(fe=1<<te.b)-1)),Ee=Oe(ne,te.b),Le=te.K,te=te.w+(he>>te.b)*Ee;he<we;){for(it=Le,Ge=te,Mt=new et,Ye=be+Ce,Jt=be+ne;be<Ye;)tt(it[Ge++],Mt),r1(Mt,ve,be,fe,J,X),be+=fe,X+=fe;be<Jt&&(tt(it[Ge++],Mt),r1(Mt,ve,be,Re,J,X),be+=Re,X+=Re),++he&ke||(te+=Ee)}break;case 3:if(ne==J&&fe==X&&0<te.b){for(be=J,ne=ve=X+(we-he)*ve-(Ce=(we-he)*Oe(te.Ea,te.b)),fe=J,ke=X,Ee=[],Ce=(Re=Ce)-1;0<=Ce;--Ce)Ee[Ce]=fe[ke+Ce];for(Ce=Re-1;0<=Ce;--Ce)be[ne+Ce]=Ee[Ce];w_(te,he,we,J,ve,J,X)}else w_(te,he,we,ne,fe,J,X)}X=R,J=k}J!=k&&r(R,k,X,J,H)}function fh(y,_){var k=y.V,R=y.Ba+y.c*y.C,U=_-y.C;if(e(_<=y.l.o),e(16>=U),0<U){var H=y.l,V=y.Ta,X=y.Ua,J=H.width;if(hf(y,U,k,R),U=X=[X],e((k=y.C)<(R=_)),e(H.v<H.va),R>H.o&&(R=H.o),k<H.j){var te=H.j-k;k=H.j,U[0]+=te*J}if(k>=R?k=0:(U[0]+=4*H.v,H.ka=k-H.j,H.U=H.va-H.v,H.T=R-k,k=1),k){if(X=X[0],11>(k=y.ca).S){var he=k.f.RGBA,we=(R=k.S,U=H.U,H=H.T,te=he.eb,he.A),ne=H;for(he=he.fb+y.Ma*he.A;0<ne--;){var fe=V,ve=X,Ee=U,be=te,ke=he;switch(R){case A_:i1(fe,ve,Ee,be,ke);break;case S_:bh(fe,ve,Ee,be,ke);break;case Ik:bh(fe,ve,Ee,be,ke),a1(be,ke,0,Ee,1,0);break;case FR:Ef(fe,ve,Ee,be,ke);break;case E_:ht(fe,ve,Ee,be,ke,1);break;case Rk:ht(fe,ve,Ee,be,ke,1),a1(be,ke,0,Ee,1,0);break;case P_:ht(fe,ve,Ee,be,ke,0);break;case k_:ht(fe,ve,Ee,be,ke,0),a1(be,ke,1,Ee,1,0);break;case Lk:wh(fe,ve,Ee,be,ke);break;case Mk:wh(fe,ve,Ee,be,ke),OR(be,ke,Ee,1,0);break;case $R:xh(fe,ve,Ee,be,ke);break;default:e(0)}X+=J,he+=we}y.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=k.height)}}y.C=_,e(y.C<=y.i)}function Bo(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var k=y.Ya[_].G,R=y.Ya[_].H;if(0<k[1][R[1]+0].g||0<k[2][R[2]+0].g||0<k[3][R[3]+0].g)return 0}return 1}function Nl(y,_,k,R,U,H){if(y.Z!=0){var V=y.qd,X=y.rd;for(e(Sh[y.Z]!=null);_<k;++_)Sh[y.Z](V,X,R,U,R,U,H),V=R,X=U,U+=H;y.qd=V,y.rd=X}}function Uo(y,_){var k=y.l.ma,R=k.Z==0||k.Z==1?y.l.j:y.C;if(R=y.C<R?R:y.C,e(_<=y.l.o),_>R){var U=y.l.width,H=k.ca,V=k.tb+U*R,X=y.V,J=y.Ba+y.c*R,te=y.gc;e(y.ab==1),e(te[0].hc==3),Dl(te[0],R,_,X,J,H,V),Nl(k,R,_,H,V,U)}y.C=y.Ma=_}function zo(y,_,k,R,U,H,V){var X=y.$/R,J=y.$%R,te=y.m,he=y.s,we=k+y.$,ne=we;U=k+R*U;var fe=k+R*H,ve=280+he.ua,Ee=y.Pb?X:16777216,be=0<he.ua?he.Wa:null,ke=he.wc,Ce=we<fe?Ii(he,J,X):null;e(y.C<H),e(fe<=U);var Re=!1;e:for(;;){for(;Re||we<fe;){var Le=0;if(X>=Ee){var it=we-k;e((Ee=y).Pb),Ee.wd=Ee.m,Ee.xd=it,0<Ee.s.ua&&Me(Ee.s.Wa,Ee.s.vb),Ee=X+BG}if(J&ke||(Ce=Ii(he,J,X)),e(Ce!=null),Ce.Qb&&(_[we]=Ce.qb,Re=!0),!Re)if(de(te),Ce.jc){Le=te,it=_;var Ge=we,Mt=Ce.pd[ee(Le)&Sf-1];e(Ce.jc),256>Mt.g?(oe(Le,Le.u+Mt.g),it[Ge]=Mt.value,Le=0):(oe(Le,Le.u+Mt.g-256),e(256<=Mt.value),Le=Mt.value),Le==0&&(Re=!0)}else Le=br(Ce.G[0],Ce.H[0],te);if(te.h)break;if(Re||256>Le){if(!Re)if(Ce.nd)_[we]=(Ce.qb|Le<<8)>>>0;else{if(de(te),Re=br(Ce.G[1],Ce.H[1],te),de(te),it=br(Ce.G[2],Ce.H[2],te),Ge=br(Ce.G[3],Ce.H[3],te),te.h)break;_[we]=(Ge<<24|Re<<16|Le<<8|it)>>>0}if(Re=!1,++we,++J>=R&&(J=0,++X,V!=null&&X<=H&&!(X%16)&&V(y,X),be!=null))for(;ne<we;)Le=_[ne++],be.X[(506832829*Le&4294967295)>>>be.Mb]=Le}else if(280>Le){if(Le=Ya(Le-256,te),it=br(Ce.G[4],Ce.H[4],te),de(te),it=Ja(R,it=Ya(it,te)),te.h)break;if(we-k<it||U-we<Le)break e;for(Ge=0;Ge<Le;++Ge)_[we+Ge]=_[we+Ge-it];for(we+=Le,J+=Le;J>=R;)J-=R,++X,V!=null&&X<=H&&!(X%16)&&V(y,X);if(e(we<=U),J&ke&&(Ce=Ii(he,J,X)),be!=null)for(;ne<we;)Le=_[ne++],be.X[(506832829*Le&4294967295)>>>be.Mb]=Le}else{if(!(Le<ve))break e;for(Re=Le-280,e(be!=null);ne<we;)Le=_[ne++],be.X[(506832829*Le&4294967295)>>>be.Mb]=Le;Le=we,e(!(Re>>>(it=be).Xa)),_[Le]=it.X[Re],Re=!0}Re||e(te.h==se(te))}if(y.Pb&&te.h&&we<U)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Me(y.s.vb,y.s.Wa);else{if(te.h)break e;V!=null&&V(y,X>H?H:X),y.a=0,y.$=we-k}return 1}return y.a=3,0}function Za(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,e(y!=null)}function df(){var y=new xt;return y==null?null:(y.a=0,y.xb=zR,$n("Predictor","VP8LPredictors"),$n("Predictor","VP8LPredictors_C"),$n("PredictorAdd","VP8LPredictorsAdd"),$n("PredictorAdd","VP8LPredictorsAdd_C"),Ir=Vt,r1=Lt,i1=Lr,bh=nn,wh=Bt,xh=Ut,Ef=nr,I.VP8LMapColor32b=jl,I.VP8LMapColor8b=t1,y)}function Ll(y,_,k,R,U){var H=1,V=[y],X=[_],J=R.m,te=R.s,he=null,we=0;e:for(;;){if(k)for(;H&&ae(J,1);){var ne=V,fe=X,ve=R,Ee=1,be=ve.m,ke=ve.gc[ve.ab],Ce=ae(be,2);if(ve.Oc&1<<Ce)H=0;else{switch(ve.Oc|=1<<Ce,ke.hc=Ce,ke.Ea=ne[0],ke.nc=fe[0],ke.K=[null],++ve.ab,e(4>=ve.ab),Ce){case 0:case 1:ke.b=ae(be,3)+2,Ee=Ll(Oe(ke.Ea,ke.b),Oe(ke.nc,ke.b),0,ve,ke.K),ke.K=ke.K[0];break;case 3:var Re,Le=ae(be,8)+1,it=16<Le?0:4<Le?1:2<Le?2:3;if(ne[0]=Oe(ke.Ea,it),ke.b=it,Re=Ee=Ll(Le,1,0,ve,ke.K)){var Ge,Mt=Le,Ye=ke,Jt=1<<(8>>Ye.b),ri=s(Jt);if(ri==null)Re=0;else{var jt=Ye.K[0],Je=Ye.w;for(ri[0]=Ye.K[0][0],Ge=1;Ge<1*Mt;++Ge)ri[Ge]=ct(jt[Je+Ge],ri[Ge-1]);for(;Ge<4*Jt;++Ge)ri[Ge]=0;Ye.K[0]=null,Ye.K[0]=ri,Re=1}}Ee=Re;break;case 2:break;default:e(0)}H=Ee}}if(V=V[0],X=X[0],H&&ae(J,1)&&!(H=1<=(we=ae(J,4))&&11>=we)){R.a=3;break e}var Fe;if(Fe=H)t:{var Mr,Ct,en,Xn=R,ji=V,xs=X,wr=we,ns=k,_s=Xn.m,ii=Xn.s,sn=[null],vn=1,xr=0,yn=$G[wr];n:for(;;){if(ns&&ae(_s,1)){var Di=ae(_s,3)+2,Vo=Oe(ji,Di),jr=Oe(xs,Di),Fs=Vo*jr;if(!Ll(Vo,jr,0,Xn,sn))break n;for(sn=sn[0],ii.xc=Di,Mr=0;Mr<Fs;++Mr){var Ln=sn[Mr]>>8&65535;sn[Mr]=Ln,Ln>=vn&&(vn=Ln+1)}}if(_s.h)break n;for(Ct=0;5>Ct;++Ct){var si=BR[Ct];!Ct&&0<wr&&(si+=1<<wr),xr<si&&(xr=si)}var aa=a(vn*yn,z),As=vn,oa=a(As,G);if(oa==null)var la=null;else e(65536>=As),la=oa;var $s=s(xr);if(la==null||$s==null||aa==null){Xn.a=1;break n}var ca=aa;for(Mr=en=0;Mr<vn;++Mr){var Un=la[Mr],ua=Un.G,Go=Un.H,kf=0,Wc=1,Fi=0;for(Ct=0;5>Ct;++Ct){si=BR[Ct],ua[Ct]=ca,Go[Ct]=en,!Ct&&0<wr&&(si+=1<<wr);i:{var N_,$k=si,L_=Xn,c1=$s,aK=ca,oK=en,Bk=0,Eh=L_.m,lK=ae(Eh,1);if(i(c1,0,0,$k),lK){var cK=ae(Eh,1)+1,uK=ae(Eh,1),YR=ae(Eh,uK==0?1:8);c1[YR]=1,cK==2&&(c1[YR=ae(Eh,8)]=1);var I_=1}else{var JR=s(19),ZR=ae(Eh,4)+4;if(19<ZR){L_.a=3;var R_=0;break i}for(N_=0;N_<ZR;++N_)JR[DG[N_]]=ae(Eh,3);var Uk=void 0,u1=void 0,QR=L_,hK=JR,M_=$k,eM=c1,zk=0,Ph=QR.m,tM=8,nM=a(128,z);r:for(;M(nM,0,7,hK,19);){if(ae(Ph,1)){var dK=2+2*ae(Ph,3);if((Uk=2+ae(Ph,dK))>M_)break r}else Uk=M_;for(u1=0;u1<M_&&Uk--;){de(Ph);var rM=nM[0+(127&ee(Ph))];oe(Ph,Ph.u+rM.g);var am=rM.value;if(16>am)eM[u1++]=am,am!=0&&(tM=am);else{var fK=am==16,iM=am-16,pK=MG[iM],sM=ae(Ph,RG[iM])+pK;if(u1+sM>M_)break r;for(var gK=fK?tM:0;0<sM--;)eM[u1++]=gK}}zk=1;break r}zk||(QR.a=3),I_=zk}(I_=I_&&!Eh.h)&&(Bk=M(aK,oK,8,c1,$k)),I_&&Bk!=0?R_=Bk:(L_.a=3,R_=0)}if(R_==0)break n;if(Wc&&jG[Ct]==1&&(Wc=ca[en].g==0),kf+=ca[en].g,en+=R_,3>=Ct){var h1,qk=$s[0];for(h1=1;h1<si;++h1)$s[h1]>qk&&(qk=$s[h1]);Fi+=qk}}if(Un.nd=Wc,Un.Qb=0,Wc&&(Un.qb=(ua[3][Go[3]+0].value<<24|ua[1][Go[1]+0].value<<16|ua[2][Go[2]+0].value)>>>0,kf==0&&256>ua[0][Go[0]+0].value&&(Un.Qb=1,Un.qb+=ua[0][Go[0]+0].value<<8)),Un.jc=!Un.Qb&&6>Fi,Un.jc){var j_,Vc=Un;for(j_=0;j_<Sf;++j_){var kh=j_,Th=Vc.pd[kh],D_=Vc.G[0][Vc.H[0]+kh];256<=D_.value?(Th.g=D_.g+256,Th.value=D_.value):(Th.g=0,Th.value=0,kh>>=wi(D_,8,Th),kh>>=wi(Vc.G[1][Vc.H[1]+kh],16,Th),kh>>=wi(Vc.G[2][Vc.H[2]+kh],0,Th),wi(Vc.G[3][Vc.H[3]+kh],24,Th))}}}ii.vc=sn,ii.Wb=vn,ii.Ya=la,ii.yc=aa,Fe=1;break t}Fe=0}if(!(H=Fe)){R.a=3;break e}if(0<we){if(te.ua=1<<we,!Z(te.Wa,we)){R.a=1,H=0;break e}}else te.ua=0;var Hk=R,aM=V,mK=X,Wk=Hk.s,Vk=Wk.xc;if(Hk.c=aM,Hk.i=mK,Wk.md=Oe(aM,Vk),Wk.wc=Vk==0?-1:(1<<Vk)-1,k){R.xb=GG;break e}if((he=s(V*X))==null){R.a=1,H=0;break e}H=(H=zo(R,he,0,V,X,X,null))&&!J.h;break e}return H?(U!=null?U[0]=he:(e(he==null),e(k)),R.$=0,k||Za(te)):Za(te),H}function ff(y,_){var k=y.c*y.i,R=k+_+16*_;return e(y.c<=_),y.V=s(R),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+k+_,1)}function Kg(y,_){var k=y.C,R=_-k,U=y.V,H=y.Ba+y.c*k;for(e(_<=y.l.o);0<R;){var V=16<R?16:R,X=y.l.ma,J=y.l.width,te=J*V,he=X.ca,we=X.tb+J*k,ne=y.Ta,fe=y.Ua;hf(y,V,U,H),LR(ne,fe,he,we,te),Nl(X,k,k+V,he,we,J),R-=V,U+=V*y.c,k+=V}e(k==_),y.C=y.Ma=_}function Xg(){this.ub=this.yd=this.td=this.Rb=0}function Yg(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gk(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Fy(){this.Yb=function(){var y=[];return function _(k,R,U){for(var H=U[R],V=0;V<H&&(k.push(U.length>R+1?[]:0),!(U.length<R+1));V++)_(k[V],R+1,U)}(y,0,[3,11]),y}()}function n_(){this.jb=s(3),this.Wc=o([4,8],Fy),this.Xc=o([4,17],Fy)}function r_(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Qa(){this.ld=this.La=this.dd=this.tc=0}function $y(){this.Na=this.la=0}function i_(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function By(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function s_(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qa),this.Y=0,this.ya=Array(new By),this.aa=0,this.l=new Jg}function a_(){this.y=s(16),this.f=s(8),this.ea=s(8)}function o_(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Xg,this.Kc=new Yg,this.ed=new r_,this.Qa=new gk,this.Ic=this.$c=this.Aa=0,this.D=new s_,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,D),this.ia=0,this.pb=a(4,i_),this.Pa=new n_,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new a_),this.Hd=0,this.rb=Array(new $y),this.sb=0,this.wa=Array(new Qa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new By),this.L=this.aa=0,this.gd=o([4,2],Qa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Il(y,_){return 0>y?0:y>_?_:y}function Jg(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mk(){var y=new o_;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,o1||(o1=Zg)),y}function qr(y,_,k){return y.a==0&&(y.a=_,y.sc=k,y.cb=0),0}function l_(y,_,k){return 3<=k&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function Rl(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return qr(y,2,"null VP8Io passed to VP8GetHeaders()");var k=_.data,R=_.w,U=_.ha;if(4>U)return qr(y,7,"Truncated header.");var H=k[R+0]|k[R+1]<<8|k[R+2]<<16,V=y.Od;if(V.Rb=!(1&H),V.td=H>>1&7,V.yd=H>>4&1,V.ub=H>>5,3<V.td)return qr(y,3,"Incorrect keyframe parameters.");if(!V.yd)return qr(y,4,"Frame not displayable.");R+=3,U-=3;var X=y.Kc;if(V.Rb){if(7>U)return qr(y,7,"cannot parse picture header");if(!l_(k,R,U))return qr(y,3,"Bad code word");X.c=16383&(k[R+4]<<8|k[R+3]),X.Td=k[R+4]>>6,X.i=16383&(k[R+6]<<8|k[R+5]),X.Ud=k[R+6]>>6,R+=7,U-=7,y.za=X.c+15>>4,y.Ub=X.i+15>>4,_.width=X.c,_.height=X.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((H=y.Pa).jb,0,255,H.jb.length),e((H=y.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(V.ub>U)return qr(y,7,"bad partition length");Y(H=y.m,k,R,V.ub),R+=V.ub,U-=V.ub,V.Rb&&(X.Ld=ue(H),X.Kd=ue(H)),X=y.Qa;var J,te=y.Pa;if(e(H!=null),e(X!=null),X.Cb=ue(H),X.Cb){if(X.Bb=ue(H),ue(H)){for(X.Fb=ue(H),J=0;4>J;++J)X.Zb[J]=ue(H)?W(H,7):0;for(J=0;4>J;++J)X.Lb[J]=ue(H)?W(H,6):0}if(X.Bb)for(J=0;3>J;++J)te.jb[J]=ue(H)?Q(H,8):255}else X.Bb=0;if(H.Ka)return qr(y,3,"cannot parse segment header");if((X=y.ed).zd=ue(H),X.Tb=Q(H,6),X.wb=Q(H,3),X.Pc=ue(H),X.Pc&&ue(H)){for(te=0;4>te;++te)ue(H)&&(X.vd[te]=W(H,6));for(te=0;4>te;++te)ue(H)&&(X.od[te]=W(H,6))}if(y.L=X.Tb==0?0:X.zd?1:2,H.Ka)return qr(y,3,"cannot parse filter header");var he=U;if(U=J=R,R=J+he,X=he,y.Xb=(1<<Q(y.m,2))-1,he<3*(te=y.Xb))k=7;else{for(J+=3*te,X-=3*te,he=0;he<te;++he){var we=k[U+0]|k[U+1]<<8|k[U+2]<<16;we>X&&(we=X),Y(y.Jc[+he],k,J,we),J+=we,X-=we,U+=3}Y(y.Jc[+te],k,J,X),k=J<R?0:5}if(k!=0)return qr(y,k,"cannot parse partitions");for(k=Q(J=y.m,7),U=ue(J)?W(J,4):0,R=ue(J)?W(J,4):0,X=ue(J)?W(J,4):0,te=ue(J)?W(J,4):0,J=ue(J)?W(J,4):0,he=y.Qa,we=0;4>we;++we){if(he.Cb){var ne=he.Zb[we];he.Fb||(ne+=k)}else{if(0<we){y.pb[we]=y.pb[0];continue}ne=k}var fe=y.pb[we];fe.Sc[0]=jk[Il(ne+U,127)],fe.Sc[1]=Dk[Il(ne+0,127)],fe.Eb[0]=2*jk[Il(ne+R,127)],fe.Eb[1]=101581*Dk[Il(ne+X,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=jk[Il(ne+te,117)],fe.Qc[1]=Dk[Il(ne+J,127)],fe.lc=ne+J}if(!V.Rb)return qr(y,4,"Not a key frame.");for(ue(H),V=y.Pa,k=0;4>k;++k){for(U=0;8>U;++U)for(R=0;3>R;++R)for(X=0;11>X;++X)te=ye(H,WG[k][U][R][X])?Q(H,8):qG[k][U][R][X],V.Wc[k][U].Yb[R][X]=te;for(U=0;17>U;++U)V.Xc[k][U]=V.Wc[k][VG[U]]}return y.kc=ue(H),y.kc&&(y.Bd=Q(H,8)),y.cb=1}function Zg(y,_,k,R,U,H,V){var X=_[U].Yb[k];for(k=0;16>U;++U){if(!ye(y,X[k+0]))return U;for(;!ye(y,X[k+1]);)if(X=_[++U].Yb[0],k=0,U==16)return 16;var J=_[U+1].Yb;if(ye(y,X[k+2])){var te=y,he=0;if(ye(te,(ne=X)[(we=k)+3]))if(ye(te,ne[we+6])){for(X=0,we=2*(he=ye(te,ne[we+8]))+(ne=ye(te,ne[we+9+he])),he=0,ne=UG[we];ne[X];++X)he+=he+ye(te,ne[X]);he+=3+(8<<we)}else ye(te,ne[we+7])?(he=7+2*ye(te,165),he+=ye(te,145)):he=5+ye(te,159);else he=ye(te,ne[we+4])?3+ye(te,ne[we+5]):2;X=J[2]}else he=1,X=J[1];J=V+zG[U],0>(te=y).b&&xe(te);var we,ne=te.b,fe=(we=te.Ca>>1)-(te.I>>ne)>>31;--te.b,te.Ca+=fe,te.Ca|=1,te.I-=(we+1&fe)<<ne,H[J]=((he^fe)-fe)*R[(0<U)+0]}return 16}function c_(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function eo(y,_,k,R,U){U=y[_+k+32*R]+(U>>3),y[_+k+32*R]=-256&U?0>U?0:255:U}function ei(y,_,k,R,U,H){eo(y,_,0,k,R+U),eo(y,_,1,k,R+H),eo(y,_,2,k,R-H),eo(y,_,3,k,R-U)}function Lc(y){return(20091*y>>16)+y}function u_(y,_,k,R){var U,H=0,V=s(16);for(U=0;4>U;++U){var X=y[_+0]+y[_+8],J=y[_+0]-y[_+8],te=(35468*y[_+4]>>16)-Lc(y[_+12]),he=Lc(y[_+4])+(35468*y[_+12]>>16);V[H+0]=X+he,V[H+1]=J+te,V[H+2]=J-te,V[H+3]=X-he,H+=4,_++}for(U=H=0;4>U;++U)X=(y=V[H+0]+4)+V[H+8],J=y-V[H+8],te=(35468*V[H+4]>>16)-Lc(V[H+12]),eo(k,R,0,0,X+(he=Lc(V[H+4])+(35468*V[H+12]>>16))),eo(k,R,1,0,J+te),eo(k,R,2,0,J-te),eo(k,R,3,0,X-he),H++,R+=32}function vk(y,_,k,R){var U=y[_+0]+4,H=35468*y[_+4]>>16,V=Lc(y[_+4]),X=35468*y[_+1]>>16;ei(k,R,0,U+V,y=Lc(y[_+1]),X),ei(k,R,1,U+H,y,X),ei(k,R,2,U-H,y,X),ei(k,R,3,U-V,y,X)}function yk(y,_,k,R,U){u_(y,_,k,R),U&&u_(y,_+16,k,R+4)}function Ml(y,_,k,R){Pf(y,_+0,k,R,1),Pf(y,_+32,k,R+128,1)}function h_(y,_,k,R){var U;for(y=y[_+0]+4,U=0;4>U;++U)for(_=0;4>_;++_)eo(k,R,_,U,y)}function d_(y,_,k,R){y[_+0]&&pn(y,_+0,k,R),y[_+16]&&pn(y,_+16,k,R+4),y[_+32]&&pn(y,_+32,k,R+128),y[_+48]&&pn(y,_+48,k,R+128+4)}function Qg(y,_,k,R){var U,H=s(16);for(U=0;4>U;++U){var V=y[_+0+U]+y[_+12+U],X=y[_+4+U]+y[_+8+U],J=y[_+4+U]-y[_+8+U],te=y[_+0+U]-y[_+12+U];H[0+U]=V+X,H[8+U]=V-X,H[4+U]=te+J,H[12+U]=te-J}for(U=0;4>U;++U)V=(y=H[0+4*U]+3)+H[3+4*U],X=H[1+4*U]+H[2+4*U],J=H[1+4*U]-H[2+4*U],te=y-H[3+4*U],k[R+0]=V+X>>3,k[R+16]=te+J>>3,k[R+32]=V-X>>3,k[R+48]=te-J>>3,R+=64}function pf(y,_,k){var R,U=_-32,H=sa,V=255-y[U-1];for(R=0;R<k;++R){var X,J=H,te=V+y[_-1];for(X=0;X<k;++X)y[_+X]=J[te+y[U+X]];_+=32}}function bk(y,_){pf(y,_,4)}function wk(y,_){pf(y,_,8)}function xk(y,_){pf(y,_,16)}function Uy(y,_){var k;for(k=0;16>k;++k)r(y,_+32*k,y,_-32,16)}function f_(y,_){var k;for(k=16;0<k;--k)i(y,_,y[_-1],16),_+=32}function qo(y,_,k){var R;for(R=0;16>R;++R)i(_,k+32*R,y,16)}function _k(y,_){var k,R=16;for(k=0;16>k;++k)R+=y[_-1+32*k]+y[_+k-32];qo(R>>5,y,_)}function gf(y,_){var k,R=8;for(k=0;16>k;++k)R+=y[_-1+32*k];qo(R>>4,y,_)}function zy(y,_){var k,R=8;for(k=0;16>k;++k)R+=y[_+k-32];qo(R>>4,y,_)}function Ak(y,_){qo(128,y,_)}function _t(y,_,k){return y+2*_+k+2>>2}function Sk(y,_){var k,R=_-32;for(R=new Uint8Array([_t(y[R-1],y[R+0],y[R+1]),_t(y[R+0],y[R+1],y[R+2]),_t(y[R+1],y[R+2],y[R+3]),_t(y[R+2],y[R+3],y[R+4])]),k=0;4>k;++k)r(y,_+32*k,R,0,R.length)}function Ek(y,_){var k=y[_-1],R=y[_-1+32],U=y[_-1+64],H=y[_-1+96];_e(y,_+0,16843009*_t(y[_-1-32],k,R)),_e(y,_+32,16843009*_t(k,R,U)),_e(y,_+64,16843009*_t(R,U,H)),_e(y,_+96,16843009*_t(U,H,H))}function Pk(y,_){var k,R=4;for(k=0;4>k;++k)R+=y[_+k-32]+y[_-1+32*k];for(R>>=3,k=0;4>k;++k)i(y,_+32*k,R,4)}function Ic(y,_){var k=y[_-1+0],R=y[_-1+32],U=y[_-1+64],H=y[_-1-32],V=y[_+0-32],X=y[_+1-32],J=y[_+2-32],te=y[_+3-32];y[_+0+96]=_t(R,U,y[_-1+96]),y[_+1+96]=y[_+0+64]=_t(k,R,U),y[_+2+96]=y[_+1+64]=y[_+0+32]=_t(H,k,R),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=_t(V,H,k),y[_+3+64]=y[_+2+32]=y[_+1+0]=_t(X,V,H),y[_+3+32]=y[_+2+0]=_t(J,X,V),y[_+3+0]=_t(te,J,X)}function Rc(y,_){var k=y[_+1-32],R=y[_+2-32],U=y[_+3-32],H=y[_+4-32],V=y[_+5-32],X=y[_+6-32],J=y[_+7-32];y[_+0+0]=_t(y[_+0-32],k,R),y[_+1+0]=y[_+0+32]=_t(k,R,U),y[_+2+0]=y[_+1+32]=y[_+0+64]=_t(R,U,H),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=_t(U,H,V),y[_+3+32]=y[_+2+64]=y[_+1+96]=_t(H,V,X),y[_+3+64]=y[_+2+96]=_t(V,X,J),y[_+3+96]=_t(X,J,J)}function kk(y,_){var k=y[_-1+0],R=y[_-1+32],U=y[_-1+64],H=y[_-1-32],V=y[_+0-32],X=y[_+1-32],J=y[_+2-32],te=y[_+3-32];y[_+0+0]=y[_+1+64]=H+V+1>>1,y[_+1+0]=y[_+2+64]=V+X+1>>1,y[_+2+0]=y[_+3+64]=X+J+1>>1,y[_+3+0]=J+te+1>>1,y[_+0+96]=_t(U,R,k),y[_+0+64]=_t(R,k,H),y[_+0+32]=y[_+1+96]=_t(k,H,V),y[_+1+32]=y[_+2+96]=_t(H,V,X),y[_+2+32]=y[_+3+96]=_t(V,X,J),y[_+3+32]=_t(X,J,te)}function Tk(y,_){var k=y[_+0-32],R=y[_+1-32],U=y[_+2-32],H=y[_+3-32],V=y[_+4-32],X=y[_+5-32],J=y[_+6-32],te=y[_+7-32];y[_+0+0]=k+R+1>>1,y[_+1+0]=y[_+0+64]=R+U+1>>1,y[_+2+0]=y[_+1+64]=U+H+1>>1,y[_+3+0]=y[_+2+64]=H+V+1>>1,y[_+0+32]=_t(k,R,U),y[_+1+32]=y[_+0+96]=_t(R,U,H),y[_+2+32]=y[_+1+96]=_t(U,H,V),y[_+3+32]=y[_+2+96]=_t(H,V,X),y[_+3+64]=_t(V,X,J),y[_+3+96]=_t(X,J,te)}function em(y,_){var k=y[_-1+0],R=y[_-1+32],U=y[_-1+64],H=y[_-1+96];y[_+0+0]=k+R+1>>1,y[_+2+0]=y[_+0+32]=R+U+1>>1,y[_+2+32]=y[_+0+64]=U+H+1>>1,y[_+1+0]=_t(k,R,U),y[_+3+0]=y[_+1+32]=_t(R,U,H),y[_+3+32]=y[_+1+64]=_t(U,H,H),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=H}function qy(y,_){var k=y[_-1+0],R=y[_-1+32],U=y[_-1+64],H=y[_-1+96],V=y[_-1-32],X=y[_+0-32],J=y[_+1-32],te=y[_+2-32];y[_+0+0]=y[_+2+32]=k+V+1>>1,y[_+0+32]=y[_+2+64]=R+k+1>>1,y[_+0+64]=y[_+2+96]=U+R+1>>1,y[_+0+96]=H+U+1>>1,y[_+3+0]=_t(X,J,te),y[_+2+0]=_t(V,X,J),y[_+1+0]=y[_+3+32]=_t(k,V,X),y[_+1+32]=y[_+3+64]=_t(R,k,V),y[_+1+64]=y[_+3+96]=_t(U,R,k),y[_+1+96]=_t(H,U,R)}function mf(y,_){var k;for(k=0;8>k;++k)r(y,_+32*k,y,_-32,8)}function Ck(y,_){var k;for(k=0;8>k;++k)i(y,_,y[_-1],8),_+=32}function Mc(y,_,k){var R;for(R=0;8>R;++R)i(_,k+32*R,y,8)}function Ok(y,_){var k,R=8;for(k=0;8>k;++k)R+=y[_+k-32]+y[_-1+32*k];Mc(R>>4,y,_)}function Hy(y,_){var k,R=4;for(k=0;8>k;++k)R+=y[_+k-32];Mc(R>>3,y,_)}function Wy(y,_){var k,R=4;for(k=0;8>k;++k)R+=y[_-1+32*k];Mc(R>>3,y,_)}function p_(y,_){Mc(128,y,_)}function jc(y,_,k){var R=y[_-k],U=y[_+0],H=3*(U-R)+Nk[1020+y[_-2*k]-y[_+k]],V=__[112+(H+4>>3)];y[_-k]=sa[255+R+__[112+(H+3>>3)]],y[_+0]=sa[255+U-V]}function Vy(y,_,k,R){var U=y[_+0],H=y[_+k];return ro[255+y[_-2*k]-y[_-k]]>R||ro[255+H-U]>R}function tm(y,_,k,R){return 4*ro[255+y[_-k]-y[_+0]]+ro[255+y[_-2*k]-y[_+k]]<=R}function Gy(y,_,k,R,U){var H=y[_-3*k],V=y[_-2*k],X=y[_-k],J=y[_+0],te=y[_+k],he=y[_+2*k],we=y[_+3*k];return 4*ro[255+X-J]+ro[255+V-te]>R?0:ro[255+y[_-4*k]-H]<=U&&ro[255+H-V]<=U&&ro[255+V-X]<=U&&ro[255+we-he]<=U&&ro[255+he-te]<=U&&ro[255+te-J]<=U}function vf(y,_,k,R){var U=2*R+1;for(R=0;16>R;++R)tm(y,_+R,k,U)&&jc(y,_+R,k)}function Ky(y,_,k,R){var U=2*R+1;for(R=0;16>R;++R)tm(y,_+R*k,1,U)&&jc(y,_+R*k,1)}function g_(y,_,k,R){var U;for(U=3;0<U;--U)vf(y,_+=4*k,k,R)}function m_(y,_,k,R){var U;for(U=3;0<U;--U)Ky(y,_+=4,k,R)}function Dc(y,_,k,R,U,H,V,X){for(H=2*H+1;0<U--;){if(Gy(y,_,k,H,V))if(Vy(y,_,k,X))jc(y,_,k);else{var J=y,te=_,he=k,we=J[te-2*he],ne=J[te-he],fe=J[te+0],ve=J[te+he],Ee=J[te+2*he],be=27*(Ce=Nk[1020+3*(fe-ne)+Nk[1020+we-ve]])+63>>7,ke=18*Ce+63>>7,Ce=9*Ce+63>>7;J[te-3*he]=sa[255+J[te-3*he]+Ce],J[te-2*he]=sa[255+we+ke],J[te-he]=sa[255+ne+be],J[te+0]=sa[255+fe-be],J[te+he]=sa[255+ve-ke],J[te+2*he]=sa[255+Ee-Ce]}_+=R}}function Fc(y,_,k,R,U,H,V,X){for(H=2*H+1;0<U--;){if(Gy(y,_,k,H,V))if(Vy(y,_,k,X))jc(y,_,k);else{var J=y,te=_,he=k,we=J[te-he],ne=J[te+0],fe=J[te+he],ve=__[112+(4+(Ee=3*(ne-we))>>3)],Ee=__[112+(Ee+3>>3)],be=ve+1>>1;J[te-2*he]=sa[255+J[te-2*he]+be],J[te-he]=sa[255+we+Ee],J[te+0]=sa[255+ne-ve],J[te+he]=sa[255+fe-be]}_+=R}}function v_(y,_,k,R,U,H){Dc(y,_,k,1,16,R,U,H)}function yf(y,_,k,R,U,H){Dc(y,_,1,k,16,R,U,H)}function y_(y,_,k,R,U,H){var V;for(V=3;0<V;--V)Fc(y,_+=4*k,k,1,16,R,U,H)}function P(y,_,k,R,U,H){var V;for(V=3;0<V;--V)Fc(y,_+=4,1,k,16,R,U,H)}function B(y,_,k,R,U,H,V,X){Dc(y,_,U,1,8,H,V,X),Dc(k,R,U,1,8,H,V,X)}function ie(y,_,k,R,U,H,V,X){Dc(y,_,1,U,8,H,V,X),Dc(k,R,1,U,8,H,V,X)}function le(y,_,k,R,U,H,V,X){Fc(y,_+4*U,U,1,8,H,V,X),Fc(k,R+4*U,U,1,8,H,V,X)}function ge(y,_,k,R,U,H,V,X){Fc(y,_+4,1,U,8,H,V,X),Fc(k,R+4,1,U,8,H,V,X)}function Te(){this.ba=new zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nt(){this.ua=0,this.Wa=new ut,this.vb=new ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new z}function xt(){this.xb=this.a=0,this.l=new Jg,this.ca=new zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nt,this.ab=0,this.gc=a(4,Xe),this.Oc=0}function It(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jg,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rn(y,_,k,R,U,H,V){for(y=y==null?0:y[_+0],_=0;_<V;++_)U[H+_]=y+k[R+_]&255,y=U[H+_]}function ur(y,_,k,R,U,H,V){var X;if(y==null)rn(null,null,k,R,U,H,V);else for(X=0;X<V;++X)U[H+X]=y[_+X]+k[R+X]&255}function Hr(y,_,k,R,U,H,V){if(y==null)rn(null,null,k,R,U,H,V);else{var X,J=y[_+0],te=J,he=J;for(X=0;X<V;++X)te=he+(J=y[_+X])-te,he=k[R+X]+(-256&te?0>te?0:255:te)&255,te=J,U[H+X]=he}}function Bn(y,_,k,R){var U=_.width,H=_.o;if(e(y!=null&&_!=null),0>k||0>=R||k+R>H)return null;if(!y.Cc){if(y.ga==null){var V;if(y.ga=new It,(V=y.ga==null)||(V=_.width*_.o,e(y.Gb.length==0),y.Gb=s(V),y.Uc=0,y.Gb==null?V=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,V=1),V=!V),!V){V=y.ga;var X=y.Fa,J=y.P,te=y.qc,he=y.mb,we=y.nb,ne=J+1,fe=te-1,ve=V.l;if(e(X!=null&&he!=null&&_!=null),Sh[0]=null,Sh[1]=rn,Sh[2]=ur,Sh[3]=Hr,V.ca=he,V.tb=we,V.c=_.width,V.i=_.height,e(0<V.c&&0<V.i),1>=te)_=0;else if(V.$a=3&X[J+0],V.Z=X[J+0]>>2&3,V.Lc=X[J+0]>>4&3,J=X[J+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||J)_=0;else if(ve.put=pt,ve.ac=Ol,ve.bc=Oc,ve.ma=V,ve.width=_.width,ve.height=_.height,ve.Da=_.Da,ve.v=_.v,ve.va=_.va,ve.j=_.j,ve.o=_.o,V.$a)e:{e(V.$a==1),_=df();t:for(;;){if(_==null){_=0;break e}if(e(V!=null),V.mc=_,_.c=V.c,_.i=V.i,_.l=V.l,_.l.ma=V,_.l.width=V.c,_.l.height=V.i,_.a=0,re(_.m,X,ne,fe),!Ll(V.c,V.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Bo(_.s)?(V.ic=1,X=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(X),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(V.ic=0,_=ff(_,V.c)),!_))break t;_=1;break e}V.mc=null,_=0}else _=fe>=V.c*V.i;V=!_}if(V)return null;y.ga.Lc!=1?y.Ga=0:R=H-k}e(y.ga!=null),e(k+R<=H);e:{if(_=(X=y.ga).c,H=X.l.o,X.$a==0){if(ne=y.rc,fe=y.Vc,ve=y.Fa,J=y.P+1+k*_,te=y.mb,he=y.nb+k*_,e(J<=y.P+y.qc),X.Z!=0)for(e(Sh[X.Z]!=null),V=0;V<R;++V)Sh[X.Z](ne,fe,ve,J,te,he,_),ne=te,fe=he,he+=_,J+=_;else for(V=0;V<R;++V)r(te,he,ve,J,_),ne=te,fe=he,he+=_,J+=_;y.rc=ne,y.Vc=fe}else{if(e(X.mc!=null),_=k+R,e((V=X.mc)!=null),e(_<=V.i),V.C>=_)_=1;else if(X.ic||Ho(),X.ic){X=V.V,ne=V.Ba,fe=V.c;var Ee=V.i,be=(ve=1,J=V.$/fe,te=V.$%fe,he=V.m,we=V.s,V.$),ke=fe*Ee,Ce=fe*_,Re=we.wc,Le=be<Ce?Ii(we,te,J):null;e(be<=ke),e(_<=Ee),e(Bo(we));t:for(;;){for(;!he.h&&be<Ce;){if(te&Re||(Le=Ii(we,te,J)),e(Le!=null),de(he),256>(Ee=br(Le.G[0],Le.H[0],he)))X[ne+be]=Ee,++be,++te>=fe&&(te=0,++J<=_&&!(J%16)&&Uo(V,J));else{if(!(280>Ee)){ve=0;break t}Ee=Ya(Ee-256,he);var it,Ge=br(Le.G[4],Le.H[4],he);if(de(he),!(be>=(Ge=Ja(fe,Ge=Ya(Ge,he)))&&ke-be>=Ee)){ve=0;break t}for(it=0;it<Ee;++it)X[ne+be+it]=X[ne+be+it-Ge];for(be+=Ee,te+=Ee;te>=fe;)te-=fe,++J<=_&&!(J%16)&&Uo(V,J);be<Ce&&te&Re&&(Le=Ii(we,te,J))}e(he.h==se(he))}Uo(V,J>_?_:J);break t}!ve||he.h&&be<ke?(ve=0,V.a=he.h?5:3):V.$=be,_=ve}else _=zo(V,V.V,V.Ba,V.c,V.i,_,Kg);if(!_){R=0;break e}}k+R>=H&&(y.Cc=1),R=1}if(!R)return null;if(y.Cc&&((R=y.ga)!=null&&(R.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+k*U}function ti(y,_,k,R,U,H){for(;0<U--;){var V,X=y,J=_+(k?1:0),te=y,he=_+(k?0:3);for(V=0;V<R;++V){var we=te[he+4*V];we!=255&&(we*=32897,X[J+4*V+0]=X[J+4*V+0]*we>>23,X[J+4*V+1]=X[J+4*V+1]*we>>23,X[J+4*V+2]=X[J+4*V+2]*we>>23)}_+=H}}function Wr(y,_,k,R,U){for(;0<R--;){var H;for(H=0;H<k;++H){var V=y[_+2*H+0],X=15&(te=y[_+2*H+1]),J=4369*X,te=(240&te|te>>4)*J>>16;y[_+2*H+0]=(240&V|V>>4)*J>>16&240|(15&V|V<<4)*J>>16>>4&15,y[_+2*H+1]=240&te|X}_+=U}}function Ri(y,_,k,R,U,H,V,X){var J,te,he=255;for(te=0;te<U;++te){for(J=0;J<R;++J){var we=y[_+J];H[V+4*J]=we,he&=we}_+=k,V+=X}return he!=255}function $c(y,_,k,R,U){var H;for(H=0;H<U;++H)k[R+H]=y[_+H]>>8}function Ho(){a1=ti,OR=Wr,NR=Ri,LR=$c}function Bc(y,_,k){I[y]=function(R,U,H,V,X,J,te,he,we,ne,fe,ve,Ee,be,ke,Ce,Re){var Le,it=Re-1>>1,Ge=X[J+0]|te[he+0]<<16,Mt=we[ne+0]|fe[ve+0]<<16;e(R!=null);var Ye=3*Ge+Mt+131074>>2;for(_(R[U+0],255&Ye,Ye>>16,Ee,be),H!=null&&(Ye=3*Mt+Ge+131074>>2,_(H[V+0],255&Ye,Ye>>16,ke,Ce)),Le=1;Le<=it;++Le){var Jt=X[J+Le]|te[he+Le]<<16,ri=we[ne+Le]|fe[ve+Le]<<16,jt=Ge+Jt+Mt+ri+524296,Je=jt+2*(Jt+Mt)>>3;Ye=Je+Ge>>1,Ge=(jt=jt+2*(Ge+ri)>>3)+Jt>>1,_(R[U+2*Le-1],255&Ye,Ye>>16,Ee,be+(2*Le-1)*k),_(R[U+2*Le-0],255&Ge,Ge>>16,Ee,be+(2*Le-0)*k),H!=null&&(Ye=jt+Mt>>1,Ge=Je+ri>>1,_(H[V+2*Le-1],255&Ye,Ye>>16,ke,Ce+(2*Le-1)*k),_(H[V+2*Le+0],255&Ge,Ge>>16,ke,Ce+(2*Le+0)*k)),Ge=Jt,Mt=ri}1&Re||(Ye=3*Ge+Mt+131074>>2,_(R[U+Re-1],255&Ye,Ye>>16,Ee,be+(Re-1)*k),H!=null&&(Ye=3*Mt+Ge+131074>>2,_(H[V+Re-1],255&Ye,Ye>>16,ke,Ce+(Re-1)*k)))}}function Xy(){io[A_]=KG,io[S_]=qR,io[FR]=XG,io[E_]=HR,io[P_]=WR,io[Lk]=VR,io[$R]=YG,io[Ik]=qR,io[Rk]=HR,io[k_]=WR,io[Mk]=VR}function nm(y){return y&-16384?0>y?0:255:y>>JG}function ph(y,_){return nm((19077*y>>8)+(26149*_>>8)-14234)}function bf(y,_,k){return nm((19077*y>>8)-(6419*_>>8)-(13320*k>>8)+8708)}function wf(y,_){return nm((19077*y>>8)+(33050*_>>8)-17685)}function gh(y,_,k,R,U){R[U+0]=ph(y,k),R[U+1]=bf(y,_,k),R[U+2]=wf(y,_)}function Mi(y,_,k,R,U){R[U+0]=wf(y,_),R[U+1]=bf(y,_,k),R[U+2]=ph(y,k)}function xf(y,_,k,R,U){var H=bf(y,_,k);_=H<<3&224|wf(y,_)>>3,R[U+0]=248&ph(y,k)|H>>5,R[U+1]=_}function _f(y,_,k,R,U){var H=240&wf(y,_)|15;R[U+0]=240&ph(y,k)|bf(y,_,k)>>4,R[U+1]=H}function Yy(y,_,k,R,U){R[U+0]=255,gh(y,_,k,R,U+1)}function Jy(y,_,k,R,U){Mi(y,_,k,R,U),R[U+3]=255}function ws(y,_,k,R,U){gh(y,_,k,R,U),R[U+3]=255}function Uc(y,_,k){I[y]=function(R,U,H,V,X,J,te,he,we){for(var ne=he+(-2&we)*k;he!=ne;)_(R[U+0],H[V+0],X[J+0],te,he),_(R[U+1],H[V+0],X[J+0],te,he+k),U+=2,++V,++J,he+=2*k;1&we&&_(R[U+0],H[V+0],X[J+0],te,he)}}function rm(y,_,k){return k==0?y==0?_==0?6:5:_==0?4:0:k}function b_(y,_,k,R,U){switch(y>>>30){case 3:Pf(_,k,R,U,0);break;case 2:no(_,k,R,U);break;case 1:pn(_,k,R,U)}}function to(y,_){var k,R,U=_.M,H=_.Nb,V=y.oc,X=y.pc+40,J=y.oc,te=y.pc+584,he=y.oc,we=y.pc+600;for(k=0;16>k;++k)V[X+32*k-1]=129;for(k=0;8>k;++k)J[te+32*k-1]=129,he[we+32*k-1]=129;for(0<U?V[X-1-32]=J[te-1-32]=he[we-1-32]=129:(i(V,X-32-1,127,21),i(J,te-32-1,127,9),i(he,we-32-1,127,9)),R=0;R<y.za;++R){var ne=_.ya[_.aa+R];if(0<R){for(k=-1;16>k;++k)r(V,X+32*k-4,V,X+32*k+12,4);for(k=-1;8>k;++k)r(J,te+32*k-4,J,te+32*k+4,4),r(he,we+32*k-4,he,we+32*k+4,4)}var fe=y.Gd,ve=y.Hd+R,Ee=ne.ad,be=ne.Hc;if(0<U&&(r(V,X-32,fe[ve].y,0,16),r(J,te-32,fe[ve].f,0,8),r(he,we-32,fe[ve].ea,0,8)),ne.Za){var ke=V,Ce=X-32+16;for(0<U&&(R>=y.za-1?i(ke,Ce,fe[ve].y[15],4):r(ke,Ce,fe[ve+1].y,0,4)),k=0;4>k;k++)ke[Ce+128+k]=ke[Ce+256+k]=ke[Ce+384+k]=ke[Ce+0+k];for(k=0;16>k;++k,be<<=2)ke=V,Ce=X+KR[k],Wo[ne.Ob[k]](ke,Ce),b_(be,Ee,16*+k,ke,Ce)}else if(ke=rm(R,U,ne.Ob[0]),Ah[ke](V,X),be!=0)for(k=0;16>k;++k,be<<=2)b_(be,Ee,16*+k,V,X+KR[k]);for(k=ne.Gc,ke=rm(R,U,ne.Dd),Hc[ke](J,te),Hc[ke](he,we),be=Ee,ke=J,Ce=te,255&(ne=0|k)&&(170&ne?Fl(be,256,ke,Ce):Nn(be,256,ke,Ce)),ne=he,be=we,255&(k>>=8)&&(170&k?Fl(Ee,320,ne,be):Nn(Ee,320,ne,be)),U<y.Ub-1&&(r(fe[ve].y,0,V,X+480,16),r(fe[ve].f,0,J,te+224,8),r(fe[ve].ea,0,he,we+224,8)),k=8*H*y.B,fe=y.sa,ve=y.ta+16*R+16*H*y.R,Ee=y.qa,ne=y.ra+8*R+k,be=y.Ha,ke=y.Ia+8*R+k,k=0;16>k;++k)r(fe,ve+k*y.R,V,X+32*k,16);for(k=0;8>k;++k)r(Ee,ne+k*y.B,J,te+32*k,8),r(be,ke+k*y.B,he,we+32*k,8)}}function Af(y,_,k,R,U,H,V,X,J){var te=[0],he=[0],we=0,ne=J!=null?J.kd:0,fe=J??new Ne;if(y==null||12>k)return 7;fe.data=y,fe.w=_,fe.ha=k,_=[_],k=[k],fe.gb=[fe.gb];e:{var ve=_,Ee=k,be=fe.gb;if(e(y!=null),e(Ee!=null),e(be!=null),be[0]=0,12<=Ee[0]&&!n(y,ve[0],"RIFF")){if(n(y,ve[0]+8,"WEBP")){be=3;break e}var ke=De(y,ve[0]+4);if(12>ke||4294967286<ke){be=3;break e}if(ne&&ke>Ee[0]-8){be=7;break e}be[0]=ke,ve[0]+=12,Ee[0]-=12}be=0}if(be!=0)return be;for(ke=0<fe.gb[0],k=k[0];;){e:{var Ce=y;Ee=_,be=k;var Re=te,Le=he,it=ve=[0];if((Ye=we=[we])[0]=0,8>be[0])be=7;else{if(!n(Ce,Ee[0],"VP8X")){if(De(Ce,Ee[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var Ge=De(Ce,Ee[0]+8),Mt=1+Ie(Ce,Ee[0]+12);if(2147483648<=Mt*(Ce=1+Ie(Ce,Ee[0]+15))){be=3;break e}it!=null&&(it[0]=Ge),Re!=null&&(Re[0]=Mt),Le!=null&&(Le[0]=Ce),Ee[0]+=18,be[0]-=18,Ye[0]=1}be=0}}if(we=we[0],ve=ve[0],be!=0)return be;if(Ee=!!(2&ve),!ke&&we)return 3;if(H!=null&&(H[0]=!!(16&ve)),V!=null&&(V[0]=Ee),X!=null&&(X[0]=0),V=te[0],ve=he[0],we&&Ee&&J==null){be=0;break}if(4>k){be=7;break}if(ke&&we||!ke&&!we&&!n(y,_[0],"ALPH")){k=[k],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Ge=y,be=_,ke=k;var Ye=fe.gb;Re=fe.na,Le=fe.P,it=fe.Sa,Mt=22,e(Ge!=null),e(ke!=null),Ce=be[0];var Jt=ke[0];for(e(Re!=null),e(it!=null),Re[0]=null,Le[0]=null,it[0]=0;;){if(be[0]=Ce,ke[0]=Jt,8>Jt){be=7;break e}var ri=De(Ge,Ce+4);if(4294967286<ri){be=3;break e}var jt=8+ri+1&-2;if(Mt+=jt,0<Ye&&Mt>Ye){be=3;break e}if(!n(Ge,Ce,"VP8 ")||!n(Ge,Ce,"VP8L")){be=0;break e}if(Jt[0]<jt){be=7;break e}n(Ge,Ce,"ALPH")||(Re[0]=Ge,Le[0]=Ce+8,it[0]=ri),Ce+=jt,Jt-=jt}}if(k=k[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],be!=0)break}k=[k],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(Ye=y,be=_,ke=k,Re=fe.gb[0],Le=fe.Ja,it=fe.xa,Ge=be[0],Ce=!n(Ye,Ge,"VP8 "),Mt=!n(Ye,Ge,"VP8L"),e(Ye!=null),e(ke!=null),e(Le!=null),e(it!=null),8>ke[0])be=7;else{if(Ce||Mt){if(Ye=De(Ye,Ge+4),12<=Re&&Ye>Re-12){be=3;break e}if(ne&&Ye>ke[0]-8){be=7;break e}Le[0]=Ye,be[0]+=8,ke[0]-=8,it[0]=Mt}else it[0]=5<=ke[0]&&Ye[Ge+0]==47&&!(Ye[Ge+4]>>5),Le[0]=ke[0];be=0}if(k=k[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],_=_[0],be!=0)break;if(4294967286<fe.Ja)return 3;if(X==null||Ee||(X[0]=fe.xa?2:1),V=[V],ve=[ve],fe.xa){if(5>k){be=7;break}X=V,ne=ve,Ee=H,y==null||5>k?y=0:5<=k&&y[_+0]==47&&!(y[_+4]>>5)?(ke=[0],Ye=[0],Re=[0],re(Le=new K,y,_,k),Nc(Le,ke,Ye,Re)?(X!=null&&(X[0]=ke[0]),ne!=null&&(ne[0]=Ye[0]),Ee!=null&&(Ee[0]=Re[0]),y=1):y=0):y=0}else{if(10>k){be=7;break}X=ve,y==null||10>k||!l_(y,_+3,k-3)?y=0:(ne=y[_+0]|y[_+1]<<8|y[_+2]<<16,Ee=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=fe.Ja||!Ee||!y?y=0:(V&&(V[0]=Ee),X&&(X[0]=y),y=1))}if(!y||(V=V[0],ve=ve[0],we&&(te[0]!=V||he[0]!=ve)))return 3;J!=null&&(J[0]=fe,J.offset=_-J.w,e(4294967286>_-J.w),e(J.offset==J.ha-k));break}return be==0||be==7&&we&&J==null?(H!=null&&(H[0]|=fe.na!=null&&0<fe.na.length),R!=null&&(R[0]=V),U!=null&&(U[0]=ve),0):be}function Zy(y,_,k){var R=_.width,U=_.height,H=0,V=0,X=R,J=U;if(_.Da=y!=null&&0<y.Da,_.Da&&(X=y.cd,J=y.bd,H=y.v,V=y.j,11>k||(H&=-2,V&=-2),0>H||0>V||0>=X||0>=J||H+X>R||V+J>U))return 0;if(_.v=H,_.j=V,_.va=H+X,_.o=V+J,_.U=X,_.T=J,_.da=y!=null&&0<y.da,_.da){if(!Qe(X,J,k=[y.ib],H=[y.hb]))return 0;_.ib=k[0],_.hb=H[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*R/4&&_.hb<3*U/4,_.Kb=0),1}function Qy(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function mh(y,_,k,R){if(R==null||0>=y||0>=_)return 2;if(k!=null){if(k.Da){var U=k.cd,H=k.bd,V=-2&k.v,X=-2&k.j;if(0>V||0>X||0>=U||0>=H||V+U>y||X+H>_)return 2;y=U,_=H}if(k.da){if(!Qe(y,_,U=[k.ib],H=[k.hb]))return 2;y=U[0],_=H[0]}}R.width=y,R.height=_;e:{var J=R.width,te=R.height;if(y=R.S,0>=J||0>=te||!(y>=A_&&13>y))y=2;else{if(0>=R.Rd&&R.sd==null){V=H=U=_=0;var he=(X=J*XR[y])*te;if(11>y||(H=(te+1)/2*(_=(J+1)/2),y==12&&(V=(U=J)*te)),(te=s(he+2*H+V))==null){y=1;break e}R.sd=te,11>y?((J=R.f.RGBA).eb=te,J.fb=0,J.A=X,J.size=he):((J=R.f.kb).y=te,J.O=0,J.fa=X,J.Fd=he,J.f=te,J.N=0+he,J.Ab=_,J.Cd=H,J.ea=te,J.W=0+he+H,J.Db=_,J.Ed=H,y==12&&(J.F=te,J.J=0+he+2*H),J.Tc=V,J.lb=U)}if(_=1,U=R.S,H=R.width,V=R.height,U>=A_&&13>U)if(11>U)y=R.f.RGBA,_&=(X=Math.abs(y.A))*(V-1)+H<=y.size,_&=X>=H*XR[U],_&=y.eb!=null;else{y=R.f.kb,X=(H+1)/2,he=(V+1)/2,J=Math.abs(y.fa),te=Math.abs(y.Ab);var we=Math.abs(y.Db),ne=Math.abs(y.lb),fe=ne*(V-1)+H;_&=J*(V-1)+H<=y.Fd,_&=te*(he-1)+X<=y.Cd,_=(_&=we*(he-1)+X<=y.Ed)&J>=H&te>=X&we>=X,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,U==12&&(_&=ne>=H,_&=fe<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||k!=null&&k.fd&&(y=Qy(R)),y}var Sf=64,ra=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ia=24,vh=32,zc=8,yh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(y){return y},I.Predictor2=function(y,_,k){return _[k+0]},I.Predictor3=function(y,_,k){return _[k+1]},I.Predictor4=function(y,_,k){return _[k-1]},I.Predictor5=function(y,_,k){return rt(rt(y,_[k+1]),_[k+0])},I.Predictor6=function(y,_,k){return rt(y,_[k-1])},I.Predictor7=function(y,_,k){return rt(y,_[k+0])},I.Predictor8=function(y,_,k){return rt(_[k-1],_[k+0])},I.Predictor9=function(y,_,k){return rt(_[k+0],_[k+1])},I.Predictor10=function(y,_,k){return rt(rt(y,_[k-1]),rt(_[k+0],_[k+1]))},I.Predictor11=function(y,_,k){var R=_[k+0];return 0>=kt(R>>24&255,y>>24&255,(_=_[k-1])>>24&255)+kt(R>>16&255,y>>16&255,_>>16&255)+kt(R>>8&255,y>>8&255,_>>8&255)+kt(255&R,255&y,255&_)?R:y},I.Predictor12=function(y,_,k){var R=_[k+0];return(tn((y>>24&255)+(R>>24&255)-((_=_[k-1])>>24&255))<<24|tn((y>>16&255)+(R>>16&255)-(_>>16&255))<<16|tn((y>>8&255)+(R>>8&255)-(_>>8&255))<<8|tn((255&y)+(255&R)-(255&_)))>>>0},I.Predictor13=function(y,_,k){var R=_[k-1];return($t((y=rt(y,_[k+0]))>>24&255,R>>24&255)<<24|$t(y>>16&255,R>>16&255)<<16|$t(y>>8&255,R>>8&255)<<8|$t(255&y,255&R))>>>0};var e1=I.PredictorAdd0;I.PredictorAdd1=Yt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var im=I.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Ir,w_=I.ColorIndexInverseTransform,jl=I.MapARGB,Dl=I.VP8LColorIndexInverseTransformAlpha,t1=I.MapAlpha,n1=I.VP8LPredictorsAdd=[];n1.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var r1,i1,bh,wh,xh,Ef,_h,Pf,no,Fl,pn,Nn,Rr,ni,qc,s1,sm,x_,SR,ER,PR,kR,TR,CR,a1,OR,NR,LR,IR=s(511),RR=s(2041),MR=s(225),jR=s(767),DR=0,Nk=RR,__=MR,sa=jR,ro=IR,A_=0,S_=1,FR=2,E_=3,P_=4,Lk=5,$R=6,Ik=7,Rk=8,k_=9,Mk=10,RG=[2,3,7],MG=[3,3,11],BR=[280,256,256,256,40],jG=[0,1,1,1,0],DG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],FG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$G=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],BG=8,jk=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Dk=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],o1=null,UG=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],UR=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qG=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],HG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],WG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],VG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ah=[],Wo=[],Hc=[],GG=1,zR=2,Sh=[],io=[];Bc("UpsampleRgbLinePair",gh,3),Bc("UpsampleBgrLinePair",Mi,3),Bc("UpsampleRgbaLinePair",ws,4),Bc("UpsampleBgraLinePair",Jy,4),Bc("UpsampleArgbLinePair",Yy,4),Bc("UpsampleRgba4444LinePair",_f,2),Bc("UpsampleRgb565LinePair",xf,2);var KG=I.UpsampleRgbLinePair,XG=I.UpsampleBgrLinePair,qR=I.UpsampleRgbaLinePair,HR=I.UpsampleBgraLinePair,WR=I.UpsampleArgbLinePair,VR=I.UpsampleRgba4444LinePair,YG=I.UpsampleRgb565LinePair,T_=16,C_=1<<T_-1,l1=-227,Fk=482,JG=6,GR=0,ZG=s(256),QG=s(256),eK=s(256),tK=s(256),nK=s(Fk-l1),rK=s(Fk-l1);Uc("YuvToRgbRow",gh,3),Uc("YuvToBgrRow",Mi,3),Uc("YuvToRgbaRow",ws,4),Uc("YuvToBgraRow",Jy,4),Uc("YuvToArgbRow",Yy,4),Uc("YuvToRgba4444Row",_f,2),Uc("YuvToRgb565Row",xf,2);var KR=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],O_=[0,2,8],iK=[8,7,6,4,4,2,2,2,1,1,1,1],sK=1;this.WebPDecodeRGBA=function(y,_,k,R,U){var H=S_,V=new Te,X=new zt;V.ba=X,X.S=H,X.width=[X.width],X.height=[X.height];var J=X.width,te=X.height,he=new ft;if(he==null||y==null)var we=2;else e(he!=null),we=Af(y,_,k,he.width,he.height,he.Pd,he.Qd,he.format,null);if(we!=0?J=0:(J!=null&&(J[0]=he.width[0]),te!=null&&(te[0]=he.height[0]),J=1),J){X.width=X.width[0],X.height=X.height[0],R!=null&&(R[0]=X.width),U!=null&&(U[0]=X.height);e:{if(R=new Jg,(U=new Ne).data=y,U.w=_,U.ha=k,U.kd=1,_=[0],e(U!=null),((y=Af(U.data,U.w,U.ha,null,null,null,_,null,U))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(e(V!=null),R.data=U.data,R.w=U.w+U.offset,R.ha=U.ha-U.offset,R.put=pt,R.ac=Ol,R.bc=Oc,R.ma=V,U.xa){if((y=df())==null){V=1;break e}if(function(ne,fe){var ve=[0],Ee=[0],be=[0];t:for(;;){if(ne==null)return 0;if(fe==null)return ne.a=2,0;if(ne.l=fe,ne.a=0,re(ne.m,fe.data,fe.w,fe.ha),!Nc(ne.m,ve,Ee,be)){ne.a=3;break t}if(ne.xb=zR,fe.width=ve[0],fe.height=Ee[0],!Ll(ve[0],Ee[0],1,ne,null))break t;return 1}return e(ne.a!=0),0}(y,R)){if(R=(_=mh(R.width,R.height,V.Oa,V.ba))==0){t:{R=y;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((k=R.l)!=null),e((U=k.ma)!=null),R.xb!=0){if(R.ca=U.ba,R.tb=U.tb,e(R.ca!=null),!Zy(U.Oa,k,E_)){R.a=2;break n}if(!ff(R,k.width)||k.da)break n;if((k.da||yt(R.ca.S))&&Ho(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Ho()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Z(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!zo(R,R.V,R.Ba,R.c,R.i,k.o,fh))break n;U.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(_=y.a)}else _=y.a}else{if((y=new mk)==null){V=1;break e}if(y.Fa=U.na,y.P=U.P,y.qc=U.Sa,Rl(y,R)){if((_=mh(R.width,R.height,V.Oa,V.ba))==0){if(y.Aa=0,k=V.Oa,e((U=y)!=null),k!=null){if(0<(J=0>(J=k.Md)?0:100<J?255:255*J/100)){for(te=he=0;4>te;++te)12>(we=U.pb[te]).lc&&(we.ia=J*iK[0>we.lc?0:we.lc]>>3),he|=we.ia;he&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=k.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ne,fe){if(ne==null)return 0;if(fe==null)return qr(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!Rl(ne,fe))return 0;if(e(ne.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(ne.L=0);var ve=O_[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=fe.v-ve>>4,ne.zb=fe.j-ve>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=fe.o+15+ve>>4,ne.Hb=fe.va+15+ve>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Ee=ne.ed;for(ve=0;4>ve;++ve){var be;if(ne.Qa.Cb){var ke=ne.Qa.Lb[ve];ne.Qa.Fb||(ke+=Ee.Tb)}else ke=Ee.Tb;for(be=0;1>=be;++be){var Ce=ne.gd[ve][be],Re=ke;if(Ee.Pc&&(Re+=Ee.vd[0],be&&(Re+=Ee.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var Le=Re;0<Ee.wb&&(Le=4<Ee.wb?Le>>2:Le>>1)>9-Ee.wb&&(Le=9-Ee.wb),1>Le&&(Le=1),Ce.dd=Le,Ce.tc=2*Re+Le,Ce.ld=40<=Re?2:15<=Re?1:0}else Ce.tc=0;Ce.La=be}}}ve=0}else qr(ne,6,"Frame setup failed"),ve=ne.a;if(ve=ve==0){if(ve){ne.$c=0,0<ne.Aa||(ne.Ic=sK);t:{ve=ne.Ic,Ee=4*(Le=ne.za);var it=32*Le,Ge=Le+1,Mt=0<ne.L?Le*(0<ne.Aa?2:1):0,Ye=(ne.Aa==2?2:1)*Le;if((Ce=Ee+832+(be=3*(16*ve+O_[ne.L])/2*it)+(ke=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Ce)ve=0;else{if(Ce>ne.Vb){if(ne.Vb=0,ne.Ec=s(Ce),ne.Fc=0,ne.Ec==null){ve=qr(ne,1,"no memory during frame initialization.");break t}ne.Vb=Ce}Ce=ne.Ec,Re=ne.Fc,ne.Ac=Ce,ne.Bc=Re,Re+=Ee,ne.Gd=a(it,a_),ne.Hd=0,ne.rb=a(Ge+1,$y),ne.sb=1,ne.wa=Mt?a(Mt,Qa):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Le),e(!0),ne.oc=Ce,ne.pc=Re,Re+=832,ne.ya=a(Ye,By),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Le),ne.R=16*Le,ne.B=8*Le,Le=(it=O_[ne.L])*ne.R,it=it/2*ne.B,ne.sa=Ce,ne.ta=Re+Le,ne.qa=ne.sa,ne.ra=ne.ta+16*ve*ne.R+it,ne.Ha=ne.qa,ne.Ia=ne.ra+8*ve*ne.B+it,ne.$c=0,Re+=be,ne.mb=ke?Ce:null,ne.nb=ke?Re:null,e(Re+ke<=ne.Fc+ne.Vb),c_(ne),i(ne.Ac,ne.Bc,0,Ee),ve=1}}if(ve){if(fe.ka=0,fe.y=ne.sa,fe.O=ne.ta,fe.f=ne.qa,fe.N=ne.ra,fe.ea=ne.Ha,fe.Vd=ne.Ia,fe.fa=ne.R,fe.Rc=ne.B,fe.F=null,fe.J=0,!DR){for(ve=-255;255>=ve;++ve)IR[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)RR[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)MR[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)jR[255+ve]=0>ve?0:255<ve?255:ve;DR=1}_h=Qg,Pf=yk,Fl=Ml,pn=h_,Nn=d_,no=vk,Rr=v_,ni=yf,qc=B,s1=ie,sm=y_,x_=P,SR=le,ER=ge,PR=vf,kR=Ky,TR=g_,CR=m_,Wo[0]=Pk,Wo[1]=bk,Wo[2]=Sk,Wo[3]=Ek,Wo[4]=Ic,Wo[5]=kk,Wo[6]=Rc,Wo[7]=Tk,Wo[8]=qy,Wo[9]=em,Ah[0]=_k,Ah[1]=xk,Ah[2]=Uy,Ah[3]=f_,Ah[4]=gf,Ah[5]=zy,Ah[6]=Ak,Hc[0]=Ok,Hc[1]=wk,Hc[2]=mf,Hc[3]=Ck,Hc[4]=Wy,Hc[5]=Hy,Hc[6]=p_,ve=1}else ve=0}ve&&(ve=function(Jt,ri){for(Jt.M=0;Jt.M<Jt.Va;++Jt.M){var jt,Je=Jt.Jc[Jt.M&Jt.Xb],Fe=Jt.m,Mr=Jt;for(jt=0;jt<Mr.za;++jt){var Ct=Fe,en=Mr,Xn=en.Ac,ji=en.Bc+4*jt,xs=en.zc,wr=en.ya[en.aa+jt];if(en.Qa.Bb?wr.$b=ye(Ct,en.Pa.jb[0])?2+ye(Ct,en.Pa.jb[2]):ye(Ct,en.Pa.jb[1]):wr.$b=0,en.kc&&(wr.Ad=ye(Ct,en.Bd)),wr.Za=!ye(Ct,145)+0,wr.Za){var ns=wr.Ob,_s=0;for(en=0;4>en;++en){var ii,sn=xs[0+en];for(ii=0;4>ii;++ii){sn=HG[Xn[ji+ii]][sn];for(var vn=UR[ye(Ct,sn[0])];0<vn;)vn=UR[2*vn+ye(Ct,sn[vn])];sn=-vn,Xn[ji+ii]=sn}r(ns,_s,Xn,ji,4),_s+=4,xs[0+en]=sn}}else sn=ye(Ct,156)?ye(Ct,128)?1:3:ye(Ct,163)?2:0,wr.Ob[0]=sn,i(Xn,ji,sn,4),i(xs,0,sn,4);wr.Dd=ye(Ct,142)?ye(Ct,114)?ye(Ct,183)?1:3:2:0}if(Mr.m.Ka)return qr(Jt,7,"Premature end-of-partition0 encountered.");for(;Jt.ja<Jt.za;++Jt.ja){if(Mr=Je,Ct=(Fe=Jt).rb[Fe.sb-1],Xn=Fe.rb[Fe.sb+Fe.ja],jt=Fe.ya[Fe.aa+Fe.ja],ji=Fe.kc?jt.Ad:0)Ct.la=Xn.la=0,jt.Za||(Ct.Na=Xn.Na=0),jt.Hc=0,jt.Gc=0,jt.ia=0;else{var xr,yn;if(Ct=Xn,Xn=Mr,ji=Fe.Pa.Xc,xs=Fe.ya[Fe.aa+Fe.ja],wr=Fe.pb[xs.$b],en=xs.ad,ns=0,_s=Fe.rb[Fe.sb-1],sn=ii=0,i(en,ns,0,384),xs.Za)var Di=0,Vo=ji[3];else{vn=s(16);var jr=Ct.Na+_s.Na;if(jr=o1(Xn,ji[1],jr,wr.Eb,0,vn,0),Ct.Na=_s.Na=(0<jr)+0,1<jr)_h(vn,0,en,ns);else{var Fs=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)en[ns+vn]=Fs}Di=1,Vo=ji[0]}var Ln=15&Ct.la,si=15&_s.la;for(vn=0;4>vn;++vn){var aa=1&si;for(Fs=yn=0;4>Fs;++Fs)Ln=Ln>>1|(aa=(jr=o1(Xn,Vo,jr=aa+(1&Ln),wr.Sc,Di,en,ns))>Di)<<7,yn=yn<<2|(3<jr?3:1<jr?2:en[ns+0]!=0),ns+=16;Ln>>=4,si=si>>1|aa<<7,ii=(ii<<8|yn)>>>0}for(Vo=Ln,Di=si>>4,xr=0;4>xr;xr+=2){for(yn=0,Ln=Ct.la>>4+xr,si=_s.la>>4+xr,vn=0;2>vn;++vn){for(aa=1&si,Fs=0;2>Fs;++Fs)jr=aa+(1&Ln),Ln=Ln>>1|(aa=0<(jr=o1(Xn,ji[2],jr,wr.Qc,0,en,ns)))<<3,yn=yn<<2|(3<jr?3:1<jr?2:en[ns+0]!=0),ns+=16;Ln>>=2,si=si>>1|aa<<5}sn|=yn<<4*xr,Vo|=Ln<<4<<xr,Di|=(240&si)<<xr}Ct.la=Vo,_s.la=Di,xs.Hc=ii,xs.Gc=sn,xs.ia=43690&sn?0:wr.ia,ji=!(ii|sn)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[jt.$b][jt.Za],Fe.wa[Fe.Y+Fe.ja].La|=!ji),Mr.Ka)return qr(Jt,7,"Premature end-of-file encountered.")}if(c_(Jt),Fe=ri,Mr=1,jt=(Je=Jt).D,Ct=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)t:{if(jt.M=Je.M,jt.uc=Ct,to(Je,jt),Mr=1,jt=(yn=Je.D).Nb,Ct=(sn=O_[Je.L])*Je.R,Xn=sn/2*Je.B,vn=16*jt*Je.R,Fs=8*jt*Je.B,ji=Je.sa,xs=Je.ta-Ct+vn,wr=Je.qa,en=Je.ra-Xn+Fs,ns=Je.Ha,_s=Je.Ia-Xn+Fs,si=(Ln=yn.M)==0,ii=Ln>=Je.Va-1,Je.Aa==2&&to(Je,yn),yn.uc)for(aa=(jr=Je).D.M,e(jr.D.uc),yn=jr.yb;yn<jr.Hb;++yn){Di=yn,Vo=aa;var As=(oa=(Fi=jr).D).Nb;xr=Fi.R;var oa=oa.wa[oa.Y+Di],la=Fi.sa,$s=Fi.ta+16*As*xr+16*Di,ca=oa.dd,Un=oa.tc;if(Un!=0)if(e(3<=Un),Fi.L==1)0<Di&&kR(la,$s,xr,Un+4),oa.La&&CR(la,$s,xr,Un),0<Vo&&PR(la,$s,xr,Un+4),oa.La&&TR(la,$s,xr,Un);else{var ua=Fi.B,Go=Fi.qa,kf=Fi.ra+8*As*ua+8*Di,Wc=Fi.Ha,Fi=Fi.Ia+8*As*ua+8*Di;As=oa.ld,0<Di&&(ni(la,$s,xr,Un+4,ca,As),s1(Go,kf,Wc,Fi,ua,Un+4,ca,As)),oa.La&&(x_(la,$s,xr,Un,ca,As),ER(Go,kf,Wc,Fi,ua,Un,ca,As)),0<Vo&&(Rr(la,$s,xr,Un+4,ca,As),qc(Go,kf,Wc,Fi,ua,Un+4,ca,As)),oa.La&&(sm(la,$s,xr,Un,ca,As),SR(Go,kf,Wc,Fi,ua,Un,ca,As))}}if(Je.ia&&alert("todo:DitherRow"),Fe.put!=null){if(yn=16*Ln,Ln=16*(Ln+1),si?(Fe.y=Je.sa,Fe.O=Je.ta+vn,Fe.f=Je.qa,Fe.N=Je.ra+Fs,Fe.ea=Je.Ha,Fe.W=Je.Ia+Fs):(yn-=sn,Fe.y=ji,Fe.O=xs,Fe.f=wr,Fe.N=en,Fe.ea=ns,Fe.W=_s),ii||(Ln-=sn),Ln>Fe.o&&(Ln=Fe.o),Fe.F=null,Fe.J=null,Je.Fa!=null&&0<Je.Fa.length&&yn<Ln&&(Fe.J=Bn(Je,Fe,yn,Ln-yn),Fe.F=Je.mb,Fe.F==null&&Fe.F.length==0)){Mr=qr(Je,3,"Could not decode alpha data.");break t}yn<Fe.j&&(sn=Fe.j-yn,yn=Fe.j,e(!(1&sn)),Fe.O+=Je.R*sn,Fe.N+=Je.B*(sn>>1),Fe.W+=Je.B*(sn>>1),Fe.F!=null&&(Fe.J+=Fe.width*sn)),yn<Ln&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=yn-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=Ln-yn,Mr=Fe.put(Fe))}jt+1!=Je.Ic||ii||(r(Je.sa,Je.ta-Ct,ji,xs+16*Je.R,Ct),r(Je.qa,Je.ra-Xn,wr,en+8*Je.B,Xn),r(Je.Ha,Je.Ia-Xn,ns,_s+8*Je.B,Xn))}if(!Mr)return qr(Jt,6,"Output aborted.")}return 1}(ne,fe)),fe.bc!=null&&fe.bc(fe),ve&=1}return ve?(ne.cb=0,ve):0})(y,R)||(_=y.a)}}else _=y.a}_==0&&V.Oa!=null&&V.Oa.fd&&(_=Qy(V.ba))}V=_}H=V!=0?null:11>H?X.f.RGBA.eb:X.f.kb.y}else H=null;return H};var XR=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,q){for(var O="",M=0;M<4;M++)O+=String.fromCharCode(I[q++]);return O}function u(I,q){return I[q+0]|I[q+1]<<8}function d(I,q){return(I[q+0]|I[q+1]<<8|I[q+2]<<16)>>>0}function f(I,q){return(I[q+0]|I[q+1]<<8|I[q+2]<<16|I[q+3]<<24)>>>0}new l;var p=[0],v=[0],m=[],b=new l,g=t,w=function(I,q){var O={},M=0,z=!1,$=0,G=0;if(O.frames=[],!function(D,K){for(var ee=0;ee<4;ee++)if(D[K+ee]!="RIFF".charCodeAt(ee))return!0;return!1}(I,q)){for(f(I,q+=4),q+=8;q<I.length;){var Y=c(I,q),Q=f(I,q+=4);q+=4;var W=Q+(1&Q);switch(Y){case"VP8 ":case"VP8L":O.frames[M]===void 0&&(O.frames[M]={}),(ae=O.frames[M]).src_off=z?G:q-8,ae.src_size=$+Q+8,M++,z&&(z=!1,$=0,G=0);break;case"VP8X":(ae=O.header={}).feature_flags=I[q];var re=q+4;ae.canvas_width=1+d(I,re),re+=3,ae.canvas_height=1+d(I,re),re+=3;break;case"ALPH":z=!0,$=W+8,G=q-8;break;case"ANIM":(ae=O.header).bgcolor=f(I,q),re=q+4,ae.loop_count=u(I,re),re+=2;break;case"ANMF":var ce,ae;(ae=O.frames[M]={}).offset_x=2*d(I,q),q+=3,ae.offset_y=2*d(I,q),q+=3,ae.width=1+d(I,q),q+=3,ae.height=1+d(I,q),q+=3,ae.duration=d(I,q),q+=3,ce=I[q++],ae.dispose=1&ce,ae.blend=ce>>1&1}Y!="ANMF"&&(q+=W)}return O}}(g,0);w.response=g,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,S=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,p=[x.canvas_height],v=[x.canvas_width];for(var A=0;A<S.length&&S[A].blend!=0;A++);}var E=S[0],T=b.WebPDecodeRGBA(g,E.src_off,E.src_size,v,p);E.rgba=T,E.imgwidth=v[0],E.imgheight=p[0];for(var L=0;L<v[0]*p[0]*4;L++)m[L]=T[L];return this.width=v,this.height=p,this.data=m,this}(function(t){var e,n,r,i,s,a,o,l,c,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new a,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new a,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Z){ee=!!Z}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Z){se=!!Z}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Z){isNaN(Z)||(oe=Z)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Z){isNaN(Z)||(de=Z)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Z){var Me;typeof Z=="number"?Me=[Z,Z,Z,Z]:((Me=new Array(4))[0]=Z[0],Me[1]=Z.length>=2?Z[1]:Me[0],Me[2]=Z.length>=3?Z[2]:Me[0],Me[3]=Z.length>=4?Z[3]:Me[1]),c.margin=Me}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Z){xe=Z}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Z){ue=Z}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(Z){ye=Z}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Z){Z instanceof u&&(c=Z)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Z){c.path=Z}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(Z){_e=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var Me;Me=f(Z),this.ctx.fillStyle=Me.style,this.ctx.isFillTransparent=Me.a===0,this.ctx.fillOpacity=Me.a,this.pdf.setFillColor(Me.r,Me.g,Me.b,{a:Me.a}),this.pdf.setTextColor(Me.r,Me.g,Me.b,{a:Me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var Me=f(Z);this.ctx.strokeStyle=Me.style,this.ctx.isStrokeTransparent=Me.a===0,this.ctx.strokeOpacity=Me.a,Me.a===0?this.pdf.setDrawColor(255,255,255):(Me.a,this.pdf.setDrawColor(Me.r,Me.g,Me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var me=null,Ie=null,De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Z){me=null,Ie=null,De=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var Me;if(this.ctx.font=Z,(Me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var ut=Me[1];Me[2];var Qe=Me[3],Oe=Me[4];Me[5];var ct=Me[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(Ue==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var et=function(ot){var Lr,nn,Bt=[],Ut=ot.trim();if(Ut==="")return RC;if(Ut in J$)return[J$[Ut]];for(;Ut!=="";){switch(nn=null,Lr=(Ut=Q$(Ut)).charAt(0)){case'"':case"'":nn=sTe(Ut.substring(1),Lr);break;default:nn=aTe(Ut)}if(nn===null||(Bt.push(nn[0]),(Ut=Q$(nn[1]))!==""&&Ut.charAt(0)!==","))return RC;Ut=Ut.replace(/^,/,"")}return Bt}(ct);if(this.fontFaces){var rt=function(ot,Lr){var nn=ot.getFontList(),Bt=JSON.stringify(nn);if(me===null||Ie!==Bt){var Ut=function(nr){var ht=[];return Object.keys(nr).forEach(function($n){nr[$n].forEach(function(yt){var Tt=null;switch(yt){case"bold":Tt={family:$n,weight:"bold"};break;case"italic":Tt={family:$n,style:"italic"};break;case"bolditalic":Tt={family:$n,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:$n}}Tt!==null&&(Tt.ref={name:$n,style:yt},ht.push(Tt))})}),ht}(nn);me=function(nr){for(var ht={},$n=0;$n<nr.length;++$n){var yt=IC(nr[$n]),Tt=yt.family,rr=yt.stretch,zt=yt.style,ft=yt.weight;ht[Tt]=ht[Tt]||{},ht[Tt][rr]=ht[Tt][rr]||{},ht[Tt][rr][zt]=ht[Tt][rr][zt]||{},ht[Tt][rr][zt][ft]=yt}return ht}(Ut.concat(Lr)),Ie=Bt}return me}(this.pdf,this.fontFaces),tn=et.map(function(ot){return{family:ot,stretch:"normal",weight:Qe,style:ut}}),$t=function(ot,Lr,nn){for(var Bt=(nn=nn||{}).defaultFontFamily||"times",Ut=Object.assign({},iTe,nn.genericFontFamilies||{}),nr=null,ht=null,$n=0;$n<Lr.length;++$n)if(Ut[(nr=IC(Lr[$n])).family]&&(nr.family=Ut[nr.family]),ot.hasOwnProperty(nr.family)){ht=ot[nr.family];break}if(!(ht=ht||ot[Bt]))throw new Error("Could not find a font-family for the rule '"+Z$(nr)+"' and default family '"+Bt+"'.");if(ht=function(yt,Tt){if(Tt[yt])return Tt[yt];var rr=J4[yt],zt=rr<=J4.normal?-1:1,ft=Y$(Tt,CG,rr,zt);if(!ft)throw new Error("Could not find a matching font-stretch value for "+yt);return ft}(nr.stretch,ht),ht=function(yt,Tt){if(Tt[yt])return Tt[yt];for(var rr=TG[yt],zt=0;zt<rr.length;++zt)if(Tt[rr[zt]])return Tt[rr[zt]];throw new Error("Could not find a matching font-style for "+yt)}(nr.style,ht),!(ht=function(yt,Tt){if(Tt[yt])return Tt[yt];if(yt===400&&Tt[500])return Tt[500];if(yt===500&&Tt[400])return Tt[400];var rr=rTe[yt],zt=Y$(Tt,OG,rr,yt<400?-1:1);if(!zt)throw new Error("Could not find a matching font-weight for value "+yt);return zt}(nr.weight,ht)))throw new Error("Failed to resolve a font for the rule '"+Z$(nr)+"'.");return ht}(rt,tn);this.pdf.setFont($t.ref.name,$t.ref.style)}else{var kt="";(Qe==="bold"||parseInt(Qe,10)>=700||ut==="bold")&&(kt="bold"),ut==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var Yt="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<et.length;tt++){if(this.pdf.internal.getFont(et[tt],kt,{noFallback:!0,disableWarning:!0})!==void 0){Yt=et[tt];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(et[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Yt=et[tt],kt="bold";else if(this.pdf.internal.getFont(et[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Yt=et[tt],kt="normal";break}}if(Yt===""){for(var Lt=0;Lt<et.length;Lt++)if(Vt[et[Lt]]){Yt=Vt[et[Lt]];break}}Yt=Yt===""?"Times":Yt,this.pdf.setFont(Yt,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};d.prototype.setLineDash=function(D){this.lineDash=D},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){S.call(this,"fill",!1)},d.prototype.stroke=function(){S.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw Mn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(D,K)},d.prototype.closePath=function(){var D=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&xn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(D.x,D.y)},d.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw Mn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},d.prototype.quadraticCurveTo=function(D,K,ee,se){if(isNaN(ee)||isNaN(se)||isNaN(D)||isNaN(K))throw Mn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new a(ee,se)),de=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"qct",x1:de.x,y1:de.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},d.prototype.bezierCurveTo=function(D,K,ee,se,oe,de){if(isNaN(oe)||isNaN(de)||isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Mn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new a(oe,de)),ue=this.ctx.transform.applyToPoint(new a(D,K)),ye=this.ctx.transform.applyToPoint(new a(ee,se));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:ye.x,y2:ye.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new a(xe.x,xe.y)},d.prototype.arc=function(D,K,ee,se,oe,de){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se)||isNaN(oe))throw Mn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new a(D,K));D=xe.x,K=xe.y;var ue=this.ctx.transform.applyToPoint(new a(0,ee)),ye=this.ctx.transform.applyToPoint(new a(0,0));ee=Math.sqrt(Math.pow(ue.x-ye.x,2)+Math.pow(ue.y-ye.y,2))}Math.abs(oe-se)>=2*Math.PI&&(se=0,oe=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:ee,startAngle:se,endAngle:oe,counterclockwise:de})},d.prototype.arcTo=function(D,K,ee,se,oe){throw new Error("arcTo not implemented.")},d.prototype.rect=function(D,K,ee,se){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Mn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+ee,K),this.lineTo(D+ee,K+se),this.lineTo(D,K+se),this.lineTo(D,K),this.lineTo(D+ee,K),this.lineTo(D,K)},d.prototype.fillRect=function(D,K,ee,se){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Mn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,ee,se),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},d.prototype.strokeRect=function(D,K,ee,se){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Mn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,K,ee,se),this.stroke())},d.prototype.clearRect=function(D,K,ee,se){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se))throw Mn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,ee,se))},d.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},d.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(D){var K,ee,se,oe;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,ee=0,se=0,oe=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(de!==null)K=parseInt(de[1]),ee=parseInt(de[2]),se=parseInt(de[3]),oe=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(de[1]),ee=parseInt(de[2]),se=parseInt(de[3]),oe=parseFloat(de[4]);else{if(oe=1,typeof D=="string"&&D.charAt(0)!=="#"){var xe=new xG(D);D=xe.ok?xe.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,ee=D.substring(2,3),ee+=ee,se=D.substring(3,4),se+=se):(K=D.substring(1,3),ee=D.substring(3,5),se=D.substring(5,7)),K=parseInt(K,16),ee=parseInt(ee,16),se=parseInt(se,16)}}return{r:K,g:ee,b:se,a:oe,style:D}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(D,K,ee,se){if(isNaN(K)||isNaN(ee)||typeof D!="string")throw Mn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var oe=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;M.call(this,{text:D,x:K,y:ee,scale:de,angle:oe,align:this.textAlign,maxWidth:se})}},d.prototype.strokeText=function(D,K,ee,se){if(isNaN(K)||isNaN(ee)||typeof D!="string")throw Mn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){se=isNaN(se)?void 0:se;var oe=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;M.call(this,{text:D,x:K,y:ee,scale:de,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:se})}},d.prototype.measureText=function(D){if(typeof D!="string")throw Mn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ee=this.pdf.internal.scaleFactor,se=K.internal.getFontSize(),oe=K.getStringUnitWidth(D)*se/K.internal.scaleFactor;return new function(de){var xe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:oe*=Math.round(96*ee/72*1e4)/1e4})},d.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw Mn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.rotate=function(D){if(isNaN(D))throw Mn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw Mn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.transform=function(D,K,ee,se,oe,de){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(se)||isNaN(oe)||isNaN(de))throw Mn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(D,K,ee,se,oe,de);this.ctx.transform=this.ctx.transform.multiply(xe)},d.prototype.setTransform=function(D,K,ee,se,oe,de){D=isNaN(D)?1:D,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,se=isNaN(se)?1:se,oe=isNaN(oe)?0:oe,de=isNaN(de)?0:de,this.ctx.transform=new l(D,K,ee,se,oe,de)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(D,K,ee,se,oe,de,xe,ue,ye){var _e=this.pdf.getImageProperties(D),me=1,Ie=1,De=1,Z=1;se!==void 0&&ue!==void 0&&(De=ue/se,Z=ye/oe,me=_e.width/se*ue/se,Ie=_e.height/oe*ye/oe),de===void 0&&(de=K,xe=ee,K=0,ee=0),se!==void 0&&ue===void 0&&(ue=se,ye=oe),se===void 0&&ue===void 0&&(ue=_e.width,ye=_e.height);var Me=this.ctx.transform.decompose(),ut=W(Me.rotate.shx),Qe=new l,Oe=(Qe=(Qe=(Qe=Qe.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(de-K*De,xe-ee*Z,se*me,oe*Ie));if(this.autoPaging){for(var ct,Ue=b.call(this,Oe),et=[],rt=0;rt<Ue.length;rt+=1)et.indexOf(Ue[rt])===-1&&et.push(Ue[rt]);x(et);for(var tn=et[0],$t=et[et.length-1],kt=tn;kt<$t+1;kt++){this.pdf.setPage(kt);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=kt===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=kt===1?0:tt+(kt-2)*Lt;if(this.ctx.clip_path.length!==0){var Lr=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ct,this.posX+this.margin[3],-ot+Vt+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Lr}var nn=JSON.parse(JSON.stringify(Oe));nn=w([nn],this.posX+this.margin[3],-ot+Vt+this.ctx.prevPageLastElemOffset)[0];var Bt=(kt>tn||kt<$t)&&m.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Lt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,ut),Bt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,ut)};var b=function(D,K,ee){var se=[];K=K||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":se.push(Math.floor((D.y+oe)/ee)+1);break;case"arc":se.push(Math.floor((D.y+oe-D.radius)/ee)+1),se.push(Math.floor((D.y+oe+D.radius)/ee)+1);break;case"qct":var de=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);se.push(Math.floor((de.y+oe)/ee)+1),se.push(Math.floor((de.y+de.h+oe)/ee)+1);break;case"bct":var xe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);se.push(Math.floor((xe.y+oe)/ee)+1),se.push(Math.floor((xe.y+xe.h+oe)/ee)+1);break;case"rect":se.push(Math.floor((D.y+oe)/ee)+1),se.push(Math.floor((D.y+D.h+oe)/ee)+1)}for(var ue=0;ue<se.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<se[ue];)g.call(this);return se},g=function(){var D=this.fillStyle,K=this.strokeStyle,ee=this.font,se=this.lineCap,oe=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=ee,this.lineCap=se,this.lineWidth=oe,this.lineJoin=de},w=function(D,K,ee){for(var se=0;se<D.length;se++)switch(D[se].type){case"bct":D[se].x2+=K,D[se].y2+=ee;case"qct":D[se].x1+=K,D[se].y1+=ee;default:D[se].x+=K,D[se].y+=ee}return D},x=function(D){return D.sort(function(K,ee){return K-ee})},S=function(D,K){var ee=this.fillStyle,se=this.strokeStyle,oe=this.lineCap,de=this.lineWidth,xe=Math.abs(de*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var ye,_e,me=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),De=[],Z=0;Z<Ie.length;Z++)if(Ie[Z].x!==void 0)for(var Me=b.call(this,Ie[Z]),ut=0;ut<Me.length;ut+=1)De.indexOf(Me[ut])===-1&&De.push(Me[ut]);for(var Qe=0;Qe<De.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<De[Qe];)g.call(this);x(De);for(var Oe=De[0],ct=De[De.length-1],Ue=Oe;Ue<ct+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ee,this.strokeStyle=se,this.lineCap=oe,this.lineWidth=xe,this.lineJoin=ue;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=Ue===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=Ue===1?0:tn+(Ue-2)*$t;if(this.ctx.clip_path.length!==0){var Yt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ye,this.posX+this.margin[3],-kt+rt+this.ctx.prevPageLastElemOffset),A.call(this,D,!0),this.path=Yt}if(_e=JSON.parse(JSON.stringify(me)),this.path=w(_e,this.posX+this.margin[3],-kt+rt+this.ctx.prevPageLastElemOffset),K===!1||Ue===0){var Vt=(Ue>Oe||Ue<ct)&&m.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,$t,null).clip().discardPath()),A.call(this,D,K),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=me}else this.lineWidth=xe,A.call(this,D,K),this.lineWidth=de},A=function(D,K){if((D!=="stroke"||K||!v.call(this))&&(D==="stroke"||K||!p.call(this))){for(var ee,se,oe=[],de=this.path,xe=0;xe<de.length;xe++){var ue=de[xe];switch(ue.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ue,deltas:[],abs:[]});break;case"lt":var ye=oe.length;if(de[xe-1]&&!isNaN(de[xe-1].x)&&(ee=[ue.x-de[xe-1].x,ue.y-de[xe-1].y],ye>0)){for(;ye>=0;ye--)if(oe[ye-1].close!==!0&&oe[ye-1].begin!==!0){oe[ye-1].deltas.push(ee),oe[ye-1].abs.push(ue);break}}break;case"bct":ee=[ue.x1-de[xe-1].x,ue.y1-de[xe-1].y,ue.x2-de[xe-1].x,ue.y2-de[xe-1].y,ue.x-de[xe-1].x,ue.y-de[xe-1].y],oe[oe.length-1].deltas.push(ee);break;case"qct":var _e=de[xe-1].x+2/3*(ue.x1-de[xe-1].x),me=de[xe-1].y+2/3*(ue.y1-de[xe-1].y),Ie=ue.x+2/3*(ue.x1-ue.x),De=ue.y+2/3*(ue.y1-ue.y),Z=ue.x,Me=ue.y;ee=[_e-de[xe-1].x,me-de[xe-1].y,Ie-de[xe-1].x,De-de[xe-1].y,Z-de[xe-1].x,Me-de[xe-1].y],oe[oe.length-1].deltas.push(ee);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ue)}}se=K?null:D==="stroke"?"stroke":"fill";for(var ut=!1,Qe=0;Qe<oe.length;Qe++)if(oe[Qe].arc)for(var Oe=oe[Qe].abs,ct=0;ct<Oe.length;ct++){var Ue=Oe[ct];Ue.type==="arc"?L.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,K,!ut):z.call(this,Ue.x,Ue.y),ut=!0}else if(oe[Qe].close===!0)this.pdf.internal.out("h"),ut=!1;else if(oe[Qe].begin!==!0){var et=oe[Qe].start.x,rt=oe[Qe].start.y;$.call(this,oe[Qe].deltas,et,rt),ut=!0}se&&I.call(this,se),K&&q.call(this)}},E=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-ee;case"top":return D+K-ee;case"hanging":return D+K-2*ee;case"middle":return D+K/2-ee;default:return D}},T=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,ee){this.colorStops.push([K,ee])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(D,K,ee,se,oe,de,xe,ue,ye){for(var _e=Y.call(this,ee,se,oe,de),me=0;me<_e.length;me++){var Ie=_e[me];me===0&&(ye?O.call(this,Ie.x1+D,Ie.y1+K):z.call(this,Ie.x1+D,Ie.y1+K)),G.call(this,D,K,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}ue?q.call(this):I.call(this,xe)},I=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(D,K){this.pdf.internal.out(n(D)+" "+r(K)+" m")},M=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var ee,se,oe,de=this.pdf.getTextDimensions(D.text),xe=E.call(this,D.y),ue=T.call(this,xe)-de.h,ye=this.ctx.transform.applyToPoint(new a(D.x,xe));if(this.autoPaging){var _e=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ie=this.ctx.transform.applyToRectangle(new o(D.x,xe,de.w,de.h)),De=me.applyToRectangle(new o(D.x,ue,de.w,de.h)),Z=b.call(this,De),Me=[],ut=0;ut<Z.length;ut+=1)Me.indexOf(Z[ut])===-1&&Me.push(Z[ut]);x(Me);for(var Qe=Me[0],Oe=Me[Me.length-1],ct=Qe;ct<Oe+1;ct++){this.pdf.setPage(ct);var Ue=ct===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],tn=rt-this.margin[0],$t=this.pdf.internal.pageSize.width-this.margin[1],kt=$t-this.margin[3],Yt=ct===1?0:et+(ct-2)*tn;if(this.ctx.clip_path.length!==0){var Vt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ee,this.posX+this.margin[3],-1*Yt+Ue),A.call(this,"fill",!0),this.path=Vt}var tt=w([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Yt+Ue+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*D.scale),oe=this.lineWidth,this.lineWidth=oe*D.scale);var Lt=this.autoPaging!=="text";if(Lt||tt.y+tt.h<=rt){if(Lt||tt.y>=Ue&&tt.x<=$t){var ot=Lt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||$t-tt.x)[0],Lr=w([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Yt+Ue+this.ctx.prevPageLastElemOffset)[0],nn=Lt&&(ct>Qe||ct<Oe)&&m.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,tn,null).clip().discardPath()),this.pdf.text(ot,Lr.x,Lr.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else tt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-tt.y);D.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=oe)}}else D.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*D.scale),oe=this.lineWidth,this.lineWidth=oe*D.scale),this.pdf.text(D.text,ye.x+this.posX,ye.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=oe)},z=function(D,K,ee,se){ee=ee||0,se=se||0,this.pdf.internal.out(n(D+ee)+" "+r(K+se)+" l")},$=function(D,K,ee){return this.pdf.lines(D,K,ee,null,null)},G=function(D,K,ee,se,oe,de,xe,ue){this.pdf.internal.out([e(i(ee+D)),e(s(se+K)),e(i(oe+D)),e(s(de+K)),e(i(xe+D)),e(s(ue+K)),"c"].join(" "))},Y=function(D,K,ee,se){for(var oe=2*Math.PI,de=Math.PI/2;K>ee;)K-=oe;var xe=Math.abs(ee-K);xe<oe&&se&&(xe=oe-xe);for(var ue=[],ye=se?-1:1,_e=K;xe>1e-5;){var me=_e+ye*Math.min(xe,de);ue.push(Q.call(this,D,_e,me)),xe-=Math.abs(me-_e),_e=me}return ue},Q=function(D,K,ee){var se=(ee-K)/2,oe=D*Math.cos(se),de=D*Math.sin(se),xe=oe,ue=-de,ye=xe*xe+ue*ue,_e=ye+xe*oe+ue*de,me=4/3*(Math.sqrt(2*ye*_e)-_e)/(xe*de-ue*oe),Ie=xe-me*ue,De=ue+me*xe,Z=Ie,Me=-De,ut=se+K,Qe=Math.cos(ut),Oe=Math.sin(ut);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:Ie*Qe-De*Oe,y2:Ie*Oe+De*Qe,x3:Z*Qe-Me*Oe,y3:Z*Oe+Me*Qe,x4:D*Math.cos(ee),y4:D*Math.sin(ee)}},W=function(D){return 180*D/Math.PI},re=function(D,K,ee,se,oe,de){var xe=D+.5*(ee-D),ue=K+.5*(se-K),ye=oe+.5*(ee-oe),_e=de+.5*(se-de),me=Math.min(D,oe,xe,ye),Ie=Math.max(D,oe,xe,ye),De=Math.min(K,de,ue,_e),Z=Math.max(K,de,ue,_e);return new o(me,De,Ie-me,Z-De)},ce=function(D,K,ee,se,oe,de,xe,ue){var ye,_e,me,Ie,De,Z,Me,ut,Qe,Oe,ct,Ue,et,rt,tn=ee-D,$t=se-K,kt=oe-ee,Yt=de-se,Vt=xe-oe,tt=ue-de;for(_e=0;_e<41;_e++)Qe=(Me=(me=D+(ye=_e/40)*tn)+ye*((De=ee+ye*kt)-me))+ye*(De+ye*(oe+ye*Vt-De)-Me),Oe=(ut=(Ie=K+ye*$t)+ye*((Z=se+ye*Yt)-Ie))+ye*(Z+ye*(de+ye*tt-Z)-ut),_e==0?(ct=Qe,Ue=Oe,et=Qe,rt=Oe):(ct=Math.min(ct,Qe),Ue=Math.min(Ue,Oe),et=Math.max(et,Qe),rt=Math.max(rt,Oe));return new o(Math.round(ct),Math.round(Ue),Math.round(et-ct),Math.round(rt-Ue))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,ee=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(at.API),function(t){var e=function(a){var o,l,c,u,d,f,p,v,m,b;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(b=d%85))/85)-(m=d%85))/85)-(v=d%85))/85)-(p=d%85))/85)%85,l.push(f+33,p+33,v+33,m+33,b+33)):l.push(122);return function(g,w){for(var x=w;x>0;x--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,u,d,f=String,p="length",v=255,m="charCodeAt",b="slice",g="replace";for(a[b](-2),a=a[b](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(a+=o="uuuuu"[b](a[p]%5||5))[p];d>u;u+=5)l=52200625*(a[m](u)-33)+614125*(a[m](u+1)-33)+7225*(a[m](u+2)-33)+85*(a[m](u+3)-33)+(a[m](u+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(w,x){for(var S=x;S>0;S--)w.pop()}(c,o[p]),f.fromCharCode.apply(f,c)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=H4(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,f=0,p=function(v){var m=v.length,b=[],g=String.fromCharCode;for(f=0;f<m;f+=1)b.push(g(255&v.charCodeAt(f)));return b.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(p(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):gC(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):gC(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=xn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(o(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var v=u[p],m=v.src.find(function(b){return b.format==="truetype"});m&&c.addFont(m.url,v.ref.name,v.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),f=c.call(d,o,l);return a.convert(f,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,at.getPageSize=function(o,l,c){if(xn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var v,m=0,b=0;if(p.hasOwnProperty(f))m=p[f][1]/d,b=p[f][0]/d;else try{m=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>m&&(v=b,b=m,m=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>b&&(v=b,b=m,m=v)}return{width:b,height:m,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(IC):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(at.API),at.API.addJS=function(t){return tB=t,this.internal.events.subscribe("postPutResources",function(){j5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(j5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),eB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){j5!==void 0&&eB!==void 0&&this.internal.out("/Names <</JavaScript "+j5+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var f=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var f,p=256*d.charCodeAt(4)+d.charCodeAt(5),v=d.length,m={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,e.indexOf(d.charCodeAt(b+1))!==-1){f=256*d.charCodeAt(b+5)+d.charCodeAt(b+6),m={width:256*d.charCodeAt(b+7)+d.charCodeAt(b+8),height:f,numcomponents:d.charCodeAt(b+9)};break}p=256*d.charCodeAt(b+2)+d.charCodeAt(b+3)}return m}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(at.API),at.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=qke(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(L){for(var I=L.width,q=L.height,O=L.data,M=L.palette,z=L.depth,$=!1,G=[],Y=[],Q=void 0,W=!1,re=0,ce=0;ce<M.length;ce++){var ae=s$(M[ce],4),D=ae[0],K=ae[1],ee=ae[2],se=ae[3];G.push(D,K,ee),se!=null&&(se===0?(re++,Y.length<1&&Y.push(ce)):se<255&&(W=!0))}if(W||re>1){$=!0,Y=void 0;var oe=I*q;Q=new Uint8Array(oe);for(var de=new DataView(O.buffer),xe=0;xe<oe;xe++){var ue=MC(de,xe,z),ye=s$(M[ue],4)[3];Q[xe]=ye}}else re===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:O,alphaBytes:Q,needSMask:$,palette:G,mask:Y}}(s):l===2||l===4?function(L){for(var I=L.data,q=L.width,O=L.height,M=L.channels,z=L.depth,$=M===2?"DeviceGray":"DeviceRGB",G=M-1,Y=q*O,Q=G,W=Y*Q,re=1*Y,ce=Math.ceil(W*z/8),ae=Math.ceil(re*z/8),D=new Uint8Array(ce),K=new Uint8Array(ae),ee=new DataView(I.buffer),se=new DataView(D.buffer),oe=new DataView(K.buffer),de=!1,xe=0;xe<Y;xe++){for(var ue=xe*M,ye=0;ye<Q;ye++)uB(se,MC(ee,ue+ye,z),xe*Q+ye,z);var _e=MC(ee,ue+Q,z);_e<(1<<z)-1&&(de=!0),uB(oe,_e,1*xe,z)}return{colorSpace:$,colorsPerPixel:G,sMaskBitsPerComponent:de?z:void 0,colorBytes:D,alphaBytes:K,needSMask:de}}(s):function(L){var I=L.data,q=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(O){for(var M=O.length,z=new Uint8Array(2*M),$=new DataView(z.buffer,z.byteOffset,z.byteLength),G=0;G<M;G++)$.setUint16(2*G,O[G],!1);return z}(I):I,needSMask:!1}}(s);var d,f,p,v=i,m=v.colorSpace,b=v.colorsPerPixel,g=v.sMaskBitsPerComponent,w=v.colorBytes,x=v.alphaBytes,S=v.needSMask,A=v.palette,E=v.mask,T=null;return r!==at.API.image_compression.NONE&&typeof H4=="function"?(T=function(L){var I;switch(L){case at.API.image_compression.FAST:I=11;break;case at.API.image_compression.MEDIUM:I=13;break;case at.API.image_compression.SLOW:I=14;break;default:I=12}return I}(r),d=this.decode.FLATE_DECODE,f="/Predictor ".concat(T," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(a),t=sB(w,Math.ceil(a*b*u/8),b,u,r),S&&(p=sB(x,Math.ceil(a*g/8),1,g,r))):(d=void 0,f=void 0,t=w,S&&(p=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:d,decodeParameters:f,transparency:E,palette:A,sMask:p,predictor:T,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new uTe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new jC(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(at.API),Yo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Yo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Mn.log("bit decode error:"+n)}},Yo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Yo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Yo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Yo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Yo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Yo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Yo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Yo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Yo(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new jC(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(at.API),dB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new dB(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new jC(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(at.API),at.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],f=r[c+2],p=r[c+3];s[o++]=u,s[o++]=d,s[o++]=f,a[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bm=at.API,D5=bm.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,f=0,p=t.length,v=0,m=o[0]||l,b=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(f=d&&xn(c[r])==="object"&&!isNaN(parseInt(c[r][v],10))?c[r][v]/u:0,b.push((o[r]||m)/l+f)),v=r;return b},nB=bm.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return bm.processArabic&&(t=bm.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:D5.apply(this,arguments).reduce(function(s,a){return s+a},0)},rB=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},iB=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,u=[],d=[u],f=n.textIndent||0,p=0,v=0,m=t.split(" "),b=D5.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),w=[];m.map(function(S){(S=S.split(/\s*\n/)).length>1?w=w.concat(S.map(function(A,E){return(E&&A.length?`
`:"")+A})):w.push(S[0])}),m=w,l=nB.apply(this,[g,n])}for(s=0,a=m.length;s<a;s++){var x=0;if(r=m[s],l&&r[0]==`
`&&(r=r.substr(1),x=1),f+p+(v=(i=D5.apply(this,[r,n])).reduce(function(S,A){return S+A},0))>e||x){if(v>e){for(o=rB.apply(this,[r,i,e-(f+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);v=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(S,A){return S+A},0)}else u=[r];d.push(u),f=v+l,p=b}else u.push(r),f+=p+v,p=b}return c=l?function(S,A){return(A?g:"")+S.join(" ")}:function(S){return S.join(" ")},d.map(c)},bm.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return d.metadata[f]?{widths:d.metadata[f].widths||{0:1},kerning:d.metadata[f].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(iB.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var p,v,m,b,g=["{"];for(var w in f){if(p=f[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=a(w).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof p=="number")p<0?(m=a(p).slice(3),b="-"):(m=a(p).slice(2),b=""),m=b+m.slice(0,-1)+i[m.slice(-1)];else{if(xn(p)!=="object")throw new Error("Don't know what to do with value type "+xn(p)+".");m=o(p)}g.push(v+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,m,b,g={},w=1,x=g,S=[],A="",E="",T=f.length-1,L=1;L<T;L+=1)(b=f[L])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(S.push([x,m]),x={},m=void 0):b=="}"?((v=S.pop())[0][v[1]]=x,m=void 0,x=v[0]):b=="-"?w=-1:m===void 0?r.hasOwnProperty(b)?(A+=r[b],m=parseInt(A,16)*w,w=1,A=""):A+=b:r.hasOwnProperty(b)?(E+=r[b],x[m]=parseInt(E,16)*w,w=1,m=void 0,E=""):E+=b;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,v=d.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var m=u.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(at.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(RA(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),at.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw Mn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Mn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(wt.canvg?Promise.resolve(wt.canvg):gC(()=>import("./index.es-CkUw03nm.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},at.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},at.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function f(v,m){var b,g=!1;for(b=0;b<v.length;b+=1)v[b]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(d=0;d<p;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(xn(t)==="object"){for(i in t)if(s=t[i],f(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&f(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?m.push("/"+v+" /"+n[v].value):m.push("/"+v+" "+n[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=s.length;d<f;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(s){var a,o,l,c,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(o=Object.keys(s).sort(function(p,v){return p-v})).length;d<f;d++)a=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",v=0;v<f.length;v++)p+=String.fromCharCode(f[v]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var b=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Im(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Im(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Im(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",p=0;p<d.length;p++)f+=String.fromCharCode(d[p]);var v=c();u({data:f,addLength1:!0,objectId:v}),l("endobj");var m=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Im(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Im(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},f=d.pdfEscape,p=d.activeFontKey,v=d.fonts,m=p,b="",g=0,w="",x=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(w=o,m=p,Array.isArray(o)&&(w=o[0]),g=0;g<w.length;g+=1)v[m].metadata.hasOwnProperty("cmap")&&(a=v[m].metadata.cmap.unicode.codeMap[w[g].charCodeAt(0)]),a||w[g].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?b+=w[g]:b+="";var S="";return parseInt(m.slice(1))<14||x==="WinAnsiEncoding"?S=f(b,m).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(S=n(b,v[m])),d.isHex=!0,{text:S,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,x=0;this.__bidiEngine__={};var S=function(O){var M=O.charCodeAt(),z=M>>8,$=m[z];return $!==void 0?d[256*$+(255&M)]:z===252||z===253?"AL":g.test(z)?"L":z===8?"R":"N"},A=function(O){for(var M,z=0;z<O.length;z++){if((M=S(O.charAt(z)))==="L")return!1;if(M==="R")return!0}return!1},E=function(O,M,z,$){var G,Y,Q,W,re=M[$];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(re="AN");break;case"AL":w=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":$<1||$+1>=M.length||(G=z[$-1])!=="EN"&&G!=="AN"||(Y=M[$+1])!=="EN"&&Y!=="AN"?re="N":w&&(Y="AN"),re=Y===G?Y:"N";break;case"ES":re=(G=$>0?z[$-1]:"B")==="EN"&&$+1<M.length&&M[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&z[$-1]==="EN"){re="EN";break}if(w){re="N";break}for(Q=$+1,W=M.length;Q<W&&M[Q]==="ET";)Q++;re=Q<W&&M[Q]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(W=M.length,Q=$+1;Q<W&&M[Q]==="NSM";)Q++;if(Q<W){var ce=O[$],ae=ce>=1425&&ce<=2303||ce===64286;if(G=M[Q],ae&&(G==="R"||G==="AL")){re="R";break}}}re=$<1||(G=M[$-1])==="B"?"N":z[$-1];break;case"B":w=!1,i=!0,re=x;break;case"S":s=!0,re="N"}return re},T=function(O,M,z){var $=O.split("");return z&&L($,z,{hiLevel:x}),$.reverse(),M&&M.reverse(),$.join("")},L=function(O,M,z){var $,G,Y,Q,W,re=-1,ce=O.length,ae=0,D=[],K=x?p:f,ee=[];for(w=!1,i=!1,s=!1,G=0;G<ce;G++)ee[G]=S(O[G]);for(Y=0;Y<ce;Y++){if(W=ae,D[Y]=E(O,ee,D,Y),$=240&(ae=K[W][v[D[Y]]]),ae&=15,M[Y]=Q=K[ae][5],$>0)if($===16){for(G=re;G<Y;G++)M[G]=1;re=-1}else re=-1;if(K[ae][6])re===-1&&(re=Y);else if(re>-1){for(G=re;G<Y;G++)M[G]=Q;re=-1}ee[Y]==="B"&&(M[Y]=0),z.hiLevel|=Q}s&&function(se,oe,de){for(var xe=0;xe<de;xe++)if(se[xe]==="S"){oe[xe]=x;for(var ue=xe-1;ue>=0&&se[ue]==="WS";ue--)oe[ue]=x}}(ee,M,ce)},I=function(O,M,z,$,G){if(!(G.hiLevel<O)){if(O===1&&x===1&&!i)return M.reverse(),void(z&&z.reverse());for(var Y,Q,W,re,ce=M.length,ae=0;ae<ce;){if($[ae]>=O){for(W=ae+1;W<ce&&$[W]>=O;)W++;for(re=ae,Q=W-1;re<Q;re++,Q--)Y=M[re],M[re]=M[Q],M[Q]=Y,z&&(Y=z[re],z[re]=z[Q],z[Q]=Y);ae=W}ae++}}},q=function(O,M,z){var $=O.split(""),G={hiLevel:x};return z||(z=[]),L($,z,G),function(Y,Q,W){if(W.hiLevel!==0&&u)for(var re,ce=0;ce<Y.length;ce++)Q[ce]===1&&(re=b.indexOf(Y[ce]))>=0&&(Y[ce]=b[re+1])}($,z,G),I(2,$,M,z,G),I(1,$,M,z,G),$.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,z){if(function(G,Y){if(Y)for(var Q=0;Q<G.length;Q++)Y[Q]=Q;o===void 0&&(o=A(G)),c===void 0&&(c=A(G))}(O,M),a||!l||c)if(a&&l&&o^c)x=o?1:0,O=T(O,M,z);else if(!a&&l&&c)x=o?1:0,O=q(O,M,z),O=T(O,M);else if(!a||o||l||c){if(a&&!l&&o^c)O=T(O,M),o?(x=0,O=q(O,M,z)):(x=1,O=q(O,M,z),O=T(O,M));else if(a&&o&&!l&&c)x=1,O=q(O,M,z),O=T(O,M);else if(!a&&!l&&o^c){var $=u;o?(x=1,O=q(O,M,z),x=0,u=!1,O=q(O,M,z),u=$):(x=0,O=q(O,M,z),O=T(O,M),x=1,u=!1,O=q(O,M,z),u=$,O=T(O,M))}}else x=0,O=q(O,M,z);else x=o?1:0,O=q(O,M,z);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,c=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Zd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ETe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new hTe(this.contents),this.head=new fTe(this),this.name=new yTe(this),this.cmap=new LG(this),this.toUnicode={},this.hhea=new pTe(this),this.maxp=new bTe(this),this.hmtx=new wTe(this),this.post=new mTe(this),this.os2=new gTe(this),this.loca=new STe(this),this.glyf=new xTe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Cl,Zd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),hTe=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,u,d,f,p,v,m;for(m in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),a=Math.floor(d/l),u=16*p-d,(i=new Zd).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(a),i.writeShort(u),s=16*p,c=i.pos+s,o=null,v=[],n)for(f=n[m],i.writeString(m),i.writeInt(t(f)),i.writeInt(c),i.writeInt(f.length),v=v.concat(f),m==="head"&&(o=c),c+=f.length;c%4;)v.push(0),c++;return i.write(v),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=IG.call(n);n.length%4;)n.push(0);for(s=new Zd(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),dTe={}.hasOwnProperty,Tc=function(t,e){for(var n in e)dTe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Cl=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var fTe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Zd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),fB=function(){function t(e,n){var r,i,s,a,o,l,c,u,d,f,p,v,m,b,g,w,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,s=function(){var S,A;for(A=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)A.push(e.readUInt16());return A}(),e.pos+=2,m=function(){var S,A;for(A=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)A.push(e.readUInt16());return A}(),c=function(){var S,A;for(A=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)A.push(e.readUInt16());return A}(),u=function(){var S,A;for(A=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)A.push(e.readUInt16());return A}(),i=(this.length-e.pos+this.offset)/2,o=function(){var S,A;for(A=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)A.push(e.readUInt16());return A}(),l=g=0,x=s.length;g<x;l=++g)for(b=s[l],r=w=v=m[l];v<=b?w<=b:w>=b;r=v<=b?++w:--w)u[l]===0?a=r+c[l]:(a=o[u[l]/2+(r-v)-(f-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=d}return t.encode=function(e,n){var r,i,s,a,o,l,c,u,d,f,p,v,m,b,g,w,x,S,A,E,T,L,I,q,O,M,z,$,G,Y,Q,W,re,ce,ae,D,K,ee,se,oe,de,xe,ue,ye,_e,me;switch($=new Zd,a=Object.keys(e).sort(function(Ie,De){return Ie-De}),n){case"macroman":for(m=0,b=function(){var Ie=[];for(v=0;v<256;++v)Ie.push(0);return Ie}(),w={0:0},s={},G=0,re=a.length;G<re;G++)w[ue=e[i=a[G]]]==null&&(w[ue]=++m),s[i]={old:e[i],new:w[e[i]]},b[i]=w[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(b),{charMap:s,subtable:$.data,maxGlyphID:m+1};case"unicode":for(M=[],d=[],x=0,w={},r={},g=c=null,Y=0,ce=a.length;Y<ce;Y++)w[A=e[i=a[Y]]]==null&&(w[A]=++x),r[i]={old:A,new:w[A]},o=w[A]-i,g!=null&&o===c||(g&&d.push(g),M.push(i),c=o),g=i;for(g&&d.push(g),d.push(65535),M.push(65535),q=2*(I=M.length),L=2*Math.pow(Math.log(I)/Math.LN2,2),f=Math.log(L/2)/Math.LN2,T=2*I-L,l=[],E=[],p=[],v=Q=0,ae=M.length;Q<ae;v=++Q){if(O=M[v],u=d[v],O===65535){l.push(0),E.push(0);break}if(O-(z=r[O].new)>=32768)for(l.push(0),E.push(2*(p.length+I-v)),i=W=O;O<=u?W<=u:W>=u;i=O<=u?++W:--W)p.push(r[i].new);else l.push(z-O),E.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*I+2*p.length),$.writeUInt16(0),$.writeUInt16(q),$.writeUInt16(L),$.writeUInt16(f),$.writeUInt16(T),de=0,D=d.length;de<D;de++)i=d[de],$.writeUInt16(i);for($.writeUInt16(0),xe=0,K=M.length;xe<K;xe++)i=M[xe],$.writeUInt16(i);for(ye=0,ee=l.length;ye<ee;ye++)o=l[ye],$.writeUInt16(o);for(_e=0,se=E.length;_e<se;_e++)S=E[_e],$.writeUInt16(S);for(me=0,oe=p.length;me<oe;me++)m=p[me],$.writeUInt16(m);return{charMap:r,subtable:$.data,maxGlyphID:x+1}}},t}(),LG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new fB(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=fB.encode(e,n),(i=new Zd).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),pTe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),gTe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),mTe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),vTe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},yTe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,l,c,u,d,f;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=u=0,d=r.length;u<d;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),a=new vTe(c,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),bTe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),wTe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,d,f;for(f=[],c=0,u=(d=this.metrics).length;c<u;c++)s=d[c],f.push(s.advance);return f}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),IG=[].slice,xTe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,l,c,u,d;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new Zd(n.read(i))).readShort(),c=o.readShort(),d=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=a===-1?new ATe(o,c,d,l,u):new _Te(o,a,c,d,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t}(),_Te=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ATe=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Zd(IG.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),STe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Cl),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),ETe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,u,d,f,p,v,m,b,g;for(i in r=LG.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},g=r.charMap)p[(l=g[i]).old]=l.new;for(v in f=r.maxGlyphID,a)v in p||(p[v]=f++);return u=function(w){var x,S;for(x in S={},w)S[w[x]]=x;return S}(p),d=Object.keys(u).sort(function(w,x){return w-x}),m=function(){var w,x,S;for(S=[],w=0,x=d.length;w<x;w++)o=d[w],S.push(u[o]);return S}(),s=this.font.glyf.encode(a,m,p),c=this.font.loca.encode(s.offsets,m),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const lt={darkBlue:{r:15,g:35,b:75},mediumBlue:{r:37,g:99,b:235},lightBlue:{r:219,g:234,b:254},darkGray:{r:55,g:65,b:81},mediumGray:{r:107,g:114,b:128},lightGray:{r:229,g:231,b:235},veryLightGray:{r:243,g:244,b:246},white:{r:255,g:255,b:255},green:{r:16,g:185,b:129},darkGreen:{r:6,g:95,b:70},red:{r:239,g:68,b:68},amber:{r:245,g:158,b:11},watermark:{r:200,g:200,b:200}},No=210,$A=297,bt=20,NE=No-bt*2;function Z4(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function vR(t=new Date){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function PTe(t=new Date){return(typeof t=="string"?new Date(t):t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"})}function kTe(t){return t<=25?{label:"LOW RISK",color:lt.green}:t<=50?{label:"MODERATE RISK",color:lt.amber}:t<=75?{label:"ELEVATED RISK",color:lt.amber}:{label:"HIGH RISK",color:lt.red}}function TTe(){const t=Date.now().toString(36).toUpperCase(),e=Math.random().toString(36).substring(2,6).toUpperCase();return`GF-${t}-${e}`}function Ac(t,e){t.setFillColor(e.r,e.g,e.b)}function un(t,e){t.setTextColor(e.r,e.g,e.b)}function Qd(t,e){t.setDrawColor(e.r,e.g,e.b)}function CTe(t,e="CONFIDENTIAL"){t.saveGraphicsState(),un(t,lt.watermark),t.setFontSize(60),t.setFont("helvetica","bold");const n=No/2,r=$A/2,i=-45;t.setGState(new t.GState({opacity:.15})),t.text(e,n,r,{angle:i,align:"center",baseline:"middle"}),t.restoreGraphicsState()}function OTe(t,e){return Ac(t,lt.darkBlue),t.rect(0,0,No,45,"F"),Ac(t,lt.mediumBlue),t.rect(bt,12,8,20,"F"),t.setFillColor(255,255,255),t.rect(bt+2,16,4,4,"F"),t.rect(bt+2,24,4,4,"F"),t.setFont("helvetica","bold"),t.setFontSize(18),un(t,lt.white),t.text("GRANTFLOW",bt+14,22),t.setFontSize(10),t.setFont("helvetica","normal"),un(t,{r:148,g:163,b:184}),t.text("FORENSIC AUDIT REPORT",bt+14,30),t.setFontSize(9),un(t,{r:148,g:163,b:184}),t.text(e.toUpperCase(),No-bt,22,{align:"right"}),t.setFontSize(8),t.text(vR(),No-bt,30,{align:"right"}),55}function NTe(t,e,n,r){let i=n;Ac(t,lt.veryLightGray),t.roundedRect(bt,i,NE,45,3,3,"F"),i+=8,t.setFont("helvetica","bold"),t.setFontSize(8),un(t,lt.mediumGray),t.text("CLIENT INFORMATION",bt+8,i),i+=8;const s=bt+8,a=bt+NE/2;return t.setFont("helvetica","normal"),t.setFontSize(9),un(t,lt.mediumGray),t.text("Client Name",s,i),t.setFont("helvetica","bold"),un(t,lt.darkGray),t.text(e.company||"N/A",s,i+5),t.setFont("helvetica","normal"),un(t,lt.mediumGray),t.text("EIN",s,i+15),t.setFont("helvetica","bold"),un(t,lt.darkGray),t.text(e.ein||"Not Provided",s,i+20),t.setFont("helvetica","normal"),un(t,lt.mediumGray),t.text("Reference Number",a,i),t.setFont("helvetica","bold"),un(t,lt.darkGray),t.text(r,a,i+5),t.setFont("helvetica","normal"),un(t,lt.mediumGray),t.text("Audit Date",a,i+15),t.setFont("helvetica","bold"),un(t,lt.darkGray),t.text(vR(e.analyzed_at),a,i+20),n+55}function LTe(t,e,n){let r=n;t.setFont("helvetica","bold"),t.setFontSize(10),un(t,lt.darkBlue),t.text("ESTIMATED TAX CREDIT VALUE",bt,r),r+=5,Qd(t,lt.mediumBlue),t.setLineWidth(.5),t.line(bt,r,bt+60,r),r+=15,t.setFont("helvetica","bold"),t.setFontSize(42),un(t,lt.darkBlue),t.text(Z4(e.value),bt,r),r+=8;const i=e.confidence_score||85;t.setFont("helvetica","normal"),t.setFontSize(9),un(t,lt.mediumGray),t.text(`Confidence Score: ${i}%`,bt,r);const s=60,a=4,o=bt+45,l=r-3;return Ac(t,lt.lightGray),t.roundedRect(o,l,s,a,2,2,"F"),Ac(t,lt.green),t.roundedRect(o,l,s*(i/100),a,2,2,"F"),r+15}function ITe(t,e,n){let r=n;const{label:i,color:s}=kTe(e.risk_score);return t.setFont("helvetica","bold"),t.setFontSize(10),un(t,lt.darkBlue),t.text("RISK ASSESSMENT",bt,r),r+=5,Qd(t,lt.mediumBlue),t.setLineWidth(.5),t.line(bt,r,bt+40,r),r+=12,Ac(t,s),t.roundedRect(bt,r-6,60,25,3,3,"F"),t.setFont("helvetica","bold"),t.setFontSize(20),un(t,lt.white),t.text(`${e.risk_score}`,bt+8,r+8),t.setFontSize(8),t.text(i,bt+28,r+8),r+=25,t.setFont("helvetica","normal"),t.setFontSize(7),un(t,lt.mediumGray),t.text("Risk Scale: 0 (Minimal)  100 (Critical)",bt,r),e.anomalies&&e.anomalies.length>0&&(r+=10,t.setFontSize(8),t.text(`${e.anomalies.length} anomalies detected during analysis`,bt,r)),r+10}function RTe(t,e,n){let r=n;t.setFont("helvetica","bold"),t.setFontSize(10),un(t,lt.darkBlue),t.text("CREDIT BREAKDOWN",bt,r),r+=5,Qd(t,lt.mediumBlue),t.setLineWidth(.5),t.line(bt,r,bt+45,r),r+=10;const i=[{name:"R&D Tax Credit (IRC 41)",eligible:e.is_rd_eligible,value:e.rd_credit_value||0},{name:"Training & Education Credit",eligible:e.is_training_eligible,value:e.training_credit_value||0},{name:"Energy Efficiency (179D)",eligible:e.is_green_eligible,value:e.green_energy_value||0},{name:"Employee Retention Credit",eligible:e.is_erc_eligible,value:e.erc_value||0}];return i.forEach((s,a)=>{const o=r+a*12;a%2===0&&(Ac(t,lt.veryLightGray),t.rect(bt,o-4,NE,11,"F")),s.eligible?(Ac(t,lt.green),t.circle(bt+4,o,2,"F")):(Ac(t,lt.lightGray),t.circle(bt+4,o,2,"F")),t.setFont("helvetica","normal"),t.setFontSize(9),un(t,s.eligible?lt.darkGray:lt.mediumGray),t.text(s.name,bt+10,o+1),t.setFont("helvetica","bold"),un(t,s.eligible?lt.darkGreen:lt.mediumGray);const l=s.eligible?Z4(s.value):"Not Eligible";t.text(l,No-bt-5,o+1,{align:"right"})}),r+=i.length*12+5,Qd(t,lt.darkGray),t.setLineWidth(.3),t.line(bt,r,No-bt,r),r+=8,t.setFont("helvetica","bold"),t.setFontSize(11),un(t,lt.darkBlue),t.text("TOTAL ESTIMATED VALUE",bt,r),t.text(Z4(e.value),No-bt-5,r,{align:"right"}),r+15}function MTe(t,e,n){let r=n;t.setFont("helvetica","bold"),t.setFontSize(10),un(t,lt.darkBlue),t.text("ELIGIBILITY SUMMARY",bt,r),r+=5,Qd(t,lt.mediumBlue),t.setLineWidth(.5),t.line(bt,r,bt+50,r),r+=12;const i=[{code:"IRC 41",name:"R&D Credit",eligible:e.is_rd_eligible},{code:"127",name:"Training",eligible:e.is_training_eligible},{code:"179D",name:"Energy",eligible:e.is_green_eligible},{code:"ERC",name:"Retention",eligible:e.is_erc_eligible}],s=(NE-15)/4,a=30;return i.forEach((o,l)=>{const c=bt+l*(s+5);Ac(t,o.eligible?lt.lightBlue:lt.veryLightGray),t.roundedRect(c,r,s,a,2,2,"F"),Qd(t,o.eligible?lt.mediumBlue:lt.lightGray),t.setLineWidth(.5),t.roundedRect(c,r,s,a,2,2,"S"),t.setFont("helvetica","bold"),t.setFontSize(8),un(t,o.eligible?lt.mediumBlue:lt.mediumGray),t.text(o.code,c+s/2,r+10,{align:"center"}),t.setFont("helvetica","normal"),t.setFontSize(7),un(t,lt.darkGray),t.text(o.name,c+s/2,r+17,{align:"center"}),t.setFont("helvetica","bold"),t.setFontSize(7),un(t,o.eligible?lt.green:lt.mediumGray),t.text(o.eligible?" ELIGIBLE":" N/A",c+s/2,r+24,{align:"center"})}),r+a+10}function jTe(t){const e=$A-35;Qd(t,lt.lightGray),t.setLineWidth(.3),t.line(bt,e,No-bt,e),t.setFont("helvetica","normal"),t.setFontSize(7),un(t,lt.mediumGray),["This report is provided for informational purposes only and does not constitute tax or legal advice.","Credit estimates are based on IRC Section 41 (Research & Development), Section 179D (Energy Efficient Commercial Buildings),","Section 45L (Energy Efficient Homes), and related Treasury Regulations. Final credit amounts are subject to IRS review.","Consult a qualified tax professional before claiming any credits.  "+new Date().getFullYear()+" GrantFlow Systems, Inc."].forEach((r,i)=>{t.text(r,No/2,e+6+i*4,{align:"center"})}),t.setFontSize(8),t.text("Page 1 of 1",No-bt,$A-10,{align:"right"}),t.text(`Generated: ${PTe()}`,bt,$A-10)}function DTe(t,e,n){if(!e.verification_sources||e.verification_sources.length===0)return n;let r=n;return t.setFont("helvetica","bold"),t.setFontSize(9),un(t,lt.darkBlue),t.text("VERIFICATION SOURCES",bt,r),r+=8,t.setFont("helvetica","normal"),t.setFontSize(8),un(t,lt.mediumGray),e.verification_sources.forEach((i,s)=>{t.text(` ${i}`,bt+5,r+s*5)}),r+e.verification_sources.length*5+5}function FTe(t,e,n){let r=e;const i=70,s=35,a=No-bt-i;return Qd(t,lt.mediumBlue),t.setLineWidth(1),t.roundedRect(a,r,i,s,3,3,"S"),t.setLineWidth(.3),t.roundedRect(a+2,r+2,i-4,s-4,2,2,"S"),t.setFont("helvetica","bold"),t.setFontSize(8),un(t,lt.mediumBlue),t.text("CERTIFIED",a+i/2,r+12,{align:"center"}),t.setFont("helvetica","normal"),t.setFontSize(6),un(t,lt.mediumGray),t.text("GrantFlow Forensic Engine",a+i/2,r+18,{align:"center"}),t.text(`v4.2.1  ${vR()}`,a+i/2,r+23,{align:"center"}),n&&t.text(`Prepared by: ${n}`,a+i/2,r+28,{align:"center"}),r+s+10}function $Te(t,e={}){const{includeBreakdown:n=!0,includeRiskAnalysis:r=!0,includeLegalDisclaimer:i=!0,includeVerificationSources:s=!0,reportTitle:a="ELIGIBILITY CERTIFICATE",preparedBy:o,referenceNumber:l=TTe(),watermarkText:c="CONFIDENTIAL",showWatermark:u=!0}=e,d=new at({orientation:"portrait",unit:"mm",format:"a4"});d.setFont("helvetica"),u&&CTe(d,c);let f=0;return f=OTe(d,a),f=NTe(d,t,f,l),f=LTe(d,t,f),f=MTe(d,t,f),r&&(f=ITe(d,t,f)),n&&(f=RTe(d,t,f)),s&&t.verification_sources&&(f=DTe(d,t,f)),FTe(d,f,o),i&&jTe(d),d}function BTe(t,e="grantflow-audit-report.pdf",n={}){$Te(t,n).save(e)}const UTe=()=>{const[t,e]=Ae.useState(!1);return N.jsx("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-40",children:N.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"flex items-center justify-between h-16",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-sm",children:N.jsx(Vx,{className:"w-6 h-6 text-white"})}),N.jsxs("div",{children:[N.jsx("span",{className:"text-xl font-bold text-gray-900",children:"GrantFlow"}),N.jsx("span",{className:"text-xs text-gray-500 block -mt-1",children:"Tax Credit Solutions"})]})]}),N.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[N.jsx("a",{href:"#how-it-works",className:"text-gray-600 hover:text-blue-600 text-sm font-medium transition-colors",children:"How It Works"}),N.jsx("a",{href:"#programs",className:"text-gray-600 hover:text-blue-600 text-sm font-medium transition-colors",children:"Programs"}),N.jsx("a",{href:"#faq",className:"text-gray-600 hover:text-blue-600 text-sm font-medium transition-colors",children:"FAQ"})]}),N.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[N.jsx("button",{className:"text-gray-600 hover:text-gray-900 text-sm font-medium px-4 py-2 transition-colors",children:"Sign In"}),N.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-5 py-2.5 rounded-lg transition-colors shadow-sm",children:"Get Started"})]}),N.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>e(!t),children:N.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})})},DC=({icon:t,text:e})=>N.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[N.jsx("span",{className:"text-blue-600",children:t}),N.jsx("span",{className:"text-sm font-medium",children:e})]}),FC=({value:t,label:e,icon:n})=>N.jsxs("div",{className:"text-center px-6 py-4",children:[N.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[N.jsx("span",{className:"text-blue-600",children:n}),N.jsx("span",{className:"text-3xl font-bold text-gray-900",children:t})]}),N.jsx("span",{className:"text-sm text-gray-500",children:e})]}),$C=({step:t,label:e,active:n,complete:r})=>N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${r?"bg-green-500 text-white":n?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:r?N.jsx(J5,{className:"w-4 h-4"}):t}),N.jsx("span",{className:`text-sm font-medium ${n||r?"text-gray-900":"text-gray-400"}`,children:e})]}),zTe=({onFileSelect:t,uploadState:e,scanProgress:n,dragActive:r,setDragActive:i})=>{const s=Ae.useRef(null),a=Ae.useCallback(c=>{c.preventDefault(),c.stopPropagation(),c.type==="dragenter"||c.type==="dragover"?i(!0):c.type==="dragleave"&&i(!1)},[i]),o=Ae.useCallback(c=>{var u;c.preventDefault(),c.stopPropagation(),i(!1),(u=c.dataTransfer.files)!=null&&u[0]&&t(c.dataTransfer.files[0])},[t,i]),l=c=>{var u;(u=c.target.files)!=null&&u[0]&&t(c.target.files[0])};return e==="scanning"?N.jsxs("div",{className:"bg-white rounded-2xl border-2 border-blue-200 p-8 md:p-12 text-center",children:[N.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-blue-50 flex items-center justify-center",children:N.jsx(z1,{className:"w-10 h-10 text-blue-600 animate-spin"})}),N.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analyzing Your Documents..."}),N.jsx("p",{className:"text-gray-500 mb-6",children:"Our AI is scanning for qualifying expenses"}),N.jsxs("div",{className:"max-w-md mx-auto",children:[N.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[N.jsx("span",{children:"Scanning"}),N.jsxs("span",{children:[Math.round(n),"%"]})]}),N.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:N.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-300",style:{width:`${n}%`}})}),N.jsxs("div",{className:"mt-6 space-y-3",children:[N.jsxs("div",{className:`flex items-center gap-3 ${n>=30?"text-green-600":"text-gray-400"}`,children:[n>=30?N.jsx(J5,{className:"w-4 h-4"}):N.jsx(z1,{className:"w-4 h-4 animate-spin"}),N.jsx("span",{className:"text-sm",children:"Document parsing complete"})]}),N.jsxs("div",{className:`flex items-center gap-3 ${n>=60?"text-green-600":n>=30?"text-blue-600":"text-gray-400"}`,children:[n>=60?N.jsx(J5,{className:"w-4 h-4"}):n>=30?N.jsx(z1,{className:"w-4 h-4 animate-spin"}):N.jsx("div",{className:"w-4 h-4"}),N.jsx("span",{className:"text-sm",children:"Identifying qualifying activities"})]}),N.jsxs("div",{className:`flex items-center gap-3 ${n>=100?"text-green-600":n>=60?"text-blue-600":"text-gray-400"}`,children:[n>=100?N.jsx(J5,{className:"w-4 h-4"}):n>=60?N.jsx(z1,{className:"w-4 h-4 animate-spin"}):N.jsx("div",{className:"w-4 h-4"}),N.jsx("span",{className:"text-sm",children:"Calculating potential credits"})]})]})]})]}):N.jsxs("div",{className:`bg-white rounded-2xl border-2 border-dashed p-8 md:p-12 text-center cursor-pointer transition-all duration-200 ${r?"border-blue-500 bg-blue-50 scale-[1.02]":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,onDragEnter:a,onDragLeave:a,onDragOver:a,onDrop:o,onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},children:[N.jsx("input",{ref:s,type:"file",className:"hidden",accept:".txt,.csv,.pdf,.doc,.docx,.xls,.xlsx",onChange:l}),N.jsx("div",{className:`w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center transition-colors ${r?"bg-blue-100":"bg-gray-100"}`,children:N.jsx(Pb,{className:`w-10 h-10 ${r?"text-blue-600":"text-gray-400"}`})}),N.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r?"Drop your file here":"Drop your file here or click to browse"}),N.jsx("p",{className:"text-gray-500 mb-4",children:"Upload financial documents, payroll records, or expense reports"}),N.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-sm text-gray-400",children:[N.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:".txt"}),N.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:".csv"}),N.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:".pdf"})]}),N.jsxs("p",{className:"text-xs text-gray-400 mt-4",children:[N.jsx(aH,{className:"w-3 h-3 inline mr-1"}),"256-bit SSL encrypted  Your data is secure"]})]})},qTe=({result:t,fileName:e,onReset:n,onConnect:r})=>N.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden",children:[N.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-8 text-center text-white",children:[N.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/20 flex items-center justify-center",children:N.jsx(rH,{className:"w-10 h-10"})}),N.jsx("h3",{className:"text-2xl font-bold mb-1",children:"Potential Credit Identified!"}),N.jsx("p",{className:"text-green-100",children:"Based on our preliminary analysis"})]}),N.jsxs("div",{className:"px-6 py-8 text-center border-b border-gray-100",children:[N.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wide mb-2",children:"Estimated Total Value"}),N.jsx("p",{className:"text-5xl font-bold text-gray-900 mb-2",children:Wu(t.totalEstimatedValue)}),N.jsxs("p",{className:"text-sm text-gray-500",children:["Confidence: ",Math.round(t.confidence*100),"%"]})]}),N.jsxs("div",{className:"px-6 py-6 space-y-4",children:[N.jsx("h4",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Credit Breakdown"}),t.isRdEligible&&N.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:N.jsx(JI,{className:"w-5 h-5 text-blue-600"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-gray-900",children:"R&D Tax Credit"}),N.jsx("p",{className:"text-sm text-gray-500",children:"IRC Section 41"})]})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("p",{className:"font-semibold text-gray-900",children:Wu(t.rdCreditValue)}),N.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full",children:"Eligible"})]})]}),t.isTrainingEligible&&N.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center",children:N.jsx(YI,{className:"w-5 h-5 text-purple-600"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-gray-900",children:"Training Credit"}),N.jsx("p",{className:"text-sm text-gray-500",children:"Education Assistance"})]})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("p",{className:"font-semibold text-gray-900",children:Wu(t.trainingCreditValue)}),N.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full",children:"Eligible"})]})]}),t.isGreenEligible&&N.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:N.jsx(rk,{className:"w-5 h-5 text-green-600"})}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-gray-900",children:"Energy Efficiency"}),N.jsx("p",{className:"text-sm text-gray-500",children:"Section 179D"})]})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("p",{className:"font-semibold text-gray-900",children:Wu(t.greenEnergyValue)}),N.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full",children:"Eligible"})]})]})]}),N.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[N.jsx(vxe,{className:"w-4 h-4"}),N.jsx("span",{className:"truncate max-w-[200px]",children:e})]}),N.jsx("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Scan Another File"})]}),N.jsxs("div",{className:"px-6 py-6 bg-gray-50 border-t border-gray-100",children:[N.jsxs("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-xl transition-colors shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2",children:[N.jsx(oH,{className:"w-5 h-5"}),"Connect with a Tax Expert",N.jsx(eH,{className:"w-5 h-5"})]}),N.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"Free consultation  No obligation"})]})]}),HTe=({onReset:t})=>N.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg p-8 text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:N.jsx(hxe,{className:"w-8 h-8 text-gray-400"})}),N.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Credits Detected"}),N.jsx("p",{className:"text-gray-500 mb-6",children:"Try uploading different financial records."}),N.jsx("button",{onClick:t,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg",children:"Try Another Document"})]}),WTe=({error:t,onReset:e})=>N.jsxs("div",{className:"bg-white rounded-2xl border border-red-200 shadow-lg p-8 text-center",children:[N.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 flex items-center justify-center",children:N.jsx(uxe,{className:"w-8 h-8 text-red-500"})}),N.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something Went Wrong"}),N.jsx("p",{className:"text-gray-500 mb-6",children:t}),N.jsx("button",{onClick:e,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg",children:"Try Again"})]}),VTe=()=>{const t=[{step:1,title:"Upload Documents",description:"Securely upload your financial records.",icon:N.jsx(Pb,{className:"w-6 h-6"})},{step:2,title:"AI Analysis",description:"Our AI scans for qualifying activities.",icon:N.jsx(JI,{className:"w-6 h-6"})},{step:3,title:"Expert Review",description:"A certified professional reviews your case.",icon:N.jsx(uH,{className:"w-6 h-6"})},{step:4,title:"Claim Credits",description:"File with confidence and receive credits.",icon:N.jsx(Vx,{className:"w-6 h-6"})}];return N.jsx("section",{id:"how-it-works",className:"py-20 bg-gray-50",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"text-center mb-12",children:[N.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),N.jsx("p",{className:"text-lg text-gray-600",children:"Simple and streamlined process"})]}),N.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:t.map(e=>N.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[N.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 text-white flex items-center justify-center mb-4",children:e.icon}),N.jsxs("span",{className:"text-xs font-semibold text-blue-600 uppercase",children:["Step ",e.step]}),N.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1 mb-2",children:e.title}),N.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]},e.step))})]})})},GTe=()=>{const t=[{title:"R&D Tax Credit",code:"IRC 41",value:"Up to $250,000/year",icon:N.jsx(JI,{className:"w-6 h-6"}),color:"blue"},{title:"Employee Retention",code:"ERC",value:"Up to $26,000/employee",icon:N.jsx(uH,{className:"w-6 h-6"}),color:"purple"},{title:"Energy Efficiency",code:"179D",value:"Up to $5/sq ft",icon:N.jsx(rk,{className:"w-6 h-6"}),color:"green"},{title:"Work Opportunity",code:"WOTC",value:"Up to $9,600/employee",icon:N.jsx(YI,{className:"w-6 h-6"}),color:"amber"}],e={blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",green:"bg-green-100 text-green-600",amber:"bg-amber-100 text-amber-600"};return N.jsx("section",{id:"programs",className:"py-20 bg-white",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"text-center mb-12",children:[N.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Tax Credit Programs"}),N.jsx("p",{className:"text-lg text-gray-600",children:"Multiple federal and state programs"})]}),N.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.map(n=>N.jsx("div",{className:"rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:`w-12 h-12 rounded-lg ${e[n.color]} flex items-center justify-center`,children:n.icon}),N.jsxs("div",{children:[N.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[n.title," ",N.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 rounded-full",children:n.code})]}),N.jsx("p",{className:`text-sm font-semibold mt-2 ${e[n.color].split(" ")[1]}`,children:n.value})]})]})},n.code))})]})})},KTe=()=>{const t=[{quote:"GrantFlow helped us identify $127,000 in R&D credits we didn't know we qualified for.",author:"Sarah Chen",title:"CFO, TechStart Inc.",avatar:"SC"},{quote:"Their team found legitimate credits that our accountant had missed for years.",author:"Michael Rodriguez",title:"Owner, Rodriguez Mfg",avatar:"MR"},{quote:"Professional, thorough, and they deliver on their promises.",author:"Jennifer Walsh",title:"CEO, GreenBuild",avatar:"JW"}];return N.jsx("section",{className:"py-20 bg-blue-600",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsx("div",{className:"text-center mb-12",children:N.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Trusted by Growing Businesses"})}),N.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((e,n)=>N.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[N.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((r,i)=>N.jsx(lH,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"},i))}),N.jsxs("p",{className:"text-gray-600 mb-6 italic",children:['"',e.quote,'"']}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-semibold",children:e.avatar}),N.jsxs("div",{children:[N.jsx("p",{className:"font-semibold text-gray-900",children:e.author}),N.jsx("p",{className:"text-sm text-gray-500",children:e.title})]})]})]},n))})]})})},XTe=()=>{const[t,e]=Ae.useState(0),n=[{question:"What documents do I need?",answer:"Financial statements, payroll records, or expense reports."},{question:"Is my data secure?",answer:"We use 256-bit SSL encryption and SOC 2 compliance."},{question:"How accurate is the estimate?",answer:"Our AI provides preliminary estimates; a tax professional will give final assessment."},{question:"What if I've already filed?",answer:"Many credits can be claimed retroactively via amended returns."},{question:"How much does it cost?",answer:"The scan is free. Full-service fees are only a percentage of credits we find."}];return N.jsx("section",{id:"faq",className:"py-20 bg-gray-50",children:N.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[N.jsx("div",{className:"text-center mb-12",children:N.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"})}),N.jsx("div",{className:"space-y-4",children:n.map((r,i)=>N.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[N.jsxs("button",{className:"w-full px-6 py-4 flex items-center justify-between text-left",onClick:()=>e(t===i?null:i),children:[N.jsx("span",{className:"font-semibold text-gray-900",children:r.question}),N.jsx(nH,{className:`w-5 h-5 text-gray-400 transition-transform ${t===i?"rotate-90":""}`})]}),t===i&&N.jsx("div",{className:"px-6 pb-4",children:N.jsx("p",{className:"text-gray-600",children:r.answer})})]},i))})]})})},YTe=()=>N.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:N.jsx(Vx,{className:"w-6 h-6 text-white"})}),N.jsx("span",{className:"text-xl font-bold text-white",children:"GrantFlow"})]}),N.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(oH,{className:"w-4 h-4"}),"1-800-GRANTS"]}),N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(wxe,{className:"w-4 h-4"}),"hello@grantflow.com"]}),N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(tH,{className:"w-4 h-4"}),"San Francisco, CA"]})]})]}),N.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm",children:" 2024 GrantFlow. All rights reserved."})]})}),JTe=()=>{const[t,e]=Ae.useState("idle"),[n,r]=Ae.useState(0),[i,s]=Ae.useState(null),[a,o]=Ae.useState(""),[l,c]=Ae.useState(!1),[u,d]=Ae.useState(""),f=Ae.useCallback(async m=>{o(m.name),e("scanning"),r(0),d("");try{let b;m.type==="application/pdf"||m.name.toLowerCase().endsWith(".pdf")?b=await UV(m):b=await m.text();const g=setInterval(()=>{r(S=>S>=100?100:S+Math.random()*15+5)},300);await new Promise(S=>setTimeout(S,3e3)),clearInterval(g),r(100);const w=hH(b),x={isRdEligible:w.isRdEligible,isTrainingEligible:w.isTrainingEligible,isGreenEligible:w.isGreenEligible,totalEstimatedValue:w.financialSummary.totalEstimatedValue,rdCreditValue:w.financialSummary.rdCreditValue,trainingCreditValue:w.financialSummary.trainingCreditValue,greenEnergyValue:w.financialSummary.greenEnergyValue,matchCount:w.processingDetails.totalMatchesFound,confidence:w.processingDetails.confidenceScore};await H1.from("deals").insert([{company:`LEAD-${m.name.slice(0,20)}`,value:x.totalEstimatedValue,status:"NEW_LEAD",packet_id:w.analysisId,risk_score:x.confidence*100,anomaly_count:w.riskIndicators.length}]),await new Promise(S=>setTimeout(S,500)),s(x),e(x.totalEstimatedValue>0?"success":"no_results")}catch(b){console.error("Scan error:",b),d("Unable to process file."),e("error")}},[]),p=Ae.useCallback(()=>{e("idle"),r(0),s(null),o(""),d("")},[]),v=Ae.useCallback(()=>{alert("Connecting with a tax expert... (This would open a booking modal)")},[]);return N.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[N.jsx(UTe,{}),N.jsx("section",{className:"bg-gradient-to-b from-white to-gray-50 pt-12 pb-20",children:N.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-12",children:[N.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mb-8",children:[N.jsx(DC,{icon:N.jsx(Ow,{className:"w-4 h-4"}),text:"IRS Compliant"}),N.jsx(DC,{icon:N.jsx(aH,{className:"w-4 h-4"}),text:"256-bit Encrypted"}),N.jsx(DC,{icon:N.jsx(YI,{className:"w-4 h-4"}),text:"CPA Certified"})]}),N.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Check Your Grant Eligibility",N.jsx("br",{}),N.jsx("span",{className:"text-blue-600",children:"in 30 Seconds"})]}),N.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Upload your financial documents and our AI will instantly identify tax credits you may be missing."}),N.jsxs("div",{className:"flex flex-wrap justify-center divide-x divide-gray-200 mb-12",children:[N.jsx(FC,{value:"$847M+",label:"Credits Identified",icon:N.jsx(Vx,{className:"w-5 h-5"})}),N.jsx(FC,{value:"12,000+",label:"Businesses Helped",icon:N.jsx(tH,{className:"w-5 h-5"})}),N.jsx(FC,{value:"99.8%",label:"Satisfaction",icon:N.jsx(lH,{className:"w-5 h-5"})})]})]}),N.jsxs("div",{className:"max-w-2xl mx-auto",children:[(t==="idle"||t==="scanning")&&N.jsx(zTe,{onFileSelect:f,uploadState:t,scanProgress:n,dragActive:l,setDragActive:c}),t==="success"&&i&&N.jsx(qTe,{result:i,fileName:a,onReset:p,onConnect:v}),t==="no_results"&&N.jsx(HTe,{onReset:p}),t==="error"&&N.jsx(WTe,{error:u,onReset:p})]}),t==="idle"&&N.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8",children:[N.jsx($C,{step:1,label:"Upload",active:!0,complete:!1}),N.jsx("div",{className:"w-8 h-0.5 bg-gray-200"}),N.jsx($C,{step:2,label:"Scan",active:!1,complete:!1}),N.jsx("div",{className:"w-8 h-0.5 bg-gray-200"}),N.jsx($C,{step:3,label:"Results",active:!1,complete:!1})]})]})}),N.jsx(VTe,{}),N.jsx(GTe,{}),N.jsx(KTe,{}),N.jsx(XTe,{}),N.jsx("section",{className:"py-20 bg-white",children:N.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[N.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Claim Your Credits?"}),N.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Join thousands of businesses who discovered money they didn't know they had."}),N.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-8 rounded-xl inline-flex items-center gap-2",children:["Start Your Free Scan",N.jsx(eH,{className:"w-5 h-5"})]})]})}),N.jsx(YTe,{})]})},Hf=t=>t>=1e6?`$${(t/1e6).toFixed(2)}M`:t>=1e3?`$${(t/1e3).toFixed(1)}K`:`$${t.toFixed(0)}`;function LE(t,e){const n=pe.useRef(t);pe.useEffect(()=>{n.current=t},[t]),pe.useEffect(()=>{if(e===null)return;const r=setInterval(()=>n.current(),e);return()=>clearInterval(r)},[e])}const ZTe=()=>{const[t,e]=Ae.useState(new Date),[n,r]=Ae.useState(67),[i,s]=Ae.useState(840),[a,o]=Ae.useState(-2.1);return LE(()=>{e(new Date),r(65+Math.random()*15)},1e3),LE(()=>{const l=(Math.random()-.5)*10;s(c=>Math.max(835,Math.min(850,c+l))),o((Math.random()-.5)*5)},2500),N.jsx("header",{className:"bg-slate-900 border-b border-slate-700 px-2 py-1",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-cyan-500 rounded flex items-center justify-center",children:N.jsx(nF,{className:"w-5 h-5 text-slate-900"})}),N.jsxs("div",{children:[N.jsx("div",{className:"text-xs font-bold text-white tracking-wider",children:"GRANTFLOW"}),N.jsx("div",{className:"text-[10px] text-slate-500 tracking-widest",children:"TERMINAL v4.2.1"})]})]}),N.jsx("div",{className:"h-6 w-px bg-slate-700"}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(iH,{className:"w-2 h-2 fill-emerald-500 text-emerald-500 animate-pulse"}),N.jsx("span",{className:"text-[10px] text-emerald-400 font-mono",children:"LIVE"})]}),N.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-slate-800 rounded border border-slate-700",children:[N.jsx(Txe,{className:"w-3 h-3 text-cyan-400"}),N.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:"LATENCY: 12ms"})]}),N.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-slate-800 rounded border border-slate-700",children:[N.jsx(Axe,{className:"w-3 h-3 text-amber-400"}),N.jsxs("span",{className:"text-[10px] text-slate-400 font-mono",children:["LOAD: ",n.toFixed(0),"%"]})]})]})]}),N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(F5,{label:"PIPELINE VAL",value:"$4.2M",change:12.4,icon:Vx,color:"emerald"}),N.jsx(F5,{label:"ACCURACY",value:"99.8%",change:.2,icon:Exe,color:"cyan"}),N.jsx(F5,{label:"SPREAD",value:`${i.toFixed(0)}%`,change:a,icon:rk,color:"amber"}),N.jsx(F5,{label:"DEALS/HR",value:"127",change:8.3,icon:nF,color:"emerald"})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("button",{className:"p-1.5 bg-slate-800 rounded border border-slate-700 hover:border-slate-600",children:N.jsx(lxe,{className:"w-4 h-4 text-slate-400"})}),N.jsx("button",{className:"p-1.5 bg-slate-800 rounded border border-slate-700 hover:border-slate-600",children:N.jsx(Sxe,{className:"w-4 h-4 text-slate-400"})})]}),N.jsx("div",{className:"h-6 w-px bg-slate-700"}),N.jsxs("div",{className:"text-right",children:[N.jsx("div",{className:"text-xs font-mono text-white",children:t.toLocaleTimeString("en-US",{hour12:!1})}),N.jsx("div",{className:"text-[10px] text-slate-500 font-mono",children:t.toLocaleDateString("en-US",{month:"short",day:"2-digit"}).toUpperCase()})]}),N.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-900/30 border border-emerald-700/50 rounded",children:[N.jsx(kxe,{className:"w-3 h-3 text-emerald-400"}),N.jsx("span",{className:"text-[10px] text-emerald-400 font-mono",children:"JDK-7291"})]})]})]})})},F5=({label:t,value:e,change:n,icon:r,color:i})=>{const s={emerald:"text-emerald-400 border-emerald-800/50 bg-emerald-900/20",cyan:"text-cyan-400 border-cyan-800/50 bg-cyan-900/20",amber:"text-amber-400 border-amber-800/50 bg-amber-900/20"};return N.jsxs("div",{className:`px-3 py-1 rounded border ${s[i]} min-w-[100px]`,children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-[9px] text-slate-500 font-mono",children:t}),N.jsx(r,{className:"w-3 h-3 text-slate-500"})]}),N.jsxs("div",{className:"flex items-baseline gap-2",children:[N.jsx("span",{className:"text-lg font-bold text-white font-mono",children:e}),N.jsxs("span",{className:`text-[10px] font-mono flex items-center ${n>=0?"text-emerald-400":"text-red-400"}`,children:[n>=0?N.jsx(axe,{className:"w-2 h-2"}):N.jsx(sxe,{className:"w-2 h-2"}),Math.abs(n),"%"]})]})]})},QTe=({result:t})=>{var c;const e=t?[{id:"1",metric:"R&D Credit",q1:Math.round(t.financialSummary.rdCreditValue*.22),q2:Math.round(t.financialSummary.rdCreditValue*.26),q3:Math.round(t.financialSummary.rdCreditValue*.28),q4:Math.round(t.financialSummary.rdCreditValue*.24),ytd:t.financialSummary.rdCreditValue,confidence:Math.round(t.processingDetails.confidenceScore*100),source:"SCAN",trend:[],verified:t.isRdEligible},{id:"2",metric:"Training",q1:Math.round(t.financialSummary.trainingCreditValue*.25),q2:Math.round(t.financialSummary.trainingCreditValue*.25),q3:Math.round(t.financialSummary.trainingCreditValue*.25),q4:Math.round(t.financialSummary.trainingCreditValue*.25),ytd:t.financialSummary.trainingCreditValue,confidence:95,source:"SCAN",trend:[],verified:t.isTrainingEligible},{id:"3",metric:"Green Energy",q1:Math.round(t.financialSummary.greenEnergyValue*.25),q2:Math.round(t.financialSummary.greenEnergyValue*.25),q3:Math.round(t.financialSummary.greenEnergyValue*.25),q4:Math.round(t.financialSummary.greenEnergyValue*.25),ytd:t.financialSummary.greenEnergyValue,confidence:90,source:"SCAN",trend:[],verified:t.isGreenEligible}]:[{id:"1",metric:"Gross Payroll",q1:847e3,q2:892e3,q3:923e3,q4:978e3,ytd:364e4,confidence:98,source:"BANK",trend:[],verified:!0},{id:"2",metric:"R&D Spend",q1:156e3,q2:189e3,q3:201e3,q4:234e3,ytd:78e4,confidence:99,source:"VERIF",trend:[],verified:!0},{id:"3",metric:"Cloud/SaaS",q1:34e3,q2:38e3,q3:42e3,q4:47e3,ytd:161e3,confidence:96,source:"BANK",trend:[],verified:!0}],n=t?`SCAN ${t.analysisId.slice(-6)}`:"NEXGEN TECHNOLOGIES INC",r=t?Wu(t.financialSummary.totalEstimatedValue):"$234,500",i=t!=null&&t.isRdEligible?"HIGH":"PENDING",s=t!=null&&t.isRdEligible?"text-emerald-400":"text-cyan-400",a=((c=t==null?void 0:t.overallRiskLevel)==null?void 0:c.toUpperCase())||"LOW",o=t?t.overallRiskLevel==="low"?"text-emerald-400":t.overallRiskLevel==="medium"?"text-amber-400":"text-red-400":"text-amber-400",l=u=>u>=95?"bg-emerald-500/20 text-emerald-400":u>=85?"bg-cyan-500/20 text-cyan-400":"bg-amber-500/20 text-amber-400";return N.jsxs("div",{className:`flex flex-col h-full bg-slate-900 border-r border-slate-700 ${t?"ring-2 ring-emerald-500/50 ring-inset":""}`,children:[N.jsxs("div",{className:"px-2 py-1 bg-slate-800 border-b border-slate-700 flex items-center gap-2",children:[N.jsx(sH,{className:"w-4 h-4 text-cyan-400"}),N.jsx("span",{className:"text-xs font-bold text-white tracking-wider",children:"UNDERWRITING MATRIX"}),t&&N.jsx("span",{className:"text-[8px] px-1 py-0.5 bg-emerald-900/50 text-emerald-400 rounded ml-auto animate-pulse",children:"SCANNED"})]}),N.jsxs("div",{className:"px-2 py-1 bg-slate-800/50 border-b border-slate-700",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(cxe,{className:"w-3 h-3 text-slate-500"}),N.jsx("span",{className:"text-xs text-white font-mono",children:n}),(t==null?void 0:t.isRdEligible)&&N.jsx("span",{className:"text-[8px] px-1 py-0.5 bg-cyan-900/50 text-cyan-400 rounded",children:"R&D"}),(t==null?void 0:t.isTrainingEligible)&&N.jsx("span",{className:"text-[8px] px-1 py-0.5 bg-purple-900/50 text-purple-400 rounded",children:"TRAINING"}),(t==null?void 0:t.isGreenEligible)&&N.jsxs("span",{className:"text-[8px] px-1 py-0.5 bg-emerald-900/50 text-emerald-400 rounded flex items-center gap-0.5",children:[N.jsx(bxe,{className:"w-2 h-2"}),"GREEN"]})]}),t&&N.jsxs("div",{className:"text-[8px] text-slate-500 font-mono mt-0.5",children:[t.processingDetails.totalMatchesFound," MATCHES | ",t.processingDetails.uniqueKeywordsFound," KEYWORDS"]})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-px bg-slate-700 border-b border-slate-700",children:[N.jsxs("div",{className:"bg-slate-800 p-2",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"EST CREDIT"}),N.jsx("div",{className:"text-sm font-bold text-emerald-400 font-mono",children:r})]}),N.jsxs("div",{className:"bg-slate-800 p-2",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"R&D INTENS"}),N.jsx("div",{className:`text-sm font-bold font-mono ${s}`,children:i})]}),N.jsxs("div",{className:"bg-slate-800 p-2",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"RISK"}),N.jsx("div",{className:`text-sm font-bold font-mono ${o}`,children:a})]})]}),N.jsx("div",{className:"flex-1 overflow-auto",children:N.jsxs("table",{className:"w-full text-[10px]",children:[N.jsx("thead",{className:"sticky top-0 bg-slate-800",children:N.jsxs("tr",{className:"border-b border-slate-700",children:[N.jsx("th",{className:"px-2 py-1 text-left text-slate-400 font-mono",children:"METRIC"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"Q1"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"Q2"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"Q3"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"Q4"}),N.jsx("th",{className:"px-1 py-1 text-right text-slate-400 font-mono",children:"YTD"}),N.jsx("th",{className:"px-1 py-1 text-center text-slate-400 font-mono",children:"CONF"})]})}),N.jsx("tbody",{children:e.map(u=>N.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/50",children:[N.jsx("td",{className:"px-2 py-1",children:N.jsxs("div",{className:"flex items-center gap-1",children:[u.verified?N.jsx(rH,{className:"w-3 h-3 text-emerald-500"}):N.jsx(dxe,{className:"w-3 h-3 text-amber-500"}),N.jsx("span",{className:"text-white",children:u.metric})]})}),N.jsx("td",{className:"px-1 py-1 text-right text-slate-300 font-mono",children:Hf(u.q1)}),N.jsx("td",{className:"px-1 py-1 text-right text-slate-300 font-mono",children:Hf(u.q2)}),N.jsx("td",{className:"px-1 py-1 text-right text-slate-300 font-mono",children:Hf(u.q3)}),N.jsx("td",{className:"px-1 py-1 text-right text-slate-300 font-mono",children:Hf(u.q4)}),N.jsx("td",{className:"px-1 py-1 text-right text-white font-mono font-bold",children:Hf(u.ytd)}),N.jsx("td",{className:"px-1 py-1 text-center",children:N.jsxs("span",{className:`text-[9px] px-1 py-0.5 rounded ${l(u.confidence)}`,children:[u.confidence,"%"]})})]},u.id))})]})}),t&&N.jsx("div",{className:"bg-emerald-900/20 border-t border-emerald-700/50 px-2 py-1",children:N.jsxs("div",{className:"text-[9px] text-emerald-400 font-mono",children:[" ",t.processingDetails.rulesTriggered," RULES TRIGGERED | ",t.riskIndicators.length," RISK FLAGS"]})})]})},eCe=({onAnalysisComplete:t,selectedDeal:e})=>{const[n,r]=Ae.useState([]),[i,s]=Ae.useState(0),[a,o]=Ae.useState([847,0,0,0,0]),[l,c]=Ae.useState(!1),[u,d]=Ae.useState(!1),[f,p]=Ae.useState(!1),v=pe.useRef(null),m=pe.useRef(null),[b,g]=Ae.useState(null),[w,x]=Ae.useState(!1),S=async $=>{c(!1),x(!0),s(0);const G=($.size/(1024*1024)).toFixed(1),Y=[{id:`ingest-${Date.now()}-1`,timestamp:new Date,level:"system",message:">> [SYS] INCOMING DATA STREAM DETECTED...",module:"SYS"},{id:`ingest-${Date.now()}-2`,timestamp:new Date,level:"success",message:`>> [INGEST] CAPTURED PAYLOAD: ${$.name} (${G} MB)`,module:"INGEST"},{id:`ingest-${Date.now()}-3`,timestamp:new Date,level:"info",message:">> [SEC] READING FILE CONTENT...",module:"SEC"}];r(ae=>[...ae,...Y]),d(!0),setTimeout(()=>d(!1),2e3),o(ae=>[ae[0]+1,...ae.slice(1)]);let Q;$.type==="application/pdf"||$.name.toLowerCase().endsWith(".pdf")?(r(ae=>[...ae,{id:`pdf-${Date.now()}`,timestamp:new Date,level:"info",message:`>> [PDF] EXTRACTING TEXT FROM ${$.name.toUpperCase()}...`,module:"OCR"}]),Q=await UV($)):Q=await $.text();const W=hH(Q);g(W),r(ae=>[...ae,{id:`scan-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [SCAN] ANALYZED ${W.statistics.totalWords} WORDS, ${W.processingDetails.totalMatchesFound} MATCHES FOUND`,module:"SCAN"}]);let re=0;const ce=setInterval(()=>{re++,s(re),o(D=>{const K=[...D];return K[re]=Math.round(D[0]*(.95-re*.1)),K});const ae={1:{id:`stage-1-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [SCAN] PROCESSED ${W.source.contentLength} CHARS (${W.processingTimeMs}ms)`,module:"SCAN"},2:{id:`stage-2-${Date.now()}`,timestamp:new Date,level:W.riskIndicators.length>3?"warning":"success",message:`>> [FRAUD] ${W.riskIndicators.length} RISK FLAGS - LEVEL: ${W.overallRiskLevel.toUpperCase()}`,module:"FRAUD"},3:{id:`stage-3-${Date.now()}`,timestamp:new Date,level:"system",message:`>> [RULES] ${W.processingDetails.rulesTriggered}/${W.processingDetails.rulesApplied} RULES TRIGGERED`,module:"RULES"},4:{id:`stage-4-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [READY] ESTIMATED VALUE: ${Wu(W.financialSummary.totalEstimatedValue)}`,module:"READY"}};ae[re]&&r(D=>[...D,ae[re]]),re>=4&&(clearInterval(ce),W.isRdEligible&&r(D=>[...D,{id:`elig-rd-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [ELIGIBLE] R&D TAX CREDIT: ${Wu(W.financialSummary.rdCreditValue)}`,module:"GRANT"}]),W.isTrainingEligible&&r(D=>[...D,{id:`elig-trn-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [ELIGIBLE] TRAINING GRANT: ${Wu(W.financialSummary.trainingCreditValue)}`,module:"GRANT"}]),W.isGreenEligible&&r(D=>[...D,{id:`elig-grn-${Date.now()}`,timestamp:new Date,level:"success",message:`>> [ELIGIBLE] GREEN ENERGY: ${Wu(W.financialSummary.greenEnergyValue)}`,module:"GRANT"}]),W.allMatches.slice(0,5).forEach((D,K)=>{setTimeout(()=>{r(ee=>[...ee,{id:`match-${Date.now()}-${K}`,timestamp:new Date,level:"info",message:`>> [MATCH] "${D.keyword}" @ line ${D.lineNumber}`,module:"SCAN"}])},K*200)}),t&&t(W))},800)},A=$=>{$.preventDefault(),p(!1);const G=$.dataTransfer.files[0];G&&S(G)},E=$=>{var Y;const G=(Y=$.target.files)==null?void 0:Y[0];G&&S(G)},T={0:[{level:"info",message:"> CONNECTING TO IRS DATABASE API_V4..."},{level:"success",message:"> [INGEST] BATCH UPLOAD COMPLETE: 847 DOCS"},{level:"info",message:"> VALIDATING DOCUMENT CHECKSUMS..."}],1:[{level:"info",message:'> [OCR] PARSING "PAYROLL_Q3.PDF"... CONFIDENCE: 99.4%'},{level:"success",message:"> [OCR] W-2 EXTRACTION: 47 RECORDS MATCHED"},{level:"info",message:"> [OCR] 1099-NEC BATCH PROCESSING..."},{level:"success",message:"> [OCR] BANK STATEMENT RECOGNIZED: CHASE_2024"}],2:[{level:"info",message:"> [FRAUD_CHECK] RUNNING ANOMALY DETECTION..."},{level:"warning",message:"> [FRAUD_CHECK] FLAG: CONTRACTOR SPIKE Q3 (+34%)"},{level:"success",message:"> [FRAUD_CHECK] CROSS-REF COMPLETE: NO RED FLAGS"},{level:"info",message:"> [FRAUD_CHECK] PAYROLL VELOCITY: NORMAL"}],3:[{level:"system",message:"[AI] GPT-4o VOICE AGENT INITIALIZED"},{level:"info",message:"> [VOICE_AI] DIALING CFO: +1 (555) 847-2910..."},{level:"success",message:"> [VOICE_AI] CONNECTED. VERIFYING R&D ACTIVITIES..."},{level:"success",message:'> [VOICE_AI] CFO CONFIRMED: "Yes, software development"'}],4:[{level:"success",message:">> [READY] DEAL PACKET ASSEMBLED: LEAD-48291"},{level:"system",message:"[SYS] ESTIMATED CREDIT: $234,500 $12K"},{level:"success",message:">> PUSHING TO ARBITRAGE FLOOR..."}]},L=["INGEST","OCR","FRAUD","VOICE","READY"],I=[Pb,_xe,Ow,xxe,mxe];LE(()=>{const $=T[i],G=$[Math.floor(Math.random()*$.length)];r(Y=>[...Y.slice(-12),{id:Date.now().toString(),timestamp:new Date,level:G.level,message:G.message,module:L[i]}]),o(Y=>{const Q=[...Y];return i<4&&Q[i+1]<800&&(Q[i+1]=Math.min(Q[i+1]+Math.floor(Math.random()*50+30),Q[i])),Q})},800),LE(()=>{!w&&!b&&!e&&s($=>($+1)%5)},4e3),pe.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[n]);const q=$=>$<i?"complete":$===i?"active":"pending",O=($,G)=>G===0&&u?"border-emerald-400 bg-emerald-500/40 shadow-lg shadow-emerald-500/30":$==="complete"?"border-emerald-500 bg-emerald-900/30":$==="active"?"border-cyan-400 bg-cyan-900/40 animate-pulse shadow-lg shadow-cyan-500/20":"border-slate-600 bg-slate-800",M=$=>$==="success"?"text-emerald-400":$==="warning"?"text-amber-400":$==="system"?"text-cyan-400":"text-slate-400",z=()=>{if(!b&&!e){r(G=>[...G,{id:`dl-err-${Date.now()}`,timestamp:new Date,level:"warning",message:">> [EXPORT] ERROR: NO DEAL SELECTED",module:"SYSTEM"}]);return}r(G=>[...G,{id:`dl-${Date.now()}`,timestamp:new Date,level:"system",message:`>> [EXPORT] GENERATING FORENSIC PACKET FOR ${e?e.company:b==null?void 0:b.analysisId}...`,module:"SYSTEM"}]);let $;if(e)$={id:e.id,company:e.company,value:e.estValue,risk_score:e.eligibility>90?12:e.eligibility>70?35:65,status:"VERIFIED",analyzed_at:new Date().toISOString(),is_rd_eligible:!0,is_training_eligible:!0,is_green_eligible:!1,is_erc_eligible:!1,rd_credit_value:Math.round(e.estValue*.72),training_credit_value:Math.round(e.estValue*.28),green_energy_value:0,erc_value:0,confidence_score:e.eligibility,anomalies:[]};else if(b)$={id:b.analysisId||"UNKNOWN",company:`SCAN-${b.analysisId.slice(-6)}`,value:b.financialSummary.totalEstimatedValue,risk_score:b.overallRiskLevel==="low"?25:b.overallRiskLevel==="medium"?50:75,status:"VERIFIED",analyzed_at:b.timestamp,is_rd_eligible:b.isRdEligible,is_training_eligible:b.isTrainingEligible,is_green_eligible:b.isGreenEligible,is_erc_eligible:b.isErcEligible,rd_credit_value:b.financialSummary.rdCreditValue,training_credit_value:b.financialSummary.trainingCreditValue,green_energy_value:b.financialSummary.greenEnergyValue,erc_value:b.financialSummary.otherCreditsValue,confidence_score:Math.round(b.processingDetails.confidenceScore*100),anomalies:b.riskIndicators.map(G=>({description:G.description,severity:G.type==="warning"?"high":"medium",category:G.category}))};else return;BTe($,`GrantFlow_Audit_${$.company.replace(/\s+/g,"_")}.pdf`),setTimeout(()=>{r(G=>[...G,{id:`dl-ok-${Date.now()}`,timestamp:new Date,level:"success",message:">> [EXPORT] PDF DOWNLOAD COMPLETE",module:"SYSTEM"}])},1e3)};return N.jsxs("div",{className:"flex flex-col h-full bg-slate-900",children:[N.jsxs("div",{className:"px-3 py-1 bg-slate-800 border-b border-slate-700 flex items-center gap-2",children:[N.jsx(fxe,{className:"w-4 h-4 text-cyan-400"}),N.jsx("span",{className:"text-xs font-bold text-white tracking-wider",children:"VERIFICATION GAUNTLET"}),N.jsx("span",{className:"text-[9px] px-2 py-0.5 bg-cyan-900/50 text-cyan-400 rounded font-mono ml-2",children:"LEAD-48291"})]}),N.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[N.jsx("div",{className:"flex-1 p-3 border-r border-slate-700 flex items-center justify-between",children:L.map(($,G)=>{const Y=q(G),Q=G===4&&Y==="complete"||G===4&&e,W=Q?pxe:I[G],re=G===0||Q,ce=Q?"DOWNLOAD PACKET":$,ae=Q&&(e||Y==="complete");return N.jsxs(pe.Fragment,{children:[N.jsxs("div",{onClick:G===0?()=>c(!0):Q?z:void 0,className:`flex flex-col items-center p-2 rounded border-2 transition-all duration-300 ${O(Y,G)} min-w-[90px] ${ae?"ring-2 ring-emerald-400 ring-offset-2 ring-offset-slate-900 border-emerald-400 bg-emerald-900/40":""} ${re?"cursor-pointer hover:border-emerald-400 hover:bg-emerald-900/20":""}`,children:[N.jsx(W,{className:`w-5 h-5 mb-1 ${Y==="active"||ae?"text-emerald-400 animate-pulse":"text-slate-500"}`}),N.jsx("span",{className:`text-[9px] font-bold mt-1 ${ae?"text-emerald-400":"text-slate-400"}`,children:ce}),N.jsx("div",{className:"text-[8px] text-slate-400 font-mono",children:a[G]>0?a[G]:"--"}),Y==="active"&&N.jsx("div",{className:"mt-1 flex items-center gap-1",children:N.jsx("div",{className:"w-1 h-1 rounded-full bg-cyan-400 animate-ping"})}),u&&G===0&&N.jsx("div",{className:"mt-1 text-[7px] text-emerald-400 font-mono animate-pulse",children:"RECEIVED"})]}),G<4&&N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:`h-0.5 w-6 transition-colors ${G<i?"bg-emerald-500":"bg-slate-700"}`}),N.jsx(nH,{className:`w-3 h-3 transition-colors ${G<i?"text-emerald-500":"text-slate-600"}`})]})]},G)})}),N.jsxs("div",{className:"w-[350px] bg-slate-950 flex flex-col",children:[N.jsxs("div",{className:"px-2 py-1 bg-slate-800 border-b border-slate-700 flex items-center gap-2",children:[N.jsx(cH,{className:"w-3 h-3 text-emerald-400"}),N.jsx("span",{className:"text-[10px] font-bold text-white font-mono",children:"LOG"})]}),N.jsxs("div",{ref:v,className:"flex-1 overflow-auto p-2 font-mono text-[10px] scroll-smooth",children:[n.map(($,G)=>N.jsxs("div",{className:`flex items-start gap-2 mb-1 ${G===n.length-1?"animate-pulse":""}`,children:[N.jsxs("span",{className:"text-slate-600 flex-shrink-0",children:[$.timestamp.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),".",String($.timestamp.getMilliseconds()).padStart(3,"0").slice(0,2)]}),N.jsx("span",{className:M($.level),children:$.message})]},$.id)),N.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[N.jsx("span",{className:"text-emerald-400",children:"$"}),N.jsx("span",{className:"text-slate-500 animate-pulse",children:""})]})]})]})]}),l&&N.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:()=>c(!1),children:[N.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm"}),N.jsxs("div",{className:"relative bg-slate-900 border-2 border-emerald-500/50 rounded-lg p-6 w-[480px] shadow-2xl shadow-emerald-500/10",onClick:$=>$.stopPropagation(),children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(Pb,{className:"w-5 h-5 text-emerald-400"}),N.jsx("span",{className:"text-sm font-bold text-white tracking-wider",children:"SECURE FILE INGEST"})]}),N.jsx("button",{onClick:()=>c(!1),className:"text-slate-500 hover:text-white",children:N.jsx("span",{className:"text-xl",children:""})})]}),N.jsxs("div",{onDragOver:$=>{$.preventDefault(),p(!0)},onDragLeave:()=>p(!1),onDrop:A,onClick:()=>{var $;return($=m.current)==null?void 0:$.click()},className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all ${f?"border-emerald-400 bg-emerald-900/20":"border-slate-600 hover:border-emerald-500/50 hover:bg-slate-800/50"}`,children:[N.jsx(Pb,{className:`w-12 h-12 mx-auto mb-4 ${f?"text-emerald-400":"text-slate-500"}`}),N.jsx("div",{className:"text-sm font-bold text-white mb-1",children:"SECURE DROP // FINANCIAL PAYLOADS ONLY"}),N.jsx("div",{className:"text-xs text-slate-500 mb-3",children:"Drag files here or click to browse"}),N.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] text-slate-600",children:[N.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded",children:".PDF"}),N.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded",children:".CSV"}),N.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded",children:".JSON"})]})]}),N.jsx("input",{ref:m,type:"file",accept:".pdf,.csv,.json",onChange:E,className:"hidden"}),N.jsxs("div",{className:"mt-4 flex items-center justify-between text-[9px] text-slate-600 font-mono",children:[N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(Ow,{className:"w-3 h-3"}),N.jsx("span",{children:"AES-256 ENCRYPTED CHANNEL"})]}),N.jsx("span",{children:"MAX SIZE: 50MB"})]})]})]})]})},tCe=({bids:t,selectedDeal:e,onSell:n,totalVolume:r})=>{var o,l;const[i,s]=Ae.useState(null),a=async c=>{s(c.id),await new Promise(u=>setTimeout(u,800)),n(c),s(null)};return N.jsxs("div",{className:"flex flex-col h-full bg-slate-900 border-l border-slate-700",children:[N.jsxs("div",{className:"px-2 py-1 bg-slate-800 border-b border-slate-700 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(oxe,{className:"w-4 h-4 text-emerald-400"}),N.jsx("span",{className:"text-xs font-bold text-white tracking-wider",children:"ARBITRAGE FLOOR"})]}),N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(iH,{className:"w-2 h-2 fill-emerald-500 text-emerald-500 animate-pulse"}),N.jsx("span",{className:"text-[9px] text-emerald-400 font-mono",children:"LIVE"})]})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-px bg-slate-700 border-b border-slate-700",children:[N.jsxs("div",{className:"bg-slate-800 p-2 text-center",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"VOLUME"}),N.jsx("div",{className:"text-sm font-bold text-emerald-400 font-mono",children:PE(r)})]}),N.jsxs("div",{className:"bg-slate-800 p-2 text-center",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"BIDS"}),N.jsx("div",{className:"text-sm font-bold text-white font-mono",children:t.length})]}),N.jsxs("div",{className:"bg-slate-800 p-2 text-center",children:[N.jsx("div",{className:"text-[9px] text-slate-500",children:"SPREAD"}),N.jsx("div",{className:"text-sm font-bold text-cyan-400 font-mono",children:t.length>0?`${Math.round(((l=(o=t[0])==null?void 0:o.metadata)==null?void 0:l.spreadPercentage)||0)}%`:"--"})]})]}),N.jsx("div",{className:"flex-1 overflow-auto",children:e?t.length===0?N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-4",children:[N.jsx(z1,{className:"w-6 h-6 text-cyan-400 animate-spin mb-2"}),N.jsx("div",{className:"text-[10px] text-slate-400 font-mono",children:"GENERATING BIDS..."})]}):N.jsx("div",{className:"p-2 space-y-1",children:t.map((c,u)=>N.jsxs("div",{className:`p-2 rounded border ${u===0?"bg-emerald-900/20 border-emerald-700/50":"bg-slate-800/50 border-slate-700/50"} hover:bg-slate-800`,children:[N.jsxs("div",{className:"flex items-center justify-between mb-1",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded ${REe(c.firmTier)} bg-slate-800`,children:MEe(c.firmTier)}),N.jsx("span",{className:"text-white text-[11px] font-medium",children:c.firmName})]}),u===0&&N.jsx("span",{className:"text-[7px] px-1 py-0.5 bg-emerald-500 text-white rounded font-bold",children:"TOP BID"})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("div",{className:"text-emerald-400 font-mono font-bold text-sm",children:PE(c.bidAmount)}),N.jsxs("div",{className:"text-[8px] text-slate-500",children:[c.bidPercentage,"%  ",c.metadata.estimatedCloseTime,"d close"]})]}),N.jsx("button",{onClick:()=>a(c),disabled:i!==null,className:`px-3 py-1.5 text-[10px] font-bold rounded transition-all ${i===c.id?"bg-amber-600 text-white cursor-wait":"bg-red-600 hover:bg-red-500 text-white hover:scale-105"}`,children:i===c.id?"SELLING...":"SELL"})]})]},c.id))}):N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-4",children:[N.jsx(sH,{className:"w-8 h-8 text-slate-600 mb-2"}),N.jsx("div",{className:"text-[10px] text-slate-500 font-mono",children:"MARKET STANDBY"}),N.jsx("div",{className:"text-[9px] text-slate-600 font-mono mt-1",children:"SELECT INVENTORY TO GENERATE BIDS"})]})}),e&&t.length>0&&N.jsxs("div",{className:"bg-slate-800 border-t border-slate-700 px-2 py-1.5 text-center",children:[N.jsxs("div",{className:"text-[9px] text-slate-400 font-mono",children:["SELLING: ",N.jsx("span",{className:"text-white",children:e.company})]}),N.jsxs("div",{className:"text-[8px] text-slate-500 font-mono",children:["VALUE: ",Hf(e.estValue)]})]})]})},nCe=({vaultDeals:t,selectedId:e,hiddenLeadIds:n,onSelectLead:r})=>{const i=[{id:"L-48291",company:"NexGen Tech",ein:"82-4729103",sector:"SaaS",eligibility:94,estValue:234500,stage:4,priority:"critical",timestamp:new Date},{id:"L-48290",company:"Quantum Labs",ein:"91-2847291",sector:"Biotech",eligibility:87,estValue:189e3,stage:3,priority:"high",timestamp:new Date}],a=[...t.map((l,c)=>({id:`V-${l.id||c}`,company:l.company,ein:"-- VAULT --",sector:"DB",eligibility:95,estValue:l.value,stage:l.status==="VERIFIED"?5:4,priority:l.value>2e5?"critical":l.value>1e5?"high":"medium",timestamp:new Date(l.created_at||Date.now()),dbId:l.id})),...i].filter(l=>!n.includes(l.id)),o=l=>l==="critical"?"bg-red-500/20 text-red-400":l==="high"?"bg-amber-500/20 text-amber-400":"bg-cyan-500/20 text-cyan-400";return N.jsxs("div",{className:"bg-slate-900 border-t border-slate-700",children:[N.jsxs("div",{className:"px-3 py-1 bg-slate-800 border-b border-slate-700 flex items-center gap-2",children:[N.jsx(yxe,{className:"w-4 h-4 text-amber-400"}),N.jsx("span",{className:"text-xs font-bold text-white tracking-wider",children:"ACTIVE PIPELINE"}),N.jsx("span",{className:"text-[9px] px-2 py-0.5 bg-amber-900/50 text-amber-400 rounded font-mono",children:a.length}),t.length>0&&N.jsxs("span",{className:"text-[8px] px-1 py-0.5 bg-emerald-900/50 text-emerald-400 rounded font-mono ml-1",children:["VAULT: ",t.length]}),N.jsx("span",{className:"text-[8px] text-slate-500 ml-auto",children:"CLICK TO SELECT"})]}),N.jsx("div",{className:"overflow-x-auto max-h-[140px]",children:N.jsxs("table",{className:"w-full text-[10px]",children:[N.jsx("thead",{className:"bg-slate-800 sticky top-0",children:N.jsxs("tr",{className:"border-b border-slate-700",children:[N.jsx("th",{className:"px-3 py-1.5 text-left text-slate-400 font-mono",children:"ID"}),N.jsx("th",{className:"px-3 py-1.5 text-left text-slate-400 font-mono",children:"COMPANY"}),N.jsx("th",{className:"px-3 py-1.5 text-center text-slate-400 font-mono",children:"ELIG"}),N.jsx("th",{className:"px-3 py-1.5 text-right text-slate-400 font-mono",children:"VALUE"}),N.jsx("th",{className:"px-3 py-1.5 text-center text-slate-400 font-mono",children:"STAGE"}),N.jsx("th",{className:"px-3 py-1.5 text-center text-slate-400 font-mono",children:"PRIO"})]})}),N.jsx("tbody",{children:a.map(l=>N.jsxs("tr",{onClick:()=>r(l),className:`border-b border-slate-800 cursor-pointer transition-colors ${e===l.id?"bg-cyan-900/30 ring-1 ring-cyan-500/50 ring-inset":"hover:bg-slate-800/50"}`,children:[N.jsx("td",{className:"px-3 py-1.5 text-cyan-400 font-mono font-bold",children:l.id}),N.jsx("td",{className:"px-3 py-1.5 text-white",children:l.company}),N.jsx("td",{className:"px-3 py-1.5 text-center",children:N.jsxs("div",{className:"flex items-center justify-center gap-1",children:[N.jsx("div",{className:"w-10 h-1.5 bg-slate-700 rounded-full overflow-hidden",children:N.jsx("div",{className:`h-full rounded-full ${l.eligibility>=90?"bg-emerald-500":"bg-cyan-500"}`,style:{width:`${l.eligibility}%`}})}),N.jsxs("span",{className:"text-white font-mono",children:[l.eligibility,"%"]})]})}),N.jsx("td",{className:"px-3 py-1.5 text-right text-emerald-400 font-mono font-bold",children:Hf(l.estValue)}),N.jsx("td",{className:"px-3 py-1.5 text-center",children:N.jsx("div",{className:"flex items-center justify-center gap-0.5",children:[1,2,3,4,5].map(c=>N.jsx("div",{className:`w-2.5 h-2.5 rounded-sm ${c<=l.stage?"bg-emerald-500":"bg-slate-700"}`},c))})}),N.jsx("td",{className:"px-3 py-1.5 text-center",children:N.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded ${o(l.priority)}`,children:l.priority.toUpperCase()})})]},l.id))})]})})]})};function rCe(){const[t,e]=Ae.useState(null),[n,r]=Ae.useState(!1),[i,s]=Ae.useState([]),[a,o]=Ae.useState(null),[l,c]=Ae.useState(null),[u,d]=Ae.useState([]),[f,p]=Ae.useState(847e3),[v,m]=Ae.useState(null),[b,g]=Ae.useState([]);Ae.useEffect(()=>{(async()=>{const{data:E,error:T}=await H1.from("deals").select("*").neq("status","SOLD").order("created_at",{ascending:!1});T?(console.error("[VAULT] Supabase error:",T.message),o(`VAULT ERROR: ${T.message}`)):E&&(s(E),console.log(`[VAULT] Loaded ${E.length} deals from Supabase`))})()},[]);const w=A=>{console.log(`[MARKET] Selected lead: ${A.company} (${A.id})`),c(A),d([]),setTimeout(()=>{const E=IEe(A.estValue,{dealId:A.id,costBasis:A.estValue*.008});d(E),console.log(`[MARKET] Generated ${E.length} bids for ${A.company}`)},600)},x=async A=>{if(!l)return;console.log("Attempting to sell Deal ID:",l.id),g(T=>[...T,l.id]),c(null),d([]);const E=l.dbId;if(E){const{error:T}=await H1.from("deals").update({status:"SOLD",sold_to:A.firmName,sale_price:A.bidAmount,sold_at:new Date().toISOString()}).eq("id",E);T?(console.error("CRITICAL SALE ERROR:",T),m(`SALE FAILED: ${T.message}`)):(console.log("Database update successful"),s(L=>L.filter(I=>I.id!==E)))}p(T=>T+A.bidAmount),m(`SOLD TO ${A.firmName.toUpperCase()} FOR ${PE(A.bidAmount)}`),setTimeout(()=>m(null),4e3),r(!0),setTimeout(()=>r(!1),1500)},S=async A=>{e(A),r(!0),setTimeout(()=>r(!1),1500);const{error:E}=await H1.from("deals").insert([{company:`SCAN-${A.analysisId.slice(-6)}`,value:A.financialSummary.totalEstimatedValue,status:A.isRdEligible?"RD_ELIGIBLE":"VERIFIED",packet_id:A.analysisId,risk_score:A.overallRiskLevel==="low"?25:A.overallRiskLevel==="medium"?50:75,anomaly_count:A.riskIndicators.length}]);if(E)console.error("[VAULT] INSERT failed:",E.message),o(`INSERT FAILED: ${E.message}`);else{console.log("[VAULT] Deal saved to Supabase");const{data:T}=await H1.from("deals").select("*").order("created_at",{ascending:!1});T&&s(T)}};return N.jsxs("div",{className:`h-screen w-screen bg-slate-950 flex flex-col overflow-hidden transition-all duration-300 ${n?"ring-4 ring-emerald-500/30 ring-inset":""}`,children:[N.jsx(ZTe,{}),v&&N.jsxs("div",{className:"fixed top-16 left-1/2 -translate-x-1/2 z-50 px-6 py-3 bg-emerald-600 text-white text-sm font-bold rounded-lg shadow-2xl shadow-emerald-500/30 animate-pulse",children:[" ",v]}),N.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[N.jsx("div",{className:"w-[340px] flex-shrink-0",children:N.jsx(QTe,{result:t})}),N.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[N.jsx("div",{className:"flex-shrink-0",children:N.jsx(nCe,{vaultDeals:i,selectedId:(l==null?void 0:l.id)||null,hiddenLeadIds:b,onSelectLead:w})}),N.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-px bg-slate-700 overflow-hidden",children:[N.jsxs("div",{className:"bg-slate-900 p-2",children:[N.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[N.jsx(rk,{className:"w-3 h-3 text-emerald-400"}),N.jsx("span",{className:"text-[10px] font-bold text-white",children:"VELOCITY"})]}),N.jsx("div",{className:"h-32",children:N.jsx(rhe,{width:"100%",height:"100%",children:N.jsxs(nxe,{data:Array.from({length:24},(A,E)=>({h:E,v:80+Math.random()*60})),children:[N.jsx("defs",{children:N.jsxs("linearGradient",{id:"vg",x1:"0",y1:"0",x2:"0",y2:"1",children:[N.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),N.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),N.jsx(ek,{dataKey:"h",tick:{fontSize:8},stroke:"#475569"}),N.jsx(tk,{tick:{fontSize:8},stroke:"#475569"}),N.jsx(cf,{type:"monotone",dataKey:"v",stroke:"#10b981",fill:"url(#vg)",strokeWidth:2})]})})})]}),N.jsxs("div",{className:"bg-slate-900 p-2",children:[N.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[N.jsx(Pxe,{className:"w-3 h-3 text-amber-400"}),N.jsx("span",{className:"text-[10px] font-bold text-white",children:"CONVERSION"})]}),N.jsx("div",{className:"h-32 flex flex-col justify-center gap-1",children:[{s:"INGEST",v:1247,p:100},{s:"QUALIFY",v:892,p:71},{s:"VERIFY",v:634,p:51},{s:"SOLD",v:342,p:27}].map(A=>N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-[8px] text-slate-500 w-10 font-mono",children:A.s}),N.jsx("div",{className:"flex-1 h-2.5 bg-slate-800 rounded overflow-hidden",children:N.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 to-emerald-500 rounded",style:{width:`${A.p}%`}})}),N.jsx("span",{className:"text-[9px] text-white font-mono w-8 text-right",children:A.v})]},A.s))})]})]}),N.jsx("div",{className:"h-[180px] flex-shrink-0 border-t border-slate-700",children:N.jsx(eCe,{onAnalysisComplete:S,selectedDeal:l})})]}),N.jsx("div",{className:"w-[280px] flex-shrink-0",children:N.jsx(tCe,{bids:u,selectedDeal:l,onSell:x,totalVolume:f})})]}),N.jsxs("footer",{className:"bg-slate-900 border-t border-slate-700 px-3 py-1 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-4 text-[9px] font-mono",children:[N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-emerald-400":"bg-emerald-500"} animate-pulse`}),N.jsx("span",{className:"text-slate-400",children:t?"SCAN ACTIVE":"SYSTEMS NOMINAL"})]}),t&&N.jsxs("span",{className:"text-emerald-400",children:["ID: ",t.analysisId]}),(t==null?void 0:t.isRdEligible)&&N.jsx("span",{className:"text-cyan-400",children:"R&D: ELIGIBLE"}),a&&N.jsx("span",{className:"text-red-400",children:a}),N.jsxs("span",{className:"text-cyan-400",children:["VAULT: ",i.length," DEALS"]}),N.jsxs("span",{className:"text-emerald-400",children:["VOLUME: ",PE(f)]}),N.jsxs("span",{className:"text-slate-500",children:["UPTIME: ",N.jsx("span",{className:"text-white",children:"99.97%"})]})]}),N.jsx("div",{className:"text-[9px] font-mono text-slate-500",children:" 2026 GRANTFLOW"})]})]})}const iCe=({onAuthenticate:t,onCancel:e})=>{const[n,r]=Ae.useState(""),[i,s]=Ae.useState(!1),[a,o]=Ae.useState(!1),l=pe.useRef(null);pe.useEffect(()=>{var u;(u=l.current)==null||u.focus()},[]);const c=u=>{u.preventDefault(),n==="PROFIT_2026"?t():(s(!0),o(!0),r(""),setTimeout(()=>o(!1),500),setTimeout(()=>s(!1),3e3))};return N.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[N.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),N.jsxs("div",{className:`relative w-[420px] bg-gradient-to-b from-slate-900 to-slate-950 border border-red-900/50 rounded-lg shadow-2xl shadow-red-900/20 overflow-hidden ${a?"animate-pulse":""}`,children:[N.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-red-600 via-red-500 to-red-600"}),N.jsx("div",{className:"bg-red-950/30 border-b border-red-900/30 px-6 py-4",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-900/50 border border-red-700/50 flex items-center justify-center",children:N.jsx(Ow,{className:"w-5 h-5 text-red-400"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-red-400 font-mono text-sm tracking-widest uppercase",children:"Classified Access"}),N.jsx("p",{className:"text-slate-500 text-xs font-mono",children:"TERMINAL SECURITY PROTOCOL"})]})]})}),N.jsxs("div",{className:"p-6",children:[N.jsxs("div",{className:"mb-6 text-center",children:[N.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[N.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),N.jsx("span",{className:"text-red-400 font-mono text-xs tracking-wider",children:"RESTRICTED ZONE"}),N.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"})]}),N.jsx("p",{className:"text-slate-400 text-sm",children:"Enter authorization code to access Terminal"})]}),N.jsxs("form",{onSubmit:c,children:[N.jsxs("div",{className:"relative mb-4",children:[N.jsx("input",{ref:l,type:"password",value:n,onChange:u=>r(u.target.value.toUpperCase()),placeholder:"",className:`w-full bg-slate-800/50 border ${i?"border-red-500 ring-2 ring-red-500/30":"border-slate-700"} rounded-lg px-4 py-3 text-white font-mono text-center tracking-[0.5em] text-lg placeholder:text-slate-600 placeholder:tracking-[0.3em] focus:outline-none focus:border-red-500/50 focus:ring-2 focus:ring-red-500/20 transition-all ${a?"animate-[shake_0.5s_ease-in-out]":""}`,autoComplete:"off"}),i&&N.jsx("div",{className:"absolute -bottom-5 left-0 right-0 text-center",children:N.jsx("span",{className:"text-red-500 text-xs font-mono animate-pulse",children:" ACCESS DENIED"})})]}),N.jsxs("div",{className:"flex gap-3 mt-8",children:[N.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-400 font-mono text-sm rounded-lg transition-colors",children:"CANCEL"}),N.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 text-white font-mono text-sm font-bold rounded-lg shadow-lg shadow-red-900/30 transition-all flex items-center justify-center gap-2",children:[N.jsx(cH,{className:"w-4 h-4"}),"AUTHENTICATE"]})]})]})]}),N.jsxs("div",{className:"bg-slate-900/50 border-t border-slate-800 px-6 py-3 flex items-center justify-between",children:[N.jsx("span",{className:"text-slate-600 text-[10px] font-mono",children:"GRANTFLOW SECURITY v2.0"}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),N.jsx("span",{className:"text-slate-600 text-[10px] font-mono",children:"ARMED"})]})]})]})]})};function sCe(){const[t,e]=Ae.useState("PUBLIC"),[n,r]=Ae.useState(!1),[i,s]=Ae.useState(!1),a=()=>{t==="TERMINAL"?e("PUBLIC"):n?e("TERMINAL"):s(!0)},o=()=>{r(!0),s(!1),e("TERMINAL")},l=()=>{s(!1)};return N.jsxs(N.Fragment,{children:[t==="TERMINAL"?N.jsx(rCe,{},"terminal"):N.jsx(JTe,{},"public"),i&&N.jsx(iCe,{onAuthenticate:o,onCancel:l}),N.jsx("button",{onClick:a,className:`fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-2 text-white text-sm font-bold rounded-lg shadow-lg transition-all hover:scale-105 ${t==="TERMINAL"?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-purple-500/30":"bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 shadow-red-500/30"}`,children:t==="TERMINAL"?N.jsxs(N.Fragment,{children:[N.jsx(gxe,{className:"w-4 h-4"}),"VIEW PUBLIC"]}):N.jsxs(N.Fragment,{children:[N.jsx(Ow,{className:"w-4 h-4"}),"ACCESS TERMINAL"]})})]})}BC.createRoot(document.getElementById("root")).render(N.jsx(pe.StrictMode,{children:N.jsx(sCe,{})}));export{xn as _,F_ as c,Kn as g};
